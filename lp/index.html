<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="utf-8" />
    <title>ã€å®Œå…¨ç„¡æ–™ã€‘å¤–å£å¡—è£…ãã‚‰ã¹ã‚‹</title>
    <meta name="description" content="æ—¥æœ¬ä¸€ç°¡å˜ã§å®‰å…¨ãªå¤–å£å¡—è£…æ¯”è¼ƒã‚µã‚¤ãƒˆã€‚ã¾ãšã¯10ç§’AIè¨ºæ–­ã‹ã‚‰" />
    <meta name="keywords" content="å¤–å£å¡—è£…, è¦‹ç©ã‚‚ã‚Šæ¯”è¼ƒ, æœ€ä½ä¾¡æ ¼, è¨ªå•æ¥­è€…, å¡—æ–™, ã‚¢ãƒ•ã‚¿ãƒ¼ãƒ•ã‚©ãƒ­ãƒ¼, ã‚«ãƒ©ãƒ¼ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³, åŠ©æˆé‡‘, è£œä¿®, ã‚«ãƒãƒ¼å·¥æ³•, å±‹æ ¹æ, é®ç†±, æ–­ç†±, ã‚¿ã‚¤ãƒŸãƒ³ã‚°, é˜²éŸ³" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" id="viewport" />
    <meta name="format-detection" content="telephone=no" />
    <!-- OGP -->
    <meta property="og:url" content="https://gaihekikuraberu.com/lp/" />
    <meta property="og:type" content="website" />
    <meta property="og:title" content="ã€å®Œå…¨ç„¡æ–™ã€‘å¤–å£å¡—è£…ãã‚‰ã¹ã‚‹" />
    <meta property="og:description" content="æ—¥æœ¬ä¸€ç°¡å˜ã§å®‰å…¨ãªå¤–å£å¡—è£…æ¯”è¼ƒã‚µã‚¤ãƒˆã€‚ã¾ãšã¯10ç§’AIè¨ºæ–­ã‹ã‚‰" />
    <meta property="og:site_name" content="ã€å®Œå…¨ç„¡æ–™ã€‘å¤–å£å¡—è£…ãã‚‰ã¹ã‚‹" />
    <meta property="og:image" content="https://gaihekikuraberu.com/lp/img/cmn/ogp.jpg" />
    <meta name="twitter:card" content="summary_large_image" />
    <!-- //OGP -->
    <link rel="icon" href="img/cmn/favicon.png" type="image/png" />
    <link rel="apple-touch-icon" href="img/cmn/apple-touch-icon.png" />
    <!-- ã‚¢ãƒã‚¿ãƒ¼ç”»åƒã®ãƒ—ãƒªãƒ­ãƒ¼ãƒ‰ï¼ˆç™½ãƒ•ãƒ©ãƒƒã‚·ãƒ¥é˜²æ­¢ï¼‰ -->
    <link rel="preload" href="images/avatars/319260ba-0b3d-47d0-b18f-abf530c2793e.png" as="image" />
    <!-- CSS -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@100..900&display=swap" rel="stylesheet" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css" />
    <!-- <link rel="stylesheet" href="css/delay_anim.css" /> -->
    <link rel="stylesheet" href="css/default.css" />
    <link rel="stylesheet" href="css/style.css" />
    <link rel="stylesheet" href="css/style_sp.css" />
    <!-- Tailwind CSS (BOTã‚·ã‚¹ãƒ†ãƒ ç”¨) -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- éƒµä¾¿ç•ªå·ãƒ•ã‚©ãƒ¼ãƒ  å…‰ã‚‹ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ -->
    <style>
      @keyframes glow {
        0%, 100% {
          box-shadow: 0 0 20px rgba(59, 130, 246, 0.3), 0 0 40px rgba(59, 130, 246, 0.1);
        }
        50% {
          box-shadow: 0 0 30px rgba(59, 130, 246, 0.5), 0 0 60px rgba(59, 130, 246, 0.2);
        }
      }

      /* éƒµä¾¿ç•ªå·ãƒ•ã‚©ãƒ¼ãƒ : ã‚¹ãƒãƒ›ã§ã‚‚åŒã˜ã‚µã‚¤ã‚ºã‚’ä¿ã¤ */
      #postalFormSectionLP {
        margin-top: 20px !important;
        display: flex !important;
        justify-content: center !important;
        width: 100% !important;
      }
      #postalFormSectionLP > div {
        background: white !important;
        border-radius: 12px !important;
        box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25) !important;
        border: 2px solid #93C5FD !important;
        padding: 24px !important;
        max-width: 384px !important;
        width: 384px !important;
        margin: 0 auto !important;
        transition: transform 0.3s !important;
        animation: glow 3s ease-in-out infinite !important;
      }
      @media (max-width: 767px) {
        #postalFormSectionLP {
          display: flex !important;
          justify-content: center !important;
          align-items: center !important;
          overflow-x: visible !important;
        }
        #postalFormSectionLP > div {
          width: 384px !important;
          padding: 24px !important;
          max-width: none !important;
          min-width: 384px !important;
          margin: 0 !important;
          transform: scale(0.95) !important;
          transform-origin: center center !important;
        }
      }
      @media (max-width: 400px) {
        #postalFormSectionLP > div {
          transform: scale(0.9) !important;
        }
      }

      /* BOTã‚³ãƒ³ãƒ†ãƒŠã®ã‚ºãƒ¼ãƒ åˆ¶å¾¡ */
      #gaiheki-bot-container {
        zoom: 1 !important;
        -moz-transform: scale(1) !important;
        -webkit-transform: scale(1) !important;
        transform: scale(1) !important;
        transform-origin: top left !important;
        font-size: 16px !important;
      }

      #gaiheki-bot-container * {
        font-size: inherit;
        zoom: 1;
      }

      /* ç›¸å ´ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã®ä¾¡æ ¼è¡¨ç¤ºã¯å¤§ããè¡¨ç¤º */
      #priceSection .text-4xl {
        font-size: 2.25rem !important;  /* 36px */
        line-height: 2.5rem !important;
      }

      #priceSection .text-2xl {
        font-size: 1.5rem !important;  /* 24px */
        line-height: 2rem !important;
      }

      #priceSection .text-xl {
        font-size: 1.25rem !important;  /* 20px */
        line-height: 1.75rem !important;
      }

      #priceSection .text-sm {
        font-size: 0.875rem !important;  /* 14px */
        line-height: 1.25rem !important;
      }

      #priceSection .text-xs {
        font-size: 0.75rem !important;  /* 12px */
        line-height: 1rem !important;
      }

      #botParentContainer {
        max-width: 100vw !important;
        width: 100% !important;
        margin: 0 !important;
      }

      /* estimate-keep-system BOT CSS */
      .ai-message {
        background: linear-gradient(135deg, #7B9BF0 0%, #9EBDFD 100%);
        color: white;
        border-radius: 24px 24px 24px 4px;
        padding: 16px 20px;
        margin: 0;
        margin-left: -4px;
        max-width: 80%;
        word-wrap: break-word;
        font-size: 16px;
        line-height: 1.6;
        font-weight: 400;
        box-shadow: 0 2px 6px rgba(0,0,0,0.08);
        position: relative;
      }

      .ai-message-container {
        display: flex;
        align-items: flex-start;
        gap: 8px;
        margin: 20px 0;
        padding-left: 12px;
      }

      .ai-avatar {
        width: 56px;
        height: 56px;
        border-radius: 50%;
        object-fit: cover;
        flex-shrink: 0;
        box-shadow: 0 2px 6px rgba(0,0,0,0.1);
        will-change: auto;
        image-rendering: -webkit-optimize-contrast;
        image-rendering: crisp-edges;
      }

      .user-message {
        background: #F5F5F5;
        color: #2D3748;
        border-radius: 24px 24px 4px 24px;
        padding: 16px 20px;
        margin: 20px 0;
        max-width: 80%;
        margin-left: auto;
        font-size: 16px;
        line-height: 1.6;
        box-shadow: 0 2px 6px rgba(0,0,0,0.08);
      }

      .choice-btn {
        border: 2px solid #E2E8F0;
        background: white;
        color: #4A5568;
        padding: 16px 20px;
        border-radius: 12px;
        font-size: 16px;
        font-weight: 500;
        transition: all 0.3s ease;
        cursor: pointer;
        margin: 4px 0;
        min-height: 56px;
        display: flex;
        align-items: center;
        justify-content: flex-start;
        text-align: left;
      }

      .choice-btn:hover {
        background: #F7FAFC;
        border-color: #7B9BF0;
        transform: translateY(-1px);
        box-shadow: 0 4px 12px rgba(123, 155, 240, 0.15);
      }

      @keyframes fadeIn {
        from {
          opacity: 0;
          transform: translateY(20px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      /* é‡è¦ï¼šãƒ¢ã‚¶ã‚¤ã‚¯åŠ¹æœ */
      .mosaic {
        filter: blur(8px);
        transition: filter 0.5s ease;
      }

      /* é›»è©±ç•ªå·å…¥åŠ›ãƒ•ã‚©ãƒ¼ãƒ  */
      .phone-mini-form {
        background: linear-gradient(135deg, #EBF8FF, #DBEAFE);
        border-radius: 16px;
        padding: 24px;
        margin: 20px 0;
        animation: fadeIn 0.5s ease-out;
      }

      .phone-mini-form .form-title {
        font-size: 14px;
        font-weight: 600;
        color: #2D3748;
        margin-bottom: 16px;
      }

      .phone-input-wrapper {
        background: white !important;
        border: 3px solid #7DD3FC !important;
        border-radius: 12px;
        padding: 4px;
        margin-bottom: 12px;
        max-width: 400px;
        margin-left: auto;
        margin-right: auto;
      }

      .phone-error {
        color: #7DD3FC;
        font-size: 12px;
        text-align: center;
        margin-bottom: 12px;
        display: none;
      }

      .phone-error.show {
        display: block;
      }

      .waiting-animation {
        display: flex;
        justify-content: center;
        align-items: center;
        margin: 20px 0;
        position: relative;
        height: 120px;
      }

      .waiting-character {
        width: 180px;
        height: auto;
        position: absolute;
        opacity: 0;
        animation: slideshow 3s infinite;
      }

      .waiting-character:nth-child(1) {
        animation-delay: 0s;
      }

      .waiting-character:nth-child(2) {
        animation-delay: 1s;
      }

      .waiting-character:nth-child(3) {
        animation-delay: 2s;
      }

      @keyframes slideshow {
        0% {
          opacity: 0;
          transform: scale(0.95);
        }
        10%, 30% {
          opacity: 1;
          transform: scale(1);
        }
        40% {
          opacity: 0;
          transform: scale(0.95);
        }
        100% {
          opacity: 0;
          transform: scale(0.95);
        }
      }

      .phone-input {
        width: 100%;
        padding: 12px;
        font-size: 18px;
        border: none;
        outline: none;
        text-align: center;
        font-weight: 500;
      }

      .phone-input::placeholder {
        color: #D1D5DB;
      }

      .phone-submit-btn {
        width: 100%;
        max-width: 400px;
        background: linear-gradient(135deg, #7B9BF0, #9EBDFD);
        color: white;
        padding: 14px;
        border-radius: 8px;
        font-size: 16px;
        font-weight: 600;
        cursor: pointer;
        transition: all 0.3s ease;
        border: none;
        outline: none;
        margin: 0 auto;
        display: block;
      }

      .phone-submit-btn:hover:not(:disabled) {
        background: linear-gradient(135deg, #6B8BE0, #8EADED);
        transform: translateY(-1px);
      }

      .phone-submit-btn:disabled {
        opacity: 0.5;
        cursor: not-allowed;
      }

      /* ãƒ©ãƒ³ã‚­ãƒ³ã‚°ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã®ãƒ†ãƒ¼ãƒã‚«ãƒ©ãƒ¼ */
      .ranking-section[data-theme="blue"] {
        background-color: #EBF8FF !important;
      }

      .ranking-section[data-theme="orange"] {
        background-color: #FFF5EB !important;
      }

      .ranking-section[data-theme="green"] {
        background-color: #F0FDF4 !important;
      }

      .ranking-section[data-theme="purple"] {
        background-color: #FAF5FF !important;
      }

      /* ã‚­ãƒ¼ãƒ—ãƒœã‚¿ãƒ³ */
      .keep-btn {
        background: #FEF3C7;
        color: #92400E;
        transition: all 0.3s;
      }

      .keep-btn:hover {
        background: #FDE68A;
      }

      .keep-btn.active {
        background: #F59E0B;
        color: white;
        font-weight: 600;
      }

      .keep-btn.active .keep-text {
        visibility: hidden;
        position: relative;
        display: inline-block;
        width: 100%;
      }

      .keep-btn.active .keep-text::before {
        content: 'ã‚­ãƒ¼ãƒ—ä¸­';
        visibility: visible;
        position: absolute;
        left: 50%;
        top: 50%;
        transform: translate(-50%, -50%);
        white-space: nowrap;
      }

      /* é€šçŸ¥ãƒãƒƒã‚¸ */
      .notification-badge {
        position: absolute;
        top: -12px;
        right: -12px;
        background: #EF4444;
        color: white;
        width: 32px;
        height: 32px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 18px;
        font-weight: bold;
      }

      /* ãƒ©ãƒ³ã‚­ãƒ³ã‚°ãƒ†ãƒ¼ãƒ */
      .ranking-section[data-theme="blue"] {
        background-color: #EBF8FF;
      }
    </style>

    <!-- ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ç”¨CSS -->
    <style>
      @keyframes spin {
        0% { transform: rotate(0deg); }
        100% { transform: rotate(360deg); }
      }

      @keyframes typing-bounce {
        0%, 60%, 100% { transform: translateY(0); }
        30% { transform: translateY(-8px); }
      }
    </style>
  </head>
  <body>
    <div class="wrapper">
      <!-- header -->
      <header class="header">
        <h1 class="header__logo">
          <img src="img/cmn/logo.png" alt="AIæ¥­è€…æ¯”è¼ƒã‚µã‚¤ãƒˆ å¤–å£å¡—è£…ãã‚‰ã¹ã‚‹" />
        </h1>
        <!-- globalnavi -->
        <div class="header__nav">
          <div class="header__nav__hamburger">
            <span></span>
            <span></span>
          </div>
          <div class="header__nav__global">
            <div class="header__nav__global__logo sponly">
              <img src="img/cmn/logo.png" alt="AIæ¥­è€…æ¯”è¼ƒã‚µã‚¤ãƒˆ å¤–å£å¡—è£…ãã‚‰ã¹ã‚‹" />
            </div>
            <nav>
              <ul class="header__nav__global__lists">
                <li>
                  <a id="analy-header_link01" href="#caution">çŸ¥ã‚‰ãªãã‚ƒæã™ã‚‹æ³¨æ„ç‚¹</a>
                </li>
                <li>
                  <a id="analy-header_link02" href="#step">æ¥­è€…ã®æ¢ã—æ–¹</a>
                </li>
                <li>
                  <a id="analy-header_link03" href="#qa">ã‚ˆãã‚ã‚‹è³ªå•</a>
                </li>
                <li>
                  <a id="analy-header_link04" href="#form">ãŠå•ã„åˆã‚ã›</a>
                </li>
                <li class="header__nav__global__lists__item">
                  <div class="header__nav__global__lists__item__icon mail">
                    <a id="analy-header_btn03" href="#form"><img src="img/cmn/mail_icon.svg" alt="ãƒ¡ãƒ¼ãƒ«ã®ã‚¢ã‚¤ã‚³ãƒ³" /></a>
                  </div>
                  <div class="header__nav__global__lists__item__icon tel">
                    <a id="analy-header_btn04" href="tel:05017255045"><img src="img/cmn/tel_icon.svg" alt="é›»è©±ã®ã‚¢ã‚¤ã‚³ãƒ³" /></a>
                  </div>
                </li>
              </ul>
            </nav>
          </div>
          <ul class="header__nav__icon__lists">
            <li>
              <a id="analy-header_btn01" href="#form"><img src="img/cmn/mail_icon.svg" alt="ãƒ¡ãƒ¼ãƒ«ã®ã‚¢ã‚¤ã‚³ãƒ³" /></a>
            </li>
            <li>
              <a id="analy-header_btn02" href="tel:05017255045"><img src="img/cmn/tel_icon.svg" alt="é›»è©±ã®ã‚¢ã‚¤ã‚³ãƒ³" /></a>
            </li>
          </ul>
        </div>
        <!-- //globalnavi -->
      </header>
      <!-- //header -->

      <!-- mv -->
      <div class="mv">
        <div class="container-max">
          <div class="mv__before">
            <h2 class="mv__before__tit">
              <picture>
                <source srcset="img/mv/tit_sp.png" media="(max-width: 767px)" />
                <img src="img/mv/tit.png" alt="ãŸã£ãŸ10ç§’ã§å„ªè‰¯æ¥­è€…ã‚‚ç›¸å ´ã‚‚ä»Šã™ãã‚ã‹ã‚‹" />
              </picture>
            </h2>
            <div class="mv__before__img">
              <picture>
                <source srcset="img/mv/img_sp.png" media="(max-width: 767px)" />
                <img src="img/mv/img.png" alt="æ°—ã«ãªã‚‹ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã§æ¤œç´¢" />
              </picture>
            </div>
            <div class="mv__before__txt">
              <picture>
                <source srcset="img/mv/txt_sp.png" media="(max-width: 767px)" />
                <img src="img/mv/txt.png" alt="å®Œå…¨ç„¡æ–™ ã„ã¤ã§ã‚‚ã‚µãƒãƒ¼ãƒˆç„¡æ–™ ç´¯è¨ˆãŠå®¢æ§˜å¯¾å¿œæ•°6.3ä¸‡äºº" />
              </picture>
            </div>
          </div>
          <div class="mv__after">
            <div class="mv__after__img">
              <img src="img/mv/Flipyx1.gif" alt="" />
            </div>
          </div>
          <!-- éƒµä¾¿ç•ªå·å…¥åŠ›ãƒ•ã‚©ãƒ¼ãƒ  -->
          <div id="postalFormSectionLP" style="margin-top: 20px;">
              <div style="background: white; border-radius: 12px; box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25); border: 2px solid #93C5FD; padding: 24px; max-width: 384px; margin: 0 auto; transition: transform 0.3s; animation: glow 3s ease-in-out infinite;">
                  <div style="margin-bottom: 12px;">
                      <span style="background: #22D3EE; color: white; border-radius: 9999px; padding: 4px 12px; font-size: 12px; font-weight: 500; display: inline-block;">ã‹ã‚“ãŸã‚“10ç§’ï¼</span>
                  </div>
                  <div style="font-size: 18px; font-weight: bold; margin-bottom: 12px; text-align: center; color: #1F2937;">
                      éƒµä¾¿ç•ªå·ã§ä»Šã™ãç›¸å ´ãƒã‚§ãƒƒã‚¯ï¼
                  </div>
                  <div style="display: flex; flex-direction: column; gap: 12px;">
                      <input type="text" id="postalCode" placeholder="ã€’100-0001" maxlength="8"
                             style="width: 100%; border: 2px solid #FCD34D; border-radius: 8px; padding: 12px 16px; text-align: center; font-size: 16px; outline: none; background: #EFF6FF;">
                      <button id="searchButton" type="button"
                              style="width: 100%; background: linear-gradient(135deg, #3B82F6, #2563EB); color: white; padding: 12px; border-radius: 8px; font-weight: bold; font-size: 16px; border: none; cursor: pointer; display: flex; align-items: center; justify-content: center; gap: 8px; transition: all 0.3s;">
                          ğŸ” ç„¡æ–™ã§ç›¸å ´ã‚’è¦‹ã‚‹
                      </button>
                      <div style="display: flex; align-items: center; justify-content: center; font-size: 14px; color: #4B5563; gap: 4px;">
                          ğŸ”’ å€‹äººæƒ…å ±ä¿è­·ãƒ»SSLæš—å·åŒ–é€šä¿¡ã§å®‰å…¨
                      </div>
                  </div>
              </div>
          </div>
        </div>
      </div>
      <!-- //mv -->

      <!-- modal -->
      <div id="modal" class="modal">
        <div class="modal__wrapper">
          <span class="modal__close">
            <img src="img/mv/close.png" alt="é–‰ã˜ã‚‹ãƒœã‚¿ãƒ³" />
          </span>
          <div class="modal__content">
            <p class="modal__content__tit">æ°—ã«ãªã‚‹ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã‚’é¸æŠã—ã¦ãã ã•ã„</p>
            <ul class="modal__content__lists">
              <li><button id="analy-modal_btn01" onclick="startScenario('ã‚¯ãƒã‚³ãƒŸ')">ã‚¯ãƒã‚³ãƒŸ</button></li>
              <li><button id="analy-modal_btn02" onclick="startScenario('ãŠã™ã™ã‚')">ãŠã™ã™ã‚</button></li>
              <li><button id="analy-modal_btn03" onclick="startScenario('æœ€ä½ä¾¡æ ¼')">æœ€ä½ä¾¡æ ¼</button></li>
              <li><button id="analy-modal_btn04" onclick="startScenario('è¨ªå•æ¥­è€…')">è¨ªå•æ¥­è€…</button></li>
              <li><button id="analy-modal_btn05" onclick="startScenario('å¡—æ–™')">å¡—æ–™</button></li>
              <li><button id="analy-modal_btn06" onclick="startScenario('ã‚¢ãƒ•ã‚¿ãƒ¼ãƒ•ã‚©ãƒ­ãƒ¼')">ã‚¢ãƒ•ã‚¿ãƒ¼ãƒ•ã‚©ãƒ­ãƒ¼</button></li>
              <li><button id="analy-modal_btn07" onclick="startScenario('é›¨æ¼ã‚Š')">é›¨æ¼ã‚Š</button></li>
              <li><button id="analy-modal_btn08" onclick="startScenario('ã‚«ãƒ©ãƒ¼ã‚¤ãƒ¡ãƒ¼ã‚¸')">ã‚«ãƒ©ãƒ¼ã‚¤ãƒ¡ãƒ¼ã‚¸</button></li>
              <li><button id="analy-modal_btn09" onclick="startScenario('åŠ©æˆé‡‘')">åŠ©æˆé‡‘</button></li>
              <li><button id="analy-modal_btn10" onclick="startScenario('è£œä¿®')">è£œä¿®</button></li>
              <li><button id="analy-modal_btn11" onclick="startScenario('ã‚«ãƒãƒ¼å·¥æ³•')">ã‚«ãƒãƒ¼å·¥æ³•</button></li>
              <li><button id="analy-modal_btn12" onclick="startScenario('å±‹æ ¹æ')">å±‹æ ¹æ</button></li>
              <li><button id="analy-modal_btn13" onclick="startScenario('é®ç†±ãƒ»æ–­ç†±')">é®ç†±ãƒ»æ–­ç†±</button></li>
              <li><button id="analy-modal_btn14" onclick="startScenario('ã‚¿ã‚¤ãƒŸãƒ³ã‚°')">ã‚¿ã‚¤ãƒŸãƒ³ã‚°</button></li>
            </ul>
          </div>
        </div>
      </div>
      <!-- //modal -->

      <!-- f-search -->
      <section class="f-search">
        <div class="container-max">
          <div class="f-search__item item01">
            <div class="f-search__item__bg">
              <h3 class="f-search-mod-tit">åœ°å…ƒã§äººæ°—ã®æ¥­è€…ã‚’æ¢ã™</h3>
              <ul class="f-search__item__btn__lists">
                <li>
                  <button id="analy-f-search_btn01" onclick="startScenario('ã‚¯ãƒã‚³ãƒŸãƒ»è©•ä¾¡é †ã§æ¢ã™')">
                    <picture>
                      <source srcset="img/fsearch/btn01_sp.png" media="(max-width: 767px)" />
                      <img src="img/fsearch/btn01.png" alt="ã‚¯ãƒã‚³ãƒŸãƒ»è©•ä¾¡é †ã§æ¢ã™" />
                    </picture>
                  </button>
                </li>
                <li>
                  <button id="analy-f-search_btn02" onclick="startScenario('å®Ÿç¸¾é †ã§æ¢ã™')">
                    <picture>
                      <source srcset="img/fsearch/btn02_sp.png" media="(max-width: 767px)" />
                      <img src="img/fsearch/btn02.png" alt="å®Ÿç¸¾é †ã§æ¢ã™" />
                    </picture>
                  </button>
                </li>
                <li>
                  <button id="analy-f-search_btn03" onclick="startScenario('è²»ç”¨ãŒå®‰ã„é †ã§æ¢ã™')">
                    <picture>
                      <source srcset="img/fsearch/btn03_sp.png" media="(max-width: 767px)" />
                      <img src="img/fsearch/btn03.png" alt="è²»ç”¨ãŒå®‰ã„é †ã§æ¢ã™" />
                    </picture>
                  </button>
                </li>
              </ul>
            </div>
          </div>
          <div class="f-search__item item02">
            <div class="f-search__item__bg">
              <h3 class="f-search-mod-tit">äººæ°—ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã‹ã‚‰æ¢ã™</h3>
              <ul class="f-search__item__link__lists">
                <li><button id="analy-f-search_btn04" onclick="startScenario('ã‚¯ãƒã‚³ãƒŸ')">ã‚¯ãƒã‚³ãƒŸ</button></li>
                <li><button id="analy-f-search_btn05" onclick="startScenario('ãŠã™ã™ã‚')">ãŠã™ã™ã‚</button></li>
                <li><button id="analy-f-search_btn06" onclick="startScenario('åŠ©æˆé‡‘')">åŠ©æˆé‡‘</button></li>
                <li><button id="analy-f-search_btn07" onclick="startScenario('è¨ªå•æ¥­è€…')">è¨ªå•æ¥­è€…</button></li>
                <li><button id="analy-f-search_btn08" onclick="startScenario('å±‹æ ¹å¼µæ›¿ãˆ')">å±‹æ ¹å¼µæ›¿ãˆ</button></li>
                <li><button id="analy-f-search_btn09" onclick="startScenario('ã‚«ãƒãƒ¼å·¥æ³•')">ã‚«ãƒãƒ¼å·¥æ³•</button></li>
                <li><button id="analy-f-search_btn10" onclick="startScenario('ãƒã‚¦ã‚¹ãƒ¡ãƒ¼ã‚«ãƒ¼')">ãƒã‚¦ã‚¹ãƒ¡ãƒ¼ã‚«ãƒ¼</button></li>
                <li><button id="analy-f-search_btn11" onclick="startScenario('å¡—æ–™')">å¡—æ–™</button></li>
                <li><button id="analy-f-search_btn12" onclick="startScenario('æ–½å·¥æ™‚æœŸ')">æ–½å·¥æ™‚æœŸ</button></li>
                <li><button id="analy-f-search_btn13" onclick="startScenario('ãƒªãƒ•ã‚©ãƒ¼ãƒ ãƒ­ãƒ¼ãƒ³')">ãƒªãƒ•ã‚©ãƒ¼ãƒ ãƒ­ãƒ¼ãƒ³</button></li>
                <li><button id="analy-f-search_btn14" onclick="startScenario('é«˜å“è³ªãƒ»é•·æŒã¡')">é«˜å“è³ªãƒ»é•·æŒã¡</button></li>
                <li><button id="analy-f-search_btn15" onclick="startScenario('å±‹ä¸Šãƒ»ãƒ™ãƒ©ãƒ³ãƒ€é˜²æ°´')">å±‹ä¸Šãƒ»ãƒ™ãƒ©ãƒ³ãƒ€é˜²æ°´</button></li>
                <li><button id="analy-f-search_btn16" onclick="startScenario('ã‚¬ãƒ«ãƒãƒªã‚¦ãƒ ')">ã‚¬ãƒ«ãƒãƒªã‚¦ãƒ </button></li>
                <li><button id="analy-f-search_btn17" onclick="startScenario('ç«ç½ä¿é™º')">ç«ç½ä¿é™º</button></li>
                <li><button id="analy-f-search_btn18" onclick="startScenario('ã‚«ãƒ©ãƒ¼ã‚¤ãƒ¡ãƒ¼ã‚¸')">ã‚«ãƒ©ãƒ¼ã‚¤ãƒ¡ãƒ¼ã‚¸</button></li>
                <li><button id="analy-f-search_btn19" onclick="startScenario('é›¨æ¼ã‚Š')">é›¨æ¼ã‚Š</button></li>
              </ul>
            </div>
          </div>
        </div>
      </section>
      <!-- //f-search -->

      <!-- anchor -->
      <section class="anchor">
        <div class="container">
          <h3 class="anchor__tit">å¤–å£å¡—è£…ãã‚‰ã¹ã‚‹ã«ã¤ã„ã¦<br class="sponly" />ã‚‚ã£ã¨çŸ¥ã‚‹</h3>
          <ul class="anchor__lists">
            <li>
              <a id="analy-anchor_btn01" href="#caution">
                <picture>
                  <source srcset="img/anchor/btn01_sp.png" media="(max-width: 767px)" />
                  <img src="img/anchor/btn01.png" alt="çŸ¥ã‚‰ãªãã‚ƒæã™ã‚‹æ³¨æ„ç‚¹" />
                </picture>
              </a>
            </li>
            <li>
              <a id="analy-anchor_btn02" href="#step">
                <picture>
                  <source srcset="img/anchor/btn02_sp.png" media="(max-width: 767px)" />
                  <img src="img/anchor/btn02.png" alt="æ¥­è€…ã®æ¢ã—æ–¹" />
                </picture>
              </a>
            </li>
            <li>
              <a id="analy-anchor_btn03" href="#qa">
                <picture>
                  <source srcset="img/anchor/btn03_sp.png" media="(max-width: 767px)" />
                  <img src="img/anchor/btn03.png" alt="ã‚ˆãã‚ã‚‹è³ªå•" />
                </picture>
              </a>
            </li>
          </ul>
        </div>
      </section>
      <!-- //anchor -->

      <!-- search -->
      <section class="search">
        <div class="container-max">
          <div class="search__before">
            <div class="search__before__cost">
              <div class="search__before__cost__bg">
                <h3 class="search-mod-tit">å·¥äº‹äºˆç®—ã‹ã‚‰æ¢ã™</h3>
                <ul class="search__before__cost__lists">
                  <li>
                    <button id="analy-search_btn01" onclick="startScenario('~50ä¸‡å††')">
                      <img src="img/search/before_btn01.png" alt="~50ä¸‡å††" />
                    </button>
                  </li>
                  <li>
                    <button id="analy-search_btn02" onclick="startScenario('50~100ä¸‡å††')">
                      <img src="img/search/before_btn02.png" alt="50~100ä¸‡å††" />
                    </button>
                  </li>
                  <li>
                    <button id="analy-search_btn03" onclick="startScenario('100~200ä¸‡å††')">
                      <img src="img/search/before_btn03.png" alt="100~200ä¸‡å††" />
                    </button>
                  </li>
                  <li>
                    <button id="analy-search_btn04" onclick="startScenario('200ä¸‡å††~')">
                      <img src="img/search/before_btn04.png" alt="200ä¸‡å††~" />
                    </button>
                  </li>
                </ul>
              </div>
            </div>
            <div class="search__before__aging">
              <div class="search__before__aging__bg">
                <h3 class="search-mod-tit">åŠ£åŒ–çŠ¶æ³ã‹ã‚‰æ¢ã™</h3>
                <ul class="search__before__aging__lists">
                  <li>
                    <button id="analy-search_btn05" onclick="startScenario('ãƒãƒ§ãƒ¼ã‚¯ã®ã‚ˆã†ãªç²‰ãŒã¤ã')">
                      <picture>
                        <source srcset="img/search/before_btn05_sp.jpg" media="(max-width: 767px)" />
                        <img src="img/search/before_btn05.jpg" alt="ãƒãƒ§ãƒ¼ã‚¯ã®ã‚ˆã†ãªç²‰ãŒã¤ã" />
                      </picture>
                    </button>
                  </li>
                  <li>
                    <button id="analy-search_btn06" onclick="startScenario('ã²ã³å‰²ã‚Œã¦ã„ã‚‹')">
                      <picture>
                        <source srcset="img/search/before_btn06_sp.jpg" media="(max-width: 767px)" />
                        <img src="img/search/before_btn06.jpg" alt="ã²ã³å‰²ã‚Œã¦ã„ã‚‹" />
                      </picture>
                    </button>
                  </li>
                  <li>
                    <button id="analy-search_btn07" onclick="startScenario('ã¯ãŒã‚Œã¦ã„ã‚‹')">
                      <picture>
                        <source srcset="img/search/before_btn07_sp.jpg" media="(max-width: 767px)" />
                        <img src="img/search/before_btn07.jpg" alt="ã¯ãŒã‚Œã¦ã„ã‚‹" />
                      </picture>
                    </button>
                  </li>
                  <li>
                    <button id="analy-search_btn08" onclick="startScenario('æ±šã‚Œãƒ»ãã™ã¿ãŒã‚ã‚‹')">
                      <picture>
                        <source srcset="img/search/before_btn08_sp.jpg" media="(max-width: 767px)" />
                        <img src="img/search/before_btn08.jpg" alt="æ±šã‚Œãƒ»ãã™ã¿ãŒã‚ã‚‹" />
                      </picture>
                    </button>
                  </li>
                </ul>
              </div>
            </div>
          </div>
        </div>
        <div class="search__after">
          <div class="search__after__content01">
            <div class="container">
              <div class="search__after__content01__feature">
                <h3 class="search-mod-tit">æ¥­è€…ã®ç‰¹è‰²ã‹ã‚‰æ¢ã™</h3>
                <ul class="search__after__content01__feature__lists">
                  <li>
                    <button id="analy-search_btn09" onclick="startScenario('è¨­ç«‹å¹´æ•°')">
                      <picture>
                        <source srcset="img/search/after_btn01_sp.png" media="(max-width: 767px)" />
                        <img src="img/search/after_btn01.png" alt="è¨­ç«‹å¹´æ•°" />
                      </picture>
                    </button>
                  </li>
                  <li>
                    <button id="analy-search_btn10" onclick="startScenario('å¾“æ¥­å“¡æ•°')">
                      <picture>
                        <source srcset="img/search/after_btn02_sp.png" media="(max-width: 767px)" />
                        <img src="img/search/after_btn02.png" alt="å¾“æ¥­å“¡æ•°" />
                      </picture>
                    </button>
                  </li>
                  <li>
                    <button id="analy-search_btn11" onclick="startScenario('ä¿æœ‰è³‡æ ¼')">
                      <picture>
                        <source srcset="img/search/after_btn03_sp.png" media="(max-width: 767px)" />
                        <img src="img/search/after_btn03.png" alt="ä¿æœ‰è³‡æ ¼" />
                      </picture>
                    </button>
                  </li>
                  <li>
                    <button id="analy-search_btn12" onclick="startScenario('è·äººç›´å–¶')">
                      <picture>
                        <source srcset="img/search/after_btn04_sp.png" media="(max-width: 767px)" />
                        <img src="img/search/after_btn04.png" alt="è·äººç›´å–¶" />
                      </picture>
                    </button>
                  </li>
                </ul>
              </div>
              <div class="search__after__content01__support">
                <h3 class="search-mod-tit">ã‚µãƒãƒ¼ãƒˆå†…å®¹ã§æ¢ã™</h3>
                <ul class="search__after__content01__support__lists">
                  <li>
                    <button id="analy-search_btn13" onclick="startScenario('ãƒ­ãƒ¼ãƒ³OK')">
                      <picture>
                        <source srcset="img/search/after_btn05_sp.png" media="(max-width: 767px)" />
                        <img src="img/search/after_btn05.png" alt="ãƒ­ãƒ¼ãƒ³OK" />
                      </picture>
                    </button>
                  </li>
                  <li>
                    <button id="analy-search_btn14" onclick="startScenario('å„ç¨®ä¿é™ºå®Œå‚™')">
                      <picture>
                        <source srcset="img/search/after_btn06_sp.png" media="(max-width: 767px)" />
                        <img src="img/search/after_btn06.png" alt="å„ç¨®ä¿é™ºå®Œå‚™" />
                      </picture>
                    </button>
                  </li>
                  <li>
                    <button id="analy-search_btn15" onclick="startScenario('ã‚¢ãƒ•ã‚¿ãƒ¼ãƒ•ã‚©ãƒ­ãƒ¼ã‚ã‚Š')">
                      <picture>
                        <source srcset="img/search/after_btn07_sp.png" media="(max-width: 767px)" />
                        <img src="img/search/after_btn07.png" alt="ã‚¢ãƒ•ã‚¿ãƒ¼ãƒ•ã‚©ãƒ­ãƒ¼ã‚ã‚Š" />
                      </picture>
                    </button>
                  </li>
                </ul>
              </div>
            </div>
          </div>
          <div class="search__after__content02">
            <div class="container-max">
              <h3 class="search__after__content02__tit">å·¥äº‹ãŒå¿…è¦ãªç®‡æ‰€ã§æ¢ã™</h3>
              <div class="search__after__content02__wrap">
                <div class="search__after__content02__wrap__item">
                  <div class="swiper">
                    <div class="swiper-wrapper">
                      <div class="swiper-slide">
                        <img class="objectfit cover" src="img/search/slide01.jpg" alt="" />
                      </div>
                      <div class="swiper-slide">
                        <img class="objectfit cover" src="img/search/slide02.jpg" alt="" />
                      </div>
                      <div class="swiper-slide">
                        <img class="objectfit cover" src="img/search/slide03.jpg" alt="" />
                      </div>
                    </div>
                  </div>
                  <div class="search__after__content02__wrap__item__summary">
                    <p class="search__after__content02__wrap__item__summary__cat">å¤–å£ + å±‹æ ¹</p>
                    <div class="search__after__content02__wrap__item__summary__btn">
                      <button id="analy-search_btn16" onclick="startScenario('å¡—è£…ã—ãŸã„')">
                        <img src="img/search/after_btn09.png" alt="å¡—è£…ã—ãŸã„" />
                      </button>
                    </div>
                    <div class="search__after__content02__wrap__item__summary__btn">
                      <button id="analy-search_btn17" onclick="startScenario('å¼µã‚Šæ›¿ãˆãŸã„')">
                        <img src="img/search/after_btn10.png" alt="å¼µã‚Šæ›¿ãˆãŸã„" />
                      </button>
                    </div>
                    <div class="search__after__content02__wrap__item__summary__btn">
                      <button id="analy-search_btn18" onclick="startScenario('è£œä¿®ã—ãŸã„')">
                        <img src="img/search/after_btn11.png" alt="è£œä¿®ã—ãŸã„" />
                      </button>
                    </div>
                  </div>
                </div>
                <div class="search__after__content02__wrap__item">
                  <div class="swiper">
                    <div class="swiper-wrapper">
                      <div class="swiper-slide">
                        <img class="objectfit cover" src="img/search/slide04.jpg" alt="" />
                      </div>
                      <div class="swiper-slide">
                        <img class="objectfit cover" src="img/search/slide05.jpg" alt="" />
                      </div>
                      <div class="swiper-slide">
                        <img class="objectfit cover" src="img/search/slide06.jpg" alt="" />
                      </div>
                    </div>
                  </div>
                  <div class="search__after__content02__wrap__item__summary">
                    <p class="search__after__content02__wrap__item__summary__cat">å¤–å£ã®ã¿</p>
                    <div class="search__after__content02__wrap__item__summary__btn">
                      <button id="analy-search_btn19" onclick="startScenario('å¡—è£…ã—ãŸã„')">
                        <img src="img/search/after_btn09.png" alt="å¡—è£…ã—ãŸã„" />
                      </button>
                    </div>
                    <div class="search__after__content02__wrap__item__summary__btn">
                      <button id="analy-search_btn20" onclick="startScenario('å¼µã‚Šæ›¿ãˆãŸã„')">
                        <img src="img/search/after_btn10.png" alt="å¼µã‚Šæ›¿ãˆãŸã„" />
                      </button>
                    </div>
                    <div class="search__after__content02__wrap__item__summary__btn">
                      <button id="analy-search_btn21" onclick="startScenario('è£œä¿®ã—ãŸã„')">
                        <img src="img/search/after_btn11.png" alt="è£œä¿®ã—ãŸã„" />
                      </button>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>
      <!-- //search -->

      <!-- caution -->
      <section class="caution" id="caution">
        <div class="container">
          <h3 class="mod-tit">
            <span class="mod-tit__small">æ„å¤–ã¨ã‚ã‚‹ã‚ã‚‹?!</span>
            <span class="mod-tit__large"
              ><span class="mod-tit--blue">ä¸€èˆ¬çš„ãªè¦‹ç©ã‚µã‚¤ãƒˆã®<br class="sponly" />è½ã¨ã—ç©´ï¼“é¸</span></span
            >
          </h3>
          <ol class="caution__lists">
            <li class="caution__lists__item">
              <div class="caution__lists__item__before">
                <div class="caution__lists__item__before__num">
                  <img src="img/caution/num01.png" alt="01" />
                </div>
                <h4 class="caution__lists__item__before__tit">"<span class="caution__lists__item__before__tit--marker">ç›¸å ´ã‚’å…¨ç„¶æ•™ãˆã¦ãã‚Œãªã„</span>"</h4>
                <p class="caution__lists__item__before__txt">ç›¸å ´ãŒã‚ã‹ã‚‰ãªã„ã¨é«˜ãè¦‹ç©ã‚‚ã‚‰ã‚Œã¦ã„ã‚‹ã“ã¨ã«æ°—ã¥ã‘ãªã„å ´åˆã‚‚...</p>
              </div>
              <div class="caution__lists__item__after">
                <div class="caution__lists__item__after__content">
                  <div class="caution__lists__item__after__content__fwrap">
                    <p class="caution__lists__item__after__content__fwrap__cat">ã”å®‰å¿ƒãã ã•ã„ï¼</p>
                    <p class="caution__lists__item__after__content__fwrap__tit">ç›¸å ´ã¯10ç§’ã§å‡ºã¦ãã¾ã™</p>
                  </div>
                  <div class="caution__lists__item__after__content__wrap">
                    <div class="caution__lists__item__after__content__wrap__icon">
                      <img src="img/caution/icon.png" alt="" />
                    </div>
                    <p class="caution__lists__item__after__content__wrap__txt">ç›¸å ´ã‚’çŸ¥ã£ãŸã“ã¨ã§ã€<span class="caution__lists__item__after__content__wrap__txt--strong">ä¾¡æ ¼ã‚’30%ä¸‹ã’ã‚‰ã‚ŒãŸäº‹ä¾‹</span>ã‚‚ã”ã–ã„ã¾ã™ã€‚<br />ã¾ãšã¯ç›¸å ´ã ã‘ã§ã‚‚ç¢ºèªã—ã¦ã¿ã¦ãã ã•ã„ã€‚</p>
                  </div>
                  <button id="analy-caution_btn01" class="caution__lists__item__after__content__btn" onclick="startScenario('ä»Šã™ãç›¸å ´ã‚’ç¢ºèªã™ã‚‹')">
                    <img src="img/caution/btn01.png" alt="ä»Šã™ãç›¸å ´ã‚’ç¢ºèªã™ã‚‹" />
                  </button>
                </div>
                <div class="caution__lists__item__after__img">
                  <img src="img/caution/img01.jpg" alt="" />
                </div>
              </div>
            </li>
            <li class="caution__lists__item">
              <div class="caution__lists__item__before">
                <div class="caution__lists__item__before__num">
                  <img src="img/caution/num02.png" alt="02" />
                </div>
                <h4 class="caution__lists__item__before__tit">"<span class="caution__lists__item__before__tit--marker">ä¿¡ç”¨ã§ããªã„æ¥­è€…ãŒã„ã‚‹</span>"</h4>
                <p class="caution__lists__item__before__txt">æ‹…å½“è€…ãŒå‹˜ã§é¸ã‚“ã æ¥­è€…ã—ã‹ç´¹ä»‹ã•ã‚Œãªã„ã®ã§ã€ãƒŸã‚¹ãƒãƒƒãƒãŒèµ·ãã¦ã—ã¾ã†ã‹ã‚‚...</p>
              </div>
              <div class="caution__lists__item__after">
                <div class="caution__lists__item__after__content">
                  <div class="caution__lists__item__after__content__fwrap">
                    <p class="caution__lists__item__after__content__fwrap__cat">å®Ÿç¸¾ã‚ã‚‹æ¥­è€…ã ã‘é›†ã‚ãŸ</p>
                    <p class="caution__lists__item__after__content__fwrap__tit">ãƒ©ãƒ³ã‚­ãƒ³ã‚°ã‹ã‚‰é¸ã¹ã¾ã™</p>
                  </div>
                  <div class="caution__lists__item__after__content__wrap">
                    <div class="caution__lists__item__after__content__wrap__icon">
                      <img src="img/caution/icon.png" alt="" />
                    </div>
                    <p class="caution__lists__item__after__content__wrap__txt">ã‚³ã‚¹ãƒ‘é †ã€ã‚¯ãƒã‚³ãƒŸé †ã€å“è³ªé †ã®ãƒ©ãƒ³ã‚­ãƒ³ã‚°ã‹ã‚‰ã€ãŠå¥½ããªæ¥­è€…ã®æƒ…å ±ã§æ¯”è¼ƒã§ãã¾ã™ï¼</p>
                  </div>
                  <button id="analy-caution_btn02" class="caution__lists__item__after__content__btn" onclick="startScenario('å®Ÿéš›ã®ãƒ©ãƒ³ã‚­ãƒ³ã‚°ã‚’è¦‹ã‚‹')">
                    <img src="img/caution/btn02.png" alt="å®Ÿéš›ã®ãƒ©ãƒ³ã‚­ãƒ³ã‚°ã‚’è¦‹ã‚‹" />
                  </button>
                </div>
                <div class="caution__lists__item__after__img">
                  <img src="img/caution/img02.jpg" alt="" />
                </div>
              </div>
            </li>
            <li class="caution__lists__item">
              <div class="caution__lists__item__before">
                <div class="caution__lists__item__before__num">
                  <img src="img/caution/num03.png" alt="03" />
                </div>
                <h4 class="caution__lists__item__before__tit">"<span class="caution__lists__item__before__tit--marker">å–¶æ¥­é›»è©±ãŒã—ã¤ã“ã„</span>"</h4>
                <p class="caution__lists__item__before__txt">ä¸€åº¦é›»è©±ç•ªå·ã‚’å…¥åŠ›ã—ãŸã ã‘ãªã®ã«ã€æ¥­è€…ã‚„æ‹…å½“è€…ã‹ã‚‰æ¯æ—¥é›»è©±ãŒã‹ã‹ã£ã¦ãã‚‹ã®ã‚‚ã‚¹ãƒˆãƒ¬ã‚¹ï½¥ï½¥ï½¥</p>
              </div>
              <div class="caution__lists__item__after">
                <div class="caution__lists__item__after__content">
                  <div class="caution__lists__item__after__content__fwrap">
                    <p class="caution__lists__item__after__content__fwrap__cat">ä¸è¦ãªå–¶æ¥­é›»è©±ã¯</p>
                    <p class="caution__lists__item__after__content__fwrap__tit">ãƒ«ãƒ¼ãƒ«ã§ç¦æ­¢ã—ã¦ã„ã¾ã™</p>
                  </div>
                  <div class="caution__lists__item__after__content__wrap">
                    <div class="caution__lists__item__after__content__wrap__icon">
                      <img src="img/caution/icon.png" alt="" />
                    </div>
                    <p class="caution__lists__item__after__content__wrap__txt">
                      å€‹äººæƒ…å ±ã¯å³é‡ã«æ‰±ã£ã¦ã„ã¾ã™ã®ã§ã€ã—ã¤ã“ã„é›»è©±ã‚¹ãƒˆãƒ¬ã‚¹ã®å¿ƒé…ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚<br />
                      ã§ã™ãŒä½•ã‹ãŠå›°ã‚Šã”ã¨ãŒã‚ã‚Šã¾ã—ãŸã‚‰ã€<span class="caution__lists__item__after__content__wrap__txt--strong">ç„¡æ–™ã§ã‚µãƒãƒ¼ãƒˆã„ãŸã—ã¾ã™ã€‚</span>
                    </p>
                  </div>
                  <a id="analy-caution_btn03" class="caution__lists__item__after__content__btn" href="tel:05017255045">
                    <img src="img/caution/btn03.png" alt="ãŠæ°—è»½ã«ãŠé›»è©±ãã ã•ã„" />
                  </a>
                </div>
                <div class="caution__lists__item__after__img">
                  <picture>
                    <source srcset="img/caution/img03_sp.jpg" media="(max-width: 767px)" />
                    <img src="img/caution/img03.jpg" alt="" />
                  </picture>
                </div>
              </div>
            </li>
          </ol>
        </div>
      </section>
      <!-- //caution -->

      <!-- step -->
      <section class="step" id="step">
        <div class="container-max">
          <h3 class="mod-tit">
            <span class="mod-tit__small">æ¥­è€…æ¢ã—ã¯</span>
            <span class="mod-tit__large"><span class="mod-tit--blue">ã‹ã‚“ãŸã‚“3ã‚¹ãƒ†ãƒƒãƒ—ï¼</span></span>
          </h3>
          <div class="step__video"></div>
          <ol class="step__lists">
            <li class="step__lists__item">
              <div class="step__lists__item__wrap">
                <div class="step__lists__item__wrap__num">
                  <img src="img/step/num01.png" alt="01" />
                </div>
                <h4 class="step__lists__item__wrap__tit">
                  <span class="step__lists__item__wrap__tit--large">ç›¸å ´ã‚’ãƒã‚§ãƒƒã‚¯</span>
                </h4>
              </div>
              <div class="step__lists__item__content">
                <div class="step__lists__item__content__img">
                  <img src="img/step/img01.png" alt="" />
                </div>
                <p class="step__lists__item__content__txt">ã¾ãšã¯ãŠä½ã¾ã„ã®åœ°åŸŸã®ç›¸å ´ã‚’ç¢ºèªã—ã¾ã—ã‚‡ã†ã€‚</p>
                <button id="analy-step_btn01" class="step__lists__item__content__btn" onclick="startScenario('ä»Šã™ãç›¸å ´ã‚’ç¢ºèªã™ã‚‹')">
                  <img src="img/step/btn.png" alt="ä»Šã™ãç›¸å ´ã‚’ç¢ºèªã™ã‚‹" />
                </button>
              </div>
            </li>
            <li class="step__lists__item">
              <div class="step__lists__item__wrap">
                <div class="step__lists__item__wrap__num">
                  <img src="img/step/num02.png" alt="02" />
                </div>
                <h4 class="step__lists__item__wrap__tit">
                  <span class="step__lists__item__wrap__tit--small">AIãƒãƒ£ãƒƒãƒˆã§</span>
                  <span class="step__lists__item__wrap__tit--large">æœ€é©ãªæ¥­è€…ã‚’è¡¨ç¤º</span>
                </h4>
              </div>
              <div class="step__lists__item__content">
                <div class="step__lists__item__content__img">
                  <img src="img/step/img02.png" alt="" />
                </div>
                <p class="step__lists__item__content__txt">ç°¡å˜ãªãƒ’ã‚¢ãƒªãƒ³ã‚°ã‚’è¡Œã„ã€ãã‚Œã‚’ã‚‚ã¨ã«ã‚³ã‚¹ãƒ‘é †ã€ã‚¯ãƒã‚³ãƒŸé †ã€å“è³ªé †ã®ãƒ©ãƒ³ã‚­ãƒ³ã‚°ã‚’è¡¨ç¤ºã—ã¾ã™ã€‚</p>
              </div>
            </li>
            <li class="step__lists__item">
              <div class="step__lists__item__wrap">
                <div class="step__lists__item__wrap__num">
                  <img src="img/step/num03.png" alt="01" />
                </div>
                <h4 class="step__lists__item__wrap__tit">
                  <span class="step__lists__item__wrap__tit--small">ã‚ã¨ã¯æ°—ã«ãªã‚‹æ¥­è€…ã‚’</span>
                  <span class="step__lists__item__wrap__tit--large">é¸ã¶ã ã‘</span>
                </h4>
              </div>
              <div class="step__lists__item__content">
                <div class="step__lists__item__content__img">
                  <img src="img/step/img03.png" alt="" />
                </div>
                <p class="step__lists__item__content__txt">ãƒ©ãƒ³ã‚­ãƒ³ã‚°ã‹ã‚‰æ°—ã«ãªã‚‹æ¥­è€…ã‚’é¸ã‚“ã ã‚‰ã€è©³ã—ã„æƒ…å ±ã‚’å–å¾—ã§ãã¾ã™ã€‚</p>
              </div>
            </li>
          </ol>
        </div>
      </section>
      <!-- //step -->

      <!-- qa -->
      <section class="qa" id="qa">
        <div class="container">
          <h3 class="mod-tit">
            <span class="mod-tit__large">ã‚ˆãã‚ã‚‹è³ªå•</span>
          </h3>
          <div class="qa__lists">
            <div class="qa__lists__item">
              <div class="qa__lists__item__parent">
                <span class="qa__lists__item__parent--icon"><img src="img/qa/q_icon.png" alt="Q" /></span>
                <span class="qa__lists__item__parent--txt">è¦‹ç©ã‚Šã¯ç„¡æ–™ã§ã™ã‹ï¼Ÿ</span>
              </div>
              <div class="qa__lists__item__child">
                <div class="qa__lists__item__child__inner">ã¯ã„ã€‚<br /><span class="qa__lists__item__child__inner--strong">ç›¸å ´ãƒã‚§ãƒƒã‚¯ã‹ã‚‰æ¥­è€…æ¯”è¼ƒã€è¦‹ç©ã‚‚ã‚Šã€ãã®å¾Œã®ã‚µãƒãƒ¼ãƒˆã¾ã§ã€ã™ã¹ã¦ç„¡æ–™ã§ã™ã€‚</span><br />å½“ã‚µãƒ¼ãƒ“ã‚¹ã¯åºƒå‘Šè²»ã§é‹å–¶ã—ã¦ã„ã‚‹ãŸã‚ã€ãŠå®¢æ§˜ã«ã”è² æ‹…ã„ãŸã ãè²»ç”¨ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚<br />ã¾ãŸã€ä¸‡ãŒä¸€å¥‘ç´„ã•ã‚ŒãŸå¾Œã‚‚ã€æ³•å¤–ãªè¿½åŠ æ–™é‡‘ãŒç™ºç”Ÿã—ãªã„ã‚ˆã†ã‚µãƒãƒ¼ãƒˆã—ã¾ã™ã®ã§ã”å®‰å¿ƒãã ã•ã„ã€‚</div>
              </div>
            </div>
            <div class="qa__lists__item">
              <div class="qa__lists__item__parent">
                <span class="qa__lists__item__parent--icon"><img src="img/qa/q_icon.png" alt="Q" /></span>
                <span class="qa__lists__item__parent--txt">ç›¸å ´ã‚’çŸ¥ã‚ŠãŸã„ã®ã§ã™ãŒã€éƒµä¾¿ç•ªå·ã‚’å…¥åŠ›ã™ã‚‹ã ã‘ã§ã„ã„ã‚“ã§ã™ã‹ï¼Ÿ</span>
              </div>
              <div class="qa__lists__item__child">
                <div class="qa__lists__item__child__inner">ã¯ã„ã€‚<br /><span class="qa__lists__item__child__inner--strong">éƒµä¾¿ç•ªå·ã‚’å…¥åŠ›ã—ã¦ã„ãŸã ãã¨ã€åœ°åŸŸã”ã¨ã®ç›¸å ´ä¾¡æ ¼ãŒã™ãã«åˆ†ã‹ã‚Šã¾ã™ã€‚</span><br />ãã®å¾Œã‚‚ç°¡å˜ãªè³ªå•ã«ç­”ãˆã‚‹ã ã‘ã§ã€å„ªè‰¯ãªæ¥­è€…ãƒ©ãƒ³ã‚­ãƒ³ã‚°ã‚’ã”è¦§ã„ãŸã ã‘ã¾ã™ã€‚<br />è¦‹ç©ã‚‚ã‚Šã‚„ã‚µãƒãƒ¼ãƒˆã‚‚ã™ã¹ã¦ç„¡æ–™ã§ã”åˆ©ç”¨å¯èƒ½ã§ã™ã€‚</div>
              </div>
            </div>
            <div class="qa__lists__item">
              <div class="qa__lists__item__parent">
                <span class="qa__lists__item__parent--icon"><img src="img/qa/q_icon.png" alt="Q" /></span>
                <span class="qa__lists__item__parent--txt">è¦‹ç©ã‚Šã‚’å–ã£ãŸã‚‰ã€å¿…ãšå¥‘ç´„ã—ãªã„ã¨ã„ã‘ã¾ã›ã‚“ã‹ï¼Ÿ</span>
              </div>
              <div class="qa__lists__item__child">
                <div class="qa__lists__item__child__inner">ã„ã„ãˆã€‚å¥‘ç´„ã®ç¾©å‹™ã¯ä¸€åˆ‡ã‚ã‚Šã¾ã›ã‚“ã€‚<br /><span class="qa__lists__item__child__inner--strong">å½“ã‚µãƒ¼ãƒ“ã‚¹ã¯ã€Œç›¸å ´ã‚’çŸ¥ã‚‹ã€ã€Œæ¥­è€…ã‚’æ¯”è¼ƒã™ã‚‹ã€ã“ã¨ã«ç‰¹åŒ–ã—ã¦ã„ã‚‹ãŸã‚ã€ç„¡ç†ãªå–¶æ¥­ã‚„å¥‘ç´„ã‚’è¿«ã‚‹ã“ã¨ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚</span><br />ãƒªãƒ•ã‚©ãƒ¼ãƒ ã¯é«˜é¡ãªè²·ã„ç‰©ã§ã™ã€‚ç„¦ã‚‰ãšã€è¤‡æ•°ã®è¦‹ç©ã‚‚ã‚Šã‚’ã˜ã£ãã‚Šæ¯”è¼ƒã™ã‚‹ã“ã¨ãŒã€å¤±æ•—ã—ãªã„ãŸã‚ã®æœ€å–„ç­–ã§ã™ã€‚<br />ã¾ãŸã€ã—ã¤ã“ã„å–¶æ¥­ã¯åŠ ç›Ÿåº—ãƒ«ãƒ¼ãƒ«ã§å³ã—ãç¦æ­¢ã—ã¦ã„ã¾ã™ã€‚<br />ä¸‡ãŒä¸€ãƒˆãƒ©ãƒ–ãƒ«ãŒã‚ã£ãŸéš›ã¯ã€å½“ç¤¾ã®ã‚µãƒãƒ¼ãƒˆã‚»ãƒ³ã‚¿ãƒ¼ã«ã”é€£çµ¡ãã ã•ã„ã€‚</div>
              </div>
            </div>
            <div class="qa__lists__item">
              <div class="qa__lists__item__parent">
                <span class="qa__lists__item__parent--icon"><img src="img/qa/q_icon.png" alt="Q" /></span>
                <span class="qa__lists__item__parent--txt">ã©ã‚“ãªæ¥­è€…ãŒç´¹ä»‹ã•ã‚Œã¾ã™ã‹ï¼Ÿ</span>
              </div>
              <div class="qa__lists__item__child">
                <div class="qa__lists__item__child__inner">å³ã—ã„å¯©æŸ»ã‚’ã‚¯ãƒªã‚¢ã—ãŸå„ªè‰¯æ¥­è€…ã®ã¿ãŒåŠ ç›Ÿã—ã¦ã„ã¾ã™ã€‚<br /><span class="qa__lists__item__child__inner--strong">ã•ã‚‰ã«ã€AIãŒãŠå®¢æ§˜ã®ãŠå®¶ã‚„æ–½å·¥æ¡ä»¶ã«æœ€é©ãªæ¥­è€…ã‚’è‡ªå‹•ã§é¸å®šã—ã€ãƒ©ãƒ³ã‚­ãƒ³ã‚°å½¢å¼ã§ã”ç´¹ä»‹ã—ã¾ã™ã€‚</span><br />ãŠå®¢æ§˜ã¯ã€ãã®ä¸­ã‹ã‚‰ã”è‡ªèº«ã«åˆã£ãŸæ¥­è€…ã‚’é¸ã¶ã ã‘ã§ã€æœ€é©ãªè¦‹ç©ã‚‚ã‚Šã‚’ç„¡æ–™ã§æ‰‹ã«å…¥ã‚Œã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚</div>
              </div>
            </div>
            <div class="qa__lists__item">
              <div class="qa__lists__item__parent">
                <span class="qa__lists__item__parent--icon"><img src="img/qa/q_icon.png" alt="Q" /></span>
                <span class="qa__lists__item__parent--txt">ã—ã¤ã“ã„å–¶æ¥­é›»è©±ãŒã‹ã‹ã£ã¦ãã¾ã›ã‚“ã‹ï¼Ÿ</span>
              </div>
              <div class="qa__lists__item__child">
                <div class="qa__lists__item__child__inner"><span class="qa__lists__item__child__inner--strong">å½“ã‚µãƒ¼ãƒ“ã‚¹ã§ã¯ã€ä¸è¦ãªå–¶æ¥­é›»è©±ã¯ä¸€åˆ‡ã‚ã‚Šã¾ã›ã‚“ã€‚</span>å¿…è¦ãªé€£çµ¡ã ã‘ãŒå±Šãä»•çµ„ã¿ã«ãªã£ã¦ã„ã¾ã™ã€‚</div>
              </div>
            </div>
            <div class="qa__lists__item">
              <div class="qa__lists__item__parent">
                <span class="qa__lists__item__parent--icon"><img src="img/qa/q_icon.png" alt="Q" /></span>
                <span class="qa__lists__item__parent--txt">ç›¸å ´ä¾¡æ ¼ã¨å®Ÿéš›ã®è¦‹ç©ã‚ŠãŒé•ã†ã“ã¨ã¯ã‚ã‚Šã¾ã™ã‹ï¼Ÿ</span>
              </div>
              <div class="qa__lists__item__child">
                <div class="qa__lists__item__child__inner">å¤–å£å¡—è£…ã¯å·¥äº‹å†…å®¹ã‚„å¡—æ–™ã®ç¨®é¡ã«ã‚ˆã£ã¦ä¾¡æ ¼å·®ãŒå‡ºã‚„ã™ã„ãŸã‚ã€ç›¸å ´ã¯ã‚ãã¾ã§ç›®å®‰ã§ã™ãŒã€å®Ÿéš›ã®è¦‹ç©ã‚‚ã‚Šé‡‘é¡ã‚‚ã»ã¼åŒæ°´æº–ã«ãªã‚‹ã‚±ãƒ¼ã‚¹ãŒå¤šã„ã§ã™ã€‚<br /><span class="qa__lists__item__child__inner--strong">ãŸã ã—ã€å¤–å£å¡—è£…ãã‚‰ã¹ã‚‹ãªã‚‰ä»ŠãŠæŒã¡ã®è¦‹ç©ã‚‚ã‚Šã¨åŒã˜æ¡ä»¶ã§ã€ã©ã“ã‚ˆã‚Šã‚‚å®‰ã„æœ€ä½ä¾¡æ ¼ä¿è¨¼ãŒå¯èƒ½ã§ã™ã€‚</span><br />ã¾ãšã¯ãŠæ°—è»½ã«ã”ç›¸è«‡ãã ã•ã„ã€‚</div>
              </div>
            </div>
            <div class="qa__lists__item">
              <div class="qa__lists__item__parent">
                <span class="qa__lists__item__parent--icon"><img src="img/qa/q_icon.png" alt="Q" /></span>
                <span class="qa__lists__item__parent--txt">åŠ©æˆé‡‘ã¯åˆ©ç”¨ã§ãã¾ã™ã‹ï¼Ÿ</span>
              </div>
              <div class="qa__lists__item__child">
                <div class="qa__lists__item__child__inner"><span class="qa__lists__item__child__inner--strong">åŠ©æˆé‡‘ã¯åœ°åŸŸã«ã‚ˆã£ã¦æ¡ä»¶ãŒç•°ãªã‚Šã¾ã™ãŒã€å½“ç¤¾ã®å°‚é–€ã‚¹ã‚¿ãƒƒãƒ•ãŒç”³è«‹ã®ã‚µãƒãƒ¼ãƒˆã¾ã§ä¸å¯§ã«ã”æ¡ˆå†…ã—ã¾ã™ã€‚</span><br />ã¾ãšã¯ãŠæ°—è»½ã«ã”ç›¸è«‡ãã ã•ã„ã€‚</div>
              </div>
            </div>
          </div>
        </div>
      </section>
      <!-- //qa -->

      <!-- form -->
      <section class="form" id="form">
        <div class="container-min">
          <h3 class="mod-tit">
            <span class="mod-tit__small">ã”ç›¸è«‡ãƒ»ã‚µãƒãƒ¼ãƒˆã¯ç„¡æ–™ã§ã™</span>
            <span class="mod-tit__large"><span class="mod-tit--blue">ãŠå•ã„åˆã‚ã›ã¯ã“ã¡ã‚‰</span></span>
          </h3>
          <form class="km_form" method="post" action="mail.php">
            <dl class="form__lists">
              <!-- ãŠåå‰ -->
              <dt class="form__lists__dt">ãŠåå‰<span class="form__lists__dt__req">å¿…é ˆ</span></dt>
              <dd class="form__lists__dd">
                <input class="km_valid_required" type="text" name="ãŠåå‰" placeholder="å±±ç”° å¤ªéƒ" />
              </dd>
              <!-- ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ -->
              <dt class="form__lists__dt">ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹<span class="form__lists__dt__req">å¿…é ˆ</span></dt>
              <dd class="form__lists__dd">
                <input class="km_valid_required" type="email" name="ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹" placeholder="aaa@gmail.co.jp" />
              </dd>
              <!-- é›»è©±ç•ªå· -->
              <dt class="form__lists__dt">é›»è©±ç•ªå·<span class="form__lists__dt__req">å¿…é ˆ</span></dt>
              <dd class="form__lists__dd">
                <input class="km_valid_required" type="tel" name="é›»è©±ç•ªå·" placeholder="000-0000-0000" />
              </dd>
              <!-- éƒµä¾¿ç•ªå· -->
              <dt class="form__lists__dt">éƒµä¾¿ç•ªå·<span class="form__lists__dt__any">ä»»æ„</span></dt>
              <dd class="form__lists__dd">
                <input type="text" name="éƒµä¾¿ç•ªå·" placeholder="100-0001" />
              </dd>
              <!-- ãŠå•ã„åˆã‚ã›å†…å®¹ï¼ˆè¤‡æ•°å›ç­”å¯ï¼‰ -->
              <dt class="form__lists__dt">ãŠå•ã„åˆã‚ã›å†…å®¹ï¼ˆè¤‡æ•°å›ç­”å¯ï¼‰<span class="form__lists__dt__req">å¿…é ˆ</span></dt>
              <dd class="form__lists__dd">
                <div class="radio-style-checkbox km_valid_required_check">
                  <input type="checkbox" id="option1" name="ãŠå•ã„åˆã‚ã›å†…å®¹[]" value="åŠ©æˆé‡‘ãŒåˆ©ç”¨ã§ãã‚‹ã‹çŸ¥ã‚ŠãŸã„" />
                  <label for="option1">åŠ©æˆé‡‘ãŒåˆ©ç”¨ã§ãã‚‹ã‹çŸ¥ã‚ŠãŸã„</label>
                  <input type="checkbox" id="option2" name="ãŠå•ã„åˆã‚ã›å†…å®¹[]" value="è‡ªåˆ†ã«åˆã£ãŸæ¥­è€…ã‚’ã™ãã«çŸ¥ã‚ŠãŸã„" />
                  <label for="option2">è‡ªåˆ†ã«åˆã£ãŸæ¥­è€…ã‚’ã™ãã«çŸ¥ã‚ŠãŸã„</label>
                  <input type="checkbox" id="option3" name="ãŠå•ã„åˆã‚ã›å†…å®¹[]" value="ã¨ã‚Šã‚ãˆãšè‰²ã€…ç›¸è«‡ã—ãŸã„" />
                  <label for="option3">ã¨ã‚Šã‚ãˆãšè‰²ã€…ç›¸è«‡ã—ãŸã„</label>
                  <input type="checkbox" id="option4" name="ãŠå•ã„åˆã‚ã›å†…å®¹[]" value="ãã®ä»–" />
                  <label for="option4">ãã®ä»–</label>
                </div>
              </dd>
            </dl>
            <div class="form__privacy">
              <label for="privacy" class="km_valid_required_check">
                <input class="check_input" type="checkbox" name="å½“ç¤¾è¦å®šã®ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ãƒãƒªã‚·ãƒ¼ã¸ã®åŒæ„ã—ã¾ã™ã€‚" id="privacy" value="ã¯ã„" />
                <span class="check_txt">å½“ç¤¾è¦å®šã®ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ãƒãƒªã‚·ãƒ¼ã¸ã®åŒæ„ã—ã¾ã™ã€‚</span>
              </label>
            </div>
            <div class="form__btn" style="position: relative;">
              <button id="analy-form_btn01" type="submit">
                <picture>
                  <source srcset="img/form/btn_sp.png" media="(max-width: 767px)" />
                  <img src="img/form/btn.png" alt="ç„¡æ–™ ä»Šã™ãç›¸å ´ã‚’ç¢ºèªã™ã‚‹" />
                </picture>
              </button>
              <!-- ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã‚ªãƒ¼ãƒãƒ¼ãƒ¬ã‚¤ -->
              <div id="form-loading-overlay" style="display: none; position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: rgba(255, 255, 255, 0.9); border-radius: 50px; align-items: center; justify-content: center; z-index: 10;">
                <div style="text-align: center;">
                  <div style="border: 4px solid #f3f3f3; border-top: 4px solid #3498db; border-radius: 50%; width: 40px; height: 40px; animation: spin 1s linear infinite; margin: 0 auto 10px;"></div>
                  <p style="color: #3498db; font-weight: bold; font-size: 16px;">é€ä¿¡ä¸­...</p>
                </div>
              </div>
            </div>
            <p class="form__notes">ãŠå®¢æ§˜ã®æƒ…å ±ã¯æš—å·åŒ–ã•ã‚Œã€å¤–éƒ¨ã«æ¼ã‚Œãªã„ã‚ˆã†ä¿è­·ã•ã‚Œã¦ã„ã¾ã™</p>
          </form>
        </div>
      </section>
      <!-- //form -->

      <!-- footer -->
      <footer class="footer">
        <ul class="footer__lists">
          <li class="footer__lists__item"><a id="analy-footer_link01" href="https://gaihekikuraberu.com/company.html">ä¼šç¤¾æ¦‚è¦</a></li>
          <li class="footer__lists__item"><a id="analy-footer_link02" href="https://gaihekikuraberu.com/privacy.html">ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ãƒãƒªã‚·ãƒ¼</a></li>
          <li class="footer__lists__item"><a id="analy-footer_link03" href="https://gaihekikuraberu.com/terms.html">åˆ©ç”¨è¦ç´„</a></li>
        </ul>
        <small>&copy;å¤–å£å¡—è£…ãã‚‰ã¹ã‚‹ All Rights Reserved.</small>
      </footer>
      <!-- //footer -->

      <!-- fixed-area -->
      <div class="fixed-area">
        <div class="fixed-area__wrap">
          <div class="fixed-area__wrap__img">
            <picture>
              <source srcset="img/cmn/fixed_img_sp.png" media="(max-width: 767px)" />
              <img src="img/cmn/fixed_img.png" alt="ãŸã£ãŸ10ç§’ã§ç›¸å ´ãŒã‚ã‹ã‚‹ï¼" />
            </picture>
          </div>
          <div class="fixed-area__wrap__btn">
            <button id="analy-fixed-area_btn01" onclick="startScenario('ä»Šã™ãç›¸å ´ã‚’ç¢ºèªã™ã‚‹')">
              <picture>
                <source srcset="img/cmn/fixed_btn_sp.png" media="(max-width: 767px)" />
                <img src="img/cmn/fixed_btn.png" alt="ä»Šã™ãç›¸å ´ã‚’ç¢ºèªã™ã‚‹" />
              </picture>
            </button>
          </div>
        </div>
      </div>
      <!-- //fixed-area -->
    </div>
    <!-- // wrapper -->

    <!-- BOTã‚³ãƒ³ãƒ†ãƒŠï¼ˆestimate-keep-systemçµ±åˆï¼‰ -->
    <!-- ãƒ¢ãƒã‚¤ãƒ«ç”¨å›ºå®šãƒ—ãƒ­ã‚°ãƒ¬ã‚¹ãƒãƒ¼ -->
    <div id="mobileProgressBar" class="fixed top-0 left-0 right-0 bg-white shadow-sm z-50 md:hidden hidden">
        <div class="px-4 py-2 flex items-center justify-between">
            <span class="text-sm font-medium text-gray-700">é€²è¡Œåº¦</span>
            <span id="mobileProgressPercentage" class="text-sm font-bold text-blue-600">0%</span>
        </div>
        <div class="h-1 bg-gray-200">
            <div id="mobileProgressBarFill" style="height: 100%; width: 0%; background: transparent; transition: all 0.3s;"></div>
        </div>
    </div>

    <div id="gaiheki-bot-container" style="display: none;">
        <!-- ãƒ¡ã‚¤ãƒ³ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ï¼ˆBOT + ãƒ©ãƒ³ã‚­ãƒ³ã‚°ï¼‰ -->
        <div id="botParentContainer" class="w-full px-4 space-y-6 pb-40 pt-14 md:pt-0" style="max-width: 100vw; margin: 0; font-size: 16px;">
            <!-- ç›¸å ´è¡¨ç¤º -->
            <div id="priceSection" class="hidden">
                <div class="bg-gradient-to-br from-blue-500 via-blue-600 to-purple-600 rounded-2xl shadow-xl p-1">
                    <div class="bg-white rounded-xl p-6">
                        <div class="flex items-center justify-between mb-4">
                            <h2 class="text-xl font-bold text-gray-800 flex items-center gap-2">
                                <svg class="w-6 h-6 text-blue-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"></path>
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"></path>
                                </svg>
                                <span id="areaName">æ¤œç´¢ä¸­...</span>
                            </h2>
                            <span class="bg-gradient-to-r from-blue-500 to-purple-600 text-white text-xs font-bold px-3 py-1 rounded-full">
                                AIè¨ºæ–­æ¸ˆã¿
                            </span>
                        </div>

                        <div style="background: linear-gradient(135deg, #EFF6FF 0%, #F5F3FF 100%); border-radius: 20px; padding: 24px 16px; box-shadow: 0 20px 60px rgba(59, 130, 246, 0.15), 0 4px 12px rgba(0, 0, 0, 0.08);">
                            <div style="text-align: center;">
                                <p style="font-size: clamp(12px, 3vw, 15px); font-weight: 600; color: #4B5563; margin-bottom: 16px; letter-spacing: 0.02em;">
                                    æˆ¸å»ºã¦2éšå»ºã¦ï¼ˆå»¶åºŠ30åªãƒ»ç¯‰25å¹´ï¼‰ã®å ´åˆ
                                </p>
                                <div style="display: flex; align-items: center; justify-content: center; gap: clamp(8px, 2vw, 14px); margin-bottom: 16px; flex-wrap: nowrap;">
                                    <div style="font-size: clamp(32px, 7vw, 52px); font-weight: 700; background: linear-gradient(135deg, #4F46E5 0%, #7C3AED 100%); -webkit-background-clip: text; -webkit-text-fill-color: transparent; white-space: nowrap; letter-spacing: -0.01em; line-height: 1.1;">
                                        60ä¸‡å††
                                    </div>
                                    <span style="font-size: clamp(20px, 4.5vw, 36px); color: #9CA3AF; white-space: nowrap; font-weight: 400; line-height: 1.1;">ã€œ</span>
                                    <div style="font-size: clamp(32px, 7vw, 52px); font-weight: 700; background: linear-gradient(135deg, #4F46E5 0%, #7C3AED 100%); -webkit-background-clip: text; -webkit-text-fill-color: transparent; white-space: nowrap; letter-spacing: -0.01em; line-height: 1.1;">
                                        180ä¸‡å††
                                    </div>
                                </div>

                                <p style="font-size: clamp(11px, 2.5vw, 13px); color: #6B7280; display: flex; align-items: center; justify-content: center; gap: 6px; font-weight: 500;">
                                    <svg style="width: 14px; height: 14px; opacity: 0.7; flex-shrink: 0;" fill="currentColor" viewBox="0 0 20 20">
                                        <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd"></path>
                                    </svg>
                                    å»ºç‰©ã®çŠ¶æ…‹ãƒ»ä½¿ç”¨ææ–™ã«ã‚ˆã‚Šä¾¡æ ¼ã¯å¤‰å‹•ã—ã¾ã™
                                </p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- BOT + ãƒ©ãƒ³ã‚­ãƒ³ã‚° -->
            <div id="mainContentContainer" class="hidden flex flex-col md:flex-row md:gap-6 md:space-y-0 space-y-6 md:h-[800px] relative mb-16">

                <!-- AIãƒãƒ£ãƒƒãƒˆãƒœãƒƒãƒˆ (å³å´) -->
                <div id="chatSection" class="bg-white rounded-xl shadow-lg p-4 md:p-6 min-h-[500px] md:h-full md:w-1/2 order-1 md:order-2 overflow-y-auto">
                    <div id="messages"></div>

                    <!-- Choices area -->
                    <div id="choices" class="choices-container space-y-2 mt-4"></div>

                    <!-- Typing indicator -->
                    <div id="typingIndicator" class="flex items-center text-gray-500 text-sm mt-4 hidden">
                        <div class="flex space-x-1 mr-2">
                            <div class="w-2 h-2 bg-gray-400 rounded-full animate-bounce"></div>
                            <div class="w-2 h-2 bg-gray-400 rounded-full animate-bounce" style="animation-delay: 0.1s"></div>
                            <div class="w-2 h-2 bg-gray-400 rounded-full animate-bounce" style="animation-delay: 0.2s"></div>
                        </div>
                    </div>
                </div>

                <!-- ãƒ©ãƒ³ã‚­ãƒ³ã‚°ã‚»ã‚¯ã‚·ãƒ§ãƒ³ -->
                <div id="rankingSection" class="hidden ranking-section bg-blue-50 rounded-xl shadow-lg p-2 md:p-3 relative md:w-1/2 order-2 md:order-1 md:h-full md:flex md:flex-col" data-theme="blue">
                    <h2 id="rankingTitle" class="text-lg font-bold mb-3">ãŠã™ã™ã‚æ¥­è€…ãƒ©ãƒ³ã‚­ãƒ³ã‚°</h2>

                    <!-- ãƒ¢ã‚¶ã‚¤ã‚¯æ™‚ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ -->
                    <div id="mosaicMessage" class="absolute inset-0 flex items-center justify-center z-10 pointer-events-none">
                        <div class="bg-white rounded-lg p-8 text-center shadow-lg">
                            <div class="text-blue-500 mb-4">
                                <svg class="w-16 h-16 mx-auto" fill="currentColor" viewBox="0 0 20 20">
                                    <path fill-rule="evenodd" d="M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z" clip-rule="evenodd"/>
                                </svg>
                            </div>
                            <h3 class="text-base font-bold mb-3 text-blue-600 whitespace-nowrap">è³ªå•ã«ç­”ãˆã‚‹ã¨ãƒ©ãƒ³ã‚­ãƒ³ã‚°è¡¨ç¤ºï¼</h3>
                            <div class="text-gray-600 mb-4 text-[10px] md:text-xs space-y-1">
                                <p class="flex items-start flex-nowrap">
                                    <span class="text-green-500 mr-1 flex-shrink-0">âœ…</span>
                                    <span class="whitespace-nowrap">AIè¨ºæ–­ã§æœ€é©ãƒãƒƒãƒãƒ³ã‚°ï¼</span>
                                </p>
                                <p class="flex items-start flex-nowrap">
                                    <span class="text-green-500 mr-1 flex-shrink-0">âœ…</span>
                                    <span class="whitespace-nowrap">å®Ÿç¸¾ãƒ‡ãƒ¼ã‚¿ã§ä¿¡é ¼ã§ãã‚‹ï¼</span>
                                </p>
                                <p class="flex items-start flex-nowrap">
                                    <span class="text-green-500 mr-1 flex-shrink-0">âœ…</span>
                                    <span class="whitespace-nowrap">4ç¤¾ã¾ã§ç„¡æ–™è¦‹ç©ã‚‚ã‚Šå¯èƒ½ï¼</span>
                                </p>
                            </div>
                            <!-- é€²æ—ãƒ¡ãƒ¼ã‚¿ãƒ¼ -->
                            <div id="progressMeter" class="mb-4 hidden">
                                <div class="flex justify-end text-xs text-gray-500 mb-1">
                                    <span id="progressPercentage">0%</span>
                                </div>
                                <div class="w-full bg-gray-200 rounded-full h-2">
                                    <div id="progressBar" style="height: 8px; border-radius: 9999px; width: 0%; background: transparent; transition: all 0.5s;"></div>
                                </div>
                                <p class="text-xs text-blue-600 mt-2 font-medium">AIãƒãƒ£ãƒƒãƒˆã®è³ªå•ã«ç­”ãˆã¦ä¸‹ã•ã„</p>
                            </div>
                        </div>
                    </div>

                    <!-- ãƒ©ãƒ³ã‚­ãƒ³ã‚°å†…å®¹ï¼ˆãƒ¢ã‚¶ã‚¤ã‚¯ã‚’ã‹ã‘ã‚‹å¯¾è±¡ï¼‰ -->
                    <div id="rankingContent" class="mosaic relative md:flex-1 md:flex md:flex-col overflow-hidden">

                        <!-- é€æ˜ã‚ªãƒ¼ãƒãƒ¼ãƒ¬ã‚¤ï¼ˆé›»è©±ç•ªå·å…¥åŠ›å‰ã¯ã‚¯ãƒªãƒƒã‚¯ãƒ–ãƒ­ãƒƒã‚¯ï¼‰ V1684 -->
                        <div id="rankingClickBlocker" style="position: absolute; inset: 0; z-index: 20; background: transparent; cursor: not-allowed;"></div>

                        <!-- ä¸¦ã³æ›¿ãˆã‚¿ãƒ– -->
                        <div class="bg-white rounded-lg p-3 mb-4 shadow-sm">
                            <h3 class="text-sm font-bold mb-3 text-gray-800">ä¸¦ã³æ›¿ãˆ</h3>
                            <div class="grid grid-cols-4 gap-2">
                                <button id="sortRecommended" onclick="changeSortType('recommended')" class="sort-btn sort-btn-active bg-gradient-to-br from-blue-300 to-blue-400 text-white py-2 px-2 rounded-lg text-xs font-bold flex flex-col items-center justify-center gap-1 h-16 min-h-16 shadow-md border-2 border-blue-400 transition-all duration-200 hover:shadow-lg hover:scale-105 cursor-pointer">
                                    <svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"></path>
                                    </svg>
                                    <span class="whitespace-nowrap">ãŠã™ã™ã‚é †</span>
                                </button>
                                <button id="sortCheap" onclick="changeSortType('cheap')" class="sort-btn bg-gray-50 border-2 border-gray-400 text-gray-700 py-2 px-2 rounded-lg text-xs font-semibold flex flex-col items-center justify-center gap-1 h-16 min-h-16 shadow-md transition-all duration-200 hover:border-orange-400 hover:shadow-lg hover:scale-105 cursor-pointer">
                                    <svg class="w-5 h-5 text-orange-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                                    </svg>
                                    <span class="whitespace-nowrap">å®‰ã„é †</span>
                                </button>
                                <button id="sortReview" onclick="changeSortType('review')" class="sort-btn bg-gray-50 border-2 border-gray-400 text-gray-700 py-2 px-2 rounded-lg text-xs font-semibold flex flex-col items-center justify-center gap-1 h-16 min-h-16 shadow-md transition-all duration-200 hover:border-green-400 hover:shadow-lg hover:scale-105 cursor-pointer">
                                    <svg class="w-5 h-5 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"></path>
                                    </svg>
                                    <span class="whitespace-nowrap">å£ã‚³ãƒŸé †</span>
                                </button>
                                <button id="sortQuality" onclick="changeSortType('premium')" class="sort-btn bg-gray-50 border-2 border-gray-400 text-gray-700 py-2 px-2 rounded-lg text-xs font-semibold flex flex-col items-center justify-center gap-1 h-16 min-h-16 shadow-md transition-all duration-200 hover:border-purple-400 hover:shadow-lg hover:scale-105 cursor-pointer">
                                    <svg class="w-5 h-5 text-purple-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4M7.835 4.697a3.42 3.42 0 001.946-.806 3.42 3.42 0 014.438 0 3.42 3.42 0 001.946.806 3.42 3.42 0 013.138 3.138 3.42 3.42 0 00.806 1.946 3.42 3.42 0 010 4.438 3.42 3.42 0 00-.806 1.946 3.42 3.42 0 01-3.138 3.138 3.42 3.42 0 00-1.946.806 3.42 3.42 0 01-4.438 0 3.42 3.42 0 00-1.946-.806 3.42 3.42 0 01-3.138-3.138 3.42 3.42 0 00-.806-1.946 3.42 3.42 0 010-4.438 3.42 3.42 0 00.806-1.946 3.42 3.42 0 013.138-3.138z"></path>
                                    </svg>
                                    <span class="whitespace-nowrap">é«˜å“è³ªé †</span>
                                </button>
                            </div>
                        </div>

                        <!-- ãƒ©ãƒ³ã‚­ãƒ³ã‚°ãƒªã‚¹ãƒˆ -->
                        <div id="rankingList" class="space-y-1.5 pb-4 max-h-[550px] overflow-y-auto">
                            <!-- ranking.jsã®displayRanking()ã«ã‚ˆã£ã¦å‹•çš„ç”Ÿæˆ -->
                        </div>

                        <!-- ã‚‚ã£ã¨è¦‹ã‚‹ãƒœã‚¿ãƒ³ï¼ˆV1680 - ä¸­å¤®é…ç½®ç¢ºå®ŸåŒ–ï¼‰ -->
                        <div id="toggleAllCompanies" class="w-full flex justify-center py-4" style="display: none;">
                            <button onclick="toggleAllCompanies()" class="text-blue-600 hover:text-blue-800 font-medium text-sm underline">
                                ã‚‚ã£ã¨è¦‹ã‚‹
                            </button>
                        </div>
                    </div>
                    <div class="w-full bg-gray-200 rounded-full h-2">
                    </div>
                </div>
            </div>
        </div>

        <!-- ãƒ•ãƒƒã‚¿ãƒ¼ -->
        <footer style="padding: 33px 0 16px; text-align: center; color: #fff; background: linear-gradient(135deg, #3B82F6, #2563EB);">
            <small style="font-size: 12px; display: block; font-weight: 400;">&copy;å¤–å£å¡—è£…ãã‚‰ã¹ã‚‹ All Rights Reserved.</small>
        </footer>

        <!-- ã‚­ãƒ¼ãƒ—ç¢ºèªãƒ¢ãƒ¼ãƒ€ãƒ«ï¼ˆV1714-UX: ãƒ—ãƒ­ä»•æ§˜ãƒ‡ã‚¶ã‚¤ãƒ³ï¼‰ -->
        <div id="keepModal" class="hidden fixed inset-0 bg-black bg-opacity-60 backdrop-blur-sm z-[2000] flex items-center justify-center p-4">
            <div class="bg-white rounded-2xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto transform transition-all">
                <!-- ãƒ˜ãƒƒãƒ€ãƒ¼ï¼ˆã‚°ãƒ©ãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ï¼‰ -->
                <div class="bg-gradient-to-r from-blue-500 to-blue-600 text-white p-6 rounded-t-2xl">
                    <div class="flex items-center gap-3">
                        <svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                        </svg>
                        <div>
                            <h2 class="text-2xl font-bold">é¸æŠæ¥­è€…ã®ç¢ºèª</h2>
                            <p class="text-blue-100 text-sm mt-1">æœ€å¤§4ç¤¾ã¾ã§ç„¡æ–™ã§ä¸€æ‹¬è¦‹ç©ã‚‚ã‚Šã§ãã¾ã™</p>
                        </div>
                    </div>
                </div>

                <div class="p-6">
                    <!-- å®‰å¿ƒãƒã‚¤ãƒ³ãƒˆ -->
                    <div class="bg-blue-50 border-l-4 border-blue-500 p-4 mb-6 rounded-r-lg">
                        <div class="flex items-start gap-3">
                            <svg class="w-6 h-6 text-blue-600 flex-shrink-0 mt-0.5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                            </svg>
                            <div class="text-sm text-gray-700">
                                <p class="font-semibold text-blue-900 mb-1">å®Œå…¨ç„¡æ–™ã§ã”åˆ©ç”¨ã„ãŸã ã‘ã¾ã™</p>
                                <p class="text-xs text-gray-600">ãŠå®¢æ§˜ã®æƒ…å ±ã¯å³é‡ã«ç®¡ç†ã—ã€ç„¡æ–­ã§ç¬¬ä¸‰è€…ã«æä¾›ã™ã‚‹ã“ã¨ã¯ã‚ã‚Šã¾ã›ã‚“</p>
                            </div>
                        </div>
                    </div>

                    <!-- YouTubeå‹•ç”» -->
                    <div class="mb-6">
                        <div class="flex justify-center">
                            <div class="relative w-full max-w-md">
                                <div class="relative rounded-xl overflow-hidden shadow-lg" style="padding-bottom: 56.25%;">
                                    <iframe class="absolute top-0 left-0 w-full h-full"
                                            src="https://www.youtube.com/embed/dQw4w9WgXcQ"
                                            frameborder="0"
                                            allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
                                            allowfullscreen></iframe>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- ã‚­ãƒ¼ãƒ—ä¸­ã®æ¥­è€… -->
                    <div class="mb-6">
                        <div class="flex items-center gap-2 mb-4">
                            <svg class="w-5 h-5 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                            </svg>
                            <h3 class="text-lg font-bold text-gray-900">ã‚­ãƒ¼ãƒ—ä¸­ã®æ¥­è€…</h3>
                        </div>
                        <div id="keepList" class="space-y-3">
                            <!-- ã‚­ãƒ¼ãƒ—ãƒªã‚¹ãƒˆãŒã“ã“ã«è¡¨ç¤ºï¼ˆã‚«ãƒ¼ãƒ‰å‹ãƒ‡ã‚¶ã‚¤ãƒ³ï¼‰ -->
                        </div>
                    </div>

                    <!-- ãƒœã‚¿ãƒ³ -->
                    <div class="flex gap-3 pt-4 border-t">
                        <button onclick="closeKeepModal()" class="px-6 bg-gray-100 hover:bg-gray-200 text-gray-700 py-4 rounded-xl font-bold transition-all duration-200 flex items-center gap-2">
                            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                            </svg>
                            é–‰ã˜ã‚‹
                        </button>
                        <button onclick="startEstimateForm()" class="flex-1 bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white py-4 rounded-xl font-bold shadow-lg hover:shadow-xl transition-all duration-200 flex items-center justify-center gap-2">
                            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
                            </svg>
                            æ¬¡ã¸
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- è¦‹ç©ã‚‚ã‚Šãƒ•ã‚©ãƒ¼ãƒ ãƒ¢ãƒ¼ãƒ€ãƒ«ï¼ˆV1717-UX: ãƒ—ãƒ­ä»•æ§˜ãƒ‡ã‚¶ã‚¤ãƒ³ãƒ»ã‚·ãƒ³ãƒ—ãƒ«åŒ–ï¼‰ -->
        <div id="estimateFormModal" class="hidden fixed inset-0 bg-black bg-opacity-60 backdrop-blur-sm z-[2000] flex items-center justify-center p-4">
            <div class="bg-white rounded-2xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto transform transition-all">
                <!-- ãƒ˜ãƒƒãƒ€ãƒ¼ï¼ˆã‚·ãƒ³ãƒ—ãƒ«ç‰ˆï¼‰ -->
                <div class="bg-gradient-to-r from-blue-500 to-blue-600 text-white p-4 sm:p-6 rounded-t-2xl">
                    <div class="flex items-center gap-2 sm:gap-3">
                        <svg class="w-6 h-6 sm:w-8 sm:h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path>
                        </svg>
                        <div>
                            <h2 class="text-xl sm:text-2xl font-bold">è¦‹ç©ã‚‚ã‚Šä¾é ¼ãƒ•ã‚©ãƒ¼ãƒ </h2>
                            <p class="text-blue-100 text-xs sm:text-sm mt-1">å¿…è¦äº‹é …ã‚’ã”å…¥åŠ›ãã ã•ã„</p>
                        </div>
                    </div>
                </div>

                <!-- ã‚¹ãƒ†ãƒƒãƒ—1: åŸºæœ¬æƒ…å ± -->
                <div id="step1" class="p-4 sm:p-6">

                    <!-- ãŠåå‰ -->
                    <div class="mb-5">
                        <label class="block text-sm font-bold text-gray-700 mb-2 flex items-center gap-1">
                            <svg class="w-4 h-4 text-gray-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"></path>
                            </svg>
                            ãŠåå‰ <span class="text-red-500 ml-1">*</span>
                        </label>
                        <input type="text" id="userName" class="w-full border-2 border-gray-300 rounded-xl px-2 sm:px-4 py-3 focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all text-sm sm:text-base" placeholder="å±±ç”° å¤ªéƒ">
                    </div>

                    <!-- å¯¾è±¡ç‰©ä»¶ä½æ‰€ -->
                    <div class="mb-5">
                        <label class="block text-sm font-bold text-gray-700 mb-2 flex items-center gap-1">
                            <svg class="w-4 h-4 text-gray-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"></path>
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"></path>
                            </svg>
                            å¯¾è±¡ç‰©ä»¶ä½æ‰€ <span class="text-red-500 ml-1">*</span>
                        </label>
                        <div class="space-y-3">
                            <div class="flex gap-1.5 sm:gap-2">
                                <input type="text" id="propertyZip" class="w-24 sm:w-32 border-2 border-gray-300 rounded-xl px-2 sm:px-4 py-3 focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all bg-gray-50 text-sm sm:text-base" placeholder="000-0000" readonly>
                                <input type="text" id="propertyAddress" class="flex-1 border-2 border-gray-300 rounded-xl px-2 sm:px-4 py-3 focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all bg-gray-50 text-sm sm:text-base" placeholder="å¸‚åŒºç”ºæ‘" readonly>
                            </div>
                            <input type="text" id="propertyStreet" class="w-full border-2 border-gray-300 rounded-xl px-2 sm:px-4 py-3 focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all text-sm sm:text-base" placeholder="ç•ªåœ°ãƒ»å»ºç‰©å">
                        </div>
                    </div>

                    <!-- è‡ªå®…ä½æ‰€ï¼ˆæ¡ä»¶ä»˜ãï¼‰ -->
                    <div class="mb-5">
                        <label class="flex items-center gap-2 p-4 bg-gray-50 rounded-xl border-2 border-gray-200 hover:border-blue-300 cursor-pointer transition-all">
                            <input type="checkbox" id="differentHome" class="w-5 h-5 text-blue-600 rounded focus:ring-2 focus:ring-blue-500" onchange="toggleHomeAddress()">
                            <span class="text-sm font-medium text-gray-700">å¯¾è±¡ç‰©ä»¶ã¨è‡ªå®…ãŒç•°ãªã‚‹å ´åˆã¯ãƒã‚§ãƒƒã‚¯</span>
                        </label>

                        <div id="homeAddressSection" class="hidden mt-4 p-4 bg-blue-50 rounded-xl border-2 border-blue-200 space-y-3">
                            <label class="block text-sm font-bold text-gray-700 mb-2 flex items-center gap-1">
                                <svg class="w-4 h-4 text-gray-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"></path>
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"></path>
                                </svg>
                                è‡ªå®…ä½æ‰€ <span class="text-red-500 ml-1">*</span>
                            </label>
                            <div class="flex gap-1.5 sm:gap-2">
                                <input type="text" id="homeZip" class="w-24 sm:w-32 border-2 border-gray-300 rounded-xl px-2 sm:px-4 py-3 focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all text-sm sm:text-base" placeholder="000-0000">
                                <input type="text" id="homeAddress" class="flex-1 border-2 border-gray-300 rounded-xl px-2 sm:px-4 py-3 focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all text-sm sm:text-base" placeholder="å¸‚åŒºç”ºæ‘">
                            </div>
                            <input type="text" id="homeStreet" class="w-full border-2 border-gray-300 rounded-xl px-2 sm:px-4 py-3 focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all text-sm sm:text-base" placeholder="ç•ªåœ°ãƒ»å»ºç‰©å">
                        </div>
                    </div>

                    <!-- ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ï¼ˆä»»æ„ï¼‰ -->
                    <div class="mb-6">
                        <label class="block text-sm font-bold text-gray-700 mb-2 flex items-center gap-1">
                            <svg class="w-4 h-4 text-gray-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"></path>
                            </svg>
                            ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ <span class="text-gray-400 text-xs ml-1">(ä»»æ„)</span>
                        </label>
                        <input type="email" id="userEmail" class="w-full border-2 border-gray-300 rounded-xl px-2 sm:px-4 py-3 focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all text-sm sm:text-base" placeholder="example@email.com">
                    </div>

                    <div class="flex gap-2 sm:gap-3 pt-4 border-t">
                        <button onclick="closeEstimateForm()" class="px-4 sm:px-8 bg-gray-100 hover:bg-gray-200 text-gray-700 py-4 rounded-xl font-bold transition-all duration-200 flex items-center gap-2 text-sm sm:text-base">
                            <svg class="w-4 h-4 sm:w-5 sm:h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18"></path>
                            </svg>
                            æˆ»ã‚‹
                        </button>
                        <button id="submitBtnStep1" onclick="submitEstimateFormCV1()" class="flex-1 bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 text-white py-4 rounded-xl font-bold shadow-lg hover:shadow-xl transition-all duration-200 flex items-center justify-center gap-2 text-sm sm:text-base">
                            <svg class="w-4 h-4 sm:w-5 sm:h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                            </svg>
                            é€ä¿¡ã™ã‚‹
                        </button>
                    </div>
                </div>

                <!-- ã‚¹ãƒ†ãƒƒãƒ—2: è©³ç´°æƒ…å ± -->
                <div id="step2" class="p-4 sm:p-6 hidden">
                    <div class="mb-6">
                        <div class="flex items-center gap-2 mb-2">
                            <svg class="w-6 h-6 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"></path>
                            </svg>
                            <h2 class="text-2xl font-bold text-gray-900">è©³ç´°æƒ…å ±ã®å…¥åŠ›</h2>
                        </div>
                        <p class="text-sm text-gray-600">ç¾åœ°èª¿æŸ»æ—¥ç¨‹ã¨ã”è¦æœ›ã‚’ãŠèã‹ã›ãã ã•ã„</p>
                    </div>

                    <!-- ç¾åœ°èª¿æŸ»å¸Œæœ›æ—¥æ™‚ -->
                    <div class="mb-5">
                        <label class="block text-sm font-bold text-gray-700 mb-3 flex items-center gap-1">
                            <svg class="w-4 h-4 text-gray-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"></path>
                            </svg>
                            ç¾åœ°èª¿æŸ»å¸Œæœ›æ—¥æ™‚ <span class="text-gray-400 text-xs ml-1">(è¤‡æ•°é¸æŠå¯)</span>
                        </label>
                        <div class="space-y-2 bg-gray-50 p-4 rounded-xl" id="surveyDates">
                            <!-- å‹•çš„ã«ç”Ÿæˆ -->
                        </div>
                    </div>

                    <!-- ãã®ä»–ã”è¦æœ› -->
                    <div class="mb-6">
                        <label class="block text-sm font-bold text-gray-700 mb-2 flex items-center gap-1">
                            <svg class="w-4 h-4 text-gray-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 8h10M7 12h4m1 8l-4-4H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-3l-4 4z"></path>
                            </svg>
                            ãã®ä»–ã”è¦æœ›ãƒ»ã”ç›¸è«‡ <span class="text-gray-400 text-xs ml-1">(ä»»æ„)</span>
                        </label>
                        <textarea id="requests" rows="4" class="w-full border-2 border-gray-300 rounded-xl px-2 sm:px-4 py-3 focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all text-sm sm:text-base" placeholder="ã”è¦æœ›ã‚„ã”ç›¸è«‡ãŒã‚ã‚Œã°ã”è¨˜å…¥ãã ã•ã„"></textarea>
                    </div>

                    <div class="pt-4 border-t">
                        <button id="submitBtn" onclick="submitEstimateForm()" class="w-full bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 text-white py-4 rounded-xl font-bold shadow-lg hover:shadow-xl transition-all duration-200 flex items-center justify-center gap-2 text-sm sm:text-base">
                            <svg class="w-4 h-4 sm:w-5 sm:h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                            </svg>
                            é€ä¿¡ã™ã‚‹
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- é€ä¿¡å®Œäº†ãƒ¢ãƒ¼ãƒ€ãƒ«ï¼ˆV1724-UX: ã‚¹ãƒãƒ›ä½™ç™½èª¿æ•´ï¼‹ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–æœ€é©åŒ–ï¼‰ -->
        <div id="completionModal" class="hidden fixed inset-0 bg-black bg-opacity-60 backdrop-blur-sm z-[2000] flex items-center justify-center p-4">
            <div class="bg-white rounded-2xl shadow-2xl max-w-xl w-full max-h-[90vh] overflow-y-auto transform transition-all">
                <!-- ãƒ˜ãƒƒãƒ€ãƒ¼ï¼ˆå„ªã—ã„é›°å›²æ°—ï¼‰ -->
                <div class="bg-gradient-to-r from-green-500 to-emerald-600 text-white sm:p-6 p-4 rounded-t-2xl">
                    <div class="flex items-center gap-3">
                        <svg class="sm:w-10 sm:h-10 w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                        </svg>
                        <div>
                            <h2 class="sm:text-2xl text-xl font-bold">ãŠç”³è¾¼ã¿ã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã™</h2>
                            <p class="text-green-100 text-sm mt-1">å¤–å£å¡—è£…ãã‚‰ã¹ã‚‹ï½œã”æœ¬äººæ§˜ç¢ºèªã®ãŠé›»è©±ã‚’ã•ã›ã¦ã„ãŸã ãã¾ã™</p>
                        </div>
                    </div>
                </div>

                <div class="sm:p-6 p-4">
                    <!-- é›»è©±ç¢ºèªã®ãŠé¡˜ã„ -->
                    <div class="bg-blue-50 border-l-4 border-blue-500 sm:p-5 p-3 sm:mb-5 mb-3 rounded-r-xl">
                        <div class="flex items-start gap-3">
                            <svg class="w-6 h-6 text-blue-600 flex-shrink-0 mt-0.5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"></path>
                            </svg>
                            <div class="text-sm text-gray-700">
                                <p class="font-bold text-blue-900 sm:mb-3 mb-2">æ‹…å½“è€…ã‹ã‚‰ã®ãŠé›»è©±ã‚’ãŠå¾…ã¡ä¸‹ã•ã„ï¼ˆæ‰€è¦æ™‚é–“3ã€œ5åˆ†ï¼‰</p>

                                <!-- é›»è©±ç•ªå·è¡¨ç¤º -->
                                <div class="bg-white border border-blue-300 rounded-lg sm:p-3 p-2 text-center">
                                    <p class="text-xs text-gray-600 mb-1">ç€ä¿¡ç•ªå·</p>
                                    <p class="sm:text-2xl text-xl font-bold text-blue-600 tracking-wider">090-1994-7162</p>
                                    <p class="text-xs text-gray-700 mt-1">å¤–å£å¡—è£…ãã‚‰ã¹ã‚‹ æ‹…å½“ï¼šå±±å†…</p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- ã‚¯ã‚¤ãƒƒã‚¯ç”³ã—è¾¼ã¿ã§å¯¾å¿œæ™‚é–“çŸ­ç¸® -->
                    <div class="bg-gradient-to-r from-orange-50 to-yellow-50 border border-orange-200 rounded-xl sm:p-4 p-3 sm:mb-5 mb-3">
                        <div class="flex items-start gap-2 sm:mb-3 mb-2">
                            <svg class="w-5 h-5 text-orange-500 flex-shrink-0 mt-0.5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"></path>
                            </svg>
                            <div>
                                <p class="text-sm font-bold text-gray-900 mb-1">ã‚¯ã‚¤ãƒƒã‚¯ç”³ã—è¾¼ã¿ã§ã•ã‚‰ã«ã‚¹ãƒ ãƒ¼ã‚ºã«</p>
                                <p class="text-xs text-gray-600">ãŠé›»è©±ã§ã®ç¢ºèªæ™‚é–“ãŒã‚ˆã‚ŠçŸ­ç¸®ã•ã‚Œã¾ã™ã€‚</p>
                            </div>
                        </div>
                        <button onclick="showQuickBooking()" class="w-full bg-gradient-to-r from-orange-500 to-yellow-500 hover:from-orange-600 hover:to-yellow-600 text-white py-3 rounded-xl font-bold transition-all duration-200 shadow-md hover:shadow-lg">
                            <svg class="w-5 h-5 inline-block mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"></path>
                            </svg>
                            ã‚¯ã‚¤ãƒƒã‚¯ç”³ã—è¾¼ã¿
                        </button>
                    </div>

                    <!-- ä»Šå¾Œã®æµã‚Œ -->
                    <div class="bg-gray-50 rounded-xl sm:p-4 p-3 sm:mb-5 mb-3">
                        <p class="text-sm font-bold text-gray-900 sm:mb-3 mb-2 flex items-center gap-2">
                            <svg class="w-5 h-5 text-gray-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"></path>
                            </svg>
                            ä»Šå¾Œã®æµã‚Œ
                        </p>
                        <ol class="text-sm text-gray-700 sm:space-y-2 space-y-1.5">
                            <li class="flex items-start gap-2">
                                <span class="bg-blue-500 text-white w-5 h-5 rounded-full flex items-center justify-center text-xs font-bold flex-shrink-0 mt-0.5">1</span>
                                <span>å¤–å£å¡—è£…ãã‚‰ã¹ã‚‹æ‹…å½“è€…ã‹ã‚‰ã®ãŠé›»è©±</span>
                            </li>
                            <li class="flex items-start gap-2">
                                <span class="bg-blue-500 text-white w-5 h-5 rounded-full flex items-center justify-center text-xs font-bold flex-shrink-0 mt-0.5">2</span>
                                <span>æ¥­è€…ã‹ã‚‰ç¾åœ°èª¿æŸ»ã®æ—¥ç¨‹èª¿æ•´ã®ãŠé›»è©±</span>
                            </li>
                            <li class="flex items-start gap-2">
                                <span class="bg-blue-500 text-white w-5 h-5 rounded-full flex items-center justify-center text-xs font-bold flex-shrink-0 mt-0.5">3</span>
                                <span>ç„¡æ–™è¦‹ç©ã‚‚ã‚ŠãŠå±Šã‘</span>
                            </li>
                        </ol>
                    </div>

                    <!-- ãƒœã‚¿ãƒ³ -->
                    <div class="text-center">
                        <button onclick="closeCompletionModal()" class="w-full bg-gray-100 hover:bg-gray-200 text-gray-700 py-4 rounded-xl font-bold transition-all duration-200">
                            é–‰ã˜ã‚‹
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!--java script-->
    <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
    <!-- <script src="js/delay_anim.js"></script> -->
    <script src="js/function.js"></script>
    <script src="js/validate.js"></script>
    <!--//java script-->

    <!-- BOTç”¨ãƒ˜ãƒ«ãƒ‘ãƒ¼é–¢æ•° -->
    <script>
        // ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«é–¢æ•°
        function scrollToBotBottom() {
            const messages = document.getElementById('messages');
            if (messages) {
                messages.scrollTop = messages.scrollHeight;
            }
        }

        // é›»è©±ç•ªå·å…¥åŠ›ãƒŸãƒ‹ãƒ•ã‚©ãƒ¼ãƒ è¡¨ç¤º
        function showPhoneMiniForm() {
            const messages = document.getElementById('messages');
            if (!messages) return;

            // ãƒ•ã‚©ãƒ¼ãƒ ã‚’ä½œæˆï¼ˆãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã¯zip-word-bot.jsonã‹ã‚‰è¡¨ç¤ºæ¸ˆã¿ï¼‰
            setTimeout(() => {
                const formContainer = document.createElement('div');
                formContainer.className = 'phone-mini-form';
                formContainer.innerHTML = `
                    <div class="waiting-animation">
                        <img src="images/elderly-1.png" alt="å¾…æ©Ÿä¸­1" class="waiting-character">
                        <img src="images/elderly-2.png" alt="å¾…æ©Ÿä¸­2" class="waiting-character">
                        <img src="images/elderly-3.png" alt="å¾…æ©Ÿä¸­3" class="waiting-character">
                    </div>
                    <div class="form-title">
                        é›»è©±ç•ªå·ï¼ˆã‚·ãƒ§ãƒ¼ãƒˆãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ï¼‰
                    </div>
                    <div class="phone-input-wrapper">
                        <input type="tel" id="phoneInput" class="phone-input"
                               placeholder="08012345678"
                               maxlength="11"
                               inputmode="numeric"
                               pattern="[0-9]*">
                    </div>
                    <div class="phone-error" id="phoneError">
                        æ­£ã—ã„é›»è©±ç•ªå·ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„
                    </div>
                    <button id="phoneSubmitBtn" class="phone-submit-btn" disabled>
                        çµæœã‚’å—ã‘å–ã‚‹
                    </button>
                `;
                messages.appendChild(formContainer);

                // ã‚¤ãƒ™ãƒ³ãƒˆãƒªã‚¹ãƒŠãƒ¼è¨­å®š
                setupPhoneFormListeners();

                // ãƒ•ã‚©ãƒ¼ãƒ ã«ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ï¼ˆDOMãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆæ›´æ–°å¾Œã«å®Ÿè¡Œï¼‰
                setTimeout(() => {
                    formContainer.scrollIntoView({ behavior: 'smooth', block: 'center' });
                }, 100);
            }, 500);
        }

        // é›»è©±ç•ªå·ãƒ•ã‚©ãƒ¼ãƒ ã®ã‚¤ãƒ™ãƒ³ãƒˆãƒªã‚¹ãƒŠãƒ¼è¨­å®š
        function setupPhoneFormListeners() {
            const phoneInput = document.getElementById('phoneInput');
            const submitBtn = document.getElementById('phoneSubmitBtn');
            const phoneError = document.getElementById('phoneError');

            if (!phoneInput || !submitBtn || !phoneError) return;

            // å…¥åŠ›ã‚¤ãƒ™ãƒ³ãƒˆ
            phoneInput.addEventListener('input', function(e) {
                // æ•°å­—ã®ã¿è¨±å¯
                this.value = this.value.replace(/[^0-9]/g, '');

                // ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³
                if (validatePhone(this.value)) {
                    submitBtn.disabled = false;
                    phoneError.classList.remove('show');
                } else {
                    submitBtn.disabled = true;
                    if (this.value.length >= 10) {
                        phoneError.classList.add('show');
                    }
                }
            });

            // é€ä¿¡ãƒœã‚¿ãƒ³ã‚¯ãƒªãƒƒã‚¯
            submitBtn.addEventListener('click', function() {
                const phone = phoneInput.value;
                if (validatePhone(phone)) {
                    submitPhoneNumber(phone);
                }
            });

            // Enterã‚­ãƒ¼ã§é€ä¿¡
            phoneInput.addEventListener('keypress', function(e) {
                if (e.key === 'Enter' && !submitBtn.disabled) {
                    submitBtn.click();
                }
            });
        }

        // é›»è©±ç•ªå·ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³
        function validatePhone(phone) {
            return /^0[0-9]{9,10}$/.test(phone);
        }

        // é›»è©±ç•ªå·é€ä¿¡å‡¦ç†
        function submitPhoneNumber(phone) {
            console.log('ğŸ“ CV1é€ä¿¡é–‹å§‹ - é›»è©±ç•ªå·:', phone);

            // é›»è©±ç•ªå·ã‚’ä¿å­˜
            localStorage.setItem('userPhone', phone);

            // V1747-FIX: ãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰ã§CV1é€ä¿¡ï¼ˆãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚’å¾…ãŸãªã„ï¼‰
            if (window.CVAPI && typeof window.CVAPI.sendCV1 === 'function') {
                window.CVAPI.sendCV1(phone).then(result => {
                    if (result.success) {
                        console.log('âœ… CV1é€ä¿¡æˆåŠŸ - ID:', result.cvId);
                    } else {
                        console.error('âŒ CV1é€ä¿¡å¤±æ•—:', result.error);
                    }
                }).catch(error => {
                    console.error('âŒ CV1é€ä¿¡ã‚¨ãƒ©ãƒ¼:', error);
                });
            } else {
                console.error('âŒ CVAPI.sendCV1ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“');
            }

            // V1747-FIX: é€ä¿¡å¾Œã™ãã«ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°è§£é™¤ã—ã¦UIæ›´æ–°ï¼ˆãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚’å¾…ãŸãªã„ï¼‰
            // é›»è©±ç•ªå·ãƒ•ã‚©ãƒ¼ãƒ éè¡¨ç¤º
            const phoneMiniFormContainer = document.querySelector('.phone-mini-form');
            if (phoneMiniFormContainer) {
                phoneMiniFormContainer.style.display = 'none';
                console.log('âœ… é›»è©±ç•ªå·ãƒ•ã‚©ãƒ¼ãƒ éè¡¨ç¤ºï¼ˆå³åº§ï¼‰');
            }

            // botLoadingIndicatorã‚‚å‰Šé™¤
            const loadingIndicator = document.getElementById('botLoadingIndicator');
            if (loadingIndicator) {
                loadingIndicator.remove();
                console.log('âœ… ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã‚¤ãƒ³ã‚¸ã‚±ãƒ¼ã‚¿ãƒ¼å‰Šé™¤ï¼ˆå³åº§ï¼‰');
            }

            // å®Œäº†ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸è¡¨ç¤ºã¨ãƒ©ãƒ³ã‚­ãƒ³ã‚°è§£é™¤
            setTimeout(() => {
                const messages = document.getElementById('messages');

                // ãƒ¢ã‚¶ã‚¤ã‚¯ã‚’è§£é™¤
                const rankingContent = document.getElementById('rankingContent');
                const mosaicMessage = document.getElementById('mosaicMessage');
                if (rankingContent) rankingContent.classList.remove('mosaic');
                if (mosaicMessage) mosaicMessage.style.display = 'none';

                // ãƒ©ãƒ³ã‚­ãƒ³ã‚°ã®ã‚¯ãƒªãƒƒã‚¯ãƒ–ãƒ­ãƒƒã‚«ãƒ¼ã‚’å‰Šé™¤ï¼ˆV1690ï¼‰
                const clickBlocker = document.getElementById('rankingClickBlocker');
                if (clickBlocker) {
                    clickBlocker.remove();
                    console.log('âœ… ãƒ©ãƒ³ã‚­ãƒ³ã‚°ã®ã‚¯ãƒªãƒƒã‚¯ãƒ–ãƒ­ãƒƒã‚«ãƒ¼ã‚’å‰Šé™¤ï¼ˆsubmitPhoneNumberï¼‰');
                } else {
                    console.log('âš ï¸ ã‚¯ãƒªãƒƒã‚¯ãƒ–ãƒ­ãƒƒã‚«ãƒ¼è¦ç´ ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“ï¼ˆsubmitPhoneNumberï¼‰');
                }

                // å®Œäº†ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ï¼ˆé¸æŠã—ãŸã‚½ãƒ¼ãƒˆé †ã«å¿œã˜ãŸãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ï¼‰
                const sortTypeMessages = {
                    'cheap': 'ã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã™ï¼ã€Œå®‰ã„é †ã€ãƒ©ãƒ³ã‚­ãƒ³ã‚°ãªã©ã‚’å‚è€ƒã«ã—ãªãŒã‚‰æ¥­è€…ã‚’é¸æŠã—ã¦ãã ã•ã„ã€‚',
                    'review': 'ã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã™ï¼ã€Œå£ã‚³ãƒŸé †ã€ãƒ©ãƒ³ã‚­ãƒ³ã‚°ãªã©ã‚’å‚è€ƒã«ã—ãªãŒã‚‰æ¥­è€…ã‚’é¸æŠã—ã¦ãã ã•ã„ã€‚',
                    'premium': 'ã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã™ï¼ã€Œé«˜å“è³ªé †ã€ãƒ©ãƒ³ã‚­ãƒ³ã‚°ãªã©ã‚’å‚è€ƒã«ã—ãªãŒã‚‰æ¥­è€…ã‚’é¸æŠã—ã¦ãã ã•ã„ã€‚',
                    'recommended': 'ã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã™ï¼ã€ŒãŠã™ã™ã‚é †ã€ãƒ©ãƒ³ã‚­ãƒ³ã‚°ãªã©ã‚’å‚è€ƒã«ã—ãªãŒã‚‰æ¥­è€…ã‚’é¸æŠã—ã¦ãã ã•ã„ã€‚'
                };
                const selectedSortType = (window.BotConfig && window.BotConfig.state && window.BotConfig.state.selectedSortType) || 'recommended';
                const completionMessage = sortTypeMessages[selectedSortType] || sortTypeMessages['recommended'];

                const aiMessageContainer = document.createElement('div');
                aiMessageContainer.className = 'ai-message-container';
                aiMessageContainer.innerHTML = `
                    <img src="images/avatars/319260ba-0b3d-47d0-b18f-abf530c2793e.png" alt="AI" class="ai-avatar" loading="eager" decoding="async">
                    <div class="ai-message">
                        ${completionMessage}
                    </div>
                `;
                messages.appendChild(aiMessageContainer);
                scrollToBotBottom();

                // ã‚¹ãƒãƒ›ç‰ˆã®å ´åˆã¯ãƒ©ãƒ³ã‚­ãƒ³ã‚°ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã¾ã§ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«
                if (window.innerWidth < 768) {
                    setTimeout(() => {
                        const rankingSection = document.getElementById('rankingSection');
                        if (rankingSection) {
                            rankingSection.scrollIntoView({ behavior: 'smooth', block: 'start' });
                        }
                    }, 500);
                }

                // V1733-UX: é€²æ—åº¦ã¯æ—¢ã«100%ã®ãŸã‚æ›´æ–°ä¸è¦ï¼ˆbot-core.js connectToPhoneSystem()ã§100%è¨­å®šæ¸ˆã¿ï¼‰
            }, 1000);
        }

        // é€²æ—æ›´æ–°ï¼ˆV1736-FIX: é€²æ—åº¦ãŒçµ¶å¯¾ã«ä¸‹ãŒã‚‰ãªã„ã‚ˆã†ã«æ°¸ç¶šåŒ–ï¼‰
        // sessionStorageã‹ã‚‰æœ€å¤§é€²æ—åº¦ã‚’å¾©å…ƒï¼ˆãƒšãƒ¼ã‚¸ãƒªãƒ­ãƒ¼ãƒ‰ã—ã¦ã‚‚ä¿æŒï¼‰
        window.maxProgressPercentage = parseInt(sessionStorage.getItem('maxProgress') || '0', 10);
        console.log(`ğŸ”„ é€²æ—åº¦å¾©å…ƒ: ${window.maxProgressPercentage}%`);

        // V1736-FIX: å¾©å…ƒæ™‚ã«100%ã ã£ãŸå ´åˆã€å³åº§ã«éè¡¨ç¤ºã«ã™ã‚‹
        if (window.maxProgressPercentage >= 100) {
            // DOMèª­ã¿è¾¼ã¿å®Œäº†å¾Œã«å®Ÿè¡Œ
            document.addEventListener('DOMContentLoaded', function() {
                const mobileProgressBarContainer = document.getElementById('mobileProgressBar');
                const desktopProgressMeter = document.getElementById('progressMeter');

                if (mobileProgressBarContainer) {
                    mobileProgressBarContainer.classList.add('hidden');
                    console.log('âœ… ãƒ¢ãƒã‚¤ãƒ«é€²æ—ãƒãƒ¼éè¡¨ç¤ºï¼ˆå¾©å…ƒæ™‚100%ï¼‰');
                }
                if (desktopProgressMeter) {
                    desktopProgressMeter.classList.add('hidden');
                    console.log('âœ… ãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—é€²æ—ãƒãƒ¼éè¡¨ç¤ºï¼ˆå¾©å…ƒæ™‚100%ï¼‰');
                }
            });
        }

        function updateProgress(percentage) {
            // V1735-FIX: æœ€å¤§é€²æ—åº¦ã‚ˆã‚Šå¤§ãã„å ´åˆã®ã¿æ›´æ–°ï¼ˆçµ¶å¯¾ã«æˆ»ã‚‰ãªã„ï¼‰
            if (percentage < window.maxProgressPercentage) {
                console.log(`â­ï¸ é€²æ—åº¦ã‚¹ã‚­ãƒƒãƒ—: ${percentage}% < æœ€å¤§é€²æ—${window.maxProgressPercentage}%`);
                return;
            }

            // æœ€å¤§é€²æ—åº¦ã‚’æ›´æ–°ã—ã¦sessionStorageã«ä¿å­˜
            window.maxProgressPercentage = percentage;
            try {
                sessionStorage.setItem('maxProgress', percentage.toString());
            } catch (e) {
                console.warn('âš ï¸ sessionStorageä¿å­˜å¤±æ•—:', e);
            }

            console.log(`ğŸ“Š é€²æ—åº¦æ›´æ–°: ${percentage}% (ãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—ãƒ»ãƒ¢ãƒã‚¤ãƒ«åŒæœŸãƒ»æ°¸ç¶šåŒ–)`);

            // ãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—ç‰ˆ
            const progressPercentage = document.getElementById('progressPercentage');
            const progressBar = document.getElementById('progressBar');
            if (progressPercentage) progressPercentage.textContent = percentage + '%';
            if (progressBar) {
                progressBar.style.width = percentage + '%';
                progressBar.style.background = 'linear-gradient(90deg, #3B82F6 0%, #60A5FA 100%)';
            }

            // ãƒ¢ãƒã‚¤ãƒ«ç‰ˆï¼ˆãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—ã¨å®Œå…¨åŒæœŸï¼‰
            const mobileProgressPercentage = document.getElementById('mobileProgressPercentage');
            const mobileProgressBar = document.getElementById('mobileProgressBarFill');
            const mobileProgressBarContainer = document.getElementById('mobileProgressBar');

            if (mobileProgressPercentage) mobileProgressPercentage.textContent = percentage + '%';
            if (mobileProgressBar) {
                mobileProgressBar.style.width = percentage + '%';
                mobileProgressBar.style.background = 'linear-gradient(90deg, #3B82F6 0%, #60A5FA 100%)';
            }

            // 100%ã«ãªã£ãŸã‚‰ãƒ¢ãƒã‚¤ãƒ«ç‰ˆã®ãƒ—ãƒ­ã‚°ãƒ¬ã‚¹ãƒãƒ¼ã‚’éè¡¨ç¤ºã«ã™ã‚‹
            if (percentage >= 100 && mobileProgressBarContainer) {
                mobileProgressBarContainer.classList.add('hidden');
                console.log('âœ… ãƒ¢ãƒã‚¤ãƒ«é€²æ—ãƒãƒ¼éè¡¨ç¤ºï¼ˆ100%é”æˆï¼‰');
            }
        }

        // é€²æ—åº¦ãƒªã‚»ãƒƒãƒˆé–¢æ•°ï¼ˆé–‹ç™ºãƒ»ãƒ‡ãƒãƒƒã‚°ç”¨ï¼‰
        window.resetProgress = function() {
            window.maxProgressPercentage = 0;
            sessionStorage.removeItem('maxProgress');
            updateProgress(0);
            console.log('ğŸ”„ é€²æ—åº¦ãƒªã‚»ãƒƒãƒˆå®Œäº†');
        };

        // ãƒ©ãƒ³ã‚­ãƒ³ã‚°ã‚½ãƒ¼ãƒˆåˆ‡ã‚Šæ›¿ãˆ
        function changeSortType(type) {
            const rankingSection = document.getElementById('rankingSection');
            const rankingTitle = document.getElementById('rankingTitle');

            // éé¸æŠæ™‚ã®åŸºæœ¬ã‚¯ãƒ©ã‚¹
            const baseClass = 'sort-btn bg-gray-50 border-2 border-gray-400 text-gray-700 py-2 px-2 rounded-lg text-xs font-semibold flex flex-col items-center justify-center gap-1 h-16 min-h-16 shadow-md transition-all duration-200 cursor-pointer';

            // ã™ã¹ã¦ã®ãƒœã‚¿ãƒ³ã‚’ãƒªã‚»ãƒƒãƒˆ
            document.getElementById('sortRecommended').className = baseClass + ' hover:border-blue-400 hover:shadow-lg hover:scale-105';
            document.getElementById('sortCheap').className = baseClass + ' hover:border-orange-400 hover:shadow-lg hover:scale-105';
            document.getElementById('sortReview').className = baseClass + ' hover:border-green-400 hover:shadow-lg hover:scale-105';
            document.getElementById('sortQuality').className = baseClass + ' hover:border-purple-400 hover:shadow-lg hover:scale-105';

            // ã‚¢ã‚¤ã‚³ãƒ³ã®è‰²ã‚’å„ãƒœã‚¿ãƒ³ã®ãƒ†ãƒ¼ãƒã‚«ãƒ©ãƒ¼ã«è¨­å®šï¼ˆéé¸æŠæ™‚ï¼‰
            document.getElementById('sortRecommended').querySelector('svg').setAttribute('stroke', '#2563eb');
            document.getElementById('sortCheap').querySelector('svg').setAttribute('stroke', '#ea580c');
            document.getElementById('sortReview').querySelector('svg').setAttribute('stroke', '#16a34a');
            document.getElementById('sortQuality').querySelector('svg').setAttribute('stroke', '#9333ea');

            // ãƒ†ãƒ¼ãƒã‚«ãƒ©ãƒ¼ã¨ã‚¿ã‚¤ãƒˆãƒ«ã‚’å¤‰æ›´ï¼ˆãƒ‘ã‚¹ãƒ†ãƒ«èª¿ï¼‰
            switch(type) {
                case 'recommended':
                    document.getElementById('sortRecommended').className = 'sort-btn sort-btn-active bg-gradient-to-br from-blue-300 to-blue-400 text-white py-2 px-2 rounded-lg text-xs font-bold flex flex-col items-center justify-center gap-1 h-16 min-h-16 shadow-md border-2 border-blue-400 transition-all duration-200 hover:shadow-lg hover:scale-105 cursor-pointer';
                    document.getElementById('sortRecommended').querySelector('svg').setAttribute('stroke', '#ffffff');
                    rankingSection.setAttribute('data-theme', 'blue');
                    rankingTitle.textContent = 'ãŠã™ã™ã‚æ¥­è€…ãƒ©ãƒ³ã‚­ãƒ³ã‚°';
                    break;
                case 'cheap':
                    document.getElementById('sortCheap').className = 'sort-btn sort-btn-active bg-gradient-to-br from-orange-300 to-orange-400 text-white py-2 px-2 rounded-lg text-xs font-bold flex flex-col items-center justify-center gap-1 h-16 min-h-16 shadow-md border-2 border-orange-400 transition-all duration-200 hover:shadow-lg hover:scale-105 cursor-pointer';
                    document.getElementById('sortCheap').querySelector('svg').setAttribute('stroke', '#ffffff');
                    rankingSection.setAttribute('data-theme', 'orange');
                    rankingTitle.textContent = 'ã‚³ã‚¹ãƒ‘ä¸Šä½ãƒ©ãƒ³ã‚­ãƒ³ã‚°';
                    break;
                case 'review':
                    document.getElementById('sortReview').className = 'sort-btn sort-btn-active bg-gradient-to-br from-green-300 to-green-400 text-white py-2 px-2 rounded-lg text-xs font-bold flex flex-col items-center justify-center gap-1 h-16 min-h-16 shadow-md border-2 border-green-400 transition-all duration-200 hover:shadow-lg hover:scale-105 cursor-pointer';
                    document.getElementById('sortReview').querySelector('svg').setAttribute('stroke', '#ffffff');
                    rankingSection.setAttribute('data-theme', 'green');
                    rankingTitle.textContent = 'ã‚¯ãƒã‚³ãƒŸã‚¹ã‚³ã‚¢ãƒ©ãƒ³ã‚­ãƒ³ã‚°';
                    break;
                case 'premium':
                    document.getElementById('sortQuality').className = 'sort-btn sort-btn-active bg-gradient-to-br from-purple-300 to-purple-400 text-white py-2 px-2 rounded-lg text-xs font-bold flex flex-col items-center justify-center gap-1 h-16 min-h-16 shadow-md border-2 border-purple-400 transition-all duration-200 hover:shadow-lg hover:scale-105 cursor-pointer';
                    document.getElementById('sortQuality').querySelector('svg').setAttribute('stroke', '#ffffff');
                    rankingSection.setAttribute('data-theme', 'purple');
                    rankingTitle.textContent = 'é«˜å“è³ªä¿è¨¼ãƒ©ãƒ³ã‚­ãƒ³ã‚°';
                    break;
            }

            // ãƒ©ãƒ³ã‚­ãƒ³ã‚°ã‚’ã‚½ãƒ¼ãƒˆã—ã¦è¡¨ç¤º
            if (typeof window.updateAllCompaniesFromDynamic === 'function') {
                window.updateAllCompaniesFromDynamic(type);
            }
            if (typeof window.displayRanking === 'function') {
                window.displayRanking();
            }
        }

        // ã‚°ãƒ­ãƒ¼ãƒãƒ«ã«å…¬é–‹
        window.changeSortType = changeSortType;

        // V1669: å¤ã„KeepManagerã‚¯ãƒ©ã‚¹ã‚’å‰Šé™¤ï¼ˆranking.jsã®keepManagerã‚’ä½¿ç”¨ï¼‰

        // ãƒ¢ãƒ¼ãƒ€ãƒ«è¡¨ç¤º
        function showKeepModal() {
            const modal = document.getElementById('keepModal');
            const keepList = document.getElementById('keepList');
            const keeps = keepManager.getList();

            // ã‚­ï¿½ï¿½ï¿½ãƒ—ãƒªã‚¹ãƒˆã‚’è¡¨ç¤º
            keepList.innerHTML = keeps.map((keep, index) => `
                <div class="bg-gradient-to-r from-blue-50 to-blue-100 border-2 border-blue-200 rounded-xl p-4 flex items-center justify-between shadow-md hover:shadow-lg transition-all duration-200">
                    <div class="flex items-center gap-3">
                        <div class="bg-blue-500 text-white w-8 h-8 rounded-full flex items-center justify-center font-bold text-sm shadow-md">
                            ${index + 1}
                        </div>
                        <span class="font-bold text-gray-900">${keep.name}</span>
                    </div>
                    <div class="flex items-center gap-2 bg-white px-3 py-1.5 rounded-full shadow-sm">
                        <svg class="w-4 h-4 text-green-500" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path>
                        </svg>
                        <span class="text-sm font-semibold text-green-600">é¸æŠä¸­</span>
                    </div>
                </div>
            `).join('');

            // ãƒ¢ãƒ¼ãƒ€ãƒ«è¡¨ç¤ºï¼ˆèƒŒæ™¯ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«é˜²æ­¢ï¼‰
            modal.classList.remove('hidden');

            // V1713-UX: ç„¡æ–™è¦‹ç©ã‚‚ã‚Šãƒœã‚¿ãƒ³ã‚’éè¡¨ç¤ºï¼ˆãƒ•ã‚©ãƒ¼ãƒ ãŒé‚ªé­”ã«ãªã‚‰ãªã„ã‚ˆã†ã«ï¼‰
            const estimateBtnContainer = document.getElementById('estimateBtnContainer');
            if (estimateBtnContainer) {
                estimateBtnContainer.style.display = 'none';
                console.log('âœ… ç„¡æ–™è¦‹ç©ã‚‚ã‚Šãƒœã‚¿ãƒ³éè¡¨ç¤ºï¼ˆãƒ¢ãƒ¼ãƒ€ãƒ«è¡¨ç¤ºï¼‰');
            }

            // V1713-FIX: èƒŒæ™¯ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«å®Œå…¨é˜²æ­¢ï¼ˆã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ä½ç½®å›ºå®šæ–¹å¼ï¼‰
            const scrollY = window.scrollY || window.pageYOffset;
            window.modalScrollPosition = scrollY;

            // ãƒ¢ãƒ¼ãƒ€ãƒ«ã‚’å›ºå®šä½ç½®ã«è¡¨ç¤º
            modal.style.position = 'fixed';
            modal.style.top = '0';
            modal.style.left = '0';
            modal.style.right = '0';
            modal.style.bottom = '0';
            modal.style.height = '';

            // bodyã‚’å›ºå®šã—ã¦ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«é˜²æ­¢
            document.body.style.position = 'fixed';
            document.body.style.top = `-${scrollY}px`;
            document.body.style.width = '100%';
            document.body.style.overflow = 'hidden';
            document.body.style.touchAction = 'none';

            // gaiheki-bot-containerã‚‚å›ºå®š
            const botContainer = document.getElementById('gaiheki-bot-container');
            if (botContainer) {
                botContainer.style.position = 'fixed';
                botContainer.style.top = '0';
                botContainer.style.left = '0';
                botContainer.style.right = '0';
                botContainer.style.bottom = '0';
                botContainer.style.overflow = 'hidden';
            }

            // ãƒ¢ãƒ¼ãƒ€ãƒ«èƒŒæ™¯ã®ã‚¿ãƒƒãƒãƒ ãƒ¼ãƒ–ã‚¤ãƒ™ãƒ³ãƒˆã‚’é˜²æ­¢
            modal.addEventListener('touchmove', function(e) {
                if (e.target === modal) {
                    e.preventDefault();
                }
            }, { passive: false });
        }

        // ãƒ¢ãƒ¼ãƒ€ãƒ«ã‚’é–‰ã˜ã‚‹
        function closeKeepModal(skipButtonRestore = false) {
            const modal = document.getElementById('keepModal');
            modal.classList.add('hidden');

            // ãƒ¢ãƒ¼ãƒ€ãƒ«ã®ã‚¹ã‚¿ã‚¤ãƒ«ã‚’ãƒªã‚»ãƒƒãƒˆ
            modal.style.position = '';
            modal.style.top = '';
            modal.style.left = '';
            modal.style.right = '';
            modal.style.bottom = '';
            modal.style.height = '';

            // V1713-FIX: èƒŒæ™¯ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã‚’å¾©å…ƒï¼ˆskipButtonRestoreæ™‚ã¯ã‚¹ã‚­ãƒƒãƒ—ï¼‰
            if (!skipButtonRestore) {
                // bodyã®å›ºå®šã‚’è§£é™¤
                document.body.style.position = '';
                document.body.style.top = '';
                document.body.style.width = '';
                document.body.style.overflow = '';
                document.body.style.touchAction = '';

                // ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ä½ç½®ã‚’å¾©å…ƒ
                if (window.modalScrollPosition !== undefined) {
                    window.scrollTo(0, window.modalScrollPosition);
                    delete window.modalScrollPosition;
                }

                // gaiheki-bot-containerã‚‚å¾©å…ƒ
                const botContainer = document.getElementById('gaiheki-bot-container');
                if (botContainer) {
                    botContainer.style.position = '';
                    botContainer.style.top = '';
                    botContainer.style.left = '';
                    botContainer.style.right = '';
                    botContainer.style.bottom = '';
                    botContainer.style.overflow = '';
                }
            }

            // V1713-UX: ã‚­ãƒ¼ãƒ—ãƒªã‚¹ãƒˆãŒã‚ã‚Œã°ç„¡æ–™è¦‹ç©ã‚‚ã‚Šãƒœã‚¿ãƒ³ã‚’å†è¡¨ç¤º
            // skipButtonRestore=trueã®å ´åˆã¯å†è¡¨ç¤ºã—ãªã„ï¼ˆè¦‹ç©ã‚‚ã‚Šãƒ•ã‚©ãƒ¼ãƒ ã‚’é–‹ãå ´åˆãªã©ï¼‰
            if (skipButtonRestore) {
                console.log('âš ï¸ ãƒœã‚¿ãƒ³å†è¡¨ç¤ºã‚’ã‚¹ã‚­ãƒƒãƒ—ï¼ˆskipButtonRestore=trueï¼‰');
                return;
            }

            // ãŸã ã—ã€è¦‹ç©ã‚‚ã‚Šãƒ•ã‚©ãƒ¼ãƒ ãŒé–‹ã„ã¦ã„ã‚‹å ´åˆã¯å†è¡¨ç¤ºã—ãªã„
            const estimateFormModal = document.getElementById('estimateFormModal');
            const isEstimateFormOpen = estimateFormModal && !estimateFormModal.classList.contains('hidden');

            const keeps = keepManager.getList();
            const estimateBtnContainer = document.getElementById('estimateBtnContainer');
            if (estimateBtnContainer && keeps.length > 0 && !isEstimateFormOpen) {
                estimateBtnContainer.style.display = 'block';
                console.log('âœ… ç„¡æ–™è¦‹ç©ã‚‚ã‚Šãƒœã‚¿ãƒ³å†è¡¨ç¤ºï¼ˆãƒ¢ãƒ¼ãƒ€ãƒ«é–‰ã˜ã‚‹ï¼‰');
            } else if (isEstimateFormOpen) {
                console.log('âš ï¸ è¦‹ç©ã‚‚ã‚Šãƒ•ã‚©ãƒ¼ãƒ ãŒé–‹ã„ã¦ã„ã‚‹ãŸã‚ã€ãƒœã‚¿ãƒ³å†è¡¨ç¤ºã‚’ã‚¹ã‚­ãƒƒãƒ—');
            }
        }

        // è¦‹ç©ã‚‚ã‚Šãƒ•ã‚©ãƒ¼ãƒ ã‚’é–‹å§‹ï¼ˆâ€»2160è¡Œç›®ã«è©³ç´°ç‰ˆãŒã‚ã‚‹ãŸã‚ã€ã“ã“ã§ã¯å®šç¾©ã—ãªã„ï¼‰

        // è¦‹ç©ã‚‚ã‚Šãƒ•ã‚©ãƒ¼ãƒ ã‚’é–‰ã˜ã‚‹
        function closeEstimateForm() {
            const modal = document.getElementById('estimateFormModal');
            modal.classList.add('hidden');

            // ãƒ¢ãƒ¼ãƒ€ãƒ«ã®ã‚¹ã‚¿ã‚¤ãƒ«ã‚’ãƒªã‚»ãƒƒãƒˆ
            modal.style.position = '';
            modal.style.top = '';
            modal.style.left = '';
            modal.style.right = '';
            modal.style.bottom = '';
            modal.style.height = '';

            // V1713-FIX: èƒŒæ™¯ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã‚’å¾©å…ƒï¼ˆã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ä½ç½®ã‚‚å¾©å…ƒï¼‰
            // bodyã®å›ºå®šã‚’è§£é™¤
            document.body.style.position = '';
            document.body.style.top = '';
            document.body.style.width = '';
            document.body.style.overflow = '';
            document.body.style.touchAction = '';

            // ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ä½ç½®ã‚’å¾©å…ƒ
            if (window.modalScrollPosition !== undefined) {
                window.scrollTo(0, window.modalScrollPosition);
                delete window.modalScrollPosition;
            }

            // gaiheki-bot-containerã‚‚å¾©å…ƒ
            const botContainer = document.getElementById('gaiheki-bot-container');
            if (botContainer) {
                botContainer.style.position = '';
                botContainer.style.top = '';
                botContainer.style.left = '';
                botContainer.style.right = '';
                botContainer.style.bottom = '';
                botContainer.style.overflow = '';
            }

            console.log('âœ… èƒŒæ™¯ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«å¾©å…ƒï¼ˆãƒ¢ãƒ¼ãƒ€ãƒ«é–‰ã˜ã‚‹ï¼‰');

            // V1717-UX: ã‚¹ãƒ†ãƒƒãƒ—ã‚’1ã«æˆ»ã™
            document.getElementById('step1').classList.remove('hidden');
            document.getElementById('step2').classList.add('hidden');

            // V1713-UX: ã‚­ãƒ¼ãƒ—ãƒªã‚¹ãƒˆãŒã‚ã‚Œã°ç„¡æ–™è¦‹ç©ã‚‚ã‚Šãƒœã‚¿ãƒ³ã‚’å†è¡¨ç¤º
            const keeps = keepManager.getList();
            const estimateBtnContainer = document.getElementById('estimateBtnContainer');
            if (estimateBtnContainer && keeps.length > 0) {
                estimateBtnContainer.style.display = 'block';
                console.log('âœ… ç„¡æ–™è¦‹ç©ã‚‚ã‚Šãƒœã‚¿ãƒ³å†è¡¨ç¤ºï¼ˆãƒ•ã‚©ãƒ¼ãƒ é–‰ã˜ã‚‹ï¼‰');
            }
        }

        // éƒµä¾¿ç•ªå·ã‹ã‚‰ä½æ‰€ã‚’å–å¾—
        async function fetchAddress(postalCode, type) {
            if (!postalCode) return;

            // éƒµä¾¿ç•ªå·ã‹ã‚‰ä½æ‰€ã‚’å–å¾—
            if (typeof window.getAreaFromPostalCode === 'function') {
                const areaInfo = window.getAreaFromPostalCode(postalCode);

                // éƒ½é“åºœçœŒã¨å¸‚åŒºç”ºæ‘ã«åˆ†å‰²
                const prefectureMatch = areaInfo.match(/(.*?[éƒ½é“åºœçœŒ])(.*)/);

                if (type === 'home') {
                    const homeAddressField = document.getElementById('homeAddress');
                    if (homeAddressField) {
                        homeAddressField.value = areaInfo;
                    }

                    if (prefectureMatch) {
                        window.homePrefecture = prefectureMatch[1];  // æ±äº¬éƒ½
                        window.homeCity = prefectureMatch[2];        // åƒä»£ç”°åŒº
                        console.log('âœ… è‡ªå®…ä½æ‰€ã‚’ä¿å­˜:', {
                            prefecture: window.homePrefecture,
                            city: window.homeCity,
                            fullAddress: areaInfo
                        });
                    } else {
                        window.homePrefecture = '';
                        window.homeCity = areaInfo;
                    }
                }
            }
        }

        // è‡ªå®…ä½æ‰€ã®è¡¨ç¤ºåˆ‡ã‚Šæ›¿ãˆ
        function toggleHomeAddress() {
            const checkbox = document.getElementById('differentHome');
            const homeAddressFields = document.getElementById('homeAddressSection');
            if (checkbox.checked) {
                homeAddressFields.classList.remove('hidden');
            } else {
                homeAddressFields.classList.add('hidden');
            }
        }

        // éƒµä¾¿ç•ªå·ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã®ã‚¤ãƒ™ãƒ³ãƒˆãƒªã‚¹ãƒŠãƒ¼ã‚’è¨­å®š
        document.addEventListener('DOMContentLoaded', function() {
            // è‡ªå®…éƒµä¾¿ç•ªå·ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰
            const homeZipField = document.getElementById('homeZip');
            if (homeZipField) {
                homeZipField.addEventListener('blur', function() {
                    const zipValue = this.value.replace('-', '').trim();
                    if (zipValue.length === 7) {
                        fetchAddress(zipValue, 'home');
                    }
                });
            }
        });

        // nextStep ã¨ prevStep ã¯2234è¡Œç›®ä»¥é™ã«è©³ç´°ç‰ˆã§å®šç¾©ã•ã‚Œã¦ã„ã¾ã™

        // ç¾åœ°èª¿æŸ»å¸Œæœ›æ—¥æ™‚ã‚’å‹•çš„ç”Ÿæˆï¼ˆæ›œæ—¥+æ™‚é–“å¸¯å½¢å¼ï¼‰
        function generateSurveyDates() {
            const container = document.getElementById('surveyDates');

            // æ›œæ—¥ã¨æ™‚é–“å¸¯ã®ã‚ªãƒ—ã‚·ãƒ§ãƒ³
            const options = [
                { value: 'æœˆæ›œ_åˆå‰', label: 'æœˆæ›œæ—¥ åˆå‰' },
                { value: 'æœˆæ›œ_åˆå¾Œ', label: 'æœˆæ›œæ—¥ åˆå¾Œ' },
                { value: 'ç«æ›œ_åˆå‰', label: 'ç«æ›œæ—¥ åˆå‰' },
                { value: 'ç«æ›œ_åˆå¾Œ', label: 'ç«æ›œæ—¥ åˆå¾Œ' },
                { value: 'æ°´æ›œ_åˆå‰', label: 'æ°´æ›œæ—¥ åˆå‰' },
                { value: 'æ°´æ›œ_åˆå¾Œ', label: 'æ°´æ›œæ—¥ åˆå¾Œ' },
                { value: 'æœ¨æ›œ_åˆå‰', label: 'æœ¨æ›œæ—¥ åˆå‰' },
                { value: 'æœ¨æ›œ_åˆå¾Œ', label: 'æœ¨æ›œæ—¥ åˆå¾Œ' },
                { value: 'é‡‘æ›œ_åˆå‰', label: 'é‡‘æ›œæ—¥ åˆå‰' },
                { value: 'é‡‘æ›œ_åˆå¾Œ', label: 'é‡‘æ›œæ—¥ åˆå¾Œ' },
                { value: 'åœŸæ›œ_åˆå‰', label: 'åœŸæ›œæ—¥ åˆå‰' },
                { value: 'åœŸæ›œ_åˆå¾Œ', label: 'åœŸæ›œæ—¥ åˆå¾Œ' },
                { value: 'æ—¥æ›œ_åˆå‰', label: 'æ—¥æ›œæ—¥ åˆå‰' },
                { value: 'æ—¥æ›œ_åˆå¾Œ', label: 'æ—¥æ›œæ—¥ åˆå¾Œ' },
                { value: 'æœªå®š', label: 'æœªå®š' }
            ];

            // ãƒã‚§ãƒƒã‚¯ãƒœãƒƒã‚¯ã‚¹ã‚’ç”Ÿæˆï¼ˆåˆå‰ã¨åˆå¾Œã‚’æ¨ªä¸¦ã³ã«ï¼‰
            let html = '';
            for (let i = 0; i < options.length - 1; i += 2) {
                html += `<div class="grid grid-cols-2 gap-2">`;
                html += `
                    <label class="flex items-center space-x-2 p-2 border rounded-lg hover:bg-gray-50 cursor-pointer">
                        <input type="checkbox" name="surveyDate" value="${options[i].value}" class="form-checkbox">
                        <span class="text-sm">${options[i].label}</span>
                    </label>
                `;
                if (i + 1 < options.length - 1) {
                    html += `
                        <label class="flex items-center space-x-2 p-2 border rounded-lg hover:bg-gray-50 cursor-pointer">
                            <input type="checkbox" name="surveyDate" value="${options[i + 1].value}" class="form-checkbox">
                            <span class="text-sm">${options[i + 1].label}</span>
                        </label>
                    `;
                }
                html += `</div>`;
            }

            // æœªå®šã¯åˆ¥æ ã§è¡¨ç¤º
            html += `
                <label class="flex items-center space-x-2 p-2 border rounded-lg hover:bg-gray-50 cursor-pointer">
                    <input type="checkbox" name="surveyDate" value="æœªå®š" class="form-checkbox">
                    <span class="text-sm">æœªå®š</span>
                </label>
            `;

            container.innerHTML = html;
        }

        // è¦‹ç©ã‚‚ã‚Šãƒ•ã‚©ãƒ¼ãƒ é€ä¿¡
        // ============================================
        // V1714-UX: CV1é€ä¿¡ï¼ˆåŸºæœ¬æƒ…å ±ã®ã¿ï¼‰- CVå°ç·šçŸ­ç¸®
        // ============================================
        async function submitEstimateFormCV1() {
            console.log('ğŸ“ CV1é€ä¿¡é–‹å§‹ï¼ˆåŸºæœ¬æƒ…å ±ã®ã¿ï¼‰');

            const submitBtn = document.getElementById('submitBtnStep1');
            submitBtn.disabled = true;
            submitBtn.innerHTML = '<svg class="w-5 h-5 animate-spin" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"></path></svg> é€ä¿¡ä¸­...';

            try {
                // ãƒ•ã‚©ãƒ¼ãƒ ãƒ‡ãƒ¼ã‚¿å–å¾—
                const formData = {
                    name: document.getElementById('userName').value.trim(),
                    propertyZip: document.getElementById('propertyZip').value.trim().replace('-', ''),
                    propertyAddress: document.getElementById('propertyAddress').value.trim(),
                    propertyStreet: document.getElementById('propertyStreet').value.trim(),
                    email: document.getElementById('userEmail').value.trim()
                };

                // å¿…é ˆé …ç›®ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³
                if (!formData.name) {
                    alert('ãŠåå‰ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„');
                    submitBtn.disabled = false;
                    submitBtn.innerHTML = '<svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg> é€ä¿¡ã™ã‚‹';
                    return;
                }

                if (formData.email) {
                    const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
                    if (!emailRegex.test(formData.email)) {
                        alert('æ­£ã—ã„ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„');
                        submitBtn.disabled = false;
                        submitBtn.innerHTML = '<svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg> é€ä¿¡ã™ã‚‹';
                        return;
                    }
                }

                if (!formData.propertyStreet) {
                    alert('ç‰©ä»¶ä½æ‰€ï¼ˆç•ªåœ°ãƒ»å»ºç‰©åï¼‰ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„');
                    submitBtn.disabled = false;
                    submitBtn.innerHTML = '<svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg> é€ä¿¡ã™ã‚‹';
                    return;
                }

                // è‡ªå®…ä½æ‰€ï¼ˆç•°ãªã‚‹å ´åˆï¼‰
                if (document.getElementById('differentHome').checked) {
                    formData.homeZip = document.getElementById('homeZip').value.trim().replace('-', '');
                    formData.homeAddress = document.getElementById('homeAddress').value.trim();
                    formData.homeStreet = document.getElementById('homeStreet').value.trim();

                    if (!formData.homeZip || !formData.homeStreet) {
                        alert('è‡ªå®…ä½æ‰€ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„');
                        submitBtn.disabled = false;
                        submitBtn.innerHTML = '<svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg> é€ä¿¡ã™ã‚‹';
                        return;
                    }
                }

                console.log('ğŸ“¤ CV1é€ä¿¡ãƒ‡ãƒ¼ã‚¿:', formData);

                // CV2ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã«å¤‰æ›ï¼ˆCV1ã¨ã—ã¦é€ä¿¡ï¼‰
                const cv2FormData = {
                    name: formData.name,
                    email: formData.email,
                    propertyAddress: { postalCode: formData.propertyZip, street: formData.propertyStreet },
                    isDifferentHome: formData.homeZip ? true : false,
                    homeAddress: formData.homeZip ? { postalCode: formData.homeZip, street: formData.homeStreet } : null,
                    surveyDates: [],  // ç©ºé…åˆ—
                    requests: '',  // ç©ºæ–‡å­—åˆ—
                    keepInfo: keepManager.getList().map(k => k.name).join(', ')
                };

                // GASã¸é€ä¿¡ï¼ˆCV2ã¨ã—ã¦é€ä¿¡ï¼‰
                if (window.CVAPI && window.CVAPI.sendCV2) {
                    const response = await window.CVAPI.sendCV2(cv2FormData);
                    if (response.success) {
                        console.log('âœ… CV1é€ä¿¡æˆåŠŸ');
                        // å®Œäº†ç”»é¢ã‚’è¡¨ç¤º
                        showCompletionModal();
                    } else {
                        console.error('âŒ CV1é€ä¿¡å¤±æ•—:', response.error);
                        alert('é€ä¿¡ã«å¤±æ•—ã—ã¾ã—ãŸã€‚ã‚‚ã†ä¸€åº¦ãŠè©¦ã—ãã ã•ã„ã€‚');
                        submitBtn.disabled = false;
                        submitBtn.innerHTML = '<svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg> é€ä¿¡ã™ã‚‹';
                    }
                } else {
                    console.error('âŒ CVAPI.sendCV2ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“');
                    alert('é€ä¿¡æ©Ÿèƒ½ãŒåˆ©ç”¨ã§ãã¾ã›ã‚“ã€‚ãƒšãƒ¼ã‚¸ã‚’ãƒªãƒ­ãƒ¼ãƒ‰ã—ã¦ãã ã•ã„ã€‚');
                    submitBtn.disabled = false;
                    submitBtn.innerHTML = '<svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg> é€ä¿¡ã™ã‚‹';
                }
            } catch (error) {
                console.error('âŒ CV1é€ä¿¡ã‚¨ãƒ©ãƒ¼:', error);
                alert('é€ä¿¡ä¸­ã«ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸã€‚');
                submitBtn.disabled = false;
                submitBtn.innerHTML = '<svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg> é€ä¿¡ã™ã‚‹';
            }
        }

        // ============================================
        // V1714-UX: å®Œäº†ãƒ¢ãƒ¼ãƒ€ãƒ«è¡¨ç¤º
        // ============================================
        function showCompletionModal() {
            console.log('âœ… å®Œäº†ãƒ¢ãƒ¼ãƒ€ãƒ«è¡¨ç¤º');

            // V1729-UX: ãƒ•ã‚©ãƒ¼ãƒ é€ä¿¡å®Œäº†æ™‚ã«100%
            updateProgress(100);

            // è¦‹ç©ã‚‚ã‚Šãƒ•ã‚©ãƒ¼ãƒ ã‚’é–‰ã˜ã‚‹ï¼ˆã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ä½ç½®å¾©å…ƒã¯ã‚¹ã‚­ãƒƒãƒ—ï¼‰
            const estimateModal = document.getElementById('estimateFormModal');
            estimateModal.classList.add('hidden');

            // å®Œäº†ãƒ¢ãƒ¼ãƒ€ãƒ«ã‚’è¡¨ç¤º
            const completionModal = document.getElementById('completionModal');
            completionModal.classList.remove('hidden');

            // èƒŒæ™¯ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«é˜²æ­¢ï¼ˆå¼•ãç¶šãï¼‰
            const scrollY = window.modalScrollPosition || window.scrollY || window.pageYOffset;
            window.modalScrollPosition = scrollY;

            completionModal.style.position = 'fixed';
            completionModal.style.top = '0';
            completionModal.style.left = '0';
            completionModal.style.right = '0';
            completionModal.style.bottom = '0';

            document.body.style.position = 'fixed';
            document.body.style.top = `-${scrollY}px`;
            document.body.style.width = '100%';
            document.body.style.overflow = 'hidden';
            document.body.style.touchAction = 'none';

            const botContainer = document.getElementById('gaiheki-bot-container');
            if (botContainer) {
                botContainer.style.position = 'fixed';
                botContainer.style.top = '0';
                botContainer.style.left = '0';
                botContainer.style.right = '0';
                botContainer.style.bottom = '0';
                botContainer.style.overflow = 'hidden';
            }

            completionModal.addEventListener('touchmove', function(e) {
                if (e.target === completionModal) {
                    e.preventDefault();
                }
            }, { passive: false });
        }

        // ============================================
        // V1714-UX: å®Œäº†ãƒ¢ãƒ¼ãƒ€ãƒ«ã‚’é–‰ã˜ã‚‹
        // ============================================
        function closeCompletionModal() {
            console.log('âœ… å®Œäº†ãƒ¢ãƒ¼ãƒ€ãƒ«ã‚’é–‰ã˜ã‚‹');

            const modal = document.getElementById('completionModal');
            modal.classList.add('hidden');

            // èƒŒæ™¯ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã‚’å¾©å…ƒ
            document.body.style.position = '';
            document.body.style.top = '';
            document.body.style.width = '';
            document.body.style.overflow = '';
            document.body.style.touchAction = '';

            if (window.modalScrollPosition !== undefined) {
                window.scrollTo(0, window.modalScrollPosition);
                delete window.modalScrollPosition;
            }

            const botContainer = document.getElementById('gaiheki-bot-container');
            if (botContainer) {
                botContainer.style.position = '';
                botContainer.style.top = '';
                botContainer.style.left = '';
                botContainer.style.right = '';
                botContainer.style.bottom = '';
                botContainer.style.overflow = '';
            }

            console.log('âœ… èƒŒæ™¯ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«å¾©å…ƒï¼ˆå®Œäº†ãƒ¢ãƒ¼ãƒ€ãƒ«é–‰ã˜ã‚‹ï¼‰');
        }

        // ============================================
        // V1714-UX: ã‚¯ã‚¤ãƒƒã‚¯äºˆç´„ï¼ˆè©³ç´°æƒ…å ±å…¥åŠ›ï¼‰ã‚’è¡¨ç¤º
        // ============================================
        function showQuickBooking() {
            console.log('ğŸ“… ã‚¯ã‚¤ãƒƒã‚¯äºˆç´„ï¼ˆè©³ç´°æƒ…å ±ï¼‰è¡¨ç¤º');

            // V1734-FIX: ãƒ¢ãƒã‚¤ãƒ«é€²æ—ãƒãƒ¼ã‚’éè¡¨ç¤º
            const mobileProgressBarContainer = document.getElementById('mobileProgressBar');
            if (mobileProgressBarContainer) {
                mobileProgressBarContainer.classList.add('hidden');
                console.log('âœ… ãƒ¢ãƒã‚¤ãƒ«é€²æ—ãƒãƒ¼éè¡¨ç¤ºï¼ˆã‚¯ã‚¤ãƒƒã‚¯äºˆç´„è¡¨ç¤ºï¼‰');
            }

            // å®Œäº†ãƒ¢ãƒ¼ãƒ€ãƒ«ã‚’é–‰ã˜ã‚‹
            const completionModal = document.getElementById('completionModal');
            completionModal.classList.add('hidden');

            // è¦‹ç©ã‚‚ã‚Šãƒ•ã‚©ãƒ¼ãƒ ã®ã‚¹ãƒ†ãƒƒãƒ—2ï¼ˆè©³ç´°æƒ…å ±ï¼‰ã‚’è¡¨ç¤º
            const estimateModal = document.getElementById('estimateFormModal');
            estimateModal.classList.remove('hidden');

            // ã‚¹ãƒ†ãƒƒãƒ—2ã‚’è¡¨ç¤º
            document.getElementById('step1').classList.add('hidden');
            document.getElementById('step2').classList.remove('hidden');

            // èƒŒæ™¯ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«é˜²æ­¢ï¼ˆç¶™ç¶šï¼‰
            const scrollY = window.modalScrollPosition || window.scrollY || window.pageYOffset;
            window.modalScrollPosition = scrollY;

            estimateModal.style.position = 'fixed';
            estimateModal.style.top = '0';
            estimateModal.style.left = '0';
            estimateModal.style.right = '0';
            estimateModal.style.bottom = '0';

            document.body.style.position = 'fixed';
            document.body.style.top = `-${scrollY}px`;
            document.body.style.width = '100%';
            document.body.style.overflow = 'hidden';
            document.body.style.touchAction = 'none';

            const botContainer = document.getElementById('gaiheki-bot-container');
            if (botContainer) {
                botContainer.style.position = 'fixed';
                botContainer.style.top = '0';
                botContainer.style.left = '0';
                botContainer.style.right = '0';
                botContainer.style.bottom = '0';
                botContainer.style.overflow = 'hidden';
            }

            // ç¾åœ°èª¿æŸ»å¸Œæœ›æ—¥æ™‚ã®ãƒã‚§ãƒƒã‚¯ãƒœãƒƒã‚¯ã‚¹ã‚’ç”Ÿæˆ
            generateSurveyDateOptions();
        }

        // ============================================
        // V1715-UX: ç¾åœ°èª¿æŸ»å¸Œæœ›æ—¥æ™‚ã®é¸æŠè‚¢ã‚’ç”Ÿæˆ
        // ============================================
        function generateSurveyDateOptions() {
            console.log('ğŸ“… ç¾åœ°èª¿æŸ»å¸Œæœ›æ—¥æ™‚ã®é¸æŠè‚¢ç”Ÿæˆ');

            const container = document.getElementById('surveyDates');
            if (!container) {
                console.error('âŒ surveyDates ã‚³ãƒ³ãƒ†ãƒŠãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“');
                return;
            }

            // æ›œæ—¥åã®é…åˆ—
            const dayNames = ['æ—¥æ›œæ—¥', 'æœˆæ›œæ—¥', 'ç«æ›œæ—¥', 'æ°´æ›œæ—¥', 'æœ¨æ›œæ—¥', 'é‡‘æ›œæ—¥', 'åœŸæ›œæ—¥'];

            // æ¬¡ã®æœˆæ›œæ—¥ã‚’è¦‹ã¤ã‘ã‚‹
            const today = new Date();
            const currentDay = today.getDay(); // 0(æ—¥)ï½6(åœŸ)
            let daysUntilMonday = 0;

            if (currentDay === 0) {
                // æ—¥æ›œæ—¥ã®å ´åˆã¯ç¿Œæ—¥ï¼ˆæœˆæ›œæ—¥ï¼‰
                daysUntilMonday = 1;
            } else if (currentDay === 1) {
                // æœˆæ›œæ—¥ã®å ´åˆã¯ä»Šæ—¥ã‹ã‚‰
                daysUntilMonday = 0;
            } else {
                // ç«ï½åœŸæ›œæ—¥ã®å ´åˆã¯æ¬¡ã®æœˆæ›œæ—¥ã¾ã§
                daysUntilMonday = 8 - currentDay;
            }

            const nextMonday = new Date(today);
            nextMonday.setDate(today.getDate() + daysUntilMonday);

            // æœˆæ›œæ—¥ã‹ã‚‰7æ—¥é–“ï¼ˆæœˆã€œæ—¥ï¼‰ã®é¸æŠè‚¢ã‚’ç”Ÿæˆ
            const options = [];

            for (let i = 0; i < 7; i++) {
                const date = new Date(nextMonday);
                date.setDate(nextMonday.getDate() + i);
                const dayName = dayNames[date.getDay()];

                options.push(`
                    <div class="flex items-center gap-3 p-2 bg-white border border-gray-200 rounded-lg">
                        <div class="w-16 font-bold text-sm text-gray-900">${dayName}</div>
                        <div class="flex gap-4">
                            <label class="flex items-center gap-1.5 cursor-pointer hover:text-blue-600 transition-colors">
                                <input type="checkbox" name="surveyDate" value="${dayName}ãƒ»åˆå‰" class="w-4 h-4 text-blue-600 rounded focus:ring-1 focus:ring-blue-500">
                                <span class="text-sm">åˆå‰</span>
                            </label>
                            <label class="flex items-center gap-1.5 cursor-pointer hover:text-blue-600 transition-colors">
                                <input type="checkbox" name="surveyDate" value="${dayName}ãƒ»åˆå¾Œ" class="w-4 h-4 text-blue-600 rounded focus:ring-1 focus:ring-blue-500">
                                <span class="text-sm">åˆå¾Œ</span>
                            </label>
                        </div>
                    </div>
                `);
            }

            // æœªå®šã®é¸æŠè‚¢ã‚’æœ€å¾Œã«è¿½åŠ 
            options.push(`
                <div class="flex items-center gap-3 p-2 bg-white border border-gray-200 rounded-lg">
                    <div class="w-16 font-bold text-sm text-gray-900">æœªå®š</div>
                    <div class="flex gap-4">
                        <label class="flex items-center gap-1.5 cursor-pointer hover:text-blue-600 transition-colors">
                            <input type="checkbox" name="surveyDate" value="æœªå®š" class="w-4 h-4 text-blue-600 rounded focus:ring-1 focus:ring-blue-500">
                            <span class="text-sm">æœªå®š</span>
                        </label>
                    </div>
                </div>
            `);

            container.innerHTML = options.join('');
            console.log('âœ… ç¾åœ°èª¿æŸ»å¸Œæœ›æ—¥æ™‚ã®é¸æŠè‚¢ã‚’ç”Ÿæˆã—ã¾ã—ãŸï¼ˆæœˆã€œæ—¥ + æœªå®šï¼‰');
        }

        // ============================================
        // V1714-UX: CV2é€ä¿¡ï¼ˆè©³ç´°æƒ…å ±ã®ã¿ï¼‰
        // ============================================
        async function submitEstimateForm() {
            console.log('ğŸ“ CV2é€ä¿¡é–‹å§‹ï¼ˆè©³ç´°æƒ…å ±ã®ã¿ï¼‰');

            const submitBtn = document.getElementById('submitBtn');
            submitBtn.disabled = true;
            submitBtn.textContent = 'é€ä¿¡ä¸­...';

            try {
                // ãƒ•ã‚©ãƒ¼ãƒ ãƒ‡ãƒ¼ã‚¿å–å¾—
                const formData = {
                    name: document.getElementById('userName').value.trim(),
                    propertyZip: document.getElementById('propertyZip').value.trim().replace('-', ''),  // ãƒã‚¤ãƒ•ãƒ³é™¤å»
                    propertyAddress: document.getElementById('propertyAddress').value.trim(),
                    propertyStreet: document.getElementById('propertyStreet').value.trim(),
                    email: document.getElementById('userEmail').value.trim(),
                    requests: document.getElementById('requests').value.trim(),
                    surveyDates: Array.from(document.querySelectorAll('input[name="surveyDate"]:checked')).map(cb => cb.value),
                    keptCompanies: keepManager.getList().map(k => k.name),
                    botAnswers: window.BotConfig ? window.BotConfig.state.userAnswers : {}
                };

                // å¿…é ˆé …ç›®ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³
                if (!formData.name) {
                    alert('ãŠåå‰ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„');
                    submitBtn.disabled = false;
                    submitBtn.textContent = 'é€ä¿¡ã™ã‚‹';
                    return;
                }

                // V1713-FIX: ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã¯ä»»æ„ï¼ˆç©ºç™½OKã€å…¥åŠ›ã•ã‚Œã¦ã„ã‚‹å ´åˆã®ã¿å½¢å¼ãƒã‚§ãƒƒã‚¯ï¼‰
                if (formData.email) {
                    // ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ãŒå…¥åŠ›ã•ã‚Œã¦ã„ã‚‹å ´åˆã®ã¿å½¢å¼ãƒã‚§ãƒƒã‚¯
                    const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
                    if (!emailRegex.test(formData.email)) {
                        alert('æ­£ã—ã„ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„');
                        submitBtn.disabled = false;
                        submitBtn.textContent = 'é€ä¿¡ã™ã‚‹';
                        return;
                    }
                }
                if (!formData.propertyStreet) {
                    alert('ç‰©ä»¶ä½æ‰€ï¼ˆç•ªåœ°ãƒ»å»ºç‰©åï¼‰ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„');
                    submitBtn.disabled = false;
                    submitBtn.textContent = 'é€ä¿¡ã™ã‚‹';
                    return;
                }

                // è‡ªå®…ä½æ‰€ï¼ˆç•°ãªã‚‹å ´åˆï¼‰
                if (document.getElementById('differentHome').checked) {
                    formData.homeZip = document.getElementById('homeZip').value.trim().replace('-', '');  // ãƒã‚¤ãƒ•ãƒ³é™¤å»
                    formData.homeAddress = document.getElementById('homeAddress').value.trim();
                    formData.homeStreet = document.getElementById('homeStreet').value.trim();

                    // è‡ªå®…ä½æ‰€ã®ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³
                    if (!formData.homeZip) {
                        alert('è‡ªå®…ã®éƒµä¾¿ç•ªå·ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„');
                        submitBtn.disabled = false;
                        submitBtn.textContent = 'é€ä¿¡ã™ã‚‹';
                        return;
                    }
                    if (!formData.homeStreet) {
                        alert('è‡ªå®…ä½æ‰€ï¼ˆç•ªåœ°ãƒ»å»ºç‰©åï¼‰ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„');
                        submitBtn.disabled = false;
                        submitBtn.textContent = 'é€ä¿¡ã™ã‚‹';
                        return;
                    }
                }

                console.log('ğŸ“¤ é€ä¿¡ãƒ‡ãƒ¼ã‚¿:', formData);

                // CV2ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã«å¤‰æ›
                const cv2FormData = {
                    name: formData.name,
                    email: formData.email,
                    propertyAddress: { postalCode: formData.propertyZip, street: formData.propertyStreet },
                    isDifferentHome: formData.homeZip ? true : false,
                    homeAddress: formData.homeZip ? { postalCode: formData.homeZip, street: formData.homeStreet } : null,
                    surveyDates: formData.surveyDates,
                    requests: formData.requests,
                    keepInfo: formData.keptCompanies.join(', ')  // ã‚­ãƒ¼ãƒ—æ¥­è€…æƒ…å ±ã‚’ã‚«ãƒ³ãƒåŒºåˆ‡ã‚Šã§è¿½åŠ 
                };

                // GASã¸é€ä¿¡ï¼ˆCV2ã¨ã—ã¦é€ä¿¡ï¼‰
                if (window.CVAPI && window.CVAPI.sendCV2) {
                    const response = await window.CVAPI.sendCV2(cv2FormData);
                    if (response.success) {
                        console.log('âœ… CV2é€ä¿¡æˆåŠŸï¼ˆè©³ç´°æƒ…å ±è¿½åŠ ï¼‰');
                        alert('è©³ç´°æƒ…å ±ã‚’ç™»éŒ²ã—ã¾ã—ãŸã€‚æ¥­è€…ã¨ã®ã‚„ã‚Šå–ã‚ŠãŒã‚ˆã‚Šã‚¹ãƒ ãƒ¼ã‚ºã«ãªã‚Šã¾ã™ã€‚');
                        closeEstimateForm();
                    } else {
                        console.error('âŒ CV2é€ä¿¡å¤±æ•—:', response.error);
                        alert('é€ä¿¡ã«å¤±æ•—ã—ã¾ï¿½ï¿½ï¿½ãŸã€‚ã‚‚ã†ä¸€åº¦ãŠè©¦ã—ãã ã•ã„ã€‚');
                    }
                } else {
                    console.error('âŒ CVAPI.sendCV2ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“');
                    alert('é€ä¿¡æ©Ÿèƒ½ãŒåˆ©ç”¨ã§ãã¾ã›ã‚“ã€‚ãƒšãƒ¼ã‚¸ã‚’ãƒªãƒ­ãƒ¼ãƒ‰ã—ã¦ãã ã•ã„ã€‚');
                }
            } catch (error) {
                console.error('âŒ é€ä¿¡ã‚¨ãƒ©ãƒ¼:', error);
                alert('é€ä¿¡ä¸­ã«ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸã€‚');
            } finally {
                submitBtn.disabled = false;
                submitBtn.textContent = 'é€ä¿¡ã™ã‚‹';
            }
        }

        // ============================================
        // è¦‹ç©ã‚‚ã‚Šãƒ•ã‚©ãƒ¼ãƒ é–¢é€£
        // ============================================
        function startEstimateForm() {
            console.log('ğŸ“ è¦‹ç©ã‚‚ã‚Šãƒ•ã‚©ãƒ¼ãƒ é–‹å§‹');

            // V1734-FIX: ãƒ¢ãƒã‚¤ãƒ«é€²æ—ãƒãƒ¼ã‚’éè¡¨ç¤º
            const mobileProgressBarContainer = document.getElementById('mobileProgressBar');
            if (mobileProgressBarContainer) {
                mobileProgressBarContainer.classList.add('hidden');
                console.log('âœ… ãƒ¢ãƒã‚¤ãƒ«é€²æ—ãƒãƒ¼éè¡¨ç¤ºï¼ˆè¦‹ç©ã‚‚ã‚Šãƒ•ã‚©ãƒ¼ãƒ è¡¨ç¤ºï¼‰');
            }

            // V1713-UX: ç„¡æ–™è¦‹ç©ã‚‚ã‚Šãƒœã‚¿ãƒ³ã‚’éè¡¨ç¤ºï¼ˆãƒ•ã‚©ãƒ¼ãƒ ãŒé‚ªé­”ã«ãªã‚‰ãªã„ã‚ˆã†ã«ï¼‰
            const estimateBtnContainer = document.getElementById('estimateBtnContainer');
            if (estimateBtnContainer) {
                estimateBtnContainer.style.display = 'none';
                console.log('âœ… ç„¡æ–™è¦‹ç©ã‚‚ã‚Šãƒœã‚¿ãƒ³éè¡¨ç¤ºï¼ˆè¦‹ç©ã‚‚ã‚Šãƒ•ã‚©ãƒ¼ãƒ è¡¨ç¤ºï¼‰');
            }

            // ã‚­ãƒ¼ãƒ—ãƒ¢ãƒ¼ãƒ€ãƒ«ã‚’é–‰ã˜ã‚‹ï¼ˆãƒœã‚¿ãƒ³å†è¡¨ç¤ºã‚’ã‚¹ã‚­ãƒƒãƒ—ï¼‰
            closeKeepModal(true);

            // ============================================
            // BOTã§å–å¾—æ¸ˆã¿ã®æƒ…å ±ã‚’è‡ªå‹•å…¥åŠ›
            // ============================================

            // ç‰©ä»¶ã®éƒµä¾¿ç•ªå·ã‚’è‡ªå‹•å…¥åŠ›
            if (window.BotConfig && window.BotConfig.state.currentZipcode) {
                const propertyZipField = document.getElementById('propertyZip');
                if (propertyZipField) {
                    const zipcode = window.BotConfig.state.currentZipcode;
                    // ãƒã‚¤ãƒ•ãƒ³ã‚’è¿½åŠ ã—ã¦ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ
                    const formattedZip = zipcode.length === 7 ?
                        zipcode.substring(0, 3) + '-' + zipcode.substring(3) : zipcode;
                    propertyZipField.value = formattedZip;
                    console.log('âœ… ç‰©ä»¶éƒµä¾¿ç•ªå·ã‚’è‡ªå‹•å…¥åŠ›:', formattedZip);
                }
            }

            // ç‰©ä»¶ã®ä½æ‰€ï¼ˆéƒ½é“åºœçœŒ + å¸‚åŒºç”ºæ‘ï¼‰ã‚’è‡ªå‹•å…¥åŠ›
            if (window.propertyPrefecture && window.propertyCity) {
                const propertyAddressField = document.getElementById('propertyAddress');
                if (propertyAddressField) {
                    const fullAddress = window.propertyPrefecture + window.propertyCity;
                    propertyAddressField.value = fullAddress;
                    console.log('âœ… ç‰©ä»¶ä½æ‰€ã‚’è‡ªå‹•å…¥åŠ›:', fullAddress);
                }
            } else if (window.propertyCity) {
                // éƒ½é“åºœçœŒãŒãªã„å ´åˆã¯å¸‚åŒºç”ºæ‘ã®ã¿
                const propertyAddressField = document.getElementById('propertyAddress');
                if (propertyAddressField) {
                    propertyAddressField.value = window.propertyCity;
                    console.log('âœ… ç‰©ä»¶ä½æ‰€ã‚’è‡ªå‹•å…¥åŠ›ï¼ˆå¸‚åŒºç”ºæ‘ã®ã¿ï¼‰:', window.propertyCity);
                }
            }

            // è¦‹ç©ã‚‚ã‚Šãƒ•ã‚©ãƒ¼ãƒ ãƒ¢ãƒ¼ãƒ€ãƒ«ã‚’è¡¨ç¤º
            const modal = document.getElementById('estimateFormModal');
            if (modal) {
                modal.classList.remove('hidden');

                // ã‚¹ãƒãƒ›ã®å ´åˆã¯ç¾åœ¨ã®ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ä½ç½®ã«è¡¨ç¤º
                if (window.innerWidth < 768) {
                    const scrollY = window.scrollY || window.pageYOffset;
                    modal.style.position = 'absolute';
                    modal.style.top = scrollY + 'px';
                    modal.style.left = '0';
                    modal.style.right = '0';
                    modal.style.height = '100vh';
                    modal.style.bottom = 'auto';
                } else {
                    // PCã®å ´åˆã¯å›ºå®šä½ç½®ï¼ˆç”»é¢ä¸­å¤®ï¼‰
                    modal.style.position = 'fixed';
                    modal.style.top = '0';
                    modal.style.left = '0';
                    modal.style.right = '0';
                    modal.style.bottom = '0';
                    modal.style.height = '';
                }

                // V1713-FIX: èƒŒæ™¯ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«å®Œå…¨é˜²æ­¢ï¼ˆã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ä½ç½®å›ºå®šæ–¹å¼ï¼‰
                // ç¾åœ¨ã®ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ä½ç½®ã‚’ä¿å­˜
                const scrollY = window.scrollY || window.pageYOffset;
                window.modalScrollPosition = scrollY;

                // bodyã‚’å›ºå®šã—ã¦ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«é˜²æ­¢
                document.body.style.position = 'fixed';
                document.body.style.top = `-${scrollY}px`;
                document.body.style.width = '100%';
                document.body.style.overflow = 'hidden';
                document.body.style.touchAction = 'none';

                // gaiheki-bot-containerã‚‚å›ºå®š
                const botContainer = document.getElementById('gaiheki-bot-container');
                if (botContainer) {
                    botContainer.style.position = 'fixed';
                    botContainer.style.top = '0';
                    botContainer.style.left = '0';
                    botContainer.style.right = '0';
                    botContainer.style.bottom = '0';
                    botContainer.style.overflow = 'hidden';
                }

                // ãƒ¢ãƒ¼ãƒ€ãƒ«èƒŒæ™¯ã®ã‚¿ãƒƒãƒãƒ ãƒ¼ãƒ–ã‚¤ãƒ™ãƒ³ãƒˆã‚’é˜²æ­¢
                modal.addEventListener('touchmove', function(e) {
                    // ãƒ¢ãƒ¼ãƒ€ãƒ«å†…éƒ¨ã®ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«å¯èƒ½ã‚¨ãƒªã‚¢ä»¥å¤–ã¯ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«é˜²æ­¢
                    if (e.target === modal) {
                        e.preventDefault();
                    }
                }, { passive: false });

                console.log('âœ… èƒŒæ™¯ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«å®Œå…¨ç„¡åŠ¹åŒ–ï¼ˆãƒ¢ãƒ¼ãƒ€ãƒ«è¡¨ç¤ºï¼‰');

                // BOTæƒ…å ±ã‹ã‚‰éƒµä¾¿ç•ªå·ã¨ä½æ‰€ã‚’è‡ªå‹•å…¥åŠ›
                if (window.BotConfig && window.BotConfig.state) {
                    const zipcode = window.BotConfig.state.currentZipcode;
                    if (zipcode) {
                        document.getElementById('propertyZip').value = zipcode;

                        // éƒµä¾¿ç•ªå·ã‹ã‚‰ä½æ‰€ã‚’å–å¾—
                        if (typeof window.getAreaFromPostalCode === 'function') {
                            const area = window.getAreaFromPostalCode(zipcode);
                            document.getElementById('propertyAddress').value = area || '';
                        }
                    }
                }

                console.log('âœ… è¦‹ç©ã‚‚ã‚Šãƒ•ã‚©ãƒ¼ãƒ è¡¨ç¤º');
            } else {
                console.error('âŒ estimateFormModalãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“');
            }
        }

        // å®Œäº†ç”»é¢ã‚’è¡¨ç¤ºï¼ˆV1674 - ãƒ¢ãƒ¼ãƒ€ãƒ«ã§ã¯ãªããƒ•ã‚©ãƒ¼ãƒ å†…ã«è¡¨ç¤ºï¼‰
        function showCompletionScreen() {
            const modal = document.getElementById('estimateFormModal');
            if (!modal) return;

            // ãƒ¢ãƒ¼ãƒ€ãƒ«ã‚’è¡¨ç¤ºçŠ¶æ…‹ã«
            modal.classList.remove('hidden');

            // ãƒ•ã‚©ãƒ¼ãƒ ã®å†…å®¹ã‚’å®Œäº†ç”»é¢ã«æ›¸ãæ›ãˆã‚‹
            modal.innerHTML = `
                <div class="bg-white rounded-lg max-w-md w-full p-6 mx-auto my-8">
                    <div class="text-center">
                        <div class="w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4">
                            <svg class="w-10 h-10 text-green-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                            </svg>
                        </div>
                        <h2 class="text-2xl font-bold mb-2">é€ä¿¡å®Œäº†ã—ã¾ã—ãŸï¼</h2>
                        <p class="text-gray-600 mb-4">
                            è¦‹ç©ã‚‚ã‚Šä¾é ¼ã‚’å—ã‘ä»˜ã‘ã¾ã—ãŸã€‚
                        </p>
                        <div class="bg-orange-50 border border-orange-300 p-4 rounded-lg mb-4">
                            <p class="font-semibold text-orange-800 mb-2">é‡è¦ãªãŠçŸ¥ã‚‰ã›</p>
                            <p class="text-sm text-gray-700 mb-2">
                                å¼Šç¤¾ã‚ªãƒšãƒ¬ãƒ¼ã‚¿ãƒ¼ã‹ã‚‰ç°¡å˜ãªã”æœ¬äººæ§˜ç¢ºèªã®ãŠé›»è©±ãŒå…¥ã‚Šã¾ã™ã®ã§ã”å¯¾å¿œãŠé¡˜ã„ã„ãŸã—ã¾ã™ã€‚
                            </p>
                            <p class="text-sm font-semibold text-gray-800">
                                æ‹…å½“ï¼šå±±å†…
                            </p>
                            <p class="text-lg font-bold text-orange-800">
                                é›»è©±ç•ªå·ï¼š090-1994-7162
                            </p>
                        </div>
                        <div class="text-left bg-blue-50 p-4 rounded-lg mb-6">
                            <p class="font-semibold mb-2">ä»Šå¾Œã®æµã‚Œ</p>
                            <ol class="text-sm space-y-1">
                                <li>1. æ¥­è€…ã‹ã‚‰é€£çµ¡ãŒå…¥ã‚Šã¾ã™</li>
                                <li>2. ç¾åœ°èª¿æŸ»ã®æ—¥ç¨‹ã‚’èª¿æ•´</li>
                                <li>3. æ­£å¼ãªè¦‹ç©ã‚‚ã‚Šã‚’ã”æå‡º</li>
                            </ol>
                        </div>
                        <button onclick="location.reload();" class="bg-blue-500 text-white px-6 py-3 rounded-lg hover:bg-blue-600 transition w-full font-bold">
                            é–‰ã˜ã‚‹
                        </button>
                    </div>
                </div>
            `;

            // å®Œäº†ç”»é¢ã¾ã§ã‚¹ãƒ ãƒ¼ã‚ºã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«
            setTimeout(() => {
                modal.scrollIntoView({ behavior: 'smooth', block: 'center' });
            }, 100);
        }

        function closeEstimateForm() {
            console.log('ğŸ“ è¦‹ç©ã‚‚ã‚Šãƒ•ã‚©ãƒ¼ãƒ é–‰ã˜ã‚‹');
            const modal = document.getElementById('estimateFormModal');
            if (modal) {
                modal.classList.add('hidden');

                // ãƒ¢ãƒ¼ãƒ€ãƒ«ã®ã‚¹ã‚¿ã‚¤ãƒ«ã‚’ãƒªã‚»ãƒƒãƒˆ
                modal.style.position = '';
                modal.style.top = '';
                modal.style.left = '';
                modal.style.right = '';
                modal.style.bottom = '';
                modal.style.height = '';

                // èƒŒæ™¯ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã‚’å¾©å…ƒ
                document.body.style.overflow = '';
                document.body.style.touchAction = '';

                // ã‚¹ãƒ†ãƒƒãƒ—1ã«æˆ»ã™
                document.getElementById('step1').classList.remove('hidden');
                document.getElementById('step2').classList.add('hidden');
            }
        }

        function nextStep() {
            console.log('ğŸ“ æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—ã¸');

            // ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³
            const userName = document.getElementById('userName').value.trim();
            const propertyStreet = document.getElementById('propertyStreet').value.trim();

            if (!userName) {
                alert('ãŠåå‰ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„');
                return;
            }

            if (!propertyStreet) {
                alert('å¯¾è±¡ç‰©ä»¶ã®ç•ªåœ°ãƒ»å»ºç‰©åã‚’å…¥åŠ›ã—ã¦ãã ã•ã„');
                return;
            }

            // ã‚¹ãƒ†ãƒƒãƒ—2ã¸
            document.getElementById('step1').classList.add('hidden');
            document.getElementById('step2').classList.remove('hidden');

            // ãƒ—ãƒ­ã‚°ãƒ¬ã‚¹ãƒãƒ¼æ›´æ–°
            document.getElementById('currentStep').textContent = '2';
            document.getElementById('stepPercent').textContent = '100';
            document.getElementById('stepProgress').style.width = '100%';

            // ç¾åœ°èª¿æŸ»å¸Œæœ›æ—¥æ™‚ã®é¸æŠè‚¢ã‚’ç”Ÿæˆ
            generateSurveyDates();
        }

        function prevStep() {
            console.log('ğŸ“ å‰ã®ã‚¹ãƒ†ãƒƒãƒ—ã¸');
            document.getElementById('step2').classList.add('hidden');
            document.getElementById('step1').classList.remove('hidden');

            // ãƒ—ãƒ­ã‚°ãƒ¬ã‚¹ãƒãƒ¼æ›´æ–°
            document.getElementById('currentStep').textContent = '1';
            document.getElementById('stepPercent').textContent = '50';
            document.getElementById('stepProgress').style.width = '50%';
        }

        function generateSurveyDates() {
            const container = document.getElementById('surveyDates');
            if (!container) return;

            // æ›œæ—¥ã¨æ™‚é–“å¸¯ã®ã‚ªãƒ—ã‚·ãƒ§ãƒ³
            const options = [
                { value: 'æœˆæ›œ_åˆå‰', label: 'æœˆæ›œæ—¥ åˆå‰' },
                { value: 'æœˆæ›œ_åˆå¾Œ', label: 'æœˆæ›œæ—¥ åˆå¾Œ' },
                { value: 'ç«æ›œ_åˆå‰', label: 'ç«æ›œæ—¥ åˆå‰' },
                { value: 'ç«æ›œ_åˆå¾Œ', label: 'ç«æ›œæ—¥ åˆå¾Œ' },
                { value: 'æ°´æ›œ_åˆå‰', label: 'æ°´æ›œæ—¥ åˆå‰' },
                { value: 'æ°´æ›œ_åˆå¾Œ', label: 'æ°´æ›œæ—¥ åˆå¾Œ' },
                { value: 'æœ¨æ›œ_åˆå‰', label: 'æœ¨æ›œæ—¥ åˆå‰' },
                { value: 'æœ¨æ›œ_åˆå¾Œ', label: 'æœ¨æ›œæ—¥ åˆå¾Œ' },
                { value: 'é‡‘æ›œ_åˆå‰', label: 'é‡‘æ›œæ—¥ åˆå‰' },
                { value: 'é‡‘æ›œ_åˆå¾Œ', label: 'é‡‘æ›œæ—¥ åˆå¾Œ' },
                { value: 'åœŸæ›œ_åˆå‰', label: 'åœŸæ›œæ—¥ åˆå‰' },
                { value: 'åœŸæ›œ_åˆå¾Œ', label: 'åœŸæ›œæ—¥ åˆå¾Œ' },
                { value: 'æ—¥æ›œ_åˆå‰', label: 'æ—¥æ›œæ—¥ åˆå‰' },
                { value: 'æ—¥æ›œ_åˆå¾Œ', label: 'æ—¥æ›œæ—¥ åˆå¾Œ' },
                { value: 'æœªå®š', label: 'æœªå®š' }
            ];

            // ãƒã‚§ãƒƒã‚¯ãƒœãƒƒã‚¯ã‚¹ã‚’ç”Ÿæˆï¼ˆåˆå‰ã¨åˆå¾Œã‚’æ¨ªä¸¦ã³ã«ï¼‰
            let html = '';
            for (let i = 0; i < options.length - 1; i += 2) {
                html += `<div class="grid grid-cols-2 gap-2">`;
                html += `
                    <label class="flex items-center space-x-2 p-2 border rounded-lg hover:bg-gray-50 cursor-pointer">
                        <input type="checkbox" name="surveyDate" value="${options[i].value}" class="form-checkbox">
                        <span class="text-sm">${options[i].label}</span>
                    </label>
                `;
                if (i + 1 < options.length - 1) {
                    html += `
                        <label class="flex items-center space-x-2 p-2 border rounded-lg hover:bg-gray-50 cursor-pointer">
                            <input type="checkbox" name="surveyDate" value="${options[i + 1].value}" class="form-checkbox">
                            <span class="text-sm">${options[i + 1].label}</span>
                        </label>
                    `;
                }
                html += `</div>`;
            }

            // æœªå®šã¯åˆ¥æ ã§è¡¨ç¤º
            html += `
                <label class="flex items-center space-x-2 p-2 border rounded-lg hover:bg-gray-50 cursor-pointer">
                    <input type="checkbox" name="surveyDate" value="æœªå®š" class="form-checkbox">
                    <span class="text-sm">æœªå®š</span>
                </label>
            `;

            container.innerHTML = html;
        }

        async function submitForm() {
            console.log('ğŸ“ ãƒ•ã‚©ãƒ¼ãƒ é€ä¿¡é–‹å§‹');

            const submitBtn = document.getElementById('submitBtn');
            submitBtn.disabled = true;
            submitBtn.textContent = 'é€ä¿¡ä¸­...';

            try {
                // ãƒ•ã‚©ãƒ¼ãƒ ãƒ‡ãƒ¼ã‚¿ã‚’åé›†
                const formData = {
                    name: document.getElementById('userName').value.trim(),
                    email: document.getElementById('userEmail').value.trim(),
                    propertyAddress: {
                        postalCode: document.getElementById('propertyZip').value,
                        prefecture: document.getElementById('propertyAddress').value,
                        street: document.getElementById('propertyStreet').value.trim()
                    },
                    isDifferentHome: document.getElementById('differentHome').checked,
                    homeAddress: document.getElementById('differentHome').checked ? {
                        postalCode: document.getElementById('homeZip').value,
                        street: document.getElementById('homeStreet').value.trim()
                    } : null,
                    surveyDates: Array.from(document.querySelectorAll('input[name="surveyDate"]:checked')).map(cb => cb.value),
                    requests: document.getElementById('userRequests')?.value || ''
                };

                console.log('ğŸ“¤ é€ä¿¡ãƒ‡ãƒ¼ã‚¿:', formData);

                // CVAPI.sendCV2ã‚’å‘¼ã³å‡ºã—
                if (window.CVAPI && typeof window.CVAPI.sendCV2 === 'function') {
                    const response = await window.CVAPI.sendCV2(formData);

                    if (response.success) {
                        console.log('âœ… CV2é€ä¿¡æˆåŠŸ');
                        alert('é€ä¿¡ãŒå®Œäº†ã—ã¾ã—ãŸï¼æ¥­è€…ã‹ã‚‰é€£çµ¡ãŒå±Šãã¾ã™ã€‚');
                        closeEstimateForm();
                    } else {
                        console.error('âŒ CV2é€ä¿¡å¤±æ•—:', response.error);
                        alert('é€ä¿¡ã«å¤±æ•—ã—ã¾ã—ãŸã€‚ã‚‚ã†ä¸€åº¦ãŠè©¦ã—ãã ã•ã„ã€‚');
                    }
                } else {
                    console.error('âŒ CVAPI.sendCV2ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“');
                    alert('é€ä¿¡æ©Ÿèƒ½ãŒåˆ©ç”¨ã§ãã¾ã›ã‚“ã€‚');
                }

            } catch (error) {
                console.error('âŒ ãƒ•ã‚©ãƒ¼ãƒ é€ä¿¡ã‚¨ãƒ©ãƒ¼:', error);
                alert('ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸã€‚ã‚‚ã†ä¸€åº¦ãŠè©¦ã—ãã ã•ã„ã€‚');
            } finally {
                submitBtn.disabled = false;
                submitBtn.textContent = 'é€ä¿¡ã™ã‚‹';
            }
        }

        function toggleHomeAddress() {
            const checkbox = document.getElementById('differentHome');
            const section = document.getElementById('homeAddressSection');

            if (checkbox.checked) {
                section.classList.remove('hidden');
            } else {
                section.classList.add('hidden');
            }
        }

        // ãƒ•ã‚©ãƒ¼ãƒ é€ä¿¡ã®é€£æ‰“é˜²æ­¢ã¨ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°è¡¨ç¤º
        document.addEventListener('DOMContentLoaded', function() {
            let isSubmitting = false; // é€ä¿¡ä¸­ãƒ•ãƒ©ã‚°

            const form = document.querySelector('.km_form');
            const submitBtn = document.getElementById('analy-form_btn01');
            const loadingOverlay = document.getElementById('form-loading-overlay');

            if (form && submitBtn && loadingOverlay) {
                form.addEventListener('submit', function(e) {
                    // æ—¢ã«é€ä¿¡ä¸­ã®å ´åˆã¯é€ä¿¡ã‚’ã‚­ãƒ£ãƒ³ã‚»ãƒ«
                    if (isSubmitting) {
                        e.preventDefault();
                        console.log('ãƒ•ã‚©ãƒ¼ãƒ é€ä¿¡: æ—¢ã«é€ä¿¡ä¸­ã®ãŸã‚ã€é€ä¿¡ã‚’ã‚­ãƒ£ãƒ³ã‚»ãƒ«ã—ã¾ã—ãŸ');
                        return false;
                    }

                    // ä¸€æ—¦é€ä¿¡ã‚’ã‚­ãƒ£ãƒ³ã‚»ãƒ«ã—ã¦ã€ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³çµæœã‚’ç¢ºèª
                    e.preventDefault();

                    // validate.jsã®ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³å®Ÿè¡Œã‚’å¾…ã¤
                    setTimeout(function() {
                        // ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã‚¨ãƒ©ãƒ¼ãŒã‚ã‚‹å ´åˆã¯ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã‚’è¡¨ç¤ºã—ãªã„
                        const hasValidationError = form.querySelector('.km_valid_error') !== null;

                        if (hasValidationError) {
                            console.log('ãƒ•ã‚©ãƒ¼ãƒ é€ä¿¡: ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã‚¨ãƒ©ãƒ¼ãŒã‚ã‚Šã¾ã™');
                            return;
                        }

                        // ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³æˆåŠŸï¼šé€ä¿¡å‡¦ç†é–‹å§‹
                        isSubmitting = true;

                        // ãƒœã‚¿ãƒ³ã‚’ç„¡åŠ¹åŒ–
                        submitBtn.disabled = true;
                        submitBtn.style.opacity = '0.6';
                        submitBtn.style.cursor = 'not-allowed';

                        // ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã‚ªãƒ¼ãƒãƒ¼ãƒ¬ã‚¤ã‚’è¡¨ç¤º
                        loadingOverlay.style.display = 'flex';

                        console.log('ãƒ•ã‚©ãƒ¼ãƒ é€ä¿¡: é€ä¿¡å‡¦ç†ã‚’é–‹å§‹ã—ã¾ã—ãŸ');

                        // ãƒ•ã‚©ãƒ¼ãƒ ã‚’æ‰‹å‹•ã§é€ä¿¡
                        form.submit();
                    }, 100); // validate.jsã®å‡¦ç†ã‚’å¾…ã¤ãŸã‚ã®é…å»¶
                });
            }
        });
    </script>

    <!-- å¤–å£å¡—è£…ãã‚‰ã¹ã‚‹ BOTã‚·ã‚¹ãƒ†ãƒ  -->
    <!-- ç’°å¢ƒå¤‰æ•°ã‚’æœ€åˆã«ãƒ­ãƒ¼ãƒ‰ï¼ˆGAS URLè¨­å®šï¼‰ - å›ºå®šã‚­ãƒ£ãƒƒã‚·ãƒ¥ãƒã‚¹ã‚¿ãƒ¼ -->
    <!-- âš ï¸ env-loader.jsæ›´æ–°æ™‚ã¯ ?v= ã®å€¤ã‚‚æ‰‹å‹•ã§å¤‰æ›´ã™ã‚‹ã“ã¨ -->
    <script src="js/env-loader.js?v=1763025000000"></script>

    <!-- BOTãƒ­ãƒ¼ãƒ€ãƒ¼ï¼ˆã‚¿ã‚¤ãƒŸãƒ³ã‚°å•é¡Œã®ãŸã‚é™çš„ãƒ­ãƒ¼ãƒ‰å¿…é ˆï¼‰ -->
    <!-- âš ï¸ env-loader.jsæ›´æ–°æ™‚ã¯ ?v= ã®å€¤ã‚‚æ‰‹å‹•ã§å¤‰æ›´ã™ã‚‹ã“ã¨ -->
    <script src="gaiheki-bot-loader.js?v=1763025000000"></script>

    <!-- V1713-FIX: ç„¡æ–™è¦‹ç©ã‚‚ã‚Šãƒœã‚¿ãƒ³ï¼ˆbodyç›´ä¸‹ãƒ»viewportåŸºæº–ã§å®Œå…¨å›ºå®šï¼‰ -->
    <div id="estimateBtnContainer" style="display: none !important; position: fixed !important; bottom: 0 !important; left: 0 !important; right: 0 !important; z-index: 999999 !important; background: white !important; box-shadow: 0 -4px 6px -1px rgba(0, 0, 0, 0.1), 0 200px 0 200px white !important; border-top: 1px solid #e5e7eb !important; padding: 1rem 0 !important; padding-bottom: max(1rem, env(safe-area-inset-bottom)) !important; pointer-events: auto !important;">
        <div style="max-width: 72rem; margin: 0 auto; padding: 0 1rem; text-align: center;">
            <button onclick="showKeepModal();" class="bg-orange-400 hover:bg-orange-500 text-white font-bold py-4 px-20 rounded-full text-lg transition-all relative inline-flex items-center justify-center shadow-lg">
                ç„¡æ–™è¦‹ç©ã‚‚ã‚Š
                <span id="keepCountBadge" class="notification-badge hidden"></span>
            </button>
        </div>
    </div>
  </body>
</html>
