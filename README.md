# å¤–å£å¡—è£…ãã‚‰ã¹ã‚‹AI - æœ¬ä½“GASãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰

**å¤–å£å¡—è£…ãã‚‰ã¹ã‚‹AI**ã®çµ±åˆãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ï¼†ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã‚·ã‚¹ãƒ†ãƒ 

---

## ğŸ¯ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ¦‚è¦

å¤–å£å¡—è£…æ¥­è€…ã®ãƒãƒƒãƒãƒ³ã‚°ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ã€Œãã‚‰ã¹ã‚‹AIã€ã®å®Œå…¨çµ±åˆã‚·ã‚¹ãƒ†ãƒ ã€‚
Google Apps Scriptï¼ˆGASï¼‰ã‚’ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã¨ã—ã€4ã¤ã®ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã‚·ã‚¹ãƒ†ãƒ ãŒé€£æºã—ã¦å‹•ä½œã€‚

### ä¸»è¦æ©Ÿèƒ½
- ğŸ¤– **AIæ¤œç´¢** - DeepSeekã‚’ä½¿ã£ãŸä¼æ¥­æƒ…å ±è‡ªå‹•æŠ½å‡º
- ğŸ“ **åŠ ç›Ÿåº—ç™»éŒ²** - ãƒ•ã‚©ãƒ¼ãƒ ï¼†ãƒ‡ãƒ¼ã‚¿ç®¡ç†
- ğŸ“Š **ç®¡ç†ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰** - æ¡ˆä»¶ç®¡ç†ãƒ»æ‰¿èªãƒ•ãƒ­ãƒ¼
- ğŸ¢ **åŠ ç›Ÿåº—ãƒãƒ¼ã‚¿ãƒ«** - ä¼æ¥­æƒ…å ±ç®¡ç†ãƒ»HPç”Ÿæˆ

---

## ğŸ— ã‚·ã‚¹ãƒ†ãƒ æ§‹æˆ

### ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ï¼šGoogle Apps Script

**å ´æ‰€**: `franchise-register/gas/`

| ãƒ•ã‚¡ã‚¤ãƒ« | å½¹å‰² |
|---------|------|
| `main.js` | ãƒ¡ã‚¤ãƒ³ã‚¨ãƒ³ãƒˆãƒªãƒ¼ãƒã‚¤ãƒ³ãƒˆãƒ»SystemRouter |
| `systems/ai/AISearchSystem.gs` | AIä¼æ¥­æƒ…å ±æ¤œç´¢ï¼ˆDeepSeekï¼‰ |
| `systems/franchise/FranchiseSystem.js` | åŠ ç›Ÿåº—ç™»éŒ²å‡¦ç† |
| `systems/admin/AdminSystem.js` | ç®¡ç†ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰API |
| `systems/merchant/MerchantSystem.js` | åŠ ç›Ÿåº—ãƒãƒ¼ã‚¿ãƒ«API |

**ãƒ‡ãƒ—ãƒ­ã‚¤**: GitHub Actionså®Œå…¨è‡ªå‹•åŒ–ï¼ˆpush â†’ ãƒ†ã‚¹ãƒˆ â†’ ãƒ‡ãƒ—ãƒ­ã‚¤ â†’ ãƒ­ãƒ¼ãƒ«ãƒãƒƒã‚¯å¯èƒ½ï¼‰

### ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ï¼š4ã¤ã®ã‚·ã‚¹ãƒ†ãƒ 

| ã‚·ã‚¹ãƒ†ãƒ  | ãƒ‘ã‚¹ | æœ¬ç•ªURL | èª¬æ˜ |
|---------|------|---------|------|
| **Admin Dashboard** | `admin-dashboard/dist/` | https://gaihekikuraberu.com/admin-dashboard/ | ç®¡ç†è€…ç”¨ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ |
| **Franchise Dashboard** | `franchise-dashboard/dist/` | https://gaihekikuraberu.com/franchise-dashboard/ | åŠ ç›Ÿåº—ç®¡ç†ã‚·ã‚¹ãƒ†ãƒ  |
| **Franchise Register** | `franchise-register/dist/` | https://gaihekikuraberu.com/franchise-register/ | åŠ ç›Ÿåº—æ–°è¦ç™»éŒ²ãƒ•ã‚©ãƒ¼ãƒ  |
| **Estimate Keep System** | `estimate-keep-system/dist/` | https://gaihekikuraberu.com/estimate-keep-system/ | è¦‹ç©ã‚‚ã‚Šç®¡ç† |

**ãƒ‡ãƒ—ãƒ­ã‚¤**: GitHub Actions â†’ Xserver FTPè‡ªå‹•ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰

---

## ğŸš€ å®Œå…¨è‡ªå‹•åŒ–ãƒ•ãƒ­ãƒ¼

### 1. GASæ›´æ–°æ™‚

```
é–‹ç™ºè€…: GASã‚³ãƒ¼ãƒ‰ç·¨é›† & git push
  â†“
GitHub Actions: GAS CI/CD Pipeline
  1. æ§‹æ–‡ãƒã‚§ãƒƒã‚¯ï¼ˆå…¨.jsãƒ•ã‚¡ã‚¤ãƒ«ï¼‰
  2. GASãƒ‡ãƒ—ãƒ­ã‚¤ï¼ˆclasp push & deployï¼‰
  3. ãƒ˜ãƒ«ã‚¹ãƒã‚§ãƒƒã‚¯ï¼ˆsuccess:trueç¢ºèªï¼‰
  4. å…¨env-loader.jsè‡ªå‹•æ›´æ–°ï¼ˆURLåŒæœŸï¼‰
  5. è‡ªå‹•commit & push
  â†“
GitHub Actions: Frontend Auto-Deployï¼ˆè‡ªå‹•ãƒˆãƒªã‚¬ãƒ¼ï¼‰
  6. å…¨4ã‚·ã‚¹ãƒ†ãƒ è‡ªå‹•FTPã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰
  â†“
å®Œäº†ï¼æœ¬ç•ªã‚µã‚¤ãƒˆæ›´æ–°
```

### 2. ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰æ›´æ–°æ™‚

```
é–‹ç™ºè€…: HTMLãƒ•ã‚¡ã‚¤ãƒ«ç·¨é›† & git push
  â†“
GitHub Actions: Frontend Auto-Deploy
  1. å¤‰æ›´ã•ã‚ŒãŸã‚·ã‚¹ãƒ†ãƒ ã‚’æ¤œå‡º
  2. Xserver FTPè‡ªå‹•ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰
  â†“
å®Œäº†ï¼æœ¬ç•ªã‚µã‚¤ãƒˆæ›´æ–°
```

---

## ğŸ¤– GitHub Actionsï¼ˆå®Œå…¨è‡ªå‹•åŒ–ï¼‰

### ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼1: `gas-cicd.yml`

**ãƒˆãƒªã‚¬ãƒ¼**: `franchise-register/gas/**` ã®å¤‰æ›´

**å‡¦ç†å†…å®¹**:
- âœ… Run Testsï¼ˆJavaScriptæ§‹æ–‡ãƒã‚§ãƒƒã‚¯ï¼‰
- âœ… Deploy to GASï¼ˆclasp push & deployï¼‰
- âœ… Health Checkï¼ˆAPIå‹•ä½œç¢ºèªï¼‰
- âœ… Sync env-loader.jsï¼ˆå…¨ã‚·ã‚¹ãƒ†ãƒ URLåŒæœŸï¼‰
- âœ… Rollback on Failureï¼ˆå¤±æ•—æ™‚è‡ªå‹•å¾©å…ƒï¼‰

### ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼2: `frontend-deploy.yml`

**ãƒˆãƒªã‚¬ãƒ¼**: å„ã‚·ã‚¹ãƒ†ãƒ ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®å¤‰æ›´

**å‡¦ç†å†…å®¹**:
- âœ… Admin Dashboard â†’ FTP
- âœ… Franchise Dashboard â†’ FTP
- âœ… Franchise Register â†’ FTP
- âœ… Estimate Keep System â†’ FTP

---

## ğŸ“ ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ 

```
kuraberu-main/
â”œâ”€â”€ .github/workflows/          â† GitHub Actionsï¼ˆè‡ªå‹•åŒ–ï¼‰
â”‚   â”œâ”€â”€ gas-cicd.yml           â† GAS CI/CD Pipeline
â”‚   â””â”€â”€ frontend-deploy.yml    â† Frontend Auto-Deploy
â”‚
â”œâ”€â”€ franchise-register/gas/     â† GASãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ â­é‡è¦
â”‚   â”œâ”€â”€ main.js                â† ãƒ¡ã‚¤ãƒ³ã‚¨ãƒ³ãƒˆãƒªãƒ¼ãƒã‚¤ãƒ³ãƒˆ
â”‚   â”œâ”€â”€ systems/
â”‚   â”‚   â”œâ”€â”€ ai/AISearchSystem.gs           â† AIæ¤œç´¢
â”‚   â”‚   â”œâ”€â”€ franchise/FranchiseSystem.js   â† åŠ ç›Ÿåº—ç™»éŒ²
â”‚   â”‚   â”œâ”€â”€ admin/AdminSystem.js           â† ç®¡ç†ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰
â”‚   â”‚   â””â”€â”€ merchant/MerchantSystem.js     â† åŠ ç›Ÿåº—ãƒãƒ¼ã‚¿ãƒ«
â”‚   â”œâ”€â”€ .clasp.json            â† GASè¨­å®š
â”‚   â””â”€â”€ .claspignore           â† ãƒ‡ãƒ—ãƒ­ã‚¤é™¤å¤–ãƒ•ã‚¡ã‚¤ãƒ«
â”‚
â”œâ”€â”€ admin-dashboard/dist/       â† ç®¡ç†ç”»é¢ï¼ˆæœ¬ç•ªï¼‰
â”œâ”€â”€ franchise-dashboard/dist/   â† åŠ ç›Ÿåº—ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ï¼ˆæœ¬ç•ªï¼‰
â”œâ”€â”€ franchise-register/dist/    â† åŠ ç›Ÿåº—ç™»éŒ²ï¼ˆæœ¬ç•ªï¼‰
â”œâ”€â”€ estimate-keep-system/dist/  â† è¦‹ç©ã‚‚ã‚Šã‚·ã‚¹ãƒ†ãƒ ï¼ˆæœ¬ç•ªï¼‰
â”‚
â”œâ”€â”€ shared/                     â† å…±é€šãƒ•ã‚¡ã‚¤ãƒ«
â”‚   â””â”€â”€ env-loader.js          â† GAS URL ãƒã‚¹ã‚¿ãƒ¼
â”‚
â”œâ”€â”€ sync-all-env-loaders.js     â† env-loader.jsè‡ªå‹•åŒæœŸã‚¹ã‚¯ãƒªãƒ—ãƒˆ
â”œâ”€â”€ CURRENT_STATUS.md           â† ã‚·ã‚¹ãƒ†ãƒ ç¾åœ¨çŠ¶æ…‹ï¼ˆClaude Codeç”¨ï¼‰
â””â”€â”€ README.md                   â† ã“ã®ãƒ•ã‚¡ã‚¤ãƒ«
```

---

## ğŸ›  æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯

### Backend
- **Google Apps Script** (JavaScript/Google Script)
- **Google Spreadsheet** - ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹
- **Google Drive** - ãƒ•ã‚¡ã‚¤ãƒ«ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸
- **DeepSeek API** - AIä¼æ¥­æƒ…å ±æŠ½å‡º
- **Google Search API** - Webæ¤œç´¢

### Frontend
- **HTML5 + JavaScript** (Vanilla JS)
- **Bootstrap 5** - UI Framework
- **jQuery** - DOMæ“ä½œ
- **env-loader.js** - GAS URLå‹•çš„èª­ã¿è¾¼ã¿

### DevOps
- **GitHub Actions** - CI/CDè‡ªå‹•åŒ–
- **clasp** - GASãƒ‡ãƒ—ãƒ­ã‚¤ãƒ„ãƒ¼ãƒ«
- **FTP-Deploy-Action** - Xserverè‡ªå‹•ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰

---

## ğŸ“ é–‹ç™ºã‚¬ã‚¤ãƒ‰

### 1. GASã‚³ãƒ¼ãƒ‰å¤‰æ›´

```bash
# 1. ãƒ•ã‚¡ã‚¤ãƒ«ç·¨é›†
vim franchise-register/gas/systems/ai/AISearchSystem.gs

# 2. ã‚³ãƒŸãƒƒãƒˆï¼†ãƒ—ãƒƒã‚·ãƒ¥
git add franchise-register/gas/
git commit -m "feat: AIæ¤œç´¢æ”¹å–„"
git push origin main

# 3. GitHub ActionsãŒè‡ªå‹•å®Ÿè¡Œ
#    â†’ GASãƒ‡ãƒ—ãƒ­ã‚¤ â†’ env-loaderæ›´æ–° â†’ FTPã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰
```

### 2. ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰å¤‰æ›´

```bash
# 1. HTMLãƒ•ã‚¡ã‚¤ãƒ«ç·¨é›†
vim admin-dashboard/dist/index.html

# 2. ã‚³ãƒŸãƒƒãƒˆï¼†ãƒ—ãƒƒã‚·ãƒ¥
git add admin-dashboard/
git commit -m "fix: UIæ”¹å–„"
git push origin main

# 3. GitHub ActionsãŒè‡ªå‹•FTPã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰
```

### 3. æ‰‹å‹•GASãƒ‡ãƒ—ãƒ­ã‚¤ï¼ˆãƒ­ãƒ¼ã‚«ãƒ«ï¼‰

```bash
cd franchise-register/gas
clasp push --force
clasp deploy -d "V1234: èª¬æ˜"
```

### 4. env-loader.jsæ‰‹å‹•åŒæœŸ

```bash
# æœ€æ–°ã®GAS Deployment IDã‚’å–å¾—
cd franchise-register/gas
clasp deployments

# å…¨env-loader.jsã‚’åŒæœŸ
node sync-all-env-loaders.js <DEPLOYMENT_ID>
git add */dist/*/env-loader.js
git commit -m "sync: env-loader.jsæ›´æ–°"
git push
```

---

## ğŸ” ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### GitHub Actionså¤±æ•—æ™‚

1. https://github.com/gaihekitosoukuraberu/kuraberu-main/actions ã‚’ç¢ºèª
2. ã‚¨ãƒ©ãƒ¼ãƒ­ã‚°ã‚’èª­ã‚€
3. å¿…è¦ã«å¿œã˜ã¦Re-run

### ãƒ­ãƒ¼ãƒ«ãƒãƒƒã‚¯ãŒå¿…è¦ãªå ´åˆ

```bash
cd franchise-register/gas
clasp deployments  # å‰ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³IDç¢ºèª
# GitHub ActionsãŒè‡ªå‹•ãƒ­ãƒ¼ãƒ«ãƒãƒƒã‚¯æ¸ˆã¿ã®ã¯ãš
```

### env-loader.jsãŒå¤ã„å ´åˆ

```bash
node sync-all-env-loaders.js <æœ€æ–°ã®DEPLOYMENT_ID>
git add */dist/*/env-loader.js
git commit -m "fix: env-loader.jsæ‰‹å‹•åŒæœŸ"
git push
```

---

## ğŸ“Š ã‚·ã‚¹ãƒ†ãƒ çŠ¶æ…‹ç¢ºèª

### ç¾åœ¨ã®çŠ¶æ…‹ã‚’ç¢ºèª

```bash
# ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå…¨ä½“ã®çŠ¶æ…‹
cat CURRENT_STATUS.md

# æœ€æ–°ã‚³ãƒŸãƒƒãƒˆ
git log --oneline -10

# å¤‰æ›´çŠ¶æ³
git status

# GASæœ€æ–°ãƒ‡ãƒ—ãƒ­ã‚¤
cd franchise-register/gas
clasp deployments | head -5
```

### GitHub ActionsçŠ¶æ…‹

- **Actions**: https://github.com/gaihekitosoukuraberu/kuraberu-main/actions
- **æœ€æ–°ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼**: ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ä¸€è¦§ã§ç¢ºèª

---

## ğŸš¨ é‡è¦ãªåŸå‰‡

1. **å®‰å®šæ€§æœ€å„ªå…ˆ** - æœ¬ç•ªç¨¼åƒä¸­ã®ãŸã‚ã€ãƒªã‚¹ã‚¯ã®ã‚ã‚‹å¤‰æ›´ã¯é¿ã‘ã‚‹
2. **è‡ªå‹•åŒ–ã‚’ä¿¡é ¼** - GitHub ActionsãŒæ­£å¸¸å‹•ä½œã—ã¦ã„ã‚‹
3. **ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç®¡ç†** - å…¨å¤‰æ›´ã‚’gitã«commit
4. **ãƒ­ãƒ¼ãƒ«ãƒãƒƒã‚¯å¯èƒ½** - ã„ã¤ã§ã‚‚å‰ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã«æˆ»ã›ã‚‹çŠ¶æ…‹ã‚’ç¶­æŒ
5. **ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆæ›´æ–°** - CURRENT_STATUS.mdã‚’å¸¸ã«æœ€æ–°ã«ä¿ã¤

---

## ğŸ“š é–¢é€£ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

- [CURRENT_STATUS.md](./CURRENT_STATUS.md) - ã‚·ã‚¹ãƒ†ãƒ ç¾åœ¨çŠ¶æ…‹ï¼ˆClaude Codeç”¨ï¼‰
- [FRONTEND_AUTOMATION.md](./FRONTEND_AUTOMATION.md) - ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰è‡ªå‹•åŒ–è©³ç´°
- [.github/workflows/](-./.github/workflows/) - GitHub Actionsè¨­å®š

---

## ğŸ¤ è²¢çŒ®

ã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¯å†…éƒ¨ã‚·ã‚¹ãƒ†ãƒ ã§ã™ã€‚

---

## ğŸ“„ ãƒ©ã‚¤ã‚»ãƒ³ã‚¹

Proprietary - å¤–å£å¡—è£…ãã‚‰ã¹ã‚‹AI

---

**æœ€çµ‚æ›´æ–°**: 2025-10-31
