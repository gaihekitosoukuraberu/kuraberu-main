<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta http-equiv="Content-Style-Type" content="text/css">
  <title></title>
  <meta name="Generator" content="Cocoa HTML Writer">
  <meta name="CocoaVersion" content="2575.4">
  <style type="text/css">
    p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica}
    p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica; min-height: 14.0px}
  </style>
</head>
<body>
<p class="p1">&lt;html lang="ja"&gt;&lt;head&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;meta charset="UTF-8"&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;meta name="viewport" content="width=device-width, initial-scale=1.0"&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;title&gt;加盟店管理システム - 外壁塗装くらべるAI&lt;/title&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;script src="merchant-portal/env-loader.js?v=1134"&gt;&lt;/script&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;script src="https://cdn.tailwindcss.com"&gt;&lt;/script&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;script&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>tailwind.config = {</p>
<p class="p1"><span class="Apple-converted-space">            </span>theme: {</p>
<p class="p1"><span class="Apple-converted-space">                </span>extend: {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>colors: {</p>
<p class="p1"><span class="Apple-converted-space">                        </span>gray: {</p>
<p class="p1"><span class="Apple-converted-space">                            </span>50: '#f9fafb',</p>
<p class="p1"><span class="Apple-converted-space">                            </span>100: '#f3f4f6',</p>
<p class="p1"><span class="Apple-converted-space">                            </span>200: '#e5e7eb',</p>
<p class="p1"><span class="Apple-converted-space">                            </span>300: '#d1d5db',</p>
<p class="p1"><span class="Apple-converted-space">                            </span>400: '#9ca3af',</p>
<p class="p1"><span class="Apple-converted-space">                            </span>500: '#6b7280',</p>
<p class="p1"><span class="Apple-converted-space">                            </span>600: '#4b5563',</p>
<p class="p1"><span class="Apple-converted-space">                            </span>700: '#374151',</p>
<p class="p1"><span class="Apple-converted-space">                            </span>800: '#1f2937',</p>
<p class="p1"><span class="Apple-converted-space">                            </span>900: '#111827',</p>
<p class="p1"><span class="Apple-converted-space">                        </span>}</p>
<p class="p1"><span class="Apple-converted-space">                    </span>}</p>
<p class="p1"><span class="Apple-converted-space">                </span>}</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;/script&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&amp;amp;display=swap" rel="stylesheet"&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;!-- Chart.js CDN --&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;script src="https://cdn.jsdelivr.net/npm/chart.js"&gt;&lt;/script&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;style&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>body { font-family: 'Inter', system-ui, sans-serif; }</p>
<p class="p1"><span class="Apple-converted-space">        </span>.glass { backdrop-filter: blur(12px); }</p>
<p class="p1"><span class="Apple-converted-space">        </span>.section {</p>
<p class="p1"><span class="Apple-converted-space">            </span>background-color: white;</p>
<p class="p1"><span class="Apple-converted-space">            </span>padding: 1.5rem;</p>
<p class="p1"><span class="Apple-converted-space">            </span>border-radius: 0.5rem;</p>
<p class="p1"><span class="Apple-converted-space">            </span>box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1);</p>
<p class="p1"><span class="Apple-converted-space">            </span>margin-bottom: 1rem;</p>
<p class="p1"><span class="Apple-converted-space">            </span>min-height: 200px;</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>.permission-grid {</p>
<p class="p1"><span class="Apple-converted-space">            </span>display: grid;</p>
<p class="p1"><span class="Apple-converted-space">            </span>grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));</p>
<p class="p1"><span class="Apple-converted-space">            </span>gap: 1rem;</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>/* トグルスイッチのスタイル */</p>
<p class="p1"><span class="Apple-converted-space">        </span>.toggle-switch {</p>
<p class="p1"><span class="Apple-converted-space">            </span>position: relative;</p>
<p class="p1"><span class="Apple-converted-space">            </span>appearance: none;</p>
<p class="p1"><span class="Apple-converted-space">            </span>width: 44px;</p>
<p class="p1"><span class="Apple-converted-space">            </span>height: 24px;</p>
<p class="p1"><span class="Apple-converted-space">            </span>background: #cbd5e0;</p>
<p class="p1"><span class="Apple-converted-space">            </span>border-radius: 9999px;</p>
<p class="p1"><span class="Apple-converted-space">            </span>cursor: pointer;</p>
<p class="p1"><span class="Apple-converted-space">            </span>transition: background-color 0.2s;</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>.toggle-switch:checked {</p>
<p class="p1"><span class="Apple-converted-space">            </span>background: #3b82f6;</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>.toggle-switch::after {</p>
<p class="p1"><span class="Apple-converted-space">            </span>content: '';</p>
<p class="p1"><span class="Apple-converted-space">            </span>position: absolute;</p>
<p class="p1"><span class="Apple-converted-space">            </span>top: 2px;</p>
<p class="p1"><span class="Apple-converted-space">            </span>left: 2px;</p>
<p class="p1"><span class="Apple-converted-space">            </span>width: 20px;</p>
<p class="p1"><span class="Apple-converted-space">            </span>height: 20px;</p>
<p class="p1"><span class="Apple-converted-space">            </span>background: white;</p>
<p class="p1"><span class="Apple-converted-space">            </span>border-radius: 50%;</p>
<p class="p1"><span class="Apple-converted-space">            </span>transition: transform 0.2s;</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>.toggle-switch:checked::after {</p>
<p class="p1"><span class="Apple-converted-space">            </span>transform: translateX(20px);</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;/style&gt;</p>
<p class="p1">&lt;style&gt;*, ::before, ::after{--tw-border-spacing-x:0;--tw-border-spacing-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness:proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgb(59 130 246 / 0.5);--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }::backdrop{--tw-border-spacing-x:0;--tw-border-spacing-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness:proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgb(59 130 246 / 0.5);--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }/* ! tailwindcss v3.4.17 | MIT License | https://tailwindcss.com */*,::after,::before{box-sizing:border-box;border-width:0;border-style:solid;border-color:#e5e7eb}::after,::before{--tw-content:''}:host,html{line-height:1.5;-webkit-text-size-adjust:100%;-moz-tab-size:4;tab-size:4;font-family:ui-sans-serif, system-ui, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";font-feature-settings:normal;font-variation-settings:normal;-webkit-tap-highlight-color:transparent}body{margin:0;line-height:inherit}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,pre,samp{font-family:ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;font-feature-settings:normal;font-variation-settings:normal;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}button,input,optgroup,select,textarea{font-family:inherit;font-feature-settings:inherit;font-variation-settings:inherit;font-size:100%;font-weight:inherit;line-height:inherit;letter-spacing:inherit;color:inherit;margin:0;padding:0}button,select{text-transform:none}button,input:where([type=button]),input:where([type=reset]),input:where([type=submit]){-webkit-appearance:button;background-color:transparent;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}progress{vertical-align:baseline}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}blockquote,dd,dl,figure,h1,h2,h3,h4,h5,h6,hr,p,pre{margin:0}fieldset{margin:0;padding:0}legend{padding:0}menu,ol,ul{list-style:none;margin:0;padding:0}dialog{padding:0}textarea{resize:vertical}input::placeholder,textarea::placeholder{opacity:1;color:#9ca3af}[role=button],button{cursor:pointer}:disabled{cursor:default}audio,canvas,embed,iframe,img,object,svg,video{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}[hidden]:where(:not([hidden=until-found])){display:none}.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border-width:0}.invisible{visibility:hidden}.fixed{position:fixed}.absolute{position:absolute}.relative{position:relative}.sticky{position:sticky}.inset-0{inset:0px}.-right-1{right:-0.25rem}.-top-1{top:-0.25rem}.-top-8{top:-2rem}.bottom-0{bottom:0px}.left-0{left:0px}.right-0{right:0px}.right-4{right:1rem}.top-0{top:0px}.top-1\/2{top:50%}.top-14{top:3.5rem}.top-16{top:4rem}.top-20{top:5rem}.top-4{top:1rem}.top-full{top:100%}.right-1{right:0.25rem}.top-1{top:0.25rem}.left-2{left:0.5rem}.top-2{top:0.5rem}.z-10{z-index:10}.z-20{z-index:20}.z-40{z-index:40}.z-50{z-index:50}.z-\[200\]{z-index:200}.-mx-4{margin-left:-1rem;margin-right:-1rem}.mx-auto{margin-left:auto;margin-right:auto}.-mb-px{margin-bottom:-1px}.mb-1{margin-bottom:0.25rem}.mb-1\.5{margin-bottom:0.375rem}.mb-12{margin-bottom:3rem}.mb-2{margin-bottom:0.5rem}.mb-3{margin-bottom:0.75rem}.mb-4{margin-bottom:1rem}.mb-6{margin-bottom:1.5rem}.mb-8{margin-bottom:2rem}.ml-1{margin-left:0.25rem}.ml-2{margin-left:0.5rem}.ml-3{margin-left:0.75rem}.ml-4{margin-left:1rem}.ml-6{margin-left:1.5rem}.ml-auto{margin-left:auto}.mr-1{margin-right:0.25rem}.mr-2{margin-right:0.5rem}.mr-3{margin-right:0.75rem}.mt-0\.5{margin-top:0.125rem}.mt-1{margin-top:0.25rem}.mt-2{margin-top:0.5rem}.mt-3{margin-top:0.75rem}.mt-4{margin-top:1rem}.mt-6{margin-top:1.5rem}.mt-8{margin-top:2rem}.block{display:block}.inline-block{display:inline-block}.inline{display:inline}.flex{display:flex}.inline-flex{display:inline-flex}.grid{display:grid}.hidden{display:none}.aspect-square{aspect-ratio:1 / 1}.h-10{height:2.5rem}.h-12{height:3rem}.h-16{height:4rem}.h-2{height:0.5rem}.h-3{height:0.75rem}.h-4{height:1rem}.h-48{height:12rem}.h-5{height:1.25rem}.h-6{height:1.5rem}.h-64{height:16rem}.h-8{height:2rem}.h-full{height:100%}.h-32{height:8rem}.h-24{height:6rem}.max-h-64{max-height:16rem}.max-h-\[500px\]{max-height:500px}.max-h-\[600px\]{max-height:600px}.max-h-\[90vh\]{max-height:90vh}.max-h-full{max-height:100%}.min-h-\[48px\]{min-height:48px}.min-h-screen{min-height:100vh}.w-1{width:0.25rem}.w-10{width:2.5rem}.w-11{width:2.75rem}.w-11\/12{width:91.666667%}.w-12{width:3rem}.w-16{width:4rem}.w-2{width:0.5rem}.w-3{width:0.75rem}.w-32{width:8rem}.w-4{width:1rem}.w-48{width:12rem}.w-5{width:1.25rem}.w-6{width:1.5rem}.w-64{width:16rem}.w-8{width:2rem}.w-96{width:24rem}.w-\[120px\]{width:120px}.w-full{width:100%}.w-72{width:18rem}.min-w-0{min-width:0px}.min-w-\[20px\]{min-width:20px}.min-w-\[280px\]{min-width:280px}.min-w-full{min-width:100%}.max-w-2xl{max-width:42rem}.max-w-3xl{max-width:48rem}.max-w-4xl{max-width:56rem}.max-w-6xl{max-width:72rem}.max-w-\[100px\]{max-width:100px}.max-w-\[80px\]{max-width:80px}.max-w-full{max-width:100%}.max-w-7xl{max-width:80rem}.max-w-lg{max-width:32rem}.flex-1{flex:1 1 0%}.flex-shrink-0{flex-shrink:0}.-translate-x-12{--tw-translate-x:-3rem;transform:translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.-translate-x-4{--tw-translate-x:-1rem;transform:translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.-translate-x-full{--tw-translate-x:-100%;transform:translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.-translate-y-1\/2{--tw-translate-y:-50%;transform:translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.translate-x-12{--tw-translate-x:3rem;transform:translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.translate-x-4{--tw-translate-x:1rem;transform:translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.scale-125{--tw-scale-x:1.25;--tw-scale-y:1.25;transform:translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.transform{transform:translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}@keyframes pulse{50%{opacity:.5}}.animate-pulse{animation:pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite}.cursor-help{cursor:help}.cursor-not-allowed{cursor:not-allowed}.cursor-pointer{cursor:pointer}.resize-y{resize:vertical}.list-inside{list-style-position:inside}.list-disc{list-style-type:disc}.grid-cols-1{grid-template-columns:repeat(1, minmax(0, 1fr))}.grid-cols-2{grid-template-columns:repeat(2, minmax(0, 1fr))}.grid-cols-3{grid-template-columns:repeat(3, minmax(0, 1fr))}.grid-cols-4{grid-template-columns:repeat(4, minmax(0, 1fr))}.grid-cols-7{grid-template-columns:repeat(7, minmax(0, 1fr))}.grid-cols-8{grid-template-columns:repeat(8, minmax(0, 1fr))}.flex-col{flex-direction:column}.flex-wrap{flex-wrap:wrap}.items-start{align-items:flex-start}.items-center{align-items:center}.justify-end{justify-content:flex-end}.justify-center{justify-content:center}.justify-between{justify-content:space-between}.gap-0{gap:0px}.gap-1{gap:0.25rem}.gap-1\.5{gap:0.375rem}.gap-2{gap:0.5rem}.gap-3{gap:0.75rem}.gap-4{gap:1rem}.gap-6{gap:1.5rem}.space-x-2 &gt; :not([hidden]) ~ :not([hidden]){--tw-space-x-reverse:0;margin-right:calc(0.5rem * var(--tw-space-x-reverse));margin-left:calc(0.5rem * calc(1 - var(--tw-space-x-reverse)))}.space-x-3 &gt; :not([hidden]) ~ :not([hidden]){--tw-space-x-reverse:0;margin-right:calc(0.75rem * var(--tw-space-x-reverse));margin-left:calc(0.75rem * calc(1 - var(--tw-space-x-reverse)))}.space-x-4 &gt; :not([hidden]) ~ :not([hidden]){--tw-space-x-reverse:0;margin-right:calc(1rem * var(--tw-space-x-reverse));margin-left:calc(1rem * calc(1 - var(--tw-space-x-reverse)))}.space-y-1 &gt; :not([hidden]) ~ :not([hidden]){--tw-space-y-reverse:0;margin-top:calc(0.25rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(0.25rem * var(--tw-space-y-reverse))}.space-y-2 &gt; :not([hidden]) ~ :not([hidden]){--tw-space-y-reverse:0;margin-top:calc(0.5rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(0.5rem * var(--tw-space-y-reverse))}.space-y-3 &gt; :not([hidden]) ~ :not([hidden]){--tw-space-y-reverse:0;margin-top:calc(0.75rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(0.75rem * var(--tw-space-y-reverse))}.space-y-4 &gt; :not([hidden]) ~ :not([hidden]){--tw-space-y-reverse:0;margin-top:calc(1rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(1rem * var(--tw-space-y-reverse))}.divide-y &gt; :not([hidden]) ~ :not([hidden]){--tw-divide-y-reverse:0;border-top-width:calc(1px * calc(1 - var(--tw-divide-y-reverse)));border-bottom-width:calc(1px * var(--tw-divide-y-reverse))}.divide-gray-200 &gt; :not([hidden]) ~ :not([hidden]){--tw-divide-opacity:1;border-color:rgb(229 231 235 / var(--tw-divide-opacity, 1))}.overflow-hidden{overflow:hidden}.overflow-x-auto{overflow-x:auto}.overflow-y-auto{overflow-y:auto}.truncate{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.text-ellipsis{text-overflow:ellipsis}.whitespace-nowrap{white-space:nowrap}.whitespace-pre-wrap{white-space:pre-wrap}.break-words{overflow-wrap:break-word}.break-all{word-break:break-all}.rounded{border-radius:0.25rem}.rounded-2xl{border-radius:1rem}.rounded-full{border-radius:9999px}.rounded-lg{border-radius:0.5rem}.rounded-md{border-radius:0.375rem}.rounded-xl{border-radius:0.75rem}.rounded-b-lg{border-bottom-right-radius:0.5rem;border-bottom-left-radius:0.5rem}.rounded-t-2xl{border-top-left-radius:1rem;border-top-right-radius:1rem}.rounded-t-lg{border-top-left-radius:0.5rem;border-top-right-radius:0.5rem}.rounded-t-xl{border-top-left-radius:0.75rem;border-top-right-radius:0.75rem}.border{border-width:1px}.border-2{border-width:2px}.border-b{border-bottom-width:1px}.border-b-2{border-bottom-width:2px}.border-l-4{border-left-width:4px}.border-r{border-right-width:1px}.border-t{border-top-width:1px}.border-t-0{border-top-width:0px}.border-t-2{border-top-width:2px}.border-dashed{border-style:dashed}.border-blue-200{--tw-border-opacity:1;border-color:rgb(191 219 254 / var(--tw-border-opacity, 1))}.border-gray-100{--tw-border-opacity:1;border-color:rgb(243 244 246 / var(--tw-border-opacity, 1))}.border-gray-200{--tw-border-opacity:1;border-color:rgb(229 231 235 / var(--tw-border-opacity, 1))}.border-gray-300{--tw-border-opacity:1;border-color:rgb(209 213 219 / var(--tw-border-opacity, 1))}.border-gray-700{--tw-border-opacity:1;border-color:rgb(55 65 81 / var(--tw-border-opacity, 1))}.border-gray-800{--tw-border-opacity:1;border-color:rgb(31 41 55 / var(--tw-border-opacity, 1))}.border-orange-200{--tw-border-opacity:1;border-color:rgb(254 215 170 / var(--tw-border-opacity, 1))}.border-orange-500{--tw-border-opacity:1;border-color:rgb(249 115 22 / var(--tw-border-opacity, 1))}.border-purple-200{--tw-border-opacity:1;border-color:rgb(233 213 255 / var(--tw-border-opacity, 1))}.border-red-300{--tw-border-opacity:1;border-color:rgb(252 165 165 / var(--tw-border-opacity, 1))}.border-yellow-200{--tw-border-opacity:1;border-color:rgb(254 240 138 / var(--tw-border-opacity, 1))}.border-blue-400{--tw-border-opacity:1;border-color:rgb(96 165 250 / var(--tw-border-opacity, 1))}.border-green-400{--tw-border-opacity:1;border-color:rgb(74 222 128 / var(--tw-border-opacity, 1))}.border-yellow-400{--tw-border-opacity:1;border-color:rgb(250 204 21 / var(--tw-border-opacity, 1))}.border-yellow-300{--tw-border-opacity:1;border-color:rgb(253 224 71 / var(--tw-border-opacity, 1))}.border-purple-100{--tw-border-opacity:1;border-color:rgb(243 232 255 / var(--tw-border-opacity, 1))}.border-green-300{--tw-border-opacity:1;border-color:rgb(134 239 172 / var(--tw-border-opacity, 1))}.border-green-200{--tw-border-opacity:1;border-color:rgb(187 247 208 / var(--tw-border-opacity, 1))}.border-indigo-200{--tw-border-opacity:1;border-color:rgb(199 210 254 / var(--tw-border-opacity, 1))}.border-blue-500{--tw-border-opacity:1;border-color:rgb(59 130 246 / var(--tw-border-opacity, 1))}.bg-black{--tw-bg-opacity:1;background-color:rgb(0 0 0 / var(--tw-bg-opacity, 1))}.bg-blue-100{--tw-bg-opacity:1;background-color:rgb(219 234 254 / var(--tw-bg-opacity, 1))}.bg-blue-200{--tw-bg-opacity:1;background-color:rgb(191 219 254 / var(--tw-bg-opacity, 1))}.bg-blue-50{--tw-bg-opacity:1;background-color:rgb(239 246 255 / var(--tw-bg-opacity, 1))}.bg-blue-500{--tw-bg-opacity:1;background-color:rgb(59 130 246 / var(--tw-bg-opacity, 1))}.bg-blue-600{--tw-bg-opacity:1;background-color:rgb(37 99 235 / var(--tw-bg-opacity, 1))}.bg-gray-100{--tw-bg-opacity:1;background-color:rgb(243 244 246 / var(--tw-bg-opacity, 1))}.bg-gray-200{--tw-bg-opacity:1;background-color:rgb(229 231 235 / var(--tw-bg-opacity, 1))}.bg-gray-50{--tw-bg-opacity:1;background-color:rgb(249 250 251 / var(--tw-bg-opacity, 1))}.bg-gray-500{--tw-bg-opacity:1;background-color:rgb(107 114 128 / var(--tw-bg-opacity, 1))}.bg-gray-600{--tw-bg-opacity:1;background-color:rgb(75 85 99 / var(--tw-bg-opacity, 1))}.bg-gray-800{--tw-bg-opacity:1;background-color:rgb(31 41 55 / var(--tw-bg-opacity, 1))}.bg-gray-900\/95{background-color:rgb(17 24 39 / 0.95)}.bg-green-100{--tw-bg-opacity:1;background-color:rgb(220 252 231 / var(--tw-bg-opacity, 1))}.bg-green-200{--tw-bg-opacity:1;background-color:rgb(187 247 208 / var(--tw-bg-opacity, 1))}.bg-green-50{--tw-bg-opacity:1;background-color:rgb(240 253 244 / var(--tw-bg-opacity, 1))}.bg-green-500{--tw-bg-opacity:1;background-color:rgb(34 197 94 / var(--tw-bg-opacity, 1))}.bg-green-600{--tw-bg-opacity:1;background-color:rgb(22 163 74 / var(--tw-bg-opacity, 1))}.bg-indigo-600{--tw-bg-opacity:1;background-color:rgb(79 70 229 / var(--tw-bg-opacity, 1))}.bg-orange-500{--tw-bg-opacity:1;background-color:rgb(249 115 22 / var(--tw-bg-opacity, 1))}.bg-orange-600{--tw-bg-opacity:1;background-color:rgb(234 88 12 / var(--tw-bg-opacity, 1))}.bg-pink-600{--tw-bg-opacity:1;background-color:rgb(219 39 119 / var(--tw-bg-opacity, 1))}.bg-purple-100{--tw-bg-opacity:1;background-color:rgb(243 232 255 / var(--tw-bg-opacity, 1))}.bg-purple-200{--tw-bg-opacity:1;background-color:rgb(233 213 255 / var(--tw-bg-opacity, 1))}.bg-purple-500{--tw-bg-opacity:1;background-color:rgb(168 85 247 / var(--tw-bg-opacity, 1))}.bg-purple-600{--tw-bg-opacity:1;background-color:rgb(147 51 234 / var(--tw-bg-opacity, 1))}.bg-red-100{--tw-bg-opacity:1;background-color:rgb(254 226 226 / var(--tw-bg-opacity, 1))}.bg-red-500{--tw-bg-opacity:1;background-color:rgb(239 68 68 / var(--tw-bg-opacity, 1))}.bg-white{--tw-bg-opacity:1;background-color:rgb(255 255 255 / var(--tw-bg-opacity, 1))}.bg-white\/20{background-color:rgb(255 255 255 / 0.2)}.bg-yellow-100{--tw-bg-opacity:1;background-color:rgb(254 249 195 / var(--tw-bg-opacity, 1))}.bg-yellow-50{--tw-bg-opacity:1;background-color:rgb(254 252 232 / var(--tw-bg-opacity, 1))}.bg-yellow-500{--tw-bg-opacity:1;background-color:rgb(234 179 8 / var(--tw-bg-opacity, 1))}.bg-gray-300{--tw-bg-opacity:1;background-color:rgb(209 213 219 / var(--tw-bg-opacity, 1))}.bg-purple-50{--tw-bg-opacity:1;background-color:rgb(250 245 255 / var(--tw-bg-opacity, 1))}.bg-indigo-100{--tw-bg-opacity:1;background-color:rgb(224 231 255 / var(--tw-bg-opacity, 1))}.bg-orange-100{--tw-bg-opacity:1;background-color:rgb(255 237 213 / var(--tw-bg-opacity, 1))}.bg-indigo-50{--tw-bg-opacity:1;background-color:rgb(238 242 255 / var(--tw-bg-opacity, 1))}.bg-opacity-50{--tw-bg-opacity:0.5}.bg-opacity-90{--tw-bg-opacity:0.9}.bg-opacity-60{--tw-bg-opacity:0.6}.bg-gradient-to-b{background-image:linear-gradient(to bottom, var(--tw-gradient-stops))}.bg-gradient-to-br{background-image:linear-gradient(to bottom right, var(--tw-gradient-stops))}.bg-gradient-to-r{background-image:linear-gradient(to right, var(--tw-gradient-stops))}.from-blue-400{--tw-gradient-from:#60a5fa var(--tw-gradient-from-position);--tw-gradient-to:rgb(96 165 250 / 0) var(--tw-gradient-to-position);--tw-gradient-stops:var(--tw-gradient-from), var(--tw-gradient-to)}.from-blue-50{--tw-gradient-from:#eff6ff var(--tw-gradient-from-position);--tw-gradient-to:rgb(239 246 255 / 0) var(--tw-gradient-to-position);--tw-gradient-stops:var(--tw-gradient-from), var(--tw-gradient-to)}.from-blue-500{--tw-gradient-from:#3b82f6 var(--tw-gradient-from-position);--tw-gradient-to:rgb(59 130 246 / 0) var(--tw-gradient-to-position);--tw-gradient-stops:var(--tw-gradient-from), var(--tw-gradient-to)}.from-blue-600{--tw-gradient-from:#2563eb var(--tw-gradient-from-position);--tw-gradient-to:rgb(37 99 235 / 0) var(--tw-gradient-to-position);--tw-gradient-stops:var(--tw-gradient-from), var(--tw-gradient-to)}.from-green-50{--tw-gradient-from:#f0fdf4 var(--tw-gradient-from-position);--tw-gradient-to:rgb(240 253 244 / 0) var(--tw-gradient-to-position);--tw-gradient-stops:var(--tw-gradient-from), var(--tw-gradient-to)}.from-orange-50{--tw-gradient-from:#fff7ed var(--tw-gradient-from-position);--tw-gradient-to:rgb(255 247 237 / 0) var(--tw-gradient-to-position);--tw-gradient-stops:var(--tw-gradient-from), var(--tw-gradient-to)}.from-orange-500{--tw-gradient-from:#f97316 var(--tw-gradient-from-position);--tw-gradient-to:rgb(249 115 22 / 0) var(--tw-gradient-to-position);--tw-gradient-stops:var(--tw-gradient-from), var(--tw-gradient-to)}.from-purple-50{--tw-gradient-from:#faf5ff var(--tw-gradient-from-position);--tw-gradient-to:rgb(250 245 255 / 0) var(--tw-gradient-to-position);--tw-gradient-stops:var(--tw-gradient-from), var(--tw-gradient-to)}.from-purple-600{--tw-gradient-from:#9333ea var(--tw-gradient-from-position);--tw-gradient-to:rgb(147 51 234 / 0) var(--tw-gradient-to-position);--tw-gradient-stops:var(--tw-gradient-from), var(--tw-gradient-to)}.from-transparent{--tw-gradient-from:transparent var(--tw-gradient-from-position);--tw-gradient-to:rgb(0 0 0 / 0) var(--tw-gradient-to-position);--tw-gradient-stops:var(--tw-gradient-from), var(--tw-gradient-to)}.from-yellow-50{--tw-gradient-from:#fefce8 var(--tw-gradient-from-position);--tw-gradient-to:rgb(254 252 232 / 0) var(--tw-gradient-to-position);--tw-gradient-stops:var(--tw-gradient-from), var(--tw-gradient-to)}.from-yellow-500{--tw-gradient-from:#eab308 var(--tw-gradient-from-position);--tw-gradient-to:rgb(234 179 8 / 0) var(--tw-gradient-to-position);--tw-gradient-stops:var(--tw-gradient-from), var(--tw-gradient-to)}.from-indigo-50{--tw-gradient-from:#eef2ff var(--tw-gradient-from-position);--tw-gradient-to:rgb(238 242 255 / 0) var(--tw-gradient-to-position);--tw-gradient-stops:var(--tw-gradient-from), var(--tw-gradient-to)}.from-pink-50{--tw-gradient-from:#fdf2f8 var(--tw-gradient-from-position);--tw-gradient-to:rgb(253 242 248 / 0) var(--tw-gradient-to-position);--tw-gradient-stops:var(--tw-gradient-from), var(--tw-gradient-to)}.from-amber-400{--tw-gradient-from:#fbbf24 var(--tw-gradient-from-position);--tw-gradient-to:rgb(251 191 36 / 0) var(--tw-gradient-to-position);--tw-gradient-stops:var(--tw-gradient-from), var(--tw-gradient-to)}.from-amber-50{--tw-gradient-from:#fffbeb var(--tw-gradient-from-position);--tw-gradient-to:rgb(255 251 235 / 0) var(--tw-gradient-to-position);--tw-gradient-stops:var(--tw-gradient-from), var(--tw-gradient-to)}.via-blue-50{--tw-gradient-to:rgb(239 246 255 / 0)<span class="Apple-converted-space">  </span>var(--tw-gradient-to-position);--tw-gradient-stops:var(--tw-gradient-from), #eff6ff var(--tw-gradient-via-position), var(--tw-gradient-to)}.via-orange-100{--tw-gradient-to:rgb(255 237 213 / 0)<span class="Apple-converted-space">  </span>var(--tw-gradient-to-position);--tw-gradient-stops:var(--tw-gradient-from), #ffedd5 var(--tw-gradient-via-position), var(--tw-gradient-to)}.via-transparent{--tw-gradient-to:rgb(0 0 0 / 0)<span class="Apple-converted-space">  </span>var(--tw-gradient-to-position);--tw-gradient-stops:var(--tw-gradient-from), transparent var(--tw-gradient-via-position), var(--tw-gradient-to)}.to-black\/30{--tw-gradient-to:rgb(0 0 0 / 0.3) var(--tw-gradient-to-position)}.to-blue-100{--tw-gradient-to:#dbeafe var(--tw-gradient-to-position)}.to-blue-50{--tw-gradient-to:#eff6ff var(--tw-gradient-to-position)}.to-blue-500{--tw-gradient-to:#3b82f6 var(--tw-gradient-to-position)}.to-blue-600{--tw-gradient-to:#2563eb var(--tw-gradient-to-position)}.to-green-100{--tw-gradient-to:#dcfce7 var(--tw-gradient-to-position)}.to-orange-50{--tw-gradient-to:#fff7ed var(--tw-gradient-to-position)}.to-orange-600{--tw-gradient-to:#ea580c var(--tw-gradient-to-position)}.to-purple-100{--tw-gradient-to:#f3e8ff var(--tw-gradient-to-position)}.to-purple-400{--tw-gradient-to:#c084fc var(--tw-gradient-to-position)}.to-purple-50{--tw-gradient-to:#faf5ff var(--tw-gradient-to-position)}.to-purple-600{--tw-gradient-to:#9333ea var(--tw-gradient-to-position)}.to-red-50{--tw-gradient-to:#fef2f2 var(--tw-gradient-to-position)}.to-red-500{--tw-gradient-to:#ef4444 var(--tw-gradient-to-position)}.to-indigo-100{--tw-gradient-to:#e0e7ff var(--tw-gradient-to-position)}.to-pink-100{--tw-gradient-to:#fce7f3 var(--tw-gradient-to-position)}.to-yellow-100{--tw-gradient-to:#fef9c3 var(--tw-gradient-to-position)}.to-yellow-400{--tw-gradient-to:#facc15 var(--tw-gradient-to-position)}.to-yellow-50{--tw-gradient-to:#fefce8 var(--tw-gradient-to-position)}.bg-clip-text{-webkit-background-clip:text;background-clip:text}.fill-current{fill:currentColor}.object-contain{object-fit:contain}.object-cover{object-fit:cover}.p-1{padding:0.25rem}.p-10{padding:2.5rem}.p-12{padding:3rem}.p-2{padding:0.5rem}.p-3{padding:0.75rem}.p-4{padding:1rem}.p-5{padding:1.25rem}.p-6{padding:1.5rem}.p-8{padding:2rem}.p-1\.5{padding:0.375rem}.px-1{padding-left:0.25rem;padding-right:0.25rem}.px-10{padding-left:2.5rem;padding-right:2.5rem}.px-2{padding-left:0.5rem;padding-right:0.5rem}.px-2\.5{padding-left:0.625rem;padding-right:0.625rem}.px-3{padding-left:0.75rem;padding-right:0.75rem}.px-4{padding-left:1rem;padding-right:1rem}.px-6{padding-left:1.5rem;padding-right:1.5rem}.px-8{padding-left:2rem;padding-right:2rem}.py-0\.5{padding-top:0.125rem;padding-bottom:0.125rem}.py-1{padding-top:0.25rem;padding-bottom:0.25rem}.py-1\.5{padding-top:0.375rem;padding-bottom:0.375rem}.py-12{padding-top:3rem;padding-bottom:3rem}.py-2{padding-top:0.5rem;padding-bottom:0.5rem}.py-3{padding-top:0.75rem;padding-bottom:0.75rem}.py-4{padding-top:1rem;padding-bottom:1rem}.py-6{padding-top:1.5rem;padding-bottom:1.5rem}.py-8{padding-top:2rem;padding-bottom:2rem}.pb-2{padding-bottom:0.5rem}.pb-20{padding-bottom:5rem}.pt-20{padding-top:5rem}.pt-3{padding-top:0.75rem}.pt-4{padding-top:1rem}.pb-6{padding-bottom:1.5rem}.text-left{text-align:left}.text-center{text-align:center}.text-right{text-align:right}.text-2xl{font-size:1.5rem;line-height:2rem}.text-3xl{font-size:1.875rem;line-height:2.25rem}.text-5xl{font-size:3rem;line-height:1}.text-base{font-size:1rem;line-height:1.5rem}.text-lg{font-size:1.125rem;line-height:1.75rem}.text-sm{font-size:0.875rem;line-height:1.25rem}.text-xl{font-size:1.25rem;line-height:1.75rem}.text-xs{font-size:0.75rem;line-height:1rem}.font-bold{font-weight:700}.font-medium{font-weight:500}.font-normal{font-weight:400}.font-semibold{font-weight:600}.uppercase{text-transform:uppercase}.leading-5{line-height:1.25rem}.leading-relaxed{line-height:1.625}.leading-tight{line-height:1.25}.tracking-wider{letter-spacing:0.05em}.text-blue-600{--tw-text-opacity:1;color:rgb(37 99 235 / var(--tw-text-opacity, 1))}.text-blue-700{--tw-text-opacity:1;color:rgb(29 78 216 / var(--tw-text-opacity, 1))}.text-blue-800{--tw-text-opacity:1;color:rgb(30 64 175 / var(--tw-text-opacity, 1))}.text-blue-900{--tw-text-opacity:1;color:rgb(30 58 138 / var(--tw-text-opacity, 1))}.text-gray-100{--tw-text-opacity:1;color:rgb(243 244 246 / var(--tw-text-opacity, 1))}.text-gray-300{--tw-text-opacity:1;color:rgb(209 213 219 / var(--tw-text-opacity, 1))}.text-gray-400{--tw-text-opacity:1;color:rgb(156 163 175 / var(--tw-text-opacity, 1))}.text-gray-500{--tw-text-opacity:1;color:rgb(107 114 128 / var(--tw-text-opacity, 1))}.text-gray-600{--tw-text-opacity:1;color:rgb(75 85 99 / var(--tw-text-opacity, 1))}.text-gray-700{--tw-text-opacity:1;color:rgb(55 65 81 / var(--tw-text-opacity, 1))}.text-gray-800{--tw-text-opacity:1;color:rgb(31 41 55 / var(--tw-text-opacity, 1))}.text-gray-900{--tw-text-opacity:1;color:rgb(17 24 39 / var(--tw-text-opacity, 1))}.text-green-600{--tw-text-opacity:1;color:rgb(22 163 74 / var(--tw-text-opacity, 1))}.text-green-700{--tw-text-opacity:1;color:rgb(21 128 61 / var(--tw-text-opacity, 1))}.text-green-800{--tw-text-opacity:1;color:rgb(22 101 52 / var(--tw-text-opacity, 1))}.text-green-900{--tw-text-opacity:1;color:rgb(20 83 45 / var(--tw-text-opacity, 1))}.text-orange-500{--tw-text-opacity:1;color:rgb(249 115 22 / var(--tw-text-opacity, 1))}.text-orange-600{--tw-text-opacity:1;color:rgb(234 88 12 / var(--tw-text-opacity, 1))}.text-purple-500{--tw-text-opacity:1;color:rgb(168 85 247 / var(--tw-text-opacity, 1))}.text-purple-600{--tw-text-opacity:1;color:rgb(147 51 234 / var(--tw-text-opacity, 1))}.text-purple-700{--tw-text-opacity:1;color:rgb(126 34 206 / var(--tw-text-opacity, 1))}.text-purple-800{--tw-text-opacity:1;color:rgb(107 33 168 / var(--tw-text-opacity, 1))}.text-purple-900{--tw-text-opacity:1;color:rgb(88 28 135 / var(--tw-text-opacity, 1))}.text-red-500{--tw-text-opacity:1;color:rgb(239 68 68 / var(--tw-text-opacity, 1))}.text-red-600{--tw-text-opacity:1;color:rgb(220 38 38 / var(--tw-text-opacity, 1))}.text-red-700{--tw-text-opacity:1;color:rgb(185 28 28 / var(--tw-text-opacity, 1))}.text-red-800{--tw-text-opacity:1;color:rgb(153 27 27 / var(--tw-text-opacity, 1))}.text-transparent{color:transparent}.text-white{--tw-text-opacity:1;color:rgb(255 255 255 / var(--tw-text-opacity, 1))}.text-yellow-600{--tw-text-opacity:1;color:rgb(202 138 4 / var(--tw-text-opacity, 1))}.text-yellow-700{--tw-text-opacity:1;color:rgb(161 98 7 / var(--tw-text-opacity, 1))}.text-yellow-800{--tw-text-opacity:1;color:rgb(133 77 14 / var(--tw-text-opacity, 1))}.text-black{--tw-text-opacity:1;color:rgb(0 0 0 / var(--tw-text-opacity, 1))}.text-yellow-500{--tw-text-opacity:1;color:rgb(234 179 8 / var(--tw-text-opacity, 1))}.text-yellow-400{--tw-text-opacity:1;color:rgb(250 204 21 / var(--tw-text-opacity, 1))}.text-indigo-800{--tw-text-opacity:1;color:rgb(55 48 163 / var(--tw-text-opacity, 1))}.text-orange-700{--tw-text-opacity:1;color:rgb(194 65 12 / var(--tw-text-opacity, 1))}.text-amber-900{--tw-text-opacity:1;color:rgb(120 53 15 / var(--tw-text-opacity, 1))}.line-through{-webkit-text-decoration-line:line-through;text-decoration-line:line-through}.opacity-10{opacity:0.1}.opacity-90{opacity:0.9}.opacity-0{opacity:0}.shadow{--tw-shadow:0 1px 3px 0 rgb(0 0 0 / 0.1), 0 1px 2px -1px rgb(0 0 0 / 0.1);--tw-shadow-colored:0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}.shadow-2xl{--tw-shadow:0 25px 50px -12px rgb(0 0 0 / 0.25);--tw-shadow-colored:0 25px 50px -12px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}.shadow-lg{--tw-shadow:0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);--tw-shadow-colored:0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}.shadow-md{--tw-shadow:0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);--tw-shadow-colored:0 4px 6px -1px var(--tw-shadow-color), 0 2px 4px -2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}.shadow-xl{--tw-shadow:0 20px 25px -5px rgb(0 0 0 / 0.1), 0 8px 10px -6px rgb(0 0 0 / 0.1);--tw-shadow-colored:0 20px 25px -5px var(--tw-shadow-color), 0 8px 10px -6px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}.shadow-sm{--tw-shadow:0 1px 2px 0 rgb(0 0 0 / 0.05);--tw-shadow-colored:0 1px 2px 0 var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}.drop-shadow-lg{--tw-drop-shadow:drop-shadow(0 10px 8px rgb(0 0 0 / 0.04)) drop-shadow(0 4px 3px rgb(0 0 0 / 0.1));filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.drop-shadow-md{--tw-drop-shadow:drop-shadow(0 4px 3px rgb(0 0 0 / 0.07)) drop-shadow(0 2px 2px rgb(0 0 0 / 0.06));filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.backdrop-blur{--tw-backdrop-blur:blur(8px);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.transition{transition-property:color, background-color, border-color, fill, stroke, opacity, box-shadow, transform, filter, -webkit-text-decoration-color, -webkit-backdrop-filter;transition-property:color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform, filter, backdrop-filter;transition-property:color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform, filter, backdrop-filter, -webkit-text-decoration-color, -webkit-backdrop-filter;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-duration:150ms}.transition-colors{transition-property:color, background-color, border-color, fill, stroke, -webkit-text-decoration-color;transition-property:color, background-color, border-color, text-decoration-color, fill, stroke;transition-property:color, background-color, border-color, text-decoration-color, fill, stroke, -webkit-text-decoration-color;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-duration:150ms}.transition-shadow{transition-property:box-shadow;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-duration:150ms}.transition-transform{transition-property:transform;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-duration:150ms}.transition-all{transition-property:all;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-duration:150ms}.duration-300{transition-duration:300ms}.after\:absolute::after{content:var(--tw-content);position:absolute}.after\:left-\[2px\]::after{content:var(--tw-content);left:2px}.after\:top-\[2px\]::after{content:var(--tw-content);top:2px}.after\:h-5::after{content:var(--tw-content);height:1.25rem}.after\:w-5::after{content:var(--tw-content);width:1.25rem}.after\:rounded-full::after{content:var(--tw-content);border-radius:9999px}.after\:border::after{content:var(--tw-content);border-width:1px}.after\:border-gray-300::after{content:var(--tw-content);--tw-border-opacity:1;border-color:rgb(209 213 219 / var(--tw-border-opacity, 1))}.after\:bg-white::after{content:var(--tw-content);--tw-bg-opacity:1;background-color:rgb(255 255 255 / var(--tw-bg-opacity, 1))}.after\:transition-all::after{content:var(--tw-content);transition-property:all;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-duration:150ms}.after\:content-\[\'\'\]::after{--tw-content:'';content:var(--tw-content)}.hover\:scale-105:hover{--tw-scale-x:1.05;--tw-scale-y:1.05;transform:translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.hover\:scale-110:hover{--tw-scale-x:1.1;--tw-scale-y:1.1;transform:translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.hover\:border-blue-500:hover{--tw-border-opacity:1;border-color:rgb(59 130 246 / var(--tw-border-opacity, 1))}.hover\:border-gray-300:hover{--tw-border-opacity:1;border-color:rgb(209 213 219 / var(--tw-border-opacity, 1))}.hover\:bg-blue-200:hover{--tw-bg-opacity:1;background-color:rgb(191 219 254 / var(--tw-bg-opacity, 1))}.hover\:bg-blue-50:hover{--tw-bg-opacity:1;background-color:rgb(239 246 255 / var(--tw-bg-opacity, 1))}.hover\:bg-blue-600:hover{--tw-bg-opacity:1;background-color:rgb(37 99 235 / var(--tw-bg-opacity, 1))}.hover\:bg-blue-700:hover{--tw-bg-opacity:1;background-color:rgb(29 78 216 / var(--tw-bg-opacity, 1))}.hover\:bg-gray-100:hover{--tw-bg-opacity:1;background-color:rgb(243 244 246 / var(--tw-bg-opacity, 1))}.hover\:bg-gray-200:hover{--tw-bg-opacity:1;background-color:rgb(229 231 235 / var(--tw-bg-opacity, 1))}.hover\:bg-gray-300:hover{--tw-bg-opacity:1;background-color:rgb(209 213 219 / var(--tw-bg-opacity, 1))}.hover\:bg-gray-50:hover{--tw-bg-opacity:1;background-color:rgb(249 250 251 / var(--tw-bg-opacity, 1))}.hover\:bg-gray-600:hover{--tw-bg-opacity:1;background-color:rgb(75 85 99 / var(--tw-bg-opacity, 1))}.hover\:bg-gray-700:hover{--tw-bg-opacity:1;background-color:rgb(55 65 81 / var(--tw-bg-opacity, 1))}.hover\:bg-gray-800:hover{--tw-bg-opacity:1;background-color:rgb(31 41 55 / var(--tw-bg-opacity, 1))}.hover\:bg-green-200:hover{--tw-bg-opacity:1;background-color:rgb(187 247 208 / var(--tw-bg-opacity, 1))}.hover\:bg-green-600:hover{--tw-bg-opacity:1;background-color:rgb(22 163 74 / var(--tw-bg-opacity, 1))}.hover\:bg-green-700:hover{--tw-bg-opacity:1;background-color:rgb(21 128 61 / var(--tw-bg-opacity, 1))}.hover\:bg-purple-700:hover{--tw-bg-opacity:1;background-color:rgb(126 34 206 / var(--tw-bg-opacity, 1))}.hover\:bg-red-200:hover{--tw-bg-opacity:1;background-color:rgb(254 202 202 / var(--tw-bg-opacity, 1))}.hover\:bg-red-900\/50:hover{background-color:rgb(127 29 29 / 0.5)}.hover\:bg-white:hover{--tw-bg-opacity:1;background-color:rgb(255 255 255 / var(--tw-bg-opacity, 1))}.hover\:bg-yellow-200:hover{--tw-bg-opacity:1;background-color:rgb(254 240 138 / var(--tw-bg-opacity, 1))}.hover\:bg-blue-100:hover{--tw-bg-opacity:1;background-color:rgb(219 234 254 / var(--tw-bg-opacity, 1))}.hover\:bg-orange-200:hover{--tw-bg-opacity:1;background-color:rgb(254 215 170 / var(--tw-bg-opacity, 1))}.hover\:bg-red-100:hover{--tw-bg-opacity:1;background-color:rgb(254 226 226 / var(--tw-bg-opacity, 1))}.hover\:bg-yellow-100:hover{--tw-bg-opacity:1;background-color:rgb(254 249 195 / var(--tw-bg-opacity, 1))}.hover\:bg-green-100:hover{--tw-bg-opacity:1;background-color:rgb(220 252 231 / var(--tw-bg-opacity, 1))}.hover\:bg-opacity-20:hover{--tw-bg-opacity:0.2}.hover\:from-amber-100:hover{--tw-gradient-from:#fef3c7 var(--tw-gradient-from-position);--tw-gradient-to:rgb(254 243 199 / 0) var(--tw-gradient-to-position);--tw-gradient-stops:var(--tw-gradient-from), var(--tw-gradient-to)}.hover\:to-yellow-100:hover{--tw-gradient-to:#fef9c3 var(--tw-gradient-to-position)}.hover\:text-blue-800:hover{--tw-text-opacity:1;color:rgb(30 64 175 / var(--tw-text-opacity, 1))}.hover\:text-blue-900:hover{--tw-text-opacity:1;color:rgb(30 58 138 / var(--tw-text-opacity, 1))}.hover\:text-gray-100:hover{--tw-text-opacity:1;color:rgb(243 244 246 / var(--tw-text-opacity, 1))}.hover\:text-gray-200:hover{--tw-text-opacity:1;color:rgb(229 231 235 / var(--tw-text-opacity, 1))}.hover\:text-gray-700:hover{--tw-text-opacity:1;color:rgb(55 65 81 / var(--tw-text-opacity, 1))}.hover\:text-green-900:hover{--tw-text-opacity:1;color:rgb(20 83 45 / var(--tw-text-opacity, 1))}.hover\:text-red-400:hover{--tw-text-opacity:1;color:rgb(248 113 113 / var(--tw-text-opacity, 1))}.hover\:text-red-800:hover{--tw-text-opacity:1;color:rgb(153 27 27 / var(--tw-text-opacity, 1))}.hover\:text-red-900:hover{--tw-text-opacity:1;color:rgb(127 29 29 / var(--tw-text-opacity, 1))}.hover\:text-gray-300:hover{--tw-text-opacity:1;color:rgb(209 213 219 / var(--tw-text-opacity, 1))}.hover\:text-gray-600:hover{--tw-text-opacity:1;color:rgb(75 85 99 / var(--tw-text-opacity, 1))}.hover\:underline:hover{-webkit-text-decoration-line:underline;text-decoration-line:underline}.hover\:opacity-80:hover{opacity:0.8}.hover\:opacity-90:hover{opacity:0.9}.hover\:shadow-lg:hover{--tw-shadow:0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);--tw-shadow-colored:0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}.hover\:shadow-md:hover{--tw-shadow:0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);--tw-shadow-colored:0 4px 6px -1px var(--tw-shadow-color), 0 2px 4px -2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}.hover\:shadow-xl:hover{--tw-shadow:0 20px 25px -5px rgb(0 0 0 / 0.1), 0 8px 10px -6px rgb(0 0 0 / 0.1);--tw-shadow-colored:0 20px 25px -5px var(--tw-shadow-color), 0 8px 10px -6px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}.focus\:border-blue-500:focus{--tw-border-opacity:1;border-color:rgb(59 130 246 / var(--tw-border-opacity, 1))}.focus\:outline-none:focus{outline:2px solid transparent;outline-offset:2px}.focus\:ring-1:focus{--tw-ring-offset-shadow:var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow:var(--tw-ring-inset) 0 0 0 calc(1px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow, 0 0 #0000)}.focus\:ring-2:focus{--tw-ring-offset-shadow:var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow:var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow, 0 0 #0000)}.focus\:ring-blue-500:focus{--tw-ring-opacity:1;--tw-ring-color:rgb(59 130 246 / var(--tw-ring-opacity, 1))}.focus\:ring-orange-500:focus{--tw-ring-opacity:1;--tw-ring-color:rgb(249 115 22 / var(--tw-ring-opacity, 1))}.active\:bg-blue-800:active{--tw-bg-opacity:1;background-color:rgb(30 64 175 / var(--tw-bg-opacity, 1))}.group:hover .group-hover\:visible{visibility:visible}.group:hover .group-hover\:block{display:block}.group:hover .group-hover\:text-blue-400{--tw-text-opacity:1;color:rgb(96 165 250 / var(--tw-text-opacity, 1))}.group:hover .group-hover\:text-yellow-400{--tw-text-opacity:1;color:rgb(250 204 21 / var(--tw-text-opacity, 1))}.group:hover .group-hover\:opacity-100{opacity:1}.peer:checked ~ .peer-checked\:bg-blue-600{--tw-bg-opacity:1;background-color:rgb(37 99 235 / var(--tw-bg-opacity, 1))}.peer:checked ~ .peer-checked\:bg-orange-500{--tw-bg-opacity:1;background-color:rgb(249 115 22 / var(--tw-bg-opacity, 1))}.peer:checked ~ .peer-checked\:after\:translate-x-full::after{content:var(--tw-content);--tw-translate-x:100%;transform:translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.peer:checked ~ .peer-checked\:after\:border-white::after{content:var(--tw-content);--tw-border-opacity:1;border-color:rgb(255 255 255 / var(--tw-border-opacity, 1))}.peer:focus ~ .peer-focus\:outline-none{outline:2px solid transparent;outline-offset:2px}.peer:focus ~ .peer-focus\:ring-4{--tw-ring-offset-shadow:var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow:var(--tw-ring-inset) 0 0 0 calc(4px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow, 0 0 #0000)}.peer:focus ~ .peer-focus\:ring-orange-300{--tw-ring-opacity:1;--tw-ring-color:rgb(253 186 116 / var(--tw-ring-opacity, 1))}@media (min-width: 640px){.sm\:mx-0{margin-left:0px;margin-right:0px}.sm\:mb-4{margin-bottom:1rem}.sm\:ml-1{margin-left:0.25rem}.sm\:block{display:block}.sm\:inline{display:inline}.sm\:grid{display:grid}.sm\:min-w-0{min-width:0px}.sm\:max-w-\[100px\]{max-width:100px}.sm\:flex-none{flex:none}.sm\:grid-cols-2{grid-template-columns:repeat(2, minmax(0, 1fr))}.sm\:flex-row{flex-direction:row}.sm\:items-center{align-items:center}.sm\:justify-between{justify-content:space-between}.sm\:gap-4{gap:1rem}.sm\:space-x-3 &gt; :not([hidden]) ~ :not([hidden]){--tw-space-x-reverse:0;margin-right:calc(0.75rem * var(--tw-space-x-reverse));margin-left:calc(0.75rem * calc(1 - var(--tw-space-x-reverse)))}.sm\:space-y-4 &gt; :not([hidden]) ~ :not([hidden]){--tw-space-y-reverse:0;margin-top:calc(1rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(1rem * var(--tw-space-y-reverse))}.sm\:p-6{padding:1.5rem}.sm\:p-8{padding:2rem}.sm\:px-0{padding-left:0px;padding-right:0px}.sm\:px-2{padding-left:0.5rem;padding-right:0.5rem}.sm\:px-6{padding-left:1.5rem;padding-right:1.5rem}.sm\:py-4{padding-top:1rem;padding-bottom:1rem}.sm\:text-left{text-align:left}.sm\:text-3xl{font-size:1.875rem;line-height:2.25rem}.sm\:text-4xl{font-size:2.25rem;line-height:2.5rem}.sm\:text-7xl{font-size:4.5rem;line-height:1}.sm\:text-base{font-size:1rem;line-height:1.5rem}.sm\:text-lg{font-size:1.125rem;line-height:1.75rem}.sm\:text-sm{font-size:0.875rem;line-height:1.25rem}}@media (min-width: 768px){.md\:col-span-2{grid-column:span 2 / span 2}.md\:table-cell{display:table-cell}.md\:w-96{width:24rem}.md\:max-w-\[140px\]{max-width:140px}.md\:max-w-none{max-width:none}.md\:grid-cols-2{grid-template-columns:repeat(2, minmax(0, 1fr))}.md\:grid-cols-3{grid-template-columns:repeat(3, minmax(0, 1fr))}.md\:grid-cols-4{grid-template-columns:repeat(4, minmax(0, 1fr))}}@media (min-width: 1024px){.lg\:col-span-2{grid-column:span 2 / span 2}.lg\:inline{display:inline}.lg\:table-cell{display:table-cell}.lg\:grid-cols-2{grid-template-columns:repeat(2, minmax(0, 1fr))}.lg\:grid-cols-3{grid-template-columns:repeat(3, minmax(0, 1fr))}.lg\:grid-cols-4{grid-template-columns:repeat(4, minmax(0, 1fr))}.lg\:grid-cols-6{grid-template-columns:repeat(6, minmax(0, 1fr))}}@media (min-width: 1280px){.xl\:grid-cols-4{grid-template-columns:repeat(4, minmax(0, 1fr))}}&lt;/style&gt;&lt;/head&gt;</p>
<p class="p1">&lt;body class="bg-gray-100 text-gray-900"&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;!-- メインアプリケーション --&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;div id="mainApp"&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;!-- トップバー --&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;div class="fixed top-0 left-0 right-0 z-50 h-16 bg-gray-900/95 glass border-b border-gray-200"&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;div class="flex items-center justify-between h-full px-3 sm:px-6"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;!-- 左側：メニュー＋ロゴ --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;div class="flex items-center space-x-2 sm:space-x-3"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;button onclick="toggleMenu()" class="p-2 rounded-lg hover:bg-gray-800 transition-colors flex-shrink-0"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;svg class="w-6 h-6 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"&gt;&lt;/path&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/svg&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="flex items-center space-x-2"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div id="companyLogo" class="w-8 h-8 bg-gradient-to-br from-blue-500 to-purple-600 rounded-lg flex items-center justify-center flex-shrink-0" style="background: linear-gradient(135deg, rgb(102, 126, 234) 0%, rgb(118, 75, 162) 100%);"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;span class="text-gray-100 font-bold"&gt;加&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;span id="systemTitle" class="hidden lg:inline text-xl font-bold bg-gradient-to-r from-blue-400 to-purple-400 bg-clip-text text-transparent whitespace-nowrap"&gt;加盟店管理システム&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;!-- 中央：ステータス --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;div class="flex-shrink-0"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="relative"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;label class="hidden sm:block text-xs text-gray-400 mb-1 text-center"&gt;ステータス&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;span id="merchantStatus" class="px-3 py-1 text-xs font-semibold rounded-full border-2 bg-green-100 text-green-800 border-green-300"&gt;アクティブ&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;!-- 右側：通知＋ユーザー情報 --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;div class="flex items-center space-x-2 sm:space-x-3"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;!-- 本部からの通知ボタン --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;button onclick="toggleNotificationPanel()" class="relative p-2 rounded-lg hover:bg-gray-800 transition-colors group flex-shrink-0"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;svg class="w-6 h-6 text-gray-400 group-hover:text-yellow-400 transition-colors" fill="none" stroke="currentColor" viewBox="0 0 24 24"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"&gt;&lt;/path&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/svg&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;span id="notificationCount" class="absolute -top-1 -right-1 bg-red-500 text-white text-xs font-bold rounded-full w-5 h-5 flex items-center justify-center hidden"&gt;0&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;!-- アラート・リマインダーボタン --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;button onclick="toggleAlertPanel()" class="relative p-2 rounded-lg hover:bg-gray-800 transition-colors group flex-shrink-0"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;svg class="w-6 h-6 text-gray-400 group-hover:text-blue-400 transition-colors" fill="none" stroke="currentColor" viewBox="0 0 24 24"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"&gt;&lt;/path&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/svg&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;span id="alertCount" class="absolute -top-1 -right-1 bg-blue-500 text-white text-xs font-bold rounded-full w-5 h-5 flex items-center justify-center"&gt;3&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="text-center min-w-0"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div id="userName" class="hidden sm:block text-sm text-gray-300 truncate max-w-[100px] md:max-w-none"&gt;FR251004160409&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div id="userRole" class="ml-2 text-xs px-2 py-1 rounded-full bg-purple-100 text-purple-800" onclick="editSalesPerson()" title="クリックして編集"&gt;小泉みゆき&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;input id="userRoleInput" class="hidden text-xs text-gray-900 bg-white border border-gray-300 rounded px-2 py-1 w-[120px]" onblur="saveSalesPerson()" onkeydown="if(event.key==='Enter') saveSalesPerson()"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;!-- サイドメニュー --&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;div id="sideMenu" class="fixed left-0 top-16 bottom-0 w-64 bg-gray-900/95 glass border-r border-gray-200 transform transition-transform z-40 -translate-x-full"&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;nav class="p-4 space-y-2"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;a href="#dashboard" onclick="showSection('dashboard'); return false;" class="flex items-center px-4 py-3 rounded-lg text-gray-400 hover:bg-gray-800 hover:text-gray-100"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;svg class="w-5 h-5 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"&gt;&lt;/path&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/svg&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>ダッシュボード</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/a&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;a href="#cases" onclick="showSection('cases'); return false;" class="flex items-center px-4 py-3 rounded-lg hover:bg-gray-800 text-gray-400 hover:text-gray-100 relative"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;svg class="w-5 h-5 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"&gt;&lt;/path&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/svg&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>案件管理</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;span id="unassignedBadge" class="absolute right-4 top-1/2 transform -translate-y-1/2 bg-red-500 text-white text-xs font-bold rounded-full px-2 py-0.5 min-w-[20px] text-center"&gt;3&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/a&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;a href="#sales" onclick="showSection('sales'); return false;" class="admin-only flex items-center px-4 py-3 rounded-lg hover:bg-gray-800 text-gray-400 hover:text-gray-100" style="display: flex;"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;svg class="w-5 h-5 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"&gt;&lt;/path&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/svg&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>営業管理</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/a&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;a href="#calendar" onclick="showSection('calendar'); return false;" class="flex items-center px-4 py-3 rounded-lg hover:bg-gray-800 text-gray-400 hover:text-gray-100"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;svg class="w-5 h-5 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"&gt;&lt;/path&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/svg&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>カレンダー</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/a&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;a href="#billing" onclick="showSection('billing'); return false;" class="flex items-center px-4 py-3 rounded-lg hover:bg-gray-800 text-gray-400 hover:text-gray-100"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;svg class="w-5 h-5 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"&gt;&lt;/path&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/svg&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>財務管理</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/a&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;a href="#deposit" onclick="showSection('deposit'); return false;" class="flex items-center px-4 py-3 rounded-lg hover:bg-gray-800 text-gray-400 hover:text-gray-100"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;svg class="w-5 h-5 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"&gt;&lt;/path&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/svg&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>デポジット</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/a&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;a href="#reports" onclick="showSection('reports'); return false;" class="admin-only flex items-center px-4 py-3 rounded-lg hover:bg-gray-800 text-gray-400 hover:text-gray-100" style="display: flex;"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;svg class="w-5 h-5 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"&gt;&lt;/path&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/svg&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>レポート</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/a&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;a href="#autodelivery" onclick="showSection('autodelivery'); return false;" class="admin-only flex items-center px-4 py-3 rounded-lg text-gray-400 hover:bg-gray-800 hover:text-gray-100" style="display: flex;"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;svg class="w-5 h-5 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 19l9 2-9-18-9 18 9-2zm0 0v-8"&gt;&lt;/path&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/svg&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>自動配信設定</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/a&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;a href="#company" onclick="showSection('company'); return false;" class="flex items-center px-4 py-3 rounded-lg bg-gradient-to-r from-blue-600 to-blue-500 text-gray-100"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;svg class="w-5 h-5 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"&gt;&lt;/path&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/svg&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>会社情報</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/a&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;a href="#cancel" onclick="showSection('cancel'); return false;" class="flex items-center px-4 py-3 rounded-lg hover:bg-gray-800 text-gray-400 hover:text-gray-100"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;svg class="w-5 h-5 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M18.364 18.364A9 9 0 005.636 5.636m12.728 12.728A9 9 0 015.636 5.636m12.728 12.728L5.636 5.636"&gt;&lt;/path&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/svg&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>キャンセル申請</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/a&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;a href="#contract" onclick="showSection('contract'); return false;" class="flex items-center px-4 py-3 rounded-lg hover:bg-gray-800 text-gray-400 hover:text-gray-100"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;svg class="w-5 h-5 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"&gt;&lt;/path&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/svg&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>成約報告</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/a&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;a href="#settings" onclick="showSection('settings'); return false;" class="flex items-center px-4 py-3 rounded-lg hover:bg-gray-800 text-gray-400 hover:text-gray-100"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;svg class="w-5 h-5 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"&gt;&lt;/path&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"&gt;&lt;/path&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/svg&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>設定</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/a&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;a href="#" onclick="logout(); return false;" class="flex items-center px-4 py-3 rounded-lg hover:bg-red-900/50 text-gray-400 hover:text-red-400 mt-4 border-t border-gray-700 pt-4 hover:bg-gray-800 hover:text-gray-100"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;svg class="w-5 h-5 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"&gt;&lt;/path&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/svg&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>ログアウト</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/a&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;/nav&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;!-- メインコンテンツ --&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;main class="pt-20 px-6" style="background: #f3f4f6; min-height: 100vh;"&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;!-- ダッシュボード --&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;div id="dashboardSection" class="section" style="display: none;"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;h2 class="text-2xl font-bold text-gray-900 mb-6"&gt;ダッシュボード&lt;/h2&gt;</p>
<p class="p2"><span class="Apple-converted-space">                </span></p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;!-- 統計カードとミニカレンダー --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;div class="grid grid-cols-1 lg:grid-cols-3 gap-6 mb-8"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;!-- 統計カード --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="lg:col-span-2"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="grid grid-cols-1 md:grid-cols-2 gap-6"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="bg-white p-6 rounded-lg shadow"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="flex items-center"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div class="p-3 bg-blue-100 rounded-full"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;svg class="h-8 w-8 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"&gt;&lt;/path&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/svg&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div class="ml-4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;p class="text-sm font-medium text-gray-500"&gt;新規案件&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;p class="text-2xl font-semibold text-gray-900"&gt;24&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p2"><span class="Apple-converted-space">                    </span></p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="bg-white p-6 rounded-lg shadow"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="flex items-center"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div class="p-3 bg-green-100 rounded-full"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;svg class="h-8 w-8 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"&gt;&lt;/path&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/svg&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div class="ml-4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;p class="text-sm font-medium text-gray-500"&gt;成約率&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;p class="text-2xl font-semibold text-gray-900"&gt;68%&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p2"><span class="Apple-converted-space">                    </span></p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="bg-white p-6 rounded-lg shadow"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="flex items-center"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div class="p-3 bg-yellow-100 rounded-full"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;svg class="h-8 w-8 text-yellow-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"&gt;&lt;/path&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/svg&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div class="ml-4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;p class="text-sm font-medium text-gray-500"&gt;対応中&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;p class="text-2xl font-semibold text-gray-900"&gt;15&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p2"><span class="Apple-converted-space">                    </span></p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="bg-white p-6 rounded-lg shadow"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="flex items-center"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div class="p-3 bg-purple-100 rounded-full"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;svg class="h-8 w-8 text-purple-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"&gt;&lt;/path&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/svg&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div class="ml-4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;p class="text-sm font-medium text-gray-500"&gt;営業メンバー&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;p class="text-2xl font-semibold text-gray-900"&gt;8&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p2"><span class="Apple-converted-space">                    </span></p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;!-- ミニカレンダー --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="bg-white p-6 rounded-lg shadow"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="flex justify-between items-center mb-4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;h3 class="text-lg font-semibold text-gray-900"&gt;今月の予定&lt;/h3&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;button onclick="showSection('calendar')" class="text-sm text-blue-600 hover:text-blue-800"&gt;全て表示&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div id="miniCalendar" class="text-sm"&gt;&lt;div class="grid grid-cols-7 gap-1 text-xs"&gt;&lt;div class="text-center font-medium text-gray-500 py-1"&gt;日&lt;/div&gt;&lt;div class="text-center font-medium text-gray-500 py-1"&gt;月&lt;/div&gt;&lt;div class="text-center font-medium text-gray-500 py-1"&gt;火&lt;/div&gt;&lt;div class="text-center font-medium text-gray-500 py-1"&gt;水&lt;/div&gt;&lt;div class="text-center font-medium text-gray-500 py-1"&gt;木&lt;/div&gt;&lt;div class="text-center font-medium text-gray-500 py-1"&gt;金&lt;/div&gt;&lt;div class="text-center font-medium text-gray-500 py-1"&gt;土&lt;/div&gt;&lt;div&gt;&lt;/div&gt;&lt;div&gt;&lt;/div&gt;&lt;div&gt;&lt;/div&gt;&lt;div class="text-center py-1 cursor-pointer hover:bg-gray-100 rounded" onclick="goToDate('2025-10-01')"&gt;1&lt;/div&gt;&lt;div class="text-center py-1 cursor-pointer hover:bg-gray-100 rounded" onclick="goToDate('2025-10-02')"&gt;2&lt;/div&gt;&lt;div class="text-center py-1 cursor-pointer hover:bg-gray-100 rounded" onclick="goToDate('2025-10-03')"&gt;3&lt;/div&gt;&lt;div class="text-center py-1 cursor-pointer hover:bg-gray-100 rounded" onclick="goToDate('2025-10-04')"&gt;4&lt;/div&gt;&lt;div class="text-center py-1 cursor-pointer hover:bg-gray-100 rounded bg-blue-500 text-white hover:bg-blue-600" onclick="goToDate('2025-10-05')"&gt;5&lt;/div&gt;&lt;div class="text-center py-1 cursor-pointer hover:bg-gray-100 rounded font-bold text-blue-600" onclick="goToDate('2025-10-06')"&gt;6&lt;/div&gt;&lt;div class="text-center py-1 cursor-pointer hover:bg-gray-100 rounded" onclick="goToDate('2025-10-07')"&gt;7&lt;/div&gt;&lt;div class="text-center py-1 cursor-pointer hover:bg-gray-100 rounded font-bold text-blue-600" onclick="goToDate('2025-10-08')"&gt;8&lt;/div&gt;&lt;div class="text-center py-1 cursor-pointer hover:bg-gray-100 rounded" onclick="goToDate('2025-10-09')"&gt;9&lt;/div&gt;&lt;div class="text-center py-1 cursor-pointer hover:bg-gray-100 rounded" onclick="goToDate('2025-10-10')"&gt;10&lt;/div&gt;&lt;div class="text-center py-1 cursor-pointer hover:bg-gray-100 rounded" onclick="goToDate('2025-10-11')"&gt;11&lt;/div&gt;&lt;div class="text-center py-1 cursor-pointer hover:bg-gray-100 rounded" onclick="goToDate('2025-10-12')"&gt;12&lt;/div&gt;&lt;div class="text-center py-1 cursor-pointer hover:bg-gray-100 rounded" onclick="goToDate('2025-10-13')"&gt;13&lt;/div&gt;&lt;div class="text-center py-1 cursor-pointer hover:bg-gray-100 rounded" onclick="goToDate('2025-10-14')"&gt;14&lt;/div&gt;&lt;div class="text-center py-1 cursor-pointer hover:bg-gray-100 rounded" onclick="goToDate('2025-10-15')"&gt;15&lt;/div&gt;&lt;div class="text-center py-1 cursor-pointer hover:bg-gray-100 rounded" onclick="goToDate('2025-10-16')"&gt;16&lt;/div&gt;&lt;div class="text-center py-1 cursor-pointer hover:bg-gray-100 rounded" onclick="goToDate('2025-10-17')"&gt;17&lt;/div&gt;&lt;div class="text-center py-1 cursor-pointer hover:bg-gray-100 rounded" onclick="goToDate('2025-10-18')"&gt;18&lt;/div&gt;&lt;div class="text-center py-1 cursor-pointer hover:bg-gray-100 rounded" onclick="goToDate('2025-10-19')"&gt;19&lt;/div&gt;&lt;div class="text-center py-1 cursor-pointer hover:bg-gray-100 rounded" onclick="goToDate('2025-10-20')"&gt;20&lt;/div&gt;&lt;div class="text-center py-1 cursor-pointer hover:bg-gray-100 rounded" onclick="goToDate('2025-10-21')"&gt;21&lt;/div&gt;&lt;div class="text-center py-1 cursor-pointer hover:bg-gray-100 rounded" onclick="goToDate('2025-10-22')"&gt;22&lt;/div&gt;&lt;div class="text-center py-1 cursor-pointer hover:bg-gray-100 rounded" onclick="goToDate('2025-10-23')"&gt;23&lt;/div&gt;&lt;div class="text-center py-1 cursor-pointer hover:bg-gray-100 rounded" onclick="goToDate('2025-10-24')"&gt;24&lt;/div&gt;&lt;div class="text-center py-1 cursor-pointer hover:bg-gray-100 rounded" onclick="goToDate('2025-10-25')"&gt;25&lt;/div&gt;&lt;div class="text-center py-1 cursor-pointer hover:bg-gray-100 rounded" onclick="goToDate('2025-10-26')"&gt;26&lt;/div&gt;&lt;div class="text-center py-1 cursor-pointer hover:bg-gray-100 rounded" onclick="goToDate('2025-10-27')"&gt;27&lt;/div&gt;&lt;div class="text-center py-1 cursor-pointer hover:bg-gray-100 rounded" onclick="goToDate('2025-10-28')"&gt;28&lt;/div&gt;&lt;div class="text-center py-1 cursor-pointer hover:bg-gray-100 rounded" onclick="goToDate('2025-10-29')"&gt;29&lt;/div&gt;&lt;div class="text-center py-1 cursor-pointer hover:bg-gray-100 rounded" onclick="goToDate('2025-10-30')"&gt;30&lt;/div&gt;&lt;div class="text-center py-1 cursor-pointer hover:bg-gray-100 rounded" onclick="goToDate('2025-10-31')"&gt;31&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="mt-4 space-y-2"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div class="flex items-center p-2 bg-blue-50 rounded"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;div class="w-2 h-2 bg-blue-500 rounded-full mr-2"&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;div class="flex-1"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;div class="text-sm font-medium"&gt;田中様 現地調査&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;div class="text-xs text-gray-500"&gt;今日 14:00-15:00&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div class="flex items-center p-2 bg-green-50 rounded"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;div class="w-2 h-2 bg-green-500 rounded-full mr-2"&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;div class="flex-1"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;div class="text-sm font-medium"&gt;佐藤様 工事開始&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;div class="text-xs text-gray-500"&gt;明日 9:00-&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;!-- 最近の案件 --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;div class="bg-white shadow rounded-lg p-4 sm:p-6"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;h3 class="text-lg font-medium text-gray-900 mb-4"&gt;最近の案件&lt;/h3&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;!-- スマホ：横スクロール / タブレット以上：グリッド --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="sm:grid sm:grid-cols-2 lg:grid-cols-3 sm:gap-4 flex sm:flex-none overflow-x-auto gap-3 pb-2 -mx-4 px-4 sm:mx-0 sm:px-0"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;!-- 案件カード1 --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="bg-gray-50 rounded-lg p-4 border border-gray-200 hover:shadow-md transition-shadow min-w-[280px] sm:min-w-0"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div class="flex justify-between items-start mb-3"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;div class="font-semibold text-gray-900"&gt;#2024-001&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;span class="px-2 py-1 text-xs font-semibold rounded-full bg-green-100 text-green-800"&gt;成約&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div class="space-y-2"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;div class="flex items-center text-sm"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="text-gray-500 w-16"&gt;顧客:&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="text-gray-900 font-medium"&gt;山田太郎&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;div class="flex items-center text-sm"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="text-gray-500 w-16"&gt;担当:&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="text-gray-700"&gt;田中営業&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;div class="flex items-center text-sm"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="text-gray-500 w-16"&gt;更新日:&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="text-gray-700"&gt;2024/01/15&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;!-- 案件カード2 --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="bg-gray-50 rounded-lg p-4 border border-gray-200 hover:shadow-md transition-shadow min-w-[280px] sm:min-w-0"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div class="flex justify-between items-start mb-3"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;div class="font-semibold text-gray-900"&gt;#2024-002&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;span class="px-2 py-1 text-xs font-semibold rounded-full bg-yellow-100 text-yellow-800"&gt;ヒアリング中&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div class="space-y-2"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;div class="flex items-center text-sm"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="text-gray-500 w-16"&gt;顧客:&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="text-gray-900 font-medium"&gt;鈴木花子&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;div class="flex items-center text-sm"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="text-gray-500 w-16"&gt;担当:&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="text-gray-700"&gt;佐藤営業&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;div class="flex items-center text-sm"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="text-gray-500 w-16"&gt;更新日:&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="text-gray-700"&gt;2024/01/14&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;/div&gt;&lt;!-- dashboardSectionの終了 --&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;!-- 営業管理セクション（管理者のみ） --&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;div id="salesSection" class="section" style="display: none;"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;div class="mb-6 flex justify-between items-center"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;h2 class="text-2xl font-bold text-gray-900"&gt;営業管理&lt;/h2&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;button onclick="openPermissionModal()" class="bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>新規営業追加</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;!-- 営業メンバーリスト --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;div class="bg-white shadow rounded-lg"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;table class="min-w-full divide-y divide-gray-200"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;thead class="bg-gray-50"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;tr&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"&gt;名前&lt;/th&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"&gt;権限レベル&lt;/th&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"&gt;成約数&lt;/th&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"&gt;成約率&lt;/th&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"&gt;アクション&lt;/th&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/tr&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/thead&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;tbody class="bg-white divide-y divide-gray-200"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;tr&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900"&gt;田中太郎&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;td class="px-6 py-4 whitespace-nowrap"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-purple-100 text-purple-800"&gt;リーダー&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500"&gt;45&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500"&gt;75%&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;td class="px-6 py-4 whitespace-nowrap text-sm"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;button onclick="editPermissions('田中太郎')" class="text-blue-600 hover:text-blue-900 mr-3"&gt;権限編集&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;button onclick="confirmDeleteSales('田中太郎')" class="text-red-600 hover:text-red-900"&gt;削除&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/tr&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;tr&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900"&gt;佐藤花子&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;td class="px-6 py-4 whitespace-nowrap"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-blue-100 text-blue-800"&gt;一般営業&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500"&gt;28&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500"&gt;62%&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;td class="px-6 py-4 whitespace-nowrap text-sm"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;button onclick="editPermissions('佐藤花子')" class="text-blue-600 hover:text-blue-900 mr-3"&gt;権限編集&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;button onclick="confirmDeleteSales('佐藤花子')" class="text-red-600 hover:text-red-900"&gt;削除&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/tr&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;tr&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900"&gt;鈴木次郎&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;td class="px-6 py-4 whitespace-nowrap"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800"&gt;一般事務&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500"&gt;-&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500"&gt;-&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;td class="px-6 py-4 whitespace-nowrap text-sm"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;button onclick="editPermissions('鈴木次郎')" class="text-blue-600 hover:text-blue-900 mr-3"&gt;権限編集&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;button onclick="confirmDeleteSales('鈴木次郎')" class="text-red-600 hover:text-red-900"&gt;削除&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/tr&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/tbody&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/table&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;/div&gt;&lt;!-- salesSectionの終了 --&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;!-- 案件管理セクション --&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;div id="casesSection" class="section" style="display: none;"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;!-- 未振り分け案件セクション --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;div id="unassignedCasesSection" class="bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-6"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="flex justify-between items-center mb-4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;h3 class="text-lg font-bold text-gray-900 flex items-center"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;svg class="w-5 h-5 mr-2 text-yellow-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"&gt;&lt;/path&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/svg&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>未振り分け案件</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/h3&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;button onclick="openAssignmentModal()" class="px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 flex items-center text-sm"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"&gt;&lt;/path&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/svg&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>案件を振り分ける</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3" id="unassignedCasesList"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="bg-white rounded-lg border border-yellow-300 p-3 hover:shadow-md transition-shadow"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div class="flex justify-between items-start mb-2"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;span class="px-2 py-1 text-xs font-semibold rounded-full bg-red-100 text-red-800"&gt;未対応&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;h4 class="font-bold text-sm mb-1"&gt;新規顧客A&lt;/h4&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;p class="text-xs text-gray-600"&gt;東京都渋谷区&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;p class="text-xs text-gray-600 mb-2"&gt;戸建て・築12年&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div class="flex justify-between items-center text-xs text-gray-500"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;span&gt;登録: 2025-01-15 10:30&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</p>
<p class="p2"><span class="Apple-converted-space">                    </span></p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="bg-white rounded-lg border border-yellow-300 p-3 hover:shadow-md transition-shadow"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div class="flex justify-between items-start mb-2"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;span class="px-2 py-1 text-xs font-semibold rounded-full bg-red-100 text-red-800"&gt;未対応&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;h4 class="font-bold text-sm mb-1"&gt;新規顧客B&lt;/h4&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;p class="text-xs text-gray-600"&gt;神奈川県川崎市&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;p class="text-xs text-gray-600 mb-2"&gt;マンション・築5年&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div class="flex justify-between items-center text-xs text-gray-500"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;span&gt;登録: 2025-01-15 11:45&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</p>
<p class="p2"><span class="Apple-converted-space">                    </span></p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="bg-white rounded-lg border border-yellow-300 p-3 hover:shadow-md transition-shadow"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div class="flex justify-between items-start mb-2"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;span class="px-2 py-1 text-xs font-semibold rounded-full bg-red-100 text-red-800"&gt;未対応&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;h4 class="font-bold text-sm mb-1"&gt;新規顧客C&lt;/h4&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;p class="text-xs text-gray-600"&gt;埼玉県越谷市&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;p class="text-xs text-gray-600 mb-2"&gt;戸建て・築20年&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div class="flex justify-between items-center text-xs text-gray-500"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;span&gt;登録: 2025-01-15 14:00&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;div class="mb-6 flex justify-between items-center"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;h2 class="text-2xl font-bold text-gray-900"&gt;案件管理&lt;/h2&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="flex items-center space-x-2"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;button onclick="toggleCaseView()" class="p-2 text-gray-500 hover:text-gray-700 bg-white rounded-lg shadow"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;svg id="viewIcon" class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"&gt;&lt;/path&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/svg&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;!-- フィルター・統計バー --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;div class="bg-white rounded-lg p-4 mb-4 shadow"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="flex flex-wrap items-center gap-3"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;!-- ステータス別統計 --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;button onclick="filterCases('all')" class="filter-stat-btn flex items-center space-x-2 px-3 py-2 bg-gray-100 rounded-lg hover:bg-gray-200 transition"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;span class="text-lg font-bold" id="count-all"&gt;5&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;span class="text-xs"&gt;全件&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;button onclick="filterCases('未対応')" class="filter-stat-btn flex items-center space-x-2 px-3 py-2 bg-red-100 text-red-700 rounded-lg hover:bg-red-200 transition"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;span class="text-lg font-bold" id="count-未対応"&gt;1&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;span class="text-xs"&gt;未対応&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;button onclick="filterCases('アポ済')" class="filter-stat-btn flex items-center space-x-2 px-3 py-2 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;span class="text-lg font-bold" id="count-アポ済"&gt;1&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;span class="text-xs"&gt;アポ済&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;button onclick="filterCases('見積提出済')" class="filter-stat-btn flex items-center space-x-2 px-3 py-2 bg-yellow-100 text-yellow-700 rounded-lg hover:bg-yellow-200 transition"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;span class="text-lg font-bold" id="count-見積提出済"&gt;1&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;span class="text-xs"&gt;見積提出済&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;button onclick="filterCases('成約')" class="filter-stat-btn flex items-center space-x-2 px-3 py-2 bg-green-100 text-green-700 rounded-lg hover:bg-green-200 transition"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;span class="text-lg font-bold" id="count-成約"&gt;1&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;span class="text-xs"&gt;成約&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/button&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="flex-1"&gt;&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;!-- 検索・ソート --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;input type="text" id="caseSearchInput" placeholder="顧客名・住所で検索..." class="px-3 py-2 border rounded-lg text-sm w-48" onkeyup="searchCases()"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;select id="caseSortSelect" onchange="sortCases()" class="px-3 py-2 border rounded-lg text-sm"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;option value="date_desc"&gt;登録日順（新しい順）&lt;/option&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;option value="date_asc"&gt;登録日順（古い順）&lt;/option&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;option value="status"&gt;ステータス順&lt;/option&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/select&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;!-- カードビュー --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;div id="caseCardView" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;div class="bg-white rounded-lg shadow-md p-4 hover:shadow-lg transition-shadow cursor-pointer" onclick="showCaseDetail(1)" data-case-id="1"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="flex justify-between items-start mb-3"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;span class="px-2 py-1 text-xs font-semibold rounded-full bg-red-100 text-red-800"&gt;未対応&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="flex gap-1"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;button onclick="event.stopPropagation(); showMemo(1)" class="p-1.5 rounded-lg hover:bg-gray-100 transition-colors" title="メモ"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;span class="text-lg"&gt;📝&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;button onclick="event.stopPropagation(); scheduleCase(1)" class="p-1.5 rounded-lg hover:bg-yellow-100 transition-colors" title="スケジュール"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;span class="text-lg"&gt;📅&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;button onclick="event.stopPropagation(); passCase(1)" class="p-1.5 rounded-lg hover:bg-blue-100 transition-colors" title="担当パス"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;span class="text-lg"&gt;🔄&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;button onclick="event.stopPropagation(); openCancelRequest(1)" class="p-1.5 rounded-lg hover:bg-red-100 transition-colors" title="キャンセル申請"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;span class="text-lg"&gt;❌&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;h3 class="font-bold text-lg mb-1"&gt;山田太郎&lt;/h3&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="mb-2"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;span class="text-xs bg-blue-100 text-blue-700 px-2 py-0.5 rounded"&gt;👤 担当: 田中太郎&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;p class="text-sm text-gray-600 mb-2"&gt;東京都世田谷区&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;p class="text-sm text-gray-600 mb-3"&gt;戸建て・築15年&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="flex justify-between items-center text-xs text-gray-500 mb-3"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;span&gt;最終連絡: 2024/01/15 初回問い合わせ&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;span&gt;次回予定: 2024/01/18 14:00 電話フォロー&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="flex gap-1"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;button onclick="event.stopPropagation(); callCustomer('03-1234-5678')" class="flex-1 px-2 py-2 bg-green-100 text-green-700 rounded text-sm hover:bg-green-200 transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>📞</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;button onclick="event.stopPropagation(); sendSMS('03-1234-5678')" class="flex-1 px-2 py-2 bg-yellow-100 text-yellow-700 rounded text-sm hover:bg-yellow-200 transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>📩</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;button onclick="event.stopPropagation(); quickStatusChange(1)" class="flex-1 px-2 py-2 bg-orange-100 text-orange-700 rounded text-sm hover:bg-orange-200 transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>ステータス</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;button onclick="event.stopPropagation(); showCaseDetail(1)" class="flex-1 px-2 py-2 bg-blue-100 text-blue-700 rounded text-sm hover:bg-blue-200 transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>詳細</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</p>
<p class="p2"><span class="Apple-converted-space">            </span></p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;div class="bg-white rounded-lg shadow-md p-4 hover:shadow-lg transition-shadow cursor-pointer" onclick="showCaseDetail(2)" data-case-id="2"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="flex justify-between items-start mb-3"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;span class="px-2 py-1 text-xs font-semibold rounded-full bg-blue-100 text-blue-800"&gt;アポ済&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="flex gap-1"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;button onclick="event.stopPropagation(); showMemo(2)" class="p-1.5 rounded-lg hover:bg-gray-100 transition-colors" title="メモ"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;span class="text-lg"&gt;📝&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;button onclick="event.stopPropagation(); scheduleCase(2)" class="p-1.5 rounded-lg hover:bg-yellow-100 transition-colors" title="スケジュール"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;span class="text-lg"&gt;📅&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;button onclick="event.stopPropagation(); passCase(2)" class="p-1.5 rounded-lg hover:bg-blue-100 transition-colors" title="担当パス"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;span class="text-lg"&gt;🔄&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;button onclick="event.stopPropagation(); openCancelRequest(2)" class="p-1.5 rounded-lg hover:bg-red-100 transition-colors" title="キャンセル申請"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;span class="text-lg"&gt;❌&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;h3 class="font-bold text-lg mb-1"&gt;鈴木花子&lt;/h3&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="mb-2"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;span class="text-xs bg-blue-100 text-blue-700 px-2 py-0.5 rounded"&gt;👤 担当: 佐藤花子&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;p class="text-sm text-gray-600 mb-2"&gt;神奈川県横浜市&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;p class="text-sm text-gray-600 mb-3"&gt;戸建て・築10年&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="flex justify-between items-center text-xs text-gray-500 mb-3"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;span&gt;最終連絡: 2024/01/16 電話でアポ取得&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;span&gt;次回予定: 2024/01/20 14:00 現地調査&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="flex gap-1"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;button onclick="event.stopPropagation(); callCustomer('045-9876-5432')" class="flex-1 px-2 py-2 bg-green-100 text-green-700 rounded text-sm hover:bg-green-200 transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>📞</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;button onclick="event.stopPropagation(); sendSMS('045-9876-5432')" class="flex-1 px-2 py-2 bg-yellow-100 text-yellow-700 rounded text-sm hover:bg-yellow-200 transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>📩</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;button onclick="event.stopPropagation(); quickStatusChange(2)" class="flex-1 px-2 py-2 bg-orange-100 text-orange-700 rounded text-sm hover:bg-orange-200 transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>ステータス</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;button onclick="event.stopPropagation(); showCaseDetail(2)" class="flex-1 px-2 py-2 bg-blue-100 text-blue-700 rounded text-sm hover:bg-blue-200 transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>詳細</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</p>
<p class="p2"><span class="Apple-converted-space">            </span></p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;div class="bg-white rounded-lg shadow-md p-4 hover:shadow-lg transition-shadow cursor-pointer" onclick="showCaseDetail(3)" data-case-id="3"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="flex justify-between items-start mb-3"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;span class="px-2 py-1 text-xs font-semibold rounded-full bg-yellow-100 text-yellow-800"&gt;見積提出済&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="flex gap-1"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;button onclick="event.stopPropagation(); showMemo(3)" class="p-1.5 rounded-lg hover:bg-gray-100 transition-colors" title="メモ"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;span class="text-lg"&gt;📝&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;button onclick="event.stopPropagation(); scheduleCase(3)" class="p-1.5 rounded-lg hover:bg-yellow-100 transition-colors" title="スケジュール"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;span class="text-lg"&gt;📅&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;button onclick="event.stopPropagation(); passCase(3)" class="p-1.5 rounded-lg hover:bg-blue-100 transition-colors" title="担当パス"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;span class="text-lg"&gt;🔄&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;button onclick="event.stopPropagation(); openCancelRequest(3)" class="p-1.5 rounded-lg hover:bg-red-100 transition-colors" title="キャンセル申請"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;span class="text-lg"&gt;❌&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;h3 class="font-bold text-lg mb-1"&gt;佐藤一郎&lt;/h3&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="mb-2"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;span class="text-xs bg-blue-100 text-blue-700 px-2 py-0.5 rounded"&gt;👤 担当: 田中太郎&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;p class="text-sm text-gray-600 mb-2"&gt;埼玉県さいたま市&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;p class="text-sm text-gray-600 mb-3"&gt;アパート・築20年&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="flex justify-between items-center text-xs text-gray-500 mb-3"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;span&gt;最終連絡: 2024/01/14 見積書メール送付&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;span&gt;次回予定: 2024/01/22 10:00 見積説明訪問&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="flex gap-1"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;button onclick="event.stopPropagation(); callCustomer('048-1111-2222')" class="flex-1 px-2 py-2 bg-green-100 text-green-700 rounded text-sm hover:bg-green-200 transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>📞</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;button onclick="event.stopPropagation(); sendSMS('048-1111-2222')" class="flex-1 px-2 py-2 bg-yellow-100 text-yellow-700 rounded text-sm hover:bg-yellow-200 transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>📩</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;button onclick="event.stopPropagation(); quickStatusChange(3)" class="flex-1 px-2 py-2 bg-orange-100 text-orange-700 rounded text-sm hover:bg-orange-200 transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>ステータス</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;button onclick="event.stopPropagation(); showCaseDetail(3)" class="flex-1 px-2 py-2 bg-blue-100 text-blue-700 rounded text-sm hover:bg-blue-200 transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>詳細</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</p>
<p class="p2"><span class="Apple-converted-space">            </span></p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;div class="bg-white rounded-lg shadow-md p-4 hover:shadow-lg transition-shadow cursor-pointer" onclick="showCaseDetail(4)" data-case-id="4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="flex justify-between items-start mb-3"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;span class="px-2 py-1 text-xs font-semibold rounded-full bg-indigo-100 text-indigo-800"&gt;現調済&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="flex gap-1"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;button onclick="event.stopPropagation(); showMemo(4)" class="p-1.5 rounded-lg hover:bg-gray-100 transition-colors" title="メモ"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;span class="text-lg"&gt;📝&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;button onclick="event.stopPropagation(); scheduleCase(4)" class="p-1.5 rounded-lg hover:bg-yellow-100 transition-colors" title="スケジュール"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;span class="text-lg"&gt;📅&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;button onclick="event.stopPropagation(); passCase(4)" class="p-1.5 rounded-lg hover:bg-blue-100 transition-colors" title="担当パス"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;span class="text-lg"&gt;🔄&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;button onclick="event.stopPropagation(); openCancelRequest(4)" class="p-1.5 rounded-lg hover:bg-red-100 transition-colors" title="キャンセル申請"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;span class="text-lg"&gt;❌&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;h3 class="font-bold text-lg mb-1"&gt;田中美咲&lt;/h3&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="mb-2"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;span class="text-xs bg-blue-100 text-blue-700 px-2 py-0.5 rounded"&gt;👤 担当: 佐藤花子&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;p class="text-sm text-gray-600 mb-2"&gt;千葉県千葉市&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;p class="text-sm text-gray-600 mb-3"&gt;戸建て・築25年&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="flex justify-between items-center text-xs text-gray-500 mb-3"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;span&gt;最終連絡: 2024/01/10 現地調査実施&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;span&gt;次回予定: 見積作成中&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="flex gap-1"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;button onclick="event.stopPropagation(); callCustomer('043-3333-4444')" class="flex-1 px-2 py-2 bg-green-100 text-green-700 rounded text-sm hover:bg-green-200 transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>📞</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;button onclick="event.stopPropagation(); sendSMS('043-3333-4444')" class="flex-1 px-2 py-2 bg-yellow-100 text-yellow-700 rounded text-sm hover:bg-yellow-200 transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>📩</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;button onclick="event.stopPropagation(); quickStatusChange(4)" class="flex-1 px-2 py-2 bg-orange-100 text-orange-700 rounded text-sm hover:bg-orange-200 transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>ステータス</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;button onclick="event.stopPropagation(); showCaseDetail(4)" class="flex-1 px-2 py-2 bg-blue-100 text-blue-700 rounded text-sm hover:bg-blue-200 transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>詳細</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</p>
<p class="p2"><span class="Apple-converted-space">            </span></p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;div class="bg-white rounded-lg shadow-md p-4 hover:shadow-lg transition-shadow cursor-pointer" onclick="showCaseDetail(5)" data-case-id="5"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="flex justify-between items-start mb-3"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;span class="px-2 py-1 text-xs font-semibold rounded-full bg-green-100 text-green-800"&gt;成約&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="flex gap-1"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;button onclick="event.stopPropagation(); showMemo(5)" class="p-1.5 rounded-lg hover:bg-gray-100 transition-colors" title="メモ"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;span class="text-lg"&gt;📝&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;button onclick="event.stopPropagation(); scheduleCase(5)" class="p-1.5 rounded-lg hover:bg-yellow-100 transition-colors" title="スケジュール"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;span class="text-lg"&gt;📅&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;button onclick="event.stopPropagation(); passCase(5)" class="p-1.5 rounded-lg hover:bg-blue-100 transition-colors" title="担当パス"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;span class="text-lg"&gt;🔄&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;button onclick="event.stopPropagation(); openCancelRequest(5)" class="p-1.5 rounded-lg hover:bg-red-100 transition-colors" title="キャンセル申請"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;span class="text-lg"&gt;❌&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;h3 class="font-bold text-lg mb-1"&gt;高橋健太&lt;/h3&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="mb-2"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;span class="text-xs bg-blue-100 text-blue-700 px-2 py-0.5 rounded"&gt;👤 担当: 田中太郎&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;p class="text-sm text-gray-600 mb-2"&gt;東京都新宿区&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;p class="text-sm text-gray-600 mb-3"&gt;マンション・築8年&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="flex justify-between items-center text-xs text-gray-500 mb-3"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;span&gt;最終連絡: 2024/01/17 契約締結&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;span&gt;次回予定: 2024/01/25 工事開始&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="flex gap-1"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;button onclick="event.stopPropagation(); callCustomer('03-5555-6666')" class="flex-1 px-2 py-2 bg-green-100 text-green-700 rounded text-sm hover:bg-green-200 transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>📞</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;button onclick="event.stopPropagation(); sendSMS('03-5555-6666')" class="flex-1 px-2 py-2 bg-yellow-100 text-yellow-700 rounded text-sm hover:bg-yellow-200 transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>📩</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;button onclick="event.stopPropagation(); quickStatusChange(5)" class="flex-1 px-2 py-2 bg-orange-100 text-orange-700 rounded text-sm hover:bg-orange-200 transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>ステータス</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;button onclick="event.stopPropagation(); showCaseDetail(5)" class="flex-1 px-2 py-2 bg-blue-100 text-blue-700 rounded text-sm hover:bg-blue-200 transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>詳細</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;!-- リストビュー（初期非表示） --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;div id="caseListView" class="bg-white rounded-lg shadow overflow-hidden" style="display: none;"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="overflow-x-auto"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;table class="min-w-full divide-y divide-gray-200"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;thead class="bg-gray-50"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;tr&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;th class="px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider whitespace-nowrap"&gt;ステータス&lt;/th&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;th class="px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider whitespace-nowrap"&gt;顧客名&lt;/th&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;th class="hidden md:table-cell px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider whitespace-nowrap"&gt;住所&lt;/th&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;th class="px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider whitespace-nowrap"&gt;電話番号&lt;/th&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;th class="hidden lg:table-cell px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider whitespace-nowrap"&gt;最終連絡&lt;/th&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;th class="hidden md:table-cell px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider whitespace-nowrap"&gt;次回アクション&lt;/th&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;th class="px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider whitespace-nowrap"&gt;アクション&lt;/th&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/tr&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/thead&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;tbody class="bg-white divide-y divide-gray-200"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;tr&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;td class="px-3 sm:px-6 py-2 sm:py-4 whitespace-nowrap"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="px-1 sm:px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-red-100 text-red-800"&gt;未対応&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;td class="px-3 sm:px-6 py-2 sm:py-4 whitespace-nowrap text-sm"&gt;山田太郎&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;td class="hidden md:table-cell px-3 sm:px-6 py-2 sm:py-4 whitespace-nowrap text-sm text-gray-500"&gt;東京都世田谷区&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;td class="px-3 sm:px-6 py-2 sm:py-4 whitespace-nowrap text-xs sm:text-sm text-gray-500"&gt;&lt;a href="tel:03-1234-5678"&gt;03-1234-5678&lt;/a&gt;&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;td class="hidden lg:table-cell px-3 sm:px-6 py-2 sm:py-4 whitespace-nowrap text-sm text-gray-500"&gt;1/15 問合せ&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;td class="hidden md:table-cell px-3 sm:px-6 py-2 sm:py-4 whitespace-nowrap text-sm text-gray-500"&gt;1/18 14:00 電話&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;td class="px-3 sm:px-6 py-2 sm:py-4 whitespace-nowrap text-sm font-medium"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;button onclick="callCustomer('03-1234-5678')" class="text-green-600 hover:text-green-900 mr-2"&gt;📞&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;button onclick="showCaseDetail(1)" class="text-blue-600 hover:text-blue-900"&gt;詳細&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/tr&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;tr&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;td class="px-3 sm:px-6 py-2 sm:py-4 whitespace-nowrap"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="px-1 sm:px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-blue-100 text-blue-800"&gt;アポ済&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;td class="px-3 sm:px-6 py-2 sm:py-4 whitespace-nowrap text-sm"&gt;鈴木花子&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;td class="hidden md:table-cell px-3 sm:px-6 py-2 sm:py-4 whitespace-nowrap text-sm text-gray-500"&gt;神奈川県横浜市&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;td class="px-3 sm:px-6 py-2 sm:py-4 whitespace-nowrap text-xs sm:text-sm text-gray-500"&gt;&lt;a href="tel:045-9876-5432"&gt;045-9876-5432&lt;/a&gt;&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;td class="hidden lg:table-cell px-3 sm:px-6 py-2 sm:py-4 whitespace-nowrap text-sm text-gray-500"&gt;1/16 アポ取得&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;td class="hidden md:table-cell px-3 sm:px-6 py-2 sm:py-4 whitespace-nowrap text-sm text-gray-500"&gt;1/20 14:00 現調&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;td class="px-3 sm:px-6 py-2 sm:py-4 whitespace-nowrap text-sm font-medium"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;button onclick="callCustomer('045-9876-5432')" class="text-green-600 hover:text-green-900 mr-2"&gt;📞&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;button onclick="showCaseDetail(2)" class="text-blue-600 hover:text-blue-900"&gt;詳細&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/tr&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/tbody&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/table&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;/div&gt;&lt;!-- casesSectionの終了 --&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;!-- 財務管理セクション --&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;div id="billingSection" class="section" style="display: none;"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;div class="mb-6 flex justify-between items-center"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;h2 class="text-2xl font-bold text-gray-900"&gt;財務管理&lt;/h2&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="flex space-x-2"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;button onclick="exportFinancialReport()" class="bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;svg class="w-4 h-4 inline mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"&gt;&lt;/path&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/svg&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>CSV出力</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;!-- サマリーカード --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;div class="grid grid-cols-1 md:grid-cols-4 gap-4 mb-6"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="bg-white p-4 rounded-lg shadow"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="flex items-center justify-between"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;p class="text-sm text-gray-500" id="referralFeeMonth"&gt;1月紹介料&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;p class="text-2xl font-bold text-gray-900" id="referralFeeAmount"&gt;¥132,000&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;p class="text-xs text-gray-500" id="referralFeeCases"&gt;案件6件分&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div class="p-3 bg-blue-100 rounded-full"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;svg class="w-6 h-6 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"&gt;&lt;/path&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/svg&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p2"><span class="Apple-converted-space">                    </span></p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="bg-white p-4 rounded-lg shadow"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="flex items-center justify-between"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;p class="text-sm text-gray-500" id="commissionMonth"&gt;1月成約手数料&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;p class="text-2xl font-bold text-green-600" id="commissionAmount"&gt;¥180,000&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;p class="text-xs text-gray-500" id="commissionCases"&gt;成約2件分&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div class="p-3 bg-green-100 rounded-full"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;svg class="w-6 h-6 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"&gt;&lt;/path&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/svg&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p2"><span class="Apple-converted-space">                    </span></p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="bg-white p-4 rounded-lg shadow"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="flex items-center justify-between"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;p class="text-sm text-gray-500" id="profitLabel"&gt;累計利益&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;p class="text-2xl font-bold text-yellow-600" id="profitAmount"&gt;¥650,000&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;p class="text-xs text-gray-500" id="profitPeriod"&gt;2025年度&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div class="p-3 bg-yellow-100 rounded-full"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;svg class="w-6 h-6 text-yellow-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"&gt;&lt;/path&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/svg&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p2"><span class="Apple-converted-space">                    </span></p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="bg-white p-4 rounded-lg shadow"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="flex items-center justify-between"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;p class="text-sm text-gray-500" id="roiLabel"&gt;1月ROI&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;p class="text-2xl font-bold text-blue-600" id="roiValue"&gt;3265%&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;p class="text-xs text-gray-500" id="roiPrevious"&gt;前月: 2850%&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div class="p-3 bg-red-100 rounded-full"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;svg class="w-6 h-6 text-red-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"&gt;&lt;/path&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/svg&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;!-- タブナビゲーション --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;div class="bg-white rounded-lg shadow mb-6"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="border-b border-gray-200"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;nav class="flex -mb-px"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;button onclick="showBillingTab('purchase')" class="billing-tab billing-tab-active px-6 py-3 border-b-2 font-medium text-sm" data-tab="purchase"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>紹介料履歴</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;button onclick="showBillingTab('commission')" class="billing-tab px-6 py-3 border-b-2 font-medium text-sm text-gray-500 hover:text-gray-700" data-tab="commission"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>成約手数料</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;button onclick="showBillingTab('payment')" class="billing-tab px-6 py-3 border-b-2 font-medium text-sm text-gray-500 hover:text-gray-700" data-tab="payment"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>支払履歴</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;button onclick="showBillingTab('analysis')" class="billing-tab px-6 py-3 border-b-2 font-medium text-sm text-gray-500 hover:text-gray-700" data-tab="analysis"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>収支分析</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/nav&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;!-- 紹介料履歴タブ --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div id="purchaseTab" class="billing-tab-content p-6"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="flex justify-between items-center mb-4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;h3 class="text-lg font-semibold"&gt;紹介料支払履歴&lt;/h3&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div class="flex items-center space-x-4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;div class="text-sm bg-blue-50 px-3 py-1 rounded"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="text-gray-600"&gt;デポジット残高:&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="font-bold text-blue-600"&gt;¥440,000&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="text-gray-500"&gt;(20件分)&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;input type="month" value="2025-01" onchange="updateFinancialData(this.value)" class="border rounded px-3 py-1 text-sm"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;!-- 支払いスケジュール情報 --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="bg-blue-50 p-3 rounded-lg mb-4 text-sm"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div class="flex items-center justify-between"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="font-medium text-blue-800"&gt;支払条件:&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="text-blue-700 ml-2"&gt;月末締め&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;div class="text-right"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="text-blue-700"&gt;振込: 翌月15日 / 口座引落: 翌月27日&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="text-gray-600 text-xs ml-2"&gt;(土日祝は翌営業日)&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="overflow-x-auto"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;table class="min-w-full divide-y divide-gray-200"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;thead class="bg-gray-50"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;tr&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"&gt;紹介日&lt;/th&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"&gt;案件ID&lt;/th&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"&gt;顧客名&lt;/th&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"&gt;物件種別&lt;/th&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"&gt;工事内容&lt;/th&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"&gt;紹介料&lt;/th&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"&gt;支払予定日&lt;/th&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"&gt;支払状況&lt;/th&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"&gt;成約額/ROI&lt;/th&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;th class="px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase"&gt;詳細&lt;/th&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;/tr&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/thead&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;tbody class="bg-white divide-y divide-gray-200"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;tr class="hover:bg-gray-50"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500"&gt;2025/01/15&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900"&gt;#C2025-001&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900"&gt;田中様&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500"&gt;戸建て&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500"&gt;外壁塗装・屋根塗装&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;td class="px-6 py-4 whitespace-nowrap text-sm font-bold text-gray-900"&gt;¥22,000&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500"&gt;2/15(土)→17(月)&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;td class="px-6 py-4 whitespace-nowrap"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-yellow-100 text-yellow-800"&gt;請求待ち&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500"&gt;交渉中&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;td class="px-6 py-4 whitespace-nowrap text-sm text-center"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;button onclick="showCaseDetail(1)" class="text-blue-600 hover:text-blue-900"&gt;詳細&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;/tr&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;tr class="hover:bg-gray-50 bg-green-50"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500"&gt;2025/01/10&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900"&gt;#C2025-002&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900"&gt;佐藤様&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500"&gt;一戸建て&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500"&gt;外壁塗装&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;td class="px-6 py-4 whitespace-nowrap text-sm font-bold text-gray-900"&gt;¥22,000&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500"&gt;2/15(土)→17(月)&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;td class="px-6 py-4 whitespace-nowrap"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800"&gt;支払済&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;div class="text-xs"&gt;¥1.2M&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;div class="text-green-600 font-bold text-xs"&gt;3636%&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;td class="px-6 py-4 whitespace-nowrap text-sm text-center"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;button onclick="showCaseDetail(2)" class="text-blue-600 hover:text-blue-900"&gt;詳細&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;/tr&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;tr class="hover:bg-gray-50 bg-green-50"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500"&gt;2025/01/08&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900"&gt;#C2025-003&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900"&gt;鈴木様&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500"&gt;戸建て&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500"&gt;屋根葺き替え（瓦）&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;td class="px-6 py-4 whitespace-nowrap text-sm font-bold text-gray-900"&gt;¥22,000&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500"&gt;2/27(木)&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;td class="px-6 py-4 whitespace-nowrap"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800"&gt;支払済&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;div class="text-xs"&gt;¥800K&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;div class="text-green-600 font-bold text-xs"&gt;3636%&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;td class="px-6 py-4 whitespace-nowrap text-sm text-center"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;button onclick="showCaseDetail(3)" class="text-blue-600 hover:text-blue-900"&gt;詳細&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;/tr&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/tbody&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/table&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;!-- 成約手数料タブ --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div id="commissionTab" class="billing-tab-content p-6" style="display: none;"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="flex justify-between items-center mb-4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;h3 class="text-lg font-semibold"&gt;成約手数料支払履歴&lt;/h3&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div class="flex space-x-2"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;select class="border rounded px-3 py-1 text-sm"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;option&gt;全て&lt;/option&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;option&gt;支払済&lt;/option&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;option&gt;未払い&lt;/option&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/select&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;input type="month" value="2025-01" class="border rounded px-3 py-1 text-sm"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;!-- 支払いスケジュール情報 --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="bg-yellow-50 p-3 rounded-lg mb-4 text-sm"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;span class="font-medium text-yellow-800"&gt;支払条件:&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;span class="text-yellow-700"&gt;請求書発行から3営業日以内&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="overflow-x-auto"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;table class="min-w-full divide-y divide-gray-200"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;thead class="bg-gray-50"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;tr&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"&gt;成約日&lt;/th&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"&gt;案件ID&lt;/th&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"&gt;顧客名&lt;/th&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"&gt;成約金額&lt;/th&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"&gt;手数料率&lt;/th&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"&gt;手数料額(税込)&lt;/th&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"&gt;支払期日&lt;/th&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"&gt;支払状況&lt;/th&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"&gt;請求書&lt;/th&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;/tr&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/thead&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;tbody class="bg-white divide-y divide-gray-200"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;tr class="hover:bg-gray-50 bg-green-50"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500"&gt;2025/01/10&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900"&gt;#C2025-002&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900"&gt;佐藤様&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900"&gt;¥1,200,000&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500"&gt;10%&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;td class="px-6 py-4 whitespace-nowrap text-sm font-bold text-gray-900"&gt;¥132,000&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500"&gt;2025/01/31&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;td class="px-6 py-4 whitespace-nowrap"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800"&gt;支払済&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;td class="px-6 py-4 whitespace-nowrap text-sm"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;button onclick="downloadInvoicePDF('INV-2025-0102')" class="text-blue-600 hover:text-blue-900"&gt;ダウンロード&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;/tr&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;tr class="hover:bg-gray-50 bg-green-50"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500"&gt;2025/01/08&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900"&gt;#C2025-003&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900"&gt;鈴木様&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900"&gt;¥800,000&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500"&gt;10%&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;td class="px-6 py-4 whitespace-nowrap text-sm font-bold text-gray-900"&gt;¥88,000&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500"&gt;2025/01/31&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;td class="px-6 py-4 whitespace-nowrap"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800"&gt;支払済&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;td class="px-6 py-4 whitespace-nowrap text-sm"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;button onclick="downloadInvoicePDF('INV-2025-0103')" class="text-blue-600 hover:text-blue-900"&gt;ダウンロード&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;/tr&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;tr class="hover:bg-gray-50"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500"&gt;2025/01/05&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900"&gt;#C2024-845&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900"&gt;高橋様&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900"&gt;¥550,000&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500"&gt;10%&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;td class="px-6 py-4 whitespace-nowrap text-sm font-bold text-red-600"&gt;¥60,500&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500"&gt;2025/01/25&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;td class="px-6 py-4 whitespace-nowrap"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-yellow-100 text-yellow-800"&gt;請求待ち&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;td class="px-6 py-4 whitespace-nowrap text-sm"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;button onclick="viewInvoice('INV-2025-0104')" class="text-blue-600 hover:text-blue-900"&gt;確認&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;/tr&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;tr class="hover:bg-gray-50"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500"&gt;2024/12/28&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900"&gt;#C2024-810&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900"&gt;山田様&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900"&gt;¥950,000&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500"&gt;10%&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;td class="px-6 py-4 whitespace-nowrap text-sm font-bold text-gray-900"&gt;¥104,500&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500"&gt;2025/01/15&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;td class="px-6 py-4 whitespace-nowrap"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800"&gt;支払済&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;td class="px-6 py-4 whitespace-nowrap text-sm"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;button onclick="downloadInvoicePDF('INV-2024-1228')" class="text-blue-600 hover:text-blue-900"&gt;ダウンロード&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;/tr&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/tbody&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/table&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;!-- 支払履歴タブ --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div id="paymentTab" class="billing-tab-content p-6" style="display: none;"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="flex justify-between items-center mb-4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;h3 class="text-lg font-semibold"&gt;支払履歴&lt;/h3&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div class="flex space-x-2"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;select class="border rounded px-3 py-1 text-sm"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;option&gt;全て&lt;/option&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;option&gt;紹介料&lt;/option&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;option&gt;成約手数料&lt;/option&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;option&gt;その他&lt;/option&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/select&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;input type="month" value="2025-01" class="border rounded px-3 py-1 text-sm"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="overflow-x-auto"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;table class="min-w-full divide-y divide-gray-200"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;thead class="bg-gray-50"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;tr&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"&gt;支払日&lt;/th&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"&gt;請求書番号&lt;/th&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"&gt;種別&lt;/th&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"&gt;内容&lt;/th&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"&gt;支払額(税込)&lt;/th&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"&gt;支払方法&lt;/th&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"&gt;ステータス&lt;/th&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"&gt;領収書&lt;/th&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;/tr&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/thead&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;tbody class="bg-white divide-y divide-gray-200"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;tr class="hover:bg-gray-50"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500"&gt;2025/01/15&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900"&gt;INV-2025-0156&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500"&gt;紹介料&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900"&gt;案件#C2025-001 田中様（外壁塗装）&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;td class="px-6 py-4 whitespace-nowrap text-sm font-bold text-gray-900"&gt;¥22,000&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500"&gt;銀行振込&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;td class="px-6 py-4 whitespace-nowrap"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800"&gt;完了&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;td class="px-6 py-4 whitespace-nowrap text-sm"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;button onclick="downloadReceipt('RCP-2025-0156')" class="text-blue-600 hover:text-blue-900"&gt;ダウンロード&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;/tr&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;tr class="hover:bg-gray-50"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500"&gt;2025/01/10&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900"&gt;INV-2025-0145&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500"&gt;紹介料&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900"&gt;案件#C2025-002 佐藤様（外壁塗装）&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;td class="px-6 py-4 whitespace-nowrap text-sm font-bold text-gray-900"&gt;¥22,000&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500"&gt;銀行振込&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;td class="px-6 py-4 whitespace-nowrap"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800"&gt;完了&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;td class="px-6 py-4 whitespace-nowrap text-sm"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;button onclick="downloadReceipt('RCP-2025-0145')" class="text-blue-600 hover:text-blue-900"&gt;ダウンロード&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;/tr&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;tr class="hover:bg-gray-50"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500"&gt;2025/01/10&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900"&gt;INV-2025-0102&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500"&gt;成約手数料&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900"&gt;佐藤様案件 成約手数料&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;td class="px-6 py-4 whitespace-nowrap text-sm font-bold text-gray-900"&gt;¥132,000&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500"&gt;銀行振込&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;td class="px-6 py-4 whitespace-nowrap"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800"&gt;完了&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;td class="px-6 py-4 whitespace-nowrap text-sm"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;button onclick="downloadReceipt('RCP-2025-0102')" class="text-blue-600 hover:text-blue-900"&gt;ダウンロード&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;/tr&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;tr class="hover:bg-gray-50"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500"&gt;2025/01/08&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900"&gt;INV-2025-0103&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500"&gt;成約手数料&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900"&gt;鈴木様案件 成約手数料&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;td class="px-6 py-4 whitespace-nowrap text-sm font-bold text-gray-900"&gt;¥88,000&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500"&gt;銀行振込&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;td class="px-6 py-4 whitespace-nowrap"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800"&gt;完了&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;td class="px-6 py-4 whitespace-nowrap text-sm"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;button onclick="downloadReceipt('RCP-2025-0103')" class="text-blue-600 hover:text-blue-900"&gt;ダウンロード&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;/tr&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;tr class="hover:bg-gray-50"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500"&gt;2025/01/05&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900"&gt;INV-2025-0133&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500"&gt;紹介料&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900"&gt;案件#C2024-098 村田様（モルタル外壁）&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;td class="px-6 py-4 whitespace-nowrap text-sm font-bold text-gray-900"&gt;¥22,000&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500"&gt;銀行振込&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;td class="px-6 py-4 whitespace-nowrap"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800"&gt;完了&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;td class="px-6 py-4 whitespace-nowrap text-sm"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;button onclick="downloadReceipt('RCP-2025-0133')" class="text-blue-600 hover:text-blue-900"&gt;ダウンロード&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;/tr&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/tbody&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/table&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;!-- 収支分析タブ --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div id="analysisTab" class="billing-tab-content p-6" style="display: none;"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="flex justify-between items-center mb-6"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;h3 class="text-lg font-semibold"&gt;収支分析&lt;/h3&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;select class="border rounded px-3 py-1 text-sm"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;option&gt;2025年1月&lt;/option&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;option&gt;2024年12月&lt;/option&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;option&gt;2024年11月&lt;/option&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/select&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;!-- 月間サマリー --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="grid grid-cols-1 md:grid-cols-4 gap-4 mb-6"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div class="bg-white border rounded-lg p-4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;div class="text-sm text-gray-500 mb-1"&gt;売上高&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;div class="text-2xl font-bold text-gray-900"&gt;¥3,550,000&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;div class="text-xs text-green-600 mt-1"&gt;+12% 前月比&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div class="bg-white border rounded-lg p-4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;div class="text-sm text-gray-500 mb-1"&gt;支出合計&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;div class="text-2xl font-bold text-gray-900"&gt;¥625,000&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;div class="text-xs text-red-600 mt-1"&gt;+8% 前月比&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div class="bg-white border rounded-lg p-4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;div class="text-sm text-gray-500 mb-1"&gt;粗利益&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;div class="text-2xl font-bold text-green-600"&gt;¥2,925,000&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;div class="text-xs text-green-600 mt-1"&gt;+14% 前月比&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div class="bg-white border rounded-lg p-4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;div class="text-sm text-gray-500 mb-1"&gt;ROI&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;div class="text-2xl font-bold text-blue-600"&gt;468%&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;div class="text-xs text-green-600 mt-1"&gt;優良&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;!-- 収支内訳 --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;!-- 収入内訳 --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div class="bg-white border rounded-lg p-4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;h4 class="font-semibold text-gray-900 mb-3"&gt;収入内訳&lt;/h4&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;div class="space-y-3"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;div class="flex justify-between items-center"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;div class="flex items-center"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;div class="w-2 h-2 bg-green-500 rounded-full mr-2"&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;span class="text-sm text-gray-700"&gt;工事売上&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;span class="text-sm font-semibold"&gt;¥3,350,000&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;div class="pt-3 mt-3 border-t flex justify-between"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;span class="text-sm font-semibold text-gray-700"&gt;合計&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;span class="text-sm font-bold text-green-600"&gt;¥3,350,000&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;!-- 支出内訳 --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div class="bg-white border rounded-lg p-4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;h4 class="font-semibold text-gray-900 mb-3"&gt;支出内訳&lt;/h4&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;div class="space-y-3"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;div class="flex justify-between items-center"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;div class="flex items-center"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;div class="w-2 h-2 bg-red-500 rounded-full mr-2"&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;span class="text-sm text-gray-700"&gt;紹介料&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;span class="text-sm font-semibold"&gt;¥176,000&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;div class="flex justify-between items-center"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;div class="flex items-center"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;div class="w-2 h-2 bg-orange-500 rounded-full mr-2"&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;span class="text-sm text-gray-700"&gt;成約手数料&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;span class="text-sm font-semibold"&gt;¥325,000&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;div class="pt-3 mt-3 border-t flex justify-between"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;span class="text-sm font-semibold text-gray-700"&gt;合計&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;span class="text-sm font-bold text-red-600"&gt;¥501,000&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;!-- 案件別収支 --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="bg-white border rounded-lg p-4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;h4 class="font-semibold text-gray-900 mb-3"&gt;案件別収支TOP5&lt;/h4&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div class="overflow-x-auto"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;table class="min-w-full"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;thead class="border-b"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;tr&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;th class="text-left text-xs font-medium text-gray-500 uppercase pb-2"&gt;案件&lt;/th&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;th class="text-right text-xs font-medium text-gray-500 uppercase pb-2"&gt;紹介料&lt;/th&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;th class="text-right text-xs font-medium text-gray-500 uppercase pb-2"&gt;売上&lt;/th&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;th class="text-right text-xs font-medium text-gray-500 uppercase pb-2"&gt;手数料&lt;/th&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;th class="text-right text-xs font-medium text-gray-500 uppercase pb-2"&gt;利益&lt;/th&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;th class="text-right text-xs font-medium text-gray-500 uppercase pb-2"&gt;ROI&lt;/th&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;/tr&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;/thead&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;tbody class="divide-y divide-gray-200"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;tr&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;td class="py-2 text-sm text-gray-900"&gt;佐藤様案件&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;td class="py-2 text-sm text-right"&gt;¥22,000&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;td class="py-2 text-sm text-right"&gt;¥1,200,000&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;td class="py-2 text-sm text-right"&gt;¥132,000&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;td class="py-2 text-sm text-right font-semibold text-green-600"&gt;¥1,046,000&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;td class="py-2 text-sm text-right font-bold text-blue-600"&gt;4755%&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;/tr&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;tr&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;td class="py-2 text-sm text-gray-900"&gt;鈴木様案件&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;td class="py-2 text-sm text-right"&gt;¥22,000&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;td class="py-2 text-sm text-right"&gt;¥800,000&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;td class="py-2 text-sm text-right"&gt;¥88,000&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;td class="py-2 text-sm text-right font-semibold text-green-600"&gt;¥690,000&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;td class="py-2 text-sm text-right font-bold text-blue-600"&gt;800%&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;/tr&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;tr&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;td class="py-2 text-sm text-gray-900"&gt;山田様案件&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;td class="py-2 text-sm text-right"&gt;¥85,000&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;td class="py-2 text-sm text-right"&gt;¥950,000&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;td class="py-2 text-sm text-right"&gt;¥95,000&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;td class="py-2 text-sm text-right font-semibold text-green-600"&gt;¥770,000&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;td class="py-2 text-sm text-right font-bold text-blue-600"&gt;906%&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;/tr&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;tr&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;td class="py-2 text-sm text-gray-900"&gt;高橋様案件&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;td class="py-2 text-sm text-right"&gt;¥75,000&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;td class="py-2 text-sm text-right"&gt;¥600,000&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;td class="py-2 text-sm text-right"&gt;¥60,000&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;td class="py-2 text-sm text-right font-semibold text-green-600"&gt;¥465,000&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;td class="py-2 text-sm text-right font-bold text-blue-600"&gt;620%&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;/tr&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;/tbody&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/table&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;/div&gt;&lt;!-- billingSectionの終了 --&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;!-- デポジットセクション --&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;div id="depositSection" class="section" style="display: none;"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;div class="mb-6 flex justify-between items-center"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;h2 class="text-2xl font-bold text-gray-900"&gt;デポジット管理&lt;/h2&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="flex space-x-2"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;button onclick="showDepositModal()" class="px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 text-sm"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;svg class="w-4 h-4 inline mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"&gt;&lt;/path&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/svg&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>デポジット追加</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;!-- デポジット状況サマリー --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;div class="grid grid-cols-1 md:grid-cols-4 gap-4 mb-6"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="bg-white border-2 border-blue-200 rounded-lg shadow p-4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="text-sm text-gray-600 mb-1"&gt;デポジット残高&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="text-3xl font-bold text-blue-600"&gt;20/25件&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="text-sm text-gray-500 mt-1"&gt;¥440,000 残高&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="bg-white border rounded-lg shadow p-4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="text-sm text-gray-600 mb-1"&gt;有効期限&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="text-2xl font-bold text-gray-900"&gt;2025/03/31&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="text-sm text-orange-600 mt-1"&gt;残り45日&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="bg-white border rounded-lg shadow p-4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="text-sm text-gray-600 mb-1"&gt;現在の設定&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="text-2xl font-bold text-green-600"&gt;繰越&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="text-sm text-gray-500 mt-1"&gt;最終更新: 2025/01/17&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="bg-white border rounded-lg shadow p-4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="text-sm text-gray-600 mb-1"&gt;表示ランク&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="text-2xl font-bold text-purple-600"&gt;優先+1&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="text-sm text-gray-500 mt-1"&gt;デポジット特典適用中&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;!-- ランキング特典説明 --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;div class="bg-gradient-to-r from-purple-50 to-blue-50 rounded-lg shadow mb-6 p-6"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="flex items-start"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;svg class="w-8 h-8 text-purple-600 mr-3 mt-1" fill="currentColor" viewBox="0 0 20 20"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"&gt;&lt;/path&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/svg&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="flex-1"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;h3 class="text-lg font-semibold text-gray-900 mb-2"&gt;デポジット購入特典&lt;/h3&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;p class="text-sm text-gray-700 mb-3"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>デポジットを購入すると、ユーザーへ表示されるランキングが&lt;span class="font-bold text-purple-600"&gt;全てUP&lt;/span&gt;され、</p>
<p class="p1"><span class="Apple-converted-space">                                </span>より良い条件で案件が供給されやすくなります。</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div class="bg-yellow-50 border border-yellow-200 rounded-lg p-3 mb-3"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;div class="flex items-start"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;svg class="w-5 h-5 text-yellow-600 mt-0.5 mr-2" fill="currentColor" viewBox="0 0 20 20"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd"&gt;&lt;/path&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;/svg&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;div class="text-sm text-yellow-800"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;p class="font-medium"&gt;デポジット適用対象&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;p class="text-xs mt-1"&gt;デポジットは基本紹介料¥22,000の案件のみに適用されます。アパート・マンション（¥33,000）や部分施工（¥11,000以下）には適用されません。&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div class="grid grid-cols-1 md:grid-cols-3 gap-3"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;div class="bg-white rounded-lg p-3 border border-purple-200"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;div class="flex items-center mb-1"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;svg class="w-4 h-4 text-purple-500 mr-2" fill="currentColor" viewBox="0 0 20 20"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"&gt;&lt;/path&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;/svg&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;span class="text-xs font-medium text-gray-700"&gt;優先表示&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;p class="text-xs text-gray-600"&gt;検索結果の上位に表示&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;div class="bg-white rounded-lg p-3 border border-purple-200"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;div class="flex items-center mb-1"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;svg class="w-4 h-4 text-purple-500 mr-2" fill="currentColor" viewBox="0 0 20 20"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"&gt;&lt;/path&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;/svg&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;span class="text-xs font-medium text-gray-700"&gt;信頼度UP&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;p class="text-xs text-gray-600"&gt;前払いで信頼感向上&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;div class="bg-white rounded-lg p-3 border border-purple-200"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;div class="flex items-center mb-1"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;svg class="w-4 h-4 text-purple-500 mr-2" fill="currentColor" viewBox="0 0 20 20"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"&gt;&lt;/path&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;/svg&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;span class="text-xs font-medium text-gray-700"&gt;案件獲得率UP&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;p class="text-xs text-gray-600"&gt;競合他社より優位&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;!-- 繰越/返金設定 --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;div class="bg-white rounded-lg shadow mb-6 p-6"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;h3 class="text-lg font-semibold mb-4"&gt;繰越・返金設定&lt;/h3&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="flex items-start"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;svg class="w-5 h-5 text-yellow-600 mt-0.5 mr-2" fill="currentColor" viewBox="0 0 20 20"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd"&gt;&lt;/path&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/svg&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div class="text-sm text-yellow-800"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;p class="font-medium mb-1"&gt;重要なお知らせ&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;ul class="list-disc list-inside space-y-1 text-xs"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;li&gt;デポジットの有効期限は入金の翌々月末までです&lt;/li&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;li&gt;返金時の振込手数料はお客様負担となります&lt;/li&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;li&gt;繰越を選択すると無期限に継続利用可能です&lt;/li&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/ul&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="flex items-center justify-between"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;p class="text-sm font-medium text-gray-700 mb-2"&gt;期限切れ時の処理方法&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div class="flex space-x-4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="radio" name="depositHandling" value="rollover" checked="" class="mr-2"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="text-sm"&gt;繰越（推奨）&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="radio" name="depositHandling" value="refund" class="mr-2"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="text-sm"&gt;返金&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;button onclick="updateDepositSetting()" class="px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>設定を保存</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;!-- デポジット取引履歴 --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;div class="bg-white rounded-lg shadow p-6"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="flex justify-between items-center mb-4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;h3 class="text-lg font-semibold"&gt;デポジット取引履歴&lt;/h3&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="flex space-x-2"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;select id="depositTypeFilter" onchange="filterDepositHistory()" class="border rounded px-3 py-1 text-sm"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;option value="all"&gt;全て&lt;/option&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;option value="申請"&gt;申請中&lt;/option&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;option value="反映"&gt;反映&lt;/option&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;option value="利用"&gt;利用&lt;/option&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;option value="返金"&gt;返金&lt;/option&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/select&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;input type="month" id="depositMonthFilter" value="2025-01" onchange="filterDepositHistory()" class="border rounded px-3 py-1 text-sm"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="overflow-x-auto"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;table class="min-w-full divide-y divide-gray-200"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;thead class="bg-gray-50"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;tr&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"&gt;日付&lt;/th&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"&gt;種別&lt;/th&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"&gt;状態&lt;/th&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"&gt;件数&lt;/th&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"&gt;金額&lt;/th&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"&gt;説明&lt;/th&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"&gt;残件数&lt;/th&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"&gt;有効期限&lt;/th&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"&gt;操作&lt;/th&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/tr&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/thead&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;tbody id="depositHistoryBody" class="bg-white divide-y divide-gray-200"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;tr class="hover:bg-gray-50 deposit-row" data-type="申請" data-date="2025-01"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500"&gt;2025/01/17&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;td class="px-6 py-4 whitespace-nowrap"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-gray-100 text-gray-800"&gt;申請&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;td class="px-6 py-4 whitespace-nowrap"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-yellow-100 text-yellow-800"&gt;入金待ち&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900"&gt;10&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900"&gt;¥220,000&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500"&gt;INV-20250117 (支払期限:1/24)&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;td class="px-6 py-4 whitespace-nowrap text-sm text-gray-400"&gt;-&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;td class="px-6 py-4 whitespace-nowrap text-sm text-gray-400"&gt;-&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;td class="px-6 py-4 whitespace-nowrap text-sm"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;button onclick="downloadInvoice('INV-20250117')" class="text-blue-600 hover:text-blue-800"&gt;請求書DL&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/tr&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;tr class="hover:bg-gray-50 bg-gray-50 deposit-row" data-type="利用" data-date="2025-01"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500"&gt;2025/01/15&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;td class="px-6 py-4 whitespace-nowrap"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-red-100 text-red-800"&gt;利用&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;td class="px-6 py-4 whitespace-nowrap"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800"&gt;完了&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900"&gt;-1&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-red-600"&gt;-¥22,000&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;td class="px-6 py-4 whitespace-nowrap text-sm text-blue-600"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;a href="#" onclick="showCaseDetail('C2025-001'); return false;" class="hover:underline"&gt;#C2025-001 田中様&lt;/a&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;td class="px-6 py-4 whitespace-nowrap text-sm font-bold text-gray-900"&gt;20&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500"&gt;2025/03/31&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;td class="px-6 py-4 whitespace-nowrap text-sm text-gray-400"&gt;-&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/tr&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;tr class="hover:bg-gray-50 deposit-row" data-type="利用" data-date="2025-01"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500"&gt;2025/01/10&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;td class="px-6 py-4 whitespace-nowrap"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-red-100 text-red-800"&gt;利用&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;td class="px-6 py-4 whitespace-nowrap"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800"&gt;完了&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900"&gt;-1&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-red-600"&gt;-¥22,000&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;td class="px-6 py-4 whitespace-nowrap text-sm text-blue-600"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;a href="#" onclick="showCaseDetail('C2025-002'); return false;" class="hover:underline"&gt;#C2025-002 佐藤様&lt;/a&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;td class="px-6 py-4 whitespace-nowrap text-sm font-bold text-gray-900"&gt;21&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500"&gt;2025/03/31&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;td class="px-6 py-4 whitespace-nowrap text-sm text-gray-400"&gt;-&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/tr&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;tr class="hover:bg-gray-50 bg-gray-50 deposit-row" data-type="反映" data-date="2025-01"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500"&gt;2025/01/05&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;td class="px-6 py-4 whitespace-nowrap"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800"&gt;反映&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;td class="px-6 py-4 whitespace-nowrap"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800"&gt;完了&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900"&gt;+25&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-green-600"&gt;+¥550,000&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500"&gt;INV-20250101 入金確認&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;td class="px-6 py-4 whitespace-nowrap text-sm font-bold text-gray-900"&gt;25&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500"&gt;2025/03/31&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;td class="px-6 py-4 whitespace-nowrap text-sm"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;button onclick="downloadInvoice('INV-20250101')" class="text-blue-600 hover:text-blue-800"&gt;請求書DL&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/tr&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;tr class="hover:bg-gray-50 deposit-row" data-type="申請" data-date="2025-01"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500"&gt;2025/01/01&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;td class="px-6 py-4 whitespace-nowrap"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-gray-100 text-gray-800"&gt;申請&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;td class="px-6 py-4 whitespace-nowrap"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800"&gt;入金済&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900"&gt;25&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900"&gt;¥550,000&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500"&gt;INV-20250101 (入金:1/5)&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;td class="px-6 py-4 whitespace-nowrap text-sm text-gray-400"&gt;-&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;td class="px-6 py-4 whitespace-nowrap text-sm text-gray-400"&gt;-&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;td class="px-6 py-4 whitespace-nowrap text-sm"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;button onclick="downloadInvoice('INV-20250101')" class="text-blue-600 hover:text-blue-800"&gt;請求書DL&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/tr&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;tr class="hover:bg-gray-50 bg-gray-50 deposit-row" data-type="返金" data-date="2024-12"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500"&gt;2024/12/15&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;td class="px-6 py-4 whitespace-nowrap"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-blue-100 text-blue-800"&gt;返金&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;td class="px-6 py-4 whitespace-nowrap"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800"&gt;完了&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900"&gt;-3&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-blue-600"&gt;¥65,450&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500"&gt;期限切れ返金(手数料¥550差引)&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;td class="px-6 py-4 whitespace-nowrap text-sm font-bold text-gray-900"&gt;0&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500"&gt;2024/11/30&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;td class="px-6 py-4 whitespace-nowrap text-sm text-gray-400"&gt;-&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/tr&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/tbody&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/table&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;/div&gt;&lt;!-- depositSectionの終了 --&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;!-- レポートセクション --&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;div id="reportsSection" class="section" style="display: none;"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;div class="mb-6 flex justify-between items-center"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;h2 class="text-2xl font-bold text-gray-900"&gt;レポート&lt;/h2&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="flex space-x-2"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;select id="reportPeriod" onchange="updateReports()" class="px-3 py-2 border border-gray-300 rounded-lg text-sm"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;option value="month"&gt;今月&lt;/option&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;option value="quarter"&gt;今四半期&lt;/option&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;option value="year"&gt;今年度&lt;/option&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;option value="custom"&gt;期間指定&lt;/option&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/select&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;button onclick="exportReport()" class="px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 text-sm"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;svg class="w-4 h-4 inline mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"&gt;&lt;/path&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/svg&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>レポート出力</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;!-- KPIサマリー --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;div class="grid grid-cols-1 md:grid-cols-4 gap-4 mb-6"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="bg-white p-4 rounded-lg shadow"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="flex items-center justify-between"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;p class="text-sm text-gray-500"&gt;総売上&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;p class="text-2xl font-bold text-gray-900"&gt;¥8,450,000&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;p class="text-xs text-green-600 flex items-center mt-1"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;svg class="w-3 h-3 mr-1" fill="currentColor" viewBox="0 0 20 20"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;path fill-rule="evenodd" d="M5.293 7.707a1 1 0 010-1.414l4-4a1 1 0 011.414 0l4 4a1 1 0 01-1.414 1.414L11 5.414V17a1 1 0 11-2 0V5.414L6.707 7.707a1 1 0 01-1.414 0z" clip-rule="evenodd"&gt;&lt;/path&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;/svg&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>12% 前月比</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div class="p-3 bg-blue-100 rounded-full"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;svg class="w-6 h-6 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"&gt;&lt;/path&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/svg&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="bg-white p-4 rounded-lg shadow"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="flex items-center justify-between"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;p class="text-sm text-gray-500"&gt;成約率&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;p class="text-2xl font-bold text-gray-900"&gt;68.5%&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;p class="text-xs text-green-600 flex items-center mt-1"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;svg class="w-3 h-3 mr-1" fill="currentColor" viewBox="0 0 20 20"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;path fill-rule="evenodd" d="M5.293 7.707a1 1 0 010-1.414l4-4a1 1 0 011.414 0l4 4a1 1 0 01-1.414 1.414L11 5.414V17a1 1 0 11-2 0V5.414L6.707 7.707a1 1 0 01-1.414 0z" clip-rule="evenodd"&gt;&lt;/path&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;/svg&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>5.2% 改善</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div class="p-3 bg-green-100 rounded-full"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;svg class="w-6 h-6 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"&gt;&lt;/path&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/svg&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="bg-white p-4 rounded-lg shadow"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="flex items-center justify-between"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;p class="text-sm text-gray-500"&gt;平均単価&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;p class="text-2xl font-bold text-gray-900"&gt;¥952,000&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;p class="text-xs text-red-600 flex items-center mt-1"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;svg class="w-3 h-3 mr-1" fill="currentColor" viewBox="0 0 20 20"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;path fill-rule="evenodd" d="M14.707 12.293a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 111.414-1.414L9 14.586V3a1 1 0 012 0v11.586l2.293-2.293a1 1 0 011.414 0z" clip-rule="evenodd"&gt;&lt;/path&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;/svg&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>3% 前月比</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div class="p-3 bg-yellow-100 rounded-full"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;svg class="w-6 h-6 text-yellow-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"&gt;&lt;/path&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/svg&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="bg-white p-4 rounded-lg shadow"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="flex items-center justify-between"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;p class="text-sm text-gray-500"&gt;新規案件&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;p class="text-2xl font-bold text-gray-900"&gt;42件&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;p class="text-xs text-green-600 flex items-center mt-1"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;svg class="w-3 h-3 mr-1" fill="currentColor" viewBox="0 0 20 20"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;path fill-rule="evenodd" d="M5.293 7.707a1 1 0 010-1.414l4-4a1 1 0 011.414 0l4 4a1 1 0 01-1.414 1.414L11 5.414V17a1 1 0 11-2 0V5.414L6.707 7.707a1 1 0 01-1.414 0z" clip-rule="evenodd"&gt;&lt;/path&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;/svg&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>8件 増加</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div class="p-3 bg-purple-100 rounded-full"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;svg class="w-6 h-6 text-purple-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"&gt;&lt;/path&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/svg&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;!-- グラフエリア --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;div class="grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;!-- 売上推移グラフ --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="bg-white p-6 rounded-lg shadow"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="flex justify-between items-center mb-4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;h3 class="text-lg font-semibold text-gray-900"&gt;売上推移&lt;/h3&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;select class="text-sm border rounded px-2 py-1"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;option&gt;月別&lt;/option&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;option&gt;週別&lt;/option&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;option&gt;日別&lt;/option&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/select&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div style="height: 200px;"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;canvas id="salesChart"&gt;&lt;/canvas&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;!-- 成約率推移グラフ --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="bg-white p-6 rounded-lg shadow"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="flex justify-between items-center mb-4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;h3 class="text-lg font-semibold text-gray-900"&gt;成約率推移&lt;/h3&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;select class="text-sm border rounded px-2 py-1"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;option&gt;月別&lt;/option&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;option&gt;週別&lt;/option&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/select&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div style="height: 200px;"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;canvas id="conversionChart"&gt;&lt;/canvas&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;!-- 詳細テーブル --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;div class="grid grid-cols-1 lg:grid-cols-2 gap-6"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;!-- 営業別成績 --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="bg-white rounded-lg shadow"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="px-6 py-4 border-b"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;h3 class="text-lg font-semibold text-gray-900"&gt;営業別成績&lt;/h3&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="overflow-x-auto"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;table class="min-w-full"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;thead class="bg-gray-50"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;tr&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"&gt;営業名&lt;/th&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"&gt;成約数&lt;/th&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"&gt;成約率&lt;/th&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"&gt;売上&lt;/th&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;/tr&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/thead&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;tbody class="divide-y divide-gray-200"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;tr&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900"&gt;田中太郎&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500"&gt;12&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;td class="px-6 py-4 whitespace-nowrap"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;div class="flex items-center"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                                </span>&lt;span class="text-sm text-gray-900"&gt;75%&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                                </span>&lt;div class="ml-2 w-16 bg-gray-200 rounded-full h-2"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                                    </span>&lt;div class="bg-green-500 h-2 rounded-full" style="width: 75%"&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900"&gt;¥3,200,000&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;/tr&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;tr&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900"&gt;佐藤花子&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500"&gt;8&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;td class="px-6 py-4 whitespace-nowrap"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;div class="flex items-center"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                                </span>&lt;span class="text-sm text-gray-900"&gt;62%&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                                </span>&lt;div class="ml-2 w-16 bg-gray-200 rounded-full h-2"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                                    </span>&lt;div class="bg-yellow-500 h-2 rounded-full" style="width: 62%"&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900"&gt;¥2,100,000&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;/tr&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;tr&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900"&gt;鈴木次郎&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500"&gt;5&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;td class="px-6 py-4 whitespace-nowrap"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;div class="flex items-center"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                                </span>&lt;span class="text-sm text-gray-900"&gt;45%&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                                </span>&lt;div class="ml-2 w-16 bg-gray-200 rounded-full h-2"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                                    </span>&lt;div class="bg-red-500 h-2 rounded-full" style="width: 45%"&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900"&gt;¥1,450,000&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;/tr&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/tbody&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/table&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;!-- エリア別成績 --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="bg-white rounded-lg shadow"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="px-6 py-4 border-b"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;h3 class="text-lg font-semibold text-gray-900"&gt;エリア別成績&lt;/h3&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="overflow-x-auto"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;table class="min-w-full"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;thead class="bg-gray-50"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;tr&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"&gt;エリア&lt;/th&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"&gt;案件数&lt;/th&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"&gt;成約率&lt;/th&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"&gt;売上&lt;/th&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;/tr&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/thead&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;tbody class="divide-y divide-gray-200"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;tr&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900"&gt;東京都&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500"&gt;18&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900"&gt;72%&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900"&gt;¥4,200,000&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;/tr&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;tr&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900"&gt;神奈川県&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500"&gt;12&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900"&gt;65%&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900"&gt;¥2,800,000&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;/tr&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;tr&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900"&gt;埼玉県&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500"&gt;8&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900"&gt;58%&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900"&gt;¥1,450,000&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;/tr&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/tbody&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/table&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;!-- リードタイム分析セクション --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;div class="mt-8"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="bg-white rounded-lg shadow p-6"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="flex justify-between items-center mb-6"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;h3 class="text-xl font-bold text-gray-900"&gt;リードタイム分析&lt;/h3&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div class="flex items-center space-x-2"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;span class="text-sm text-gray-500"&gt;平均値表示&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="relative inline-flex items-center cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="checkbox" id="showMedian" class="sr-only peer" onchange="updateLeadTimeDisplay()"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;div class="w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;span class="text-sm text-gray-500"&gt;中央値表示&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;!-- KPIカード --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-6"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div class="bg-gradient-to-r from-blue-50 to-blue-100 p-4 rounded-lg"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;div class="flex items-center justify-between"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;p class="text-sm text-blue-600 font-medium"&gt;問合せ → 現地調査&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;p class="text-2xl font-bold text-blue-900" id="leadTime1"&gt;3.2日&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;p class="text-xs text-blue-600 flex items-center mt-1"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;svg class="w-3 h-3 mr-1" fill="currentColor" viewBox="0 0 20 20"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                                </span>&lt;path fill-rule="evenodd" d="M5.293 7.707a1 1 0 010-1.414l4-4a1 1 0 011.414 0l4 4a1 1 0 01-1.414 1.414L11 5.414V17a1 1 0 11-2 0V5.414L6.707 7.707a1 1 0 01-1.414 0z" clip-rule="evenodd"&gt;&lt;/path&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;/svg&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>0.5日 短縮</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;div class="p-3 bg-blue-200 rounded-full"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;svg class="w-6 h-6 text-blue-700" fill="none" stroke="currentColor" viewBox="0 0 24 24"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"&gt;&lt;/path&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;/svg&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div class="bg-gradient-to-r from-green-50 to-green-100 p-4 rounded-lg"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;div class="flex items-center justify-between"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;p class="text-sm text-green-600 font-medium"&gt;現地調査 → 見積提出&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;p class="text-2xl font-bold text-green-900" id="leadTime2"&gt;2.8日&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;p class="text-xs text-green-600 flex items-center mt-1"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;svg class="w-3 h-3 mr-1" fill="currentColor" viewBox="0 0 20 20"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                                </span>&lt;path fill-rule="evenodd" d="M5.293 7.707a1 1 0 010-1.414l4-4a1 1 0 011.414 0l4 4a1 1 0 01-1.414 1.414L11 5.414V17a1 1 0 11-2 0V5.414L6.707 7.707a1 1 0 01-1.414 0z" clip-rule="evenodd"&gt;&lt;/path&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;/svg&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>0.2日 短縮</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;div class="p-3 bg-green-200 rounded-full"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;svg class="w-6 h-6 text-green-700" fill="none" stroke="currentColor" viewBox="0 0 24 24"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"&gt;&lt;/path&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;/svg&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div class="bg-gradient-to-r from-purple-50 to-purple-100 p-4 rounded-lg"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;div class="flex items-center justify-between"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;p class="text-sm text-purple-600 font-medium"&gt;見積提出 → 成約&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;p class="text-2xl font-bold text-purple-900" id="leadTime3"&gt;5.5日&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;p class="text-xs text-red-600 flex items-center mt-1"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;svg class="w-3 h-3 mr-1" fill="currentColor" viewBox="0 0 20 20"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                                </span>&lt;path fill-rule="evenodd" d="M14.707 12.293a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 111.414-1.414L9 14.586V3a1 1 0 012 0v11.586l2.293-2.293a1 1 0 011.414 0z" clip-rule="evenodd"&gt;&lt;/path&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;/svg&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>1.2日 延長</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;div class="p-3 bg-purple-200 rounded-full"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;svg class="w-6 h-6 text-purple-700" fill="none" stroke="currentColor" viewBox="0 0 24 24"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"&gt;&lt;/path&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;/svg&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;!-- リードタイムチャート --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;!-- 月別推移グラフ --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div class="bg-gray-50 p-4 rounded-lg"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;h4 class="text-sm font-semibold text-gray-700 mb-3"&gt;月別リードタイム推移&lt;/h4&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;div style="height: 250px;"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;canvas id="leadTimeChart"&gt;&lt;/canvas&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;!-- ファネル分析 --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div class="bg-gray-50 p-4 rounded-lg"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;h4 class="text-sm font-semibold text-gray-700 mb-3"&gt;営業ファネル分析&lt;/h4&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;div class="space-y-3"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;div class="relative"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;div class="flex items-center justify-between mb-1"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;span class="text-sm font-medium text-gray-700"&gt;問合せ&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;span class="text-sm text-gray-500"&gt;142件&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;div class="w-full bg-gray-200 rounded-full h-8"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;div class="bg-blue-500 h-8 rounded-full flex items-center justify-center text-white text-xs" style="width: 100%"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                                </span>100%</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;div class="relative"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;div class="flex items-center justify-between mb-1"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;span class="text-sm font-medium text-gray-700"&gt;現地調査&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;span class="text-sm text-gray-500"&gt;98件&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;div class="w-full bg-gray-200 rounded-full h-8"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;div class="bg-green-500 h-8 rounded-full flex items-center justify-center text-white text-xs" style="width: 69%"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                                </span>69% (平均3.2日)</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;div class="relative"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;div class="flex items-center justify-between mb-1"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;span class="text-sm font-medium text-gray-700"&gt;見積提出&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;span class="text-sm text-gray-500"&gt;85件&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;div class="w-full bg-gray-200 rounded-full h-8"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;div class="bg-yellow-500 h-8 rounded-full flex items-center justify-center text-white text-xs" style="width: 60%"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                                </span>60% (平均2.8日)</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;div class="relative"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;div class="flex items-center justify-between mb-1"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;span class="text-sm font-medium text-gray-700"&gt;成約&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;span class="text-sm text-gray-500"&gt;42件&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;div class="w-full bg-gray-200 rounded-full h-8"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;div class="bg-purple-500 h-8 rounded-full flex items-center justify-center text-white text-xs" style="width: 30%"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                                </span>30% (平均5.5日)</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;div class="mt-4 pt-4 border-t border-gray-200"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;div class="flex justify-between text-sm"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;span class="text-gray-600"&gt;トータル平均日数:&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;span class="font-bold text-gray-900"&gt;11.5日&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;!-- 営業別リードタイム比較 --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="bg-gray-50 rounded-lg p-4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;h4 class="text-sm font-semibold text-gray-700 mb-4"&gt;営業別リードタイム比較&lt;/h4&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div class="overflow-x-auto"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;table class="min-w-full"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;thead&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;tr class="text-xs text-gray-500 uppercase"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;th class="text-left py-2"&gt;営業担当&lt;/th&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;th class="text-center py-2"&gt;問合せ→調査&lt;/th&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;th class="text-center py-2"&gt;調査→見積&lt;/th&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;th class="text-center py-2"&gt;見積→成約&lt;/th&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;th class="text-center py-2"&gt;合計日数&lt;/th&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;th class="text-center py-2"&gt;成約率&lt;/th&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;/tr&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;/thead&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;tbody class="text-sm"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;tr class="border-t border-gray-200"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;td class="py-3 font-medium text-gray-900"&gt;田中太郎&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;td class="text-center text-green-600 font-medium"&gt;2.5日&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;td class="text-center text-green-600 font-medium"&gt;2.0日&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;td class="text-center text-green-600 font-medium"&gt;4.5日&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;td class="text-center font-bold text-gray-900"&gt;9.0日&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;td class="text-center"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                                </span>&lt;span class="px-2 py-1 text-xs rounded-full bg-green-100 text-green-800"&gt;75%&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;/tr&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;tr class="border-t border-gray-200"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;td class="py-3 font-medium text-gray-900"&gt;佐藤花子&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;td class="text-center text-yellow-600 font-medium"&gt;3.0日&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;td class="text-center text-yellow-600 font-medium"&gt;3.2日&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;td class="text-center text-yellow-600 font-medium"&gt;5.8日&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;td class="text-center font-bold text-gray-900"&gt;12.0日&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;td class="text-center"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                                </span>&lt;span class="px-2 py-1 text-xs rounded-full bg-yellow-100 text-yellow-800"&gt;62%&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;/tr&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;tr class="border-t border-gray-200"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;td class="py-3 font-medium text-gray-900"&gt;鈴木次郎&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;td class="text-center text-red-600 font-medium"&gt;4.5日&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;td class="text-center text-red-600 font-medium"&gt;3.8日&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;td class="text-center text-red-600 font-medium"&gt;7.2日&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;td class="text-center font-bold text-gray-900"&gt;15.5日&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;td class="text-center"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                                </span>&lt;span class="px-2 py-1 text-xs rounded-full bg-red-100 text-red-800"&gt;45%&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;/tr&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;/tbody&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/table&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div class="mt-4 p-3 bg-blue-50 rounded-lg"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;p class="text-xs text-blue-800"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;strong&gt;💡 改善ポイント:&lt;/strong&gt; 見積提出から成約までの期間が長い傾向があります。フォローアップの頻度を上げることで成約率向上が期待できます。</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;/div&gt;&lt;!-- reportsSectionの終了 --&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;!-- カレンダーセクション --&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;div id="calendarSection" class="section" style="display: none;"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;div class="mb-6 flex justify-between items-center"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;h2 class="text-2xl font-bold text-gray-900"&gt;カレンダー&lt;/h2&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="flex items-center space-x-2"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;button onclick="changeCalendarView('month')" class="calendar-view-btn px-3 py-1 text-sm font-medium text-blue-600 bg-blue-50 rounded"&gt;月&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;button onclick="changeCalendarView('week')" class="calendar-view-btn px-3 py-1 text-sm font-medium text-gray-600 hover:bg-gray-50 rounded"&gt;週&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;button onclick="changeCalendarView('day')" class="calendar-view-btn px-3 py-1 text-sm font-medium text-gray-600 hover:bg-gray-50 rounded"&gt;日&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;button onclick="addNewEvent()" class="ml-4 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 text-sm"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;svg class="w-4 h-4 inline mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"&gt;&lt;/path&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/svg&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>予定を追加</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</p>
<p class="p2"><span class="Apple-converted-space">                </span></p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;!-- カレンダーナビゲーション --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;div class="bg-white rounded-lg shadow mb-4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="p-4 flex justify-between items-center border-b"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;button onclick="previousMonth()" class="p-2 hover:bg-gray-100 rounded"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"&gt;&lt;/path&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/svg&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;h3 id="currentMonth" class="text-lg font-semibold text-gray-900"&gt;2025年10月&lt;/h3&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;button onclick="nextMonth()" class="p-2 hover:bg-gray-100 rounded"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"&gt;&lt;/path&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/svg&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p2"><span class="Apple-converted-space">                    </span></p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;!-- 月表示カレンダー --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div id="calendarMonthView" class="p-4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="grid grid-cols-7 mb-2"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div class="text-center text-sm font-medium text-gray-700 py-2 border-b"&gt;日&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div class="text-center text-sm font-medium text-gray-700 py-2 border-b"&gt;月&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div class="text-center text-sm font-medium text-gray-700 py-2 border-b"&gt;火&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div class="text-center text-sm font-medium text-gray-700 py-2 border-b"&gt;水&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div class="text-center text-sm font-medium text-gray-700 py-2 border-b"&gt;木&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div class="text-center text-sm font-medium text-gray-700 py-2 border-b"&gt;金&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div class="text-center text-sm font-medium text-gray-700 py-2 border-b"&gt;土&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div id="calendarGrid" style="display: grid; grid-template-columns: repeat(7, 1fr);"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div style="border: 1px solid #e5e7eb; padding: 8px; min-height: 100px; position: relative; background: white; color: #9ca3af; background: #f9fafb;" data-date="28"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;div style="font-weight: 500; font-size: 14px;"&gt;28&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p2"><span class="Apple-converted-space">                        </span></p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div style="border: 1px solid #e5e7eb; padding: 8px; min-height: 100px; position: relative; background: white; color: #9ca3af; background: #f9fafb;" data-date="29"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;div style="font-weight: 500; font-size: 14px;"&gt;29&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p2"><span class="Apple-converted-space">                        </span></p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div style="border: 1px solid #e5e7eb; padding: 8px; min-height: 100px; position: relative; background: white; color: #9ca3af; background: #f9fafb;" data-date="30"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;div style="font-weight: 500; font-size: 14px;"&gt;30&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p2"><span class="Apple-converted-space">                        </span></p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div style="border: 1px solid #e5e7eb; padding: 8px; min-height: 100px; position: relative; background: white;" data-date="1" data-full-date="2025-10-01" ondrop="handleDrop(event)" ondragover="handleDragOver(event)" ondragleave="handleDragLeave(event)" onclick="handleCellClick(event)" onmouseover="this.style.background='#f9fafb'" onmouseout="this.style.background='white'"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;div style="font-weight: 500; font-size: 14px; "&gt;1&lt;/div&gt;</p>
<p class="p2"><span class="Apple-converted-space">                                </span></p>
<p class="p2"><span class="Apple-converted-space">                                </span></p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p2"><span class="Apple-converted-space">                        </span></p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div style="border: 1px solid #e5e7eb; padding: 8px; min-height: 100px; position: relative; background: white;" data-date="2" data-full-date="2025-10-02" ondrop="handleDrop(event)" ondragover="handleDragOver(event)" ondragleave="handleDragLeave(event)" onclick="handleCellClick(event)" onmouseover="this.style.background='#f9fafb'" onmouseout="this.style.background='white'"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;div style="font-weight: 500; font-size: 14px; "&gt;2&lt;/div&gt;</p>
<p class="p2"><span class="Apple-converted-space">                                </span></p>
<p class="p2"><span class="Apple-converted-space">                                </span></p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p2"><span class="Apple-converted-space">                        </span></p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div style="border: 1px solid #e5e7eb; padding: 8px; min-height: 100px; position: relative; background: white;" data-date="3" data-full-date="2025-10-03" ondrop="handleDrop(event)" ondragover="handleDragOver(event)" ondragleave="handleDragLeave(event)" onclick="handleCellClick(event)" onmouseover="this.style.background='#f9fafb'" onmouseout="this.style.background='white'"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;div style="font-weight: 500; font-size: 14px; "&gt;3&lt;/div&gt;</p>
<p class="p2"><span class="Apple-converted-space">                                </span></p>
<p class="p2"><span class="Apple-converted-space">                                </span></p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p2"><span class="Apple-converted-space">                        </span></p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div style="border: 1px solid #e5e7eb; padding: 8px; min-height: 100px; position: relative; background: white; background: #e0f2fe;" data-date="4" data-full-date="2025-10-04" ondrop="handleDrop(event)" ondragover="handleDragOver(event)" ondragleave="handleDragLeave(event)" onclick="handleCellClick(event)" onmouseover="this.style.background='#bae6fd'" onmouseout="this.style.background='#e0f2fe'"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;div style="font-weight: 500; font-size: 14px; color: #0284c7;"&gt;4&lt;/div&gt;</p>
<p class="p2"><span class="Apple-converted-space">                                </span></p>
<p class="p2"><span class="Apple-converted-space">                                </span></p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p2"><span class="Apple-converted-space">                        </span></p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div style="border: 1px solid #e5e7eb; padding: 8px; min-height: 100px; position: relative; background: #eff6ff; background: #fee2e2; border: 2px solid #3b82f6;" data-date="5" data-full-date="2025-10-05" ondrop="handleDrop(event)" ondragover="handleDragOver(event)" ondragleave="handleDragLeave(event)" onclick="handleCellClick(event)" onmouseover="this.style.background='#dbeafe'" onmouseout="this.style.background='#eff6ff'"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;div style="font-weight: 500; font-size: 14px; color: #dc2626;"&gt;5&lt;/div&gt;</p>
<p class="p2"><span class="Apple-converted-space">                                </span></p>
<p class="p2"><span class="Apple-converted-space">                                </span></p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p2"><span class="Apple-converted-space">                        </span></p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div style="border: 1px solid #e5e7eb; padding: 8px; min-height: 100px; position: relative; background: white;" data-date="6" data-full-date="2025-10-06" ondrop="handleDrop(event)" ondragover="handleDragOver(event)" ondragleave="handleDragLeave(event)" onclick="handleCellClick(event)" onmouseover="this.style.background='#f9fafb'" onmouseout="this.style.background='white'"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;div style="font-weight: 500; font-size: 14px; "&gt;6&lt;/div&gt;</p>
<p class="p2"><span class="Apple-converted-space">                                </span></p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;div class="mt-1 space-y-1"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;div class="text-xs p-1 bg-gray-500 text-white rounded truncate cursor-pointer hover:opacity-80 event-item" draggable="true" data-event-id="case-4" onclick="showEventDetail(case-4)" oncontextmenu="showEventMenu(event, case-4)" ondragstart="handleDragStart(event, case-4)" title="見積作成中: undefined様"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>10:00 見積作成中: undefined様</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p2"><span class="Apple-converted-space">                        </span></p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div style="border: 1px solid #e5e7eb; padding: 8px; min-height: 100px; position: relative; background: white;" data-date="7" data-full-date="2025-10-07" ondrop="handleDrop(event)" ondragover="handleDragOver(event)" ondragleave="handleDragLeave(event)" onclick="handleCellClick(event)" onmouseover="this.style.background='#f9fafb'" onmouseout="this.style.background='white'"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;div style="font-weight: 500; font-size: 14px; "&gt;7&lt;/div&gt;</p>
<p class="p2"><span class="Apple-converted-space">                                </span></p>
<p class="p2"><span class="Apple-converted-space">                                </span></p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p2"><span class="Apple-converted-space">                        </span></p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div style="border: 1px solid #e5e7eb; padding: 8px; min-height: 100px; position: relative; background: white;" data-date="8" data-full-date="2025-10-08" ondrop="handleDrop(event)" ondragover="handleDragOver(event)" ondragleave="handleDragLeave(event)" onclick="handleCellClick(event)" onmouseover="this.style.background='#f9fafb'" onmouseout="this.style.background='white'"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;div style="font-weight: 500; font-size: 14px; "&gt;8&lt;/div&gt;</p>
<p class="p2"><span class="Apple-converted-space">                                </span></p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;div class="mt-1 space-y-1"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;div class="text-xs p-1 bg-gray-500 text-white rounded truncate cursor-pointer hover:opacity-80 event-item" draggable="true" data-event-id="case-1" onclick="showEventDetail(case-1)" oncontextmenu="showEventMenu(event, case-1)" ondragstart="handleDragStart(event, case-1)" title="2024/01/18 14:00 電話フォロー: undefined様"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>10:00 2024/01/18 14:00 電話フォロー: undefined様</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;/div&gt;</p>
<p class="p2"><span class="Apple-converted-space">                                </span></p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;div class="text-xs p-1 bg-gray-500 text-white rounded truncate cursor-pointer hover:opacity-80 event-item" draggable="true" data-event-id="case-2" onclick="showEventDetail(case-2)" oncontextmenu="showEventMenu(event, case-2)" ondragstart="handleDragStart(event, case-2)" title="2024/01/20 14:00 現地調査: undefined様"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>10:00 2024/01/20 14:00 現地調査: undefined様</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;/div&gt;</p>
<p class="p2"><span class="Apple-converted-space">                                </span></p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;div class="text-xs p-1 bg-gray-500 text-white rounded truncate cursor-pointer hover:opacity-80 event-item" draggable="true" data-event-id="case-3" onclick="showEventDetail(case-3)" oncontextmenu="showEventMenu(event, case-3)" ondragstart="handleDragStart(event, case-3)" title="2024/01/22 10:00 見積説明訪問: undefined様"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>10:00 2024/01/22 10:00 見積説明訪問: undefined様</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;/div&gt;</p>
<p class="p2"><span class="Apple-converted-space">                                </span></p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;div class="text-xs p-1 bg-gray-500 text-white rounded truncate cursor-pointer hover:opacity-80 event-item" draggable="true" data-event-id="case-5" onclick="showEventDetail(case-5)" oncontextmenu="showEventMenu(event, case-5)" ondragstart="handleDragStart(event, case-5)" title="2024/01/25 工事開始: undefined様"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>10:00 2024/01/25 工事開始: undefined様</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p2"><span class="Apple-converted-space">                        </span></p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div style="border: 1px solid #e5e7eb; padding: 8px; min-height: 100px; position: relative; background: white;" data-date="9" data-full-date="2025-10-09" ondrop="handleDrop(event)" ondragover="handleDragOver(event)" ondragleave="handleDragLeave(event)" onclick="handleCellClick(event)" onmouseover="this.style.background='#f9fafb'" onmouseout="this.style.background='white'"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;div style="font-weight: 500; font-size: 14px; "&gt;9&lt;/div&gt;</p>
<p class="p2"><span class="Apple-converted-space">                                </span></p>
<p class="p2"><span class="Apple-converted-space">                                </span></p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p2"><span class="Apple-converted-space">                        </span></p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div style="border: 1px solid #e5e7eb; padding: 8px; min-height: 100px; position: relative; background: white;" data-date="10" data-full-date="2025-10-10" ondrop="handleDrop(event)" ondragover="handleDragOver(event)" ondragleave="handleDragLeave(event)" onclick="handleCellClick(event)" onmouseover="this.style.background='#f9fafb'" onmouseout="this.style.background='white'"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;div style="font-weight: 500; font-size: 14px; "&gt;10&lt;/div&gt;</p>
<p class="p2"><span class="Apple-converted-space">                                </span></p>
<p class="p2"><span class="Apple-converted-space">                                </span></p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p2"><span class="Apple-converted-space">                        </span></p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div style="border: 1px solid #e5e7eb; padding: 8px; min-height: 100px; position: relative; background: white; background: #e0f2fe;" data-date="11" data-full-date="2025-10-11" ondrop="handleDrop(event)" ondragover="handleDragOver(event)" ondragleave="handleDragLeave(event)" onclick="handleCellClick(event)" onmouseover="this.style.background='#bae6fd'" onmouseout="this.style.background='#e0f2fe'"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;div style="font-weight: 500; font-size: 14px; color: #0284c7;"&gt;11&lt;/div&gt;</p>
<p class="p2"><span class="Apple-converted-space">                                </span></p>
<p class="p2"><span class="Apple-converted-space">                                </span></p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p2"><span class="Apple-converted-space">                        </span></p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div style="border: 1px solid #e5e7eb; padding: 8px; min-height: 100px; position: relative; background: white; background: #fee2e2;" data-date="12" data-full-date="2025-10-12" ondrop="handleDrop(event)" ondragover="handleDragOver(event)" ondragleave="handleDragLeave(event)" onclick="handleCellClick(event)" onmouseover="this.style.background='#fecaca'" onmouseout="this.style.background='#fee2e2'"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;div style="font-weight: 500; font-size: 14px; color: #dc2626;"&gt;12&lt;/div&gt;</p>
<p class="p2"><span class="Apple-converted-space">                                </span></p>
<p class="p2"><span class="Apple-converted-space">                                </span></p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p2"><span class="Apple-converted-space">                        </span></p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div style="border: 1px solid #e5e7eb; padding: 8px; min-height: 100px; position: relative; background: white; background: #fee2e2;" data-date="13" data-full-date="2025-10-13" ondrop="handleDrop(event)" ondragover="handleDragOver(event)" ondragleave="handleDragLeave(event)" onclick="handleCellClick(event)" onmouseover="this.style.background='#fecaca'" onmouseout="this.style.background='#fee2e2'"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;div style="font-weight: 500; font-size: 14px; color: #dc2626;"&gt;13&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;div style="font-size: 10px; color: #dc2626; font-weight: 500;"&gt;スポーツの日&lt;/div&gt;</p>
<p class="p2"><span class="Apple-converted-space">                                </span></p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p2"><span class="Apple-converted-space">                        </span></p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div style="border: 1px solid #e5e7eb; padding: 8px; min-height: 100px; position: relative; background: white;" data-date="14" data-full-date="2025-10-14" ondrop="handleDrop(event)" ondragover="handleDragOver(event)" ondragleave="handleDragLeave(event)" onclick="handleCellClick(event)" onmouseover="this.style.background='#f9fafb'" onmouseout="this.style.background='white'"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;div style="font-weight: 500; font-size: 14px; "&gt;14&lt;/div&gt;</p>
<p class="p2"><span class="Apple-converted-space">                                </span></p>
<p class="p2"><span class="Apple-converted-space">                                </span></p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p2"><span class="Apple-converted-space">                        </span></p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div style="border: 1px solid #e5e7eb; padding: 8px; min-height: 100px; position: relative; background: white;" data-date="15" data-full-date="2025-10-15" ondrop="handleDrop(event)" ondragover="handleDragOver(event)" ondragleave="handleDragLeave(event)" onclick="handleCellClick(event)" onmouseover="this.style.background='#f9fafb'" onmouseout="this.style.background='white'"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;div style="font-weight: 500; font-size: 14px; "&gt;15&lt;/div&gt;</p>
<p class="p2"><span class="Apple-converted-space">                                </span></p>
<p class="p2"><span class="Apple-converted-space">                                </span></p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p2"><span class="Apple-converted-space">                        </span></p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div style="border: 1px solid #e5e7eb; padding: 8px; min-height: 100px; position: relative; background: white;" data-date="16" data-full-date="2025-10-16" ondrop="handleDrop(event)" ondragover="handleDragOver(event)" ondragleave="handleDragLeave(event)" onclick="handleCellClick(event)" onmouseover="this.style.background='#f9fafb'" onmouseout="this.style.background='white'"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;div style="font-weight: 500; font-size: 14px; "&gt;16&lt;/div&gt;</p>
<p class="p2"><span class="Apple-converted-space">                                </span></p>
<p class="p2"><span class="Apple-converted-space">                                </span></p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p2"><span class="Apple-converted-space">                        </span></p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div style="border: 1px solid #e5e7eb; padding: 8px; min-height: 100px; position: relative; background: white;" data-date="17" data-full-date="2025-10-17" ondrop="handleDrop(event)" ondragover="handleDragOver(event)" ondragleave="handleDragLeave(event)" onclick="handleCellClick(event)" onmouseover="this.style.background='#f9fafb'" onmouseout="this.style.background='white'"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;div style="font-weight: 500; font-size: 14px; "&gt;17&lt;/div&gt;</p>
<p class="p2"><span class="Apple-converted-space">                                </span></p>
<p class="p2"><span class="Apple-converted-space">                                </span></p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p2"><span class="Apple-converted-space">                        </span></p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div style="border: 1px solid #e5e7eb; padding: 8px; min-height: 100px; position: relative; background: white; background: #e0f2fe;" data-date="18" data-full-date="2025-10-18" ondrop="handleDrop(event)" ondragover="handleDragOver(event)" ondragleave="handleDragLeave(event)" onclick="handleCellClick(event)" onmouseover="this.style.background='#bae6fd'" onmouseout="this.style.background='#e0f2fe'"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;div style="font-weight: 500; font-size: 14px; color: #0284c7;"&gt;18&lt;/div&gt;</p>
<p class="p2"><span class="Apple-converted-space">                                </span></p>
<p class="p2"><span class="Apple-converted-space">                                </span></p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p2"><span class="Apple-converted-space">                        </span></p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div style="border: 1px solid #e5e7eb; padding: 8px; min-height: 100px; position: relative; background: white; background: #fee2e2;" data-date="19" data-full-date="2025-10-19" ondrop="handleDrop(event)" ondragover="handleDragOver(event)" ondragleave="handleDragLeave(event)" onclick="handleCellClick(event)" onmouseover="this.style.background='#fecaca'" onmouseout="this.style.background='#fee2e2'"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;div style="font-weight: 500; font-size: 14px; color: #dc2626;"&gt;19&lt;/div&gt;</p>
<p class="p2"><span class="Apple-converted-space">                                </span></p>
<p class="p2"><span class="Apple-converted-space">                                </span></p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p2"><span class="Apple-converted-space">                        </span></p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div style="border: 1px solid #e5e7eb; padding: 8px; min-height: 100px; position: relative; background: white;" data-date="20" data-full-date="2025-10-20" ondrop="handleDrop(event)" ondragover="handleDragOver(event)" ondragleave="handleDragLeave(event)" onclick="handleCellClick(event)" onmouseover="this.style.background='#f9fafb'" onmouseout="this.style.background='white'"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;div style="font-weight: 500; font-size: 14px; "&gt;20&lt;/div&gt;</p>
<p class="p2"><span class="Apple-converted-space">                                </span></p>
<p class="p2"><span class="Apple-converted-space">                                </span></p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p2"><span class="Apple-converted-space">                        </span></p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div style="border: 1px solid #e5e7eb; padding: 8px; min-height: 100px; position: relative; background: white;" data-date="21" data-full-date="2025-10-21" ondrop="handleDrop(event)" ondragover="handleDragOver(event)" ondragleave="handleDragLeave(event)" onclick="handleCellClick(event)" onmouseover="this.style.background='#f9fafb'" onmouseout="this.style.background='white'"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;div style="font-weight: 500; font-size: 14px; "&gt;21&lt;/div&gt;</p>
<p class="p2"><span class="Apple-converted-space">                                </span></p>
<p class="p2"><span class="Apple-converted-space">                                </span></p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p2"><span class="Apple-converted-space">                        </span></p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div style="border: 1px solid #e5e7eb; padding: 8px; min-height: 100px; position: relative; background: white;" data-date="22" data-full-date="2025-10-22" ondrop="handleDrop(event)" ondragover="handleDragOver(event)" ondragleave="handleDragLeave(event)" onclick="handleCellClick(event)" onmouseover="this.style.background='#f9fafb'" onmouseout="this.style.background='white'"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;div style="font-weight: 500; font-size: 14px; "&gt;22&lt;/div&gt;</p>
<p class="p2"><span class="Apple-converted-space">                                </span></p>
<p class="p2"><span class="Apple-converted-space">                                </span></p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p2"><span class="Apple-converted-space">                        </span></p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div style="border: 1px solid #e5e7eb; padding: 8px; min-height: 100px; position: relative; background: white;" data-date="23" data-full-date="2025-10-23" ondrop="handleDrop(event)" ondragover="handleDragOver(event)" ondragleave="handleDragLeave(event)" onclick="handleCellClick(event)" onmouseover="this.style.background='#f9fafb'" onmouseout="this.style.background='white'"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;div style="font-weight: 500; font-size: 14px; "&gt;23&lt;/div&gt;</p>
<p class="p2"><span class="Apple-converted-space">                                </span></p>
<p class="p2"><span class="Apple-converted-space">                                </span></p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p2"><span class="Apple-converted-space">                        </span></p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div style="border: 1px solid #e5e7eb; padding: 8px; min-height: 100px; position: relative; background: white;" data-date="24" data-full-date="2025-10-24" ondrop="handleDrop(event)" ondragover="handleDragOver(event)" ondragleave="handleDragLeave(event)" onclick="handleCellClick(event)" onmouseover="this.style.background='#f9fafb'" onmouseout="this.style.background='white'"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;div style="font-weight: 500; font-size: 14px; "&gt;24&lt;/div&gt;</p>
<p class="p2"><span class="Apple-converted-space">                                </span></p>
<p class="p2"><span class="Apple-converted-space">                                </span></p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p2"><span class="Apple-converted-space">                        </span></p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div style="border: 1px solid #e5e7eb; padding: 8px; min-height: 100px; position: relative; background: white; background: #e0f2fe;" data-date="25" data-full-date="2025-10-25" ondrop="handleDrop(event)" ondragover="handleDragOver(event)" ondragleave="handleDragLeave(event)" onclick="handleCellClick(event)" onmouseover="this.style.background='#bae6fd'" onmouseout="this.style.background='#e0f2fe'"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;div style="font-weight: 500; font-size: 14px; color: #0284c7;"&gt;25&lt;/div&gt;</p>
<p class="p2"><span class="Apple-converted-space">                                </span></p>
<p class="p2"><span class="Apple-converted-space">                                </span></p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p2"><span class="Apple-converted-space">                        </span></p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div style="border: 1px solid #e5e7eb; padding: 8px; min-height: 100px; position: relative; background: white; background: #fee2e2;" data-date="26" data-full-date="2025-10-26" ondrop="handleDrop(event)" ondragover="handleDragOver(event)" ondragleave="handleDragLeave(event)" onclick="handleCellClick(event)" onmouseover="this.style.background='#fecaca'" onmouseout="this.style.background='#fee2e2'"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;div style="font-weight: 500; font-size: 14px; color: #dc2626;"&gt;26&lt;/div&gt;</p>
<p class="p2"><span class="Apple-converted-space">                                </span></p>
<p class="p2"><span class="Apple-converted-space">                                </span></p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p2"><span class="Apple-converted-space">                        </span></p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div style="border: 1px solid #e5e7eb; padding: 8px; min-height: 100px; position: relative; background: white;" data-date="27" data-full-date="2025-10-27" ondrop="handleDrop(event)" ondragover="handleDragOver(event)" ondragleave="handleDragLeave(event)" onclick="handleCellClick(event)" onmouseover="this.style.background='#f9fafb'" onmouseout="this.style.background='white'"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;div style="font-weight: 500; font-size: 14px; "&gt;27&lt;/div&gt;</p>
<p class="p2"><span class="Apple-converted-space">                                </span></p>
<p class="p2"><span class="Apple-converted-space">                                </span></p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p2"><span class="Apple-converted-space">                        </span></p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div style="border: 1px solid #e5e7eb; padding: 8px; min-height: 100px; position: relative; background: white;" data-date="28" data-full-date="2025-10-28" ondrop="handleDrop(event)" ondragover="handleDragOver(event)" ondragleave="handleDragLeave(event)" onclick="handleCellClick(event)" onmouseover="this.style.background='#f9fafb'" onmouseout="this.style.background='white'"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;div style="font-weight: 500; font-size: 14px; "&gt;28&lt;/div&gt;</p>
<p class="p2"><span class="Apple-converted-space">                                </span></p>
<p class="p2"><span class="Apple-converted-space">                                </span></p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p2"><span class="Apple-converted-space">                        </span></p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div style="border: 1px solid #e5e7eb; padding: 8px; min-height: 100px; position: relative; background: white;" data-date="29" data-full-date="2025-10-29" ondrop="handleDrop(event)" ondragover="handleDragOver(event)" ondragleave="handleDragLeave(event)" onclick="handleCellClick(event)" onmouseover="this.style.background='#f9fafb'" onmouseout="this.style.background='white'"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;div style="font-weight: 500; font-size: 14px; "&gt;29&lt;/div&gt;</p>
<p class="p2"><span class="Apple-converted-space">                                </span></p>
<p class="p2"><span class="Apple-converted-space">                                </span></p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p2"><span class="Apple-converted-space">                        </span></p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div style="border: 1px solid #e5e7eb; padding: 8px; min-height: 100px; position: relative; background: white;" data-date="30" data-full-date="2025-10-30" ondrop="handleDrop(event)" ondragover="handleDragOver(event)" ondragleave="handleDragLeave(event)" onclick="handleCellClick(event)" onmouseover="this.style.background='#f9fafb'" onmouseout="this.style.background='white'"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;div style="font-weight: 500; font-size: 14px; "&gt;30&lt;/div&gt;</p>
<p class="p2"><span class="Apple-converted-space">                                </span></p>
<p class="p2"><span class="Apple-converted-space">                                </span></p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p2"><span class="Apple-converted-space">                        </span></p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div style="border: 1px solid #e5e7eb; padding: 8px; min-height: 100px; position: relative; background: white;" data-date="31" data-full-date="2025-10-31" ondrop="handleDrop(event)" ondragover="handleDragOver(event)" ondragleave="handleDragLeave(event)" onclick="handleCellClick(event)" onmouseover="this.style.background='#f9fafb'" onmouseout="this.style.background='white'"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;div style="font-weight: 500; font-size: 14px; "&gt;31&lt;/div&gt;</p>
<p class="p2"><span class="Apple-converted-space">                                </span></p>
<p class="p2"><span class="Apple-converted-space">                                </span></p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p2"><span class="Apple-converted-space">                        </span></p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div style="border: 1px solid #e5e7eb; padding: 8px; min-height: 100px; position: relative; background: white; color: #9ca3af; background: #f9fafb;" data-date="1"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;div style="font-weight: 500; font-size: 14px;"&gt;1&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p2"><span class="Apple-converted-space">                        </span></p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div style="border: 1px solid #e5e7eb; padding: 8px; min-height: 100px; position: relative; background: white; color: #9ca3af; background: #f9fafb;" data-date="2"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;div style="font-weight: 500; font-size: 14px;"&gt;2&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p2"><span class="Apple-converted-space">                        </span></p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div style="border: 1px solid #e5e7eb; padding: 8px; min-height: 100px; position: relative; background: white; color: #9ca3af; background: #f9fafb;" data-date="3"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;div style="font-weight: 500; font-size: 14px;"&gt;3&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p2"><span class="Apple-converted-space">                        </span></p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div style="border: 1px solid #e5e7eb; padding: 8px; min-height: 100px; position: relative; background: white; color: #9ca3af; background: #f9fafb;" data-date="4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;div style="font-weight: 500; font-size: 14px;"&gt;4&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p2"><span class="Apple-converted-space">                        </span></p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div style="border: 1px solid #e5e7eb; padding: 8px; min-height: 100px; position: relative; background: white; color: #9ca3af; background: #f9fafb;" data-date="5"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;div style="font-weight: 500; font-size: 14px;"&gt;5&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p2"><span class="Apple-converted-space">                        </span></p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div style="border: 1px solid #e5e7eb; padding: 8px; min-height: 100px; position: relative; background: white; color: #9ca3af; background: #f9fafb;" data-date="6"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;div style="font-weight: 500; font-size: 14px;"&gt;6&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p2"><span class="Apple-converted-space">                        </span></p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div style="border: 1px solid #e5e7eb; padding: 8px; min-height: 100px; position: relative; background: white; color: #9ca3af; background: #f9fafb;" data-date="7"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;div style="font-weight: 500; font-size: 14px;"&gt;7&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p2"><span class="Apple-converted-space">                        </span></p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div style="border: 1px solid #e5e7eb; padding: 8px; min-height: 100px; position: relative; background: white; color: #9ca3af; background: #f9fafb;" data-date="8"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;div style="font-weight: 500; font-size: 14px;"&gt;8&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p2"><span class="Apple-converted-space">                    </span></p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;!-- 週表示（初期は非表示） --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div id="calendarWeekView" class="p-4 hidden"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div id="weekGrid" class="grid grid-cols-8 gap-0 border"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;!-- Week view content will be rendered here --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p2"><span class="Apple-converted-space">                    </span></p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;!-- 日表示（初期は非表示） --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div id="calendarDayView" class="p-4 hidden"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="bg-white rounded-lg shadow"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div class="p-4 border-b"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;h3 id="dayViewDate" class="text-lg font-semibold"&gt;2024年1月15日（月）&lt;/h3&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div id="dayTimeSlots" class="p-4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;!-- Day view time slots will be rendered here --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</p>
<p class="p2"><span class="Apple-converted-space">                </span></p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;!-- 凡例 --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;div class="bg-white rounded-lg shadow p-4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;h4 class="text-sm font-medium text-gray-700 mb-3"&gt;凡例&lt;/h4&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="flex flex-wrap gap-4 text-sm"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="flex items-center"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div class="w-3 h-3 bg-blue-500 rounded mr-2"&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;span&gt;ヒアリング・現地調査&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="flex items-center"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div class="w-3 h-3 bg-green-500 rounded mr-2"&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;span&gt;工事&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="flex items-center"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div class="w-3 h-3 bg-yellow-500 rounded mr-2"&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;span&gt;見積もり提出&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="flex items-center"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div class="w-3 h-3 bg-purple-500 rounded mr-2"&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;span&gt;アフターフォロー&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="flex items-center"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div class="w-3 h-3 bg-red-500 rounded mr-2"&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;span&gt;重要&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;/div&gt;&lt;!-- calendarSectionの終了 --&gt;</p>
<p class="p2"><span class="Apple-converted-space">            </span></p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;!-- 自動配信設定セクション --&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;div id="autodeliverySection" class="section" style="display: none;"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;h2 class="text-2xl font-bold text-gray-900 mb-6"&gt;自動配信設定&lt;/h2&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;div class="bg-white rounded-lg shadow p-6"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;!-- 一時停止設定 --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="mb-8 p-6 bg-gradient-to-r from-orange-50 to-red-50 border border-orange-200 rounded-lg"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="flex items-center justify-between mb-4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;h3 class="text-lg font-semibold text-gray-800"&gt;一時停止設定&lt;/h3&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;label class="relative inline-flex items-center cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;input type="checkbox" id="autoPauseToggle" onchange="toggleAutoPause()" class="sr-only peer" checked=""&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;div class="w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-orange-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-orange-500"&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div id="pauseSettings" class="space-y-3"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;!-- 一時停止開始日 --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="block text-xs font-medium text-gray-700 mb-1"&gt;一時停止開始日&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;input type="date" id="pauseStartDate" class="w-full px-2 py-1 text-xs border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-orange-500"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;!-- 一時停止再開日 --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;div class="flex items-center justify-between mb-1.5"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;label class="block text-sm font-medium text-gray-700"&gt;一時停止再開日&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;label class="flex items-center gap-1.5 cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;input type="checkbox" id="indefinitePause" onchange="toggleIndefinitePause()" class="rounded text-orange-600 focus:ring-orange-500" checked=""&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;span class="text-xs text-gray-600 whitespace-nowrap"&gt;未定&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;input type="text" id="pauseEndDateDisplay" class="w-full px-2.5 py-1.5 text-sm border border-gray-300 rounded-lg bg-gray-100 cursor-not-allowed text-gray-500 hidden" value="未定" readonly=""&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;input type="date" id="pauseEndDate" class="w-full px-2 py-1 text-xs border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-orange-500"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;!-- 対応可能物件種別 --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="mb-8"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;h3 class="text-lg font-semibold mb-4"&gt;対応可能物件種別&lt;/h3&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="space-y-4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;label class="block text-sm font-semibold text-gray-700 mb-3"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>対応可能物件&lt;span class="text-red-500"&gt;*&lt;/span&gt;（最大対応階数）</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div class="space-y-3"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center p-3 border-2 border-gray-200 rounded-lg cursor-pointer hover:border-gray-300"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="checkbox" class="mr-3" value="house" name="propertyType"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;div class="flex-1 flex items-center"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;span class="font-medium"&gt;🏠 戸建て住宅&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;select class="ml-auto text-sm border rounded px-2 py-1"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;option value="1"&gt;1階&lt;/option&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;option value="2"&gt;2階&lt;/option&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;option value="3" selected=""&gt;3階&lt;/option&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;option value="4"&gt;4階以上&lt;/option&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;/select&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;span class="ml-1 text-sm text-gray-600"&gt;まで&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center p-3 border-2 border-gray-200 rounded-lg cursor-pointer hover:border-gray-300"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="checkbox" class="mr-3" value="apartment" name="propertyType" onchange="checkLargeProperty(this)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;div class="flex-1 flex items-center"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;span class="font-medium"&gt;🏢 アパート・マンション&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;select class="ml-auto text-sm border rounded px-2 py-1" onchange="checkFloorSelection(this)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;option value="1"&gt;1階&lt;/option&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;option value="2"&gt;2階&lt;/option&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;option value="3" selected=""&gt;3階&lt;/option&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;option value="4"&gt;4階&lt;/option&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;option value="5"&gt;5階&lt;/option&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;option value="6"&gt;6階&lt;/option&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;option value="7"&gt;7階&lt;/option&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;option value="8"&gt;8階&lt;/option&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;option value="9"&gt;9階&lt;/option&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;option value="unlimited"&gt;10階以上&lt;/option&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;/select&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;span class="ml-1 text-sm text-gray-600"&gt;まで&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center p-3 border-2 border-gray-200 rounded-lg cursor-pointer hover:border-gray-300"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="checkbox" class="mr-3" value="commercial" name="propertyType" onchange="checkLargeProperty(this)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;div class="flex-1 flex items-center"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;span class="font-medium"&gt;🏪 店舗・事務所&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;select class="ml-auto text-sm border rounded px-2 py-1" onchange="checkFloorSelection(this)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;option value="1"&gt;1階&lt;/option&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;option value="2"&gt;2階&lt;/option&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;option value="3" selected=""&gt;3階&lt;/option&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;option value="4"&gt;4階以上&lt;/option&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;/select&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;span class="ml-1 text-sm text-gray-600"&gt;まで&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center p-3 border-2 border-gray-200 rounded-lg cursor-pointer hover:border-gray-300"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="checkbox" class="mr-3" value="factory" name="propertyType" onchange="checkLargeProperty(this)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;div class="flex-1 flex items-center"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;span class="font-medium"&gt;🏭 工場・倉庫&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;select class="ml-auto text-sm border rounded px-2 py-1" onchange="checkFloorSelection(this)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;option value="1"&gt;1階&lt;/option&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;option value="2"&gt;2階&lt;/option&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;option value="3" selected=""&gt;3階&lt;/option&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;option value="4"&gt;4階以上&lt;/option&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;/select&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;span class="ml-1 text-sm text-gray-600"&gt;まで&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;!-- 築年数対応範囲 --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div class="mt-6"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="block mb-2 text-sm font-semibold text-gray-700"&gt;築年数対応範囲 &lt;span class="text-red-500"&gt;*&lt;/span&gt;&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;div class="bg-white border rounded-lg p-4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;div class="mb-2"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;p class="text-center text-lg font-medium text-gray-800"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>築&lt;span id="ageRangeMinAuto"&gt;19&lt;/span&gt;年〜&lt;span id="ageRangeMaxAuto"&gt;53&lt;/span&gt;年まで対応</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;div class="space-y-4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;label class="text-sm text-gray-600"&gt;築年数下限&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;input type="range" min="0" max="50" value="0" class="w-full" oninput="updateAgeRangeAuto()"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;div class="flex justify-between text-xs text-gray-400 mt-1"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                                </span>&lt;span&gt;0年&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                                </span>&lt;span&gt;10年&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                                </span>&lt;span&gt;20年&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                                </span>&lt;span&gt;30年&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                                </span>&lt;span&gt;40年&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                                </span>&lt;span&gt;50年&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;label class="text-sm text-gray-600"&gt;築年数上限&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;input type="range" min="0" max="100" value="50" class="w-full" oninput="updateAgeRangeAuto()"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;div class="flex justify-between text-xs text-gray-400 mt-1"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                                </span>&lt;span&gt;0年&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                                </span>&lt;span&gt;20年&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                                </span>&lt;span&gt;40年&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                                </span>&lt;span&gt;60年&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                                </span>&lt;span&gt;80年&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                                </span>&lt;span&gt;100年&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;!-- 対応工事種別 --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="mb-8"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;h3 class="text-lg font-semibold mb-2"&gt;施工箇所 &lt;span class="text-red-500"&gt;*&lt;/span&gt;&lt;/h3&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;p class="text-sm text-gray-600 mb-2"&gt;対応可能な工事内容全てにチェックを入れてください&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;p class="text-sm text-gray-600 mb-4"&gt;選択した項目が自動配信の条件に当てはまった場合、記載の料金（※税抜）が適用されます。&lt;/p&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;!-- ¥20,000項目 --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="mb-6"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div class="grid grid-cols-1 md:grid-cols-2 gap-3"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center p-3 bg-white border rounded-lg hover:bg-blue-50 cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="checkbox" name="constructionTypes" value="外壁塗装" class="mr-3"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="flex-1"&gt;外壁塗装&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="text-sm font-semibold text-blue-600"&gt;¥20,000&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center p-3 bg-white border rounded-lg hover:bg-blue-50 cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="checkbox" name="constructionTypes" value="外壁カバー工法" class="mr-3"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="flex-1"&gt;外壁カバー工法&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="text-sm font-semibold text-blue-600"&gt;¥20,000&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center p-3 bg-white border rounded-lg hover:bg-blue-50 cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="checkbox" name="constructionTypes" value="外壁張替え" class="mr-3"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="flex-1"&gt;外壁張替え&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="text-sm font-semibold text-blue-600"&gt;¥20,000&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center p-3 bg-white border rounded-lg hover:bg-blue-50 cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="checkbox" name="constructionTypes" value="屋根塗装（外壁工事含む）" class="mr-3"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="flex-1"&gt;屋根塗装（外壁工事含む）&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="text-sm font-semibold text-blue-600"&gt;¥20,000&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center p-3 bg-white border rounded-lg hover:bg-blue-50 cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="checkbox" name="constructionTypes" value="屋上防水（外壁工事含む）" class="mr-3"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="flex-1"&gt;屋上防水（外壁工事含む）&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="text-sm font-semibold text-blue-600"&gt;¥20,000&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center p-3 bg-white border rounded-lg hover:bg-blue-50 cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="checkbox" name="constructionTypes" value="屋根葺き替え・張り替え※スレート・ガルバリウム等" class="mr-3"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="flex-1 text-sm"&gt;屋根葺き替え・張り替え※スレート・ガルバリウム等&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="text-sm font-semibold text-blue-600"&gt;¥20,000&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center p-3 bg-white border rounded-lg hover:bg-blue-50 cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="checkbox" name="constructionTypes" value="屋根葺き替え・張り替え※瓦" class="mr-3"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="flex-1"&gt;屋根葺き替え・張り替え※瓦&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="text-sm font-semibold text-blue-600"&gt;¥20,000&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center p-3 bg-white border rounded-lg hover:bg-blue-50 cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="checkbox" name="constructionTypes" value="屋根カバー工法" class="mr-3"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="flex-1"&gt;屋根カバー工法&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="text-sm font-semibold text-blue-600"&gt;¥20,000&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center p-3 bg-white border rounded-lg hover:bg-blue-50 cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="checkbox" name="constructionTypes" value="外壁補修（外壁工事含む）" class="mr-3"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="flex-1"&gt;外壁補修（外壁工事含む）&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="text-sm font-semibold text-blue-600"&gt;¥20,000&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center p-3 bg-white border rounded-lg hover:bg-blue-50 cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="checkbox" name="constructionTypes" value="屋根補修（外壁工事含む）" class="mr-3"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="flex-1"&gt;屋根補修（外壁工事含む）&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="text-sm font-semibold text-blue-600"&gt;¥20,000&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center p-3 bg-white border rounded-lg hover:bg-blue-50 cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="checkbox" name="constructionTypes" value="ベランダ防水（外壁工事含む）" class="mr-3"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="flex-1"&gt;ベランダ防水（外壁工事含む）&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="text-sm font-semibold text-blue-600"&gt;¥20,000&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center p-3 bg-white border rounded-lg hover:bg-blue-50 cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="checkbox" name="constructionTypes" value="外壁雨漏り修繕（外壁工事含む）" class="mr-3"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="flex-1"&gt;外壁雨漏り修繕（外壁工事含む）&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="text-sm font-semibold text-blue-600"&gt;¥20,000&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center p-3 bg-white border rounded-lg hover:bg-blue-50 cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="checkbox" name="constructionTypes" value="内装水回り（バス・キッチン・トイレ）（外壁工事含む）" class="mr-3"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="flex-1 text-sm"&gt;内装水回り（バス・キッチン・トイレ）（外壁工事含む）&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="text-sm font-semibold text-blue-600"&gt;¥20,000&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center p-3 bg-white border rounded-lg hover:bg-blue-50 cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="checkbox" name="constructionTypes" value="内装（フローリングや畳などの床・クロス等）（外壁工事含む）" class="mr-3"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="flex-1 text-sm"&gt;内装（フローリングや畳などの床・クロス等）（外壁工事含む）&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="text-sm font-semibold text-blue-600"&gt;¥20,000&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center p-3 bg-white border rounded-lg hover:bg-blue-50 cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="checkbox" name="constructionTypes" value="屋根雨漏り修繕（屋根工事含む）" class="mr-3"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="flex-1"&gt;屋根雨漏り修繕（屋根工事含む）&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="text-sm font-semibold text-blue-600"&gt;¥20,000&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;!-- ¥10,000項目 --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="mb-6"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;p class="text-sm text-gray-600 mb-2"&gt;以下の単品依頼は相見積もり時の料金を税抜き表示しております。&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;p class="text-sm text-gray-600 mb-3"&gt;※1社紹介時はすべて¥20,000となります&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div class="grid grid-cols-1 md:grid-cols-2 gap-3"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center p-3 bg-white border rounded-lg hover:bg-blue-50 cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="checkbox" name="constructionTypes" value="屋根塗装単品（但し1社紹介時は定価）" class="mr-3" onchange="checkSingleItemSelection(this)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="flex-1"&gt;屋根塗装単品&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="text-sm font-semibold text-green-600"&gt;¥10,000&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center p-3 bg-white border rounded-lg hover:bg-blue-50 cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="checkbox" name="constructionTypes" value="屋上防水単品（但し1社紹介時は定価）" class="mr-3" onchange="checkSingleItemSelection(this)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="flex-1"&gt;屋上防水単品&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="text-sm font-semibold text-green-600"&gt;¥10,000&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;!-- ¥5,000項目 --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="mb-6"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div class="grid grid-cols-1 md:grid-cols-2 gap-3"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center p-3 bg-white border rounded-lg hover:bg-blue-50 cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="checkbox" name="constructionTypes" value="外壁補修単品（但し1社紹介時は定価）" class="mr-3" onchange="checkSingleItemSelection(this)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="flex-1"&gt;外壁補修単品&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="text-sm font-semibold text-red-600"&gt;¥5,000&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center p-3 bg-white border rounded-lg hover:bg-blue-50 cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="checkbox" name="constructionTypes" value="屋根補修単品（但し1社紹介時は定価）" class="mr-3" onchange="checkSingleItemSelection(this)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="flex-1"&gt;屋根補修単品&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="text-sm font-semibold text-red-600"&gt;¥5,000&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center p-3 bg-white border rounded-lg hover:bg-blue-50 cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="checkbox" name="constructionTypes" value="ベランダ防水単品（但し1社紹介時は定価）" class="mr-3" onchange="checkSingleItemSelection(this)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="flex-1"&gt;ベランダ防水単品&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="text-sm font-semibold text-red-600"&gt;¥5,000&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center p-3 bg-white border rounded-lg hover:bg-blue-50 cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="checkbox" name="constructionTypes" value="外壁雨漏り修繕単品（但し1社紹介時は定価）" class="mr-3" onchange="checkSingleItemSelection(this)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="flex-1"&gt;外壁雨漏り修繕単品&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="text-sm font-semibold text-red-600"&gt;¥5,000&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center p-3 bg-white border rounded-lg hover:bg-blue-50 cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="checkbox" name="constructionTypes" value="屋根雨漏り修繕単品（但し1社紹介時は定価）" class="mr-3" onchange="checkSingleItemSelection(this)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="flex-1"&gt;屋根雨漏り修繕単品&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="text-sm font-semibold text-red-600"&gt;¥5,000&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;!-- 特殊対応項目（任意） --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="mb-8"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;h3 class="text-lg font-semibold mb-4"&gt;特殊対応項目（任意）&lt;/h3&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="grid grid-cols-1 md:grid-cols-2 gap-4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;label class="flex items-center space-x-3 p-3 bg-white border rounded-lg cursor-pointer hover:border-blue-500 transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;input type="checkbox" name="specialServices" value="🌡 遮熱・断熱塗料提案可能"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;span class="text-sm"&gt;🌡 遮熱・断熱塗料提案可能&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;label class="flex items-center space-x-3 p-3 bg-white border rounded-lg cursor-pointer hover:border-blue-500 transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;input type="checkbox" name="specialServices" value="👀 立ち会いなし・見積もり手渡し希望"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;span class="text-sm"&gt;👀 立ち会いなし・見積もり手渡し希望&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;label class="flex items-center space-x-3 p-3 bg-white border rounded-lg cursor-pointer hover:border-blue-500 transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;input type="checkbox" name="specialServices" value="📮 遠方につき立ち会いなし・見積もり郵送・電話で商談可"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;span class="text-sm"&gt;📮 遠方につき立ち会いなし・見積もり郵送・電話で商談可&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;label class="flex items-center space-x-3 p-3 bg-white border rounded-lg cursor-pointer hover:border-blue-500 transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;input type="checkbox" name="specialServices" value="🏡 エクステリア（庭・駐車場・外構）"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;span class="text-sm"&gt;🏡 エクステリア（庭・駐車場・外構）&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;label class="flex items-center space-x-3 p-3 bg-white border rounded-lg cursor-pointer hover:border-blue-500 transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;input type="checkbox" name="specialServices" value="☀️ 太陽光パネル脱着（撤去含む）"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;span class="text-sm"&gt;☀️ 太陽光パネル脱着（撤去含む）&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;label class="flex items-center space-x-3 p-3 bg-white border rounded-lg cursor-pointer hover:border-blue-500 transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;input type="checkbox" name="specialServices" value="🏦 提携先ローン有り"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;span class="text-sm"&gt;🏦 提携先ローン有り&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;label class="flex items-center space-x-3 p-3 bg-white border rounded-lg cursor-pointer hover:border-blue-500 transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;input type="checkbox" name="specialServices" value="💳 クレジットカード払い可"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;span class="text-sm"&gt;💳 クレジットカード払い可&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;label class="flex items-center space-x-3 p-3 bg-white border rounded-lg cursor-pointer hover:border-blue-500 transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;input type="checkbox" name="specialServices" value="🔥 火災保険申請サポート"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;span class="text-sm"&gt;🔥 火災保険申請サポート&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;label class="flex items-center space-x-3 p-3 bg-white border rounded-lg cursor-pointer hover:border-blue-500 transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;input type="checkbox" name="specialServices" value="💰 助成金申請サポート"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;span class="text-sm"&gt;💰 助成金申請サポート&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;label class="flex items-center space-x-3 p-3 bg-white border rounded-lg cursor-pointer hover:border-blue-500 transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;input type="checkbox" name="specialServices" value="🏗 建築許可証"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;span class="text-sm"&gt;🏗 建築許可証&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;label class="flex items-center space-x-3 p-3 bg-white border rounded-lg cursor-pointer hover:border-blue-500 transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;input type="checkbox" name="specialServices" value="✨ 光触媒塗料提案可"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;span class="text-sm"&gt;✨ 光触媒塗料提案可&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;label class="flex items-center space-x-3 p-3 bg-white border rounded-lg cursor-pointer hover:border-blue-500 transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;input type="checkbox" name="specialServices" value="💴 分割払いプラン有"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;span class="text-sm"&gt;💴 分割払いプラン有&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;!-- 対応エリア選択 --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="mb-8"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="bg-blue-600 text-white px-4 py-2 rounded-t-lg"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;h3 class="text-lg font-semibold"&gt;対応エリア選択&lt;/h3&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="border border-t-0 rounded-b-lg p-4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;p class="text-sm text-gray-600 mb-4"&gt;サービス提供可能なエリアを選択してください（最大5つまで）&lt;/p&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;!-- 選択状況サマリー --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div class="bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;div class="flex justify-between items-center"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;span class="text-sm text-gray-600"&gt;選択済み都道府県：&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;span id="selectedPrefCount" class="font-bold text-lg ml-2"&gt;5&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;span class="text-sm text-gray-600"&gt;/ 5&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;span class="text-sm text-gray-600"&gt;選択済み市区町村：&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;span id="selectedCityCount" class="font-bold text-lg ml-2"&gt;0&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;!-- 都道府県選択 --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div class="mb-6"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;h4 class="text-md font-medium mb-3"&gt;都道府県選択（最大5つまで）&lt;/h4&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;div id="prefectureGrid" class="grid grid-cols-2 md:grid-cols-4 gap-2"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;!-- JavaScript Vide動的生成される --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;!-- STEP 1: 都道府県を選択 --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div id="step1Area" class="mb-6"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;h4 class="text-md font-medium mb-3"&gt;STEP 1: 都道府県を選択（最大5都道府県）&lt;/h4&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;div id="allPrefecturesGrid" class="grid grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-2"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;button class="area-item p-2 bg-white border rounded-lg cursor-pointer hover:bg-blue-50 transition-colors text-sm" data-prefecture="北海道" onclick="togglePrefecture('北海道')"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>北海道</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/button&gt;</p>
<p class="p2"><span class="Apple-converted-space">            </span></p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;button class="area-item p-2 bg-white border rounded-lg cursor-pointer hover:bg-blue-50 transition-colors text-sm" data-prefecture="青森県" onclick="togglePrefecture('青森県')"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>青森県</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/button&gt;</p>
<p class="p2"><span class="Apple-converted-space">            </span></p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;button class="area-item p-2 bg-white border rounded-lg cursor-pointer hover:bg-blue-50 transition-colors text-sm" data-prefecture="岩手県" onclick="togglePrefecture('岩手県')"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>岩手県</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/button&gt;</p>
<p class="p2"><span class="Apple-converted-space">            </span></p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;button class="area-item p-2 bg-white border rounded-lg cursor-pointer hover:bg-blue-50 transition-colors text-sm" data-prefecture="宮城県" onclick="togglePrefecture('宮城県')"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>宮城県</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/button&gt;</p>
<p class="p2"><span class="Apple-converted-space">            </span></p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;button class="area-item p-2 bg-white border rounded-lg cursor-pointer hover:bg-blue-50 transition-colors text-sm" data-prefecture="秋田県" onclick="togglePrefecture('秋田県')"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>秋田県</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/button&gt;</p>
<p class="p2"><span class="Apple-converted-space">            </span></p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;button class="area-item p-2 bg-white border rounded-lg cursor-pointer hover:bg-blue-50 transition-colors text-sm" data-prefecture="山形県" onclick="togglePrefecture('山形県')"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>山形県</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/button&gt;</p>
<p class="p2"><span class="Apple-converted-space">            </span></p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;button class="area-item p-2 bg-white border rounded-lg cursor-pointer hover:bg-blue-50 transition-colors text-sm" data-prefecture="福島県" onclick="togglePrefecture('福島県')"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>福島県</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/button&gt;</p>
<p class="p2"><span class="Apple-converted-space">            </span></p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;button class="area-item p-2 bg-white border rounded-lg cursor-pointer hover:bg-blue-50 transition-colors text-sm" data-prefecture="茨城県" onclick="togglePrefecture('茨城県')"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>茨城県</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/button&gt;</p>
<p class="p2"><span class="Apple-converted-space">            </span></p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;button class="area-item p-2 bg-white border rounded-lg cursor-pointer hover:bg-blue-50 transition-colors text-sm" data-prefecture="栃木県" onclick="togglePrefecture('栃木県')"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>栃木県</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/button&gt;</p>
<p class="p2"><span class="Apple-converted-space">            </span></p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;button class="area-item p-2 bg-white border rounded-lg cursor-pointer hover:bg-blue-50 transition-colors text-sm" data-prefecture="群馬県" onclick="togglePrefecture('群馬県')"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>群馬県</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/button&gt;</p>
<p class="p2"><span class="Apple-converted-space">            </span></p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;button class="area-item p-2 border rounded-lg cursor-pointer hover:bg-blue-50 transition-colors text-sm selected bg-blue-500 text-white" data-prefecture="埼玉県" onclick="togglePrefecture('埼玉県')"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>埼玉県</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/button&gt;</p>
<p class="p2"><span class="Apple-converted-space">            </span></p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;button class="area-item p-2 bg-white border rounded-lg cursor-pointer hover:bg-blue-50 transition-colors text-sm" data-prefecture="千葉県" onclick="togglePrefecture('千葉県')"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>千葉県</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/button&gt;</p>
<p class="p2"><span class="Apple-converted-space">            </span></p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;button class="area-item p-2 border rounded-lg cursor-pointer hover:bg-blue-50 transition-colors text-sm selected bg-blue-500 text-white" data-prefecture="東京都" onclick="togglePrefecture('東京都')"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>東京都</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/button&gt;</p>
<p class="p2"><span class="Apple-converted-space">            </span></p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;button class="area-item p-2 border rounded-lg cursor-pointer hover:bg-blue-50 transition-colors text-sm selected bg-blue-500 text-white" data-prefecture="神奈川県" onclick="togglePrefecture('神奈川県')"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>神奈川県</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/button&gt;</p>
<p class="p2"><span class="Apple-converted-space">            </span></p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;button class="area-item p-2 bg-white border rounded-lg cursor-pointer hover:bg-blue-50 transition-colors text-sm" data-prefecture="新潟県" onclick="togglePrefecture('新潟県')"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>新潟県</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/button&gt;</p>
<p class="p2"><span class="Apple-converted-space">            </span></p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;button class="area-item p-2 bg-white border rounded-lg cursor-pointer hover:bg-blue-50 transition-colors text-sm" data-prefecture="富山県" onclick="togglePrefecture('富山県')"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>富山県</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/button&gt;</p>
<p class="p2"><span class="Apple-converted-space">            </span></p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;button class="area-item p-2 bg-white border rounded-lg cursor-pointer hover:bg-blue-50 transition-colors text-sm" data-prefecture="石川県" onclick="togglePrefecture('石川県')"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>石川県</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/button&gt;</p>
<p class="p2"><span class="Apple-converted-space">            </span></p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;button class="area-item p-2 bg-white border rounded-lg cursor-pointer hover:bg-blue-50 transition-colors text-sm" data-prefecture="福井県" onclick="togglePrefecture('福井県')"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>福井県</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/button&gt;</p>
<p class="p2"><span class="Apple-converted-space">            </span></p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;button class="area-item p-2 bg-white border rounded-lg cursor-pointer hover:bg-blue-50 transition-colors text-sm" data-prefecture="山梨県" onclick="togglePrefecture('山梨県')"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>山梨県</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/button&gt;</p>
<p class="p2"><span class="Apple-converted-space">            </span></p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;button class="area-item p-2 bg-white border rounded-lg cursor-pointer hover:bg-blue-50 transition-colors text-sm" data-prefecture="長野県" onclick="togglePrefecture('長野県')"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>長野県</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/button&gt;</p>
<p class="p2"><span class="Apple-converted-space">            </span></p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;button class="area-item p-2 bg-white border rounded-lg cursor-pointer hover:bg-blue-50 transition-colors text-sm" data-prefecture="岐阜県" onclick="togglePrefecture('岐阜県')"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>岐阜県</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/button&gt;</p>
<p class="p2"><span class="Apple-converted-space">            </span></p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;button class="area-item p-2 bg-white border rounded-lg cursor-pointer hover:bg-blue-50 transition-colors text-sm" data-prefecture="静岡県" onclick="togglePrefecture('静岡県')"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>静岡県</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/button&gt;</p>
<p class="p2"><span class="Apple-converted-space">            </span></p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;button class="area-item p-2 bg-white border rounded-lg cursor-pointer hover:bg-blue-50 transition-colors text-sm" data-prefecture="愛知県" onclick="togglePrefecture('愛知県')"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>愛知県</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/button&gt;</p>
<p class="p2"><span class="Apple-converted-space">            </span></p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;button class="area-item p-2 bg-white border rounded-lg cursor-pointer hover:bg-blue-50 transition-colors text-sm" data-prefecture="三重県" onclick="togglePrefecture('三重県')"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>三重県</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/button&gt;</p>
<p class="p2"><span class="Apple-converted-space">            </span></p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;button class="area-item p-2 bg-white border rounded-lg cursor-pointer hover:bg-blue-50 transition-colors text-sm" data-prefecture="滋賀県" onclick="togglePrefecture('滋賀県')"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>滋賀県</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/button&gt;</p>
<p class="p2"><span class="Apple-converted-space">            </span></p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;button class="area-item p-2 bg-white border rounded-lg cursor-pointer hover:bg-blue-50 transition-colors text-sm" data-prefecture="京都府" onclick="togglePrefecture('京都府')"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>京都府</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/button&gt;</p>
<p class="p2"><span class="Apple-converted-space">            </span></p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;button class="area-item p-2 bg-white border rounded-lg cursor-pointer hover:bg-blue-50 transition-colors text-sm" data-prefecture="大阪府" onclick="togglePrefecture('大阪府')"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>大阪府</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/button&gt;</p>
<p class="p2"><span class="Apple-converted-space">            </span></p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;button class="area-item p-2 border rounded-lg cursor-pointer hover:bg-blue-50 transition-colors text-sm selected bg-blue-500 text-white" data-prefecture="兵庫県" onclick="togglePrefecture('兵庫県')"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>兵庫県</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/button&gt;</p>
<p class="p2"><span class="Apple-converted-space">            </span></p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;button class="area-item p-2 border rounded-lg cursor-pointer hover:bg-blue-50 transition-colors text-sm selected bg-blue-500 text-white" data-prefecture="奈良県" onclick="togglePrefecture('奈良県')"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>奈良県</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/button&gt;</p>
<p class="p2"><span class="Apple-converted-space">            </span></p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;button class="area-item p-2 bg-white border rounded-lg cursor-pointer hover:bg-blue-50 transition-colors text-sm" data-prefecture="和歌山県" onclick="togglePrefecture('和歌山県')"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>和歌山県</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/button&gt;</p>
<p class="p2"><span class="Apple-converted-space">            </span></p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;button class="area-item p-2 bg-white border rounded-lg cursor-pointer hover:bg-blue-50 transition-colors text-sm" data-prefecture="鳥取県" onclick="togglePrefecture('鳥取県')"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>鳥取県</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/button&gt;</p>
<p class="p2"><span class="Apple-converted-space">            </span></p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;button class="area-item p-2 bg-white border rounded-lg cursor-pointer hover:bg-blue-50 transition-colors text-sm" data-prefecture="島根県" onclick="togglePrefecture('島根県')"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>島根県</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/button&gt;</p>
<p class="p2"><span class="Apple-converted-space">            </span></p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;button class="area-item p-2 bg-white border rounded-lg cursor-pointer hover:bg-blue-50 transition-colors text-sm" data-prefecture="岡山県" onclick="togglePrefecture('岡山県')"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>岡山県</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/button&gt;</p>
<p class="p2"><span class="Apple-converted-space">            </span></p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;button class="area-item p-2 bg-white border rounded-lg cursor-pointer hover:bg-blue-50 transition-colors text-sm" data-prefecture="広島県" onclick="togglePrefecture('広島県')"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>広島県</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/button&gt;</p>
<p class="p2"><span class="Apple-converted-space">            </span></p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;button class="area-item p-2 bg-white border rounded-lg cursor-pointer hover:bg-blue-50 transition-colors text-sm" data-prefecture="山口県" onclick="togglePrefecture('山口県')"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>山口県</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/button&gt;</p>
<p class="p2"><span class="Apple-converted-space">            </span></p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;button class="area-item p-2 bg-white border rounded-lg cursor-pointer hover:bg-blue-50 transition-colors text-sm" data-prefecture="徳島県" onclick="togglePrefecture('徳島県')"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>徳島県</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/button&gt;</p>
<p class="p2"><span class="Apple-converted-space">            </span></p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;button class="area-item p-2 bg-white border rounded-lg cursor-pointer hover:bg-blue-50 transition-colors text-sm" data-prefecture="香川県" onclick="togglePrefecture('香川県')"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>香川県</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/button&gt;</p>
<p class="p2"><span class="Apple-converted-space">            </span></p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;button class="area-item p-2 bg-white border rounded-lg cursor-pointer hover:bg-blue-50 transition-colors text-sm" data-prefecture="愛媛県" onclick="togglePrefecture('愛媛県')"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>愛媛県</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/button&gt;</p>
<p class="p2"><span class="Apple-converted-space">            </span></p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;button class="area-item p-2 bg-white border rounded-lg cursor-pointer hover:bg-blue-50 transition-colors text-sm" data-prefecture="高知県" onclick="togglePrefecture('高知県')"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>高知県</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/button&gt;</p>
<p class="p2"><span class="Apple-converted-space">            </span></p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;button class="area-item p-2 bg-white border rounded-lg cursor-pointer hover:bg-blue-50 transition-colors text-sm" data-prefecture="福岡県" onclick="togglePrefecture('福岡県')"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>福岡県</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/button&gt;</p>
<p class="p2"><span class="Apple-converted-space">            </span></p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;button class="area-item p-2 bg-white border rounded-lg cursor-pointer hover:bg-blue-50 transition-colors text-sm" data-prefecture="佐賀県" onclick="togglePrefecture('佐賀県')"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>佐賀県</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/button&gt;</p>
<p class="p2"><span class="Apple-converted-space">            </span></p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;button class="area-item p-2 bg-white border rounded-lg cursor-pointer hover:bg-blue-50 transition-colors text-sm" data-prefecture="長崎県" onclick="togglePrefecture('長崎県')"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>長崎県</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/button&gt;</p>
<p class="p2"><span class="Apple-converted-space">            </span></p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;button class="area-item p-2 bg-white border rounded-lg cursor-pointer hover:bg-blue-50 transition-colors text-sm" data-prefecture="熊本県" onclick="togglePrefecture('熊本県')"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>熊本県</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/button&gt;</p>
<p class="p2"><span class="Apple-converted-space">            </span></p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;button class="area-item p-2 bg-white border rounded-lg cursor-pointer hover:bg-blue-50 transition-colors text-sm" data-prefecture="大分県" onclick="togglePrefecture('大分県')"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>大分県</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/button&gt;</p>
<p class="p2"><span class="Apple-converted-space">            </span></p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;button class="area-item p-2 bg-white border rounded-lg cursor-pointer hover:bg-blue-50 transition-colors text-sm" data-prefecture="宮崎県" onclick="togglePrefecture('宮崎県')"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>宮崎県</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/button&gt;</p>
<p class="p2"><span class="Apple-converted-space">            </span></p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;button class="area-item p-2 bg-white border rounded-lg cursor-pointer hover:bg-blue-50 transition-colors text-sm" data-prefecture="鹿児島県" onclick="togglePrefecture('鹿児島県')"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>鹿児島県</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/button&gt;</p>
<p class="p2"><span class="Apple-converted-space">            </span></p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;button class="area-item p-2 bg-white border rounded-lg cursor-pointer hover:bg-blue-50 transition-colors text-sm" data-prefecture="沖縄県" onclick="togglePrefecture('沖縄県')"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>沖縄県</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;!-- STEP 2: 市区町村を選択 --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div id="citySelectionArea" class="mb-6"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;h4 class="text-md font-medium mb-3"&gt;STEP 2: 市区町村を選択&lt;/h4&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;div id="cityListContainer" class="space-y-4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="border rounded-lg p-4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="mb-3"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div class="flex justify-between items-center mb-2"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;h5 class="font-medium text-lg"&gt;東京都&lt;/h5&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;span class="text-sm text-gray-600"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>0 / 53 選択中</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;label class="flex items-center cursor-pointer hover:bg-gray-50 p-1 rounded"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;input type="checkbox" onchange="toggleAllCities('東京都', this.checked)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;span class="ml-2 text-sm font-medium"&gt;すべて選択&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-2"&gt;</p>
<p class="p2"><span class="Apple-converted-space">                            </span></p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center p-2 hover:bg-gray-50 rounded cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="checkbox" value="千代田区" onchange="toggleCity('東京都', '千代田区', this.checked)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="ml-2 text-sm"&gt;千代田区&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p2"><span class="Apple-converted-space">                            </span></p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center p-2 hover:bg-gray-50 rounded cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="checkbox" value="中央区" onchange="toggleCity('東京都', '中央区', this.checked)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="ml-2 text-sm"&gt;中央区&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p2"><span class="Apple-converted-space">                            </span></p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center p-2 hover:bg-gray-50 rounded cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="checkbox" value="港区" onchange="toggleCity('東京都', '港区', this.checked)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="ml-2 text-sm"&gt;港区&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p2"><span class="Apple-converted-space">                            </span></p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center p-2 hover:bg-gray-50 rounded cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="checkbox" value="新宿区" onchange="toggleCity('東京都', '新宿区', this.checked)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="ml-2 text-sm"&gt;新宿区&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p2"><span class="Apple-converted-space">                            </span></p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center p-2 hover:bg-gray-50 rounded cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="checkbox" value="文京区" onchange="toggleCity('東京都', '文京区', this.checked)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="ml-2 text-sm"&gt;文京区&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p2"><span class="Apple-converted-space">                            </span></p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center p-2 hover:bg-gray-50 rounded cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="checkbox" value="台東区" onchange="toggleCity('東京都', '台東区', this.checked)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="ml-2 text-sm"&gt;台東区&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p2"><span class="Apple-converted-space">                            </span></p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center p-2 hover:bg-gray-50 rounded cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="checkbox" value="墨田区" onchange="toggleCity('東京都', '墨田区', this.checked)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="ml-2 text-sm"&gt;墨田区&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p2"><span class="Apple-converted-space">                            </span></p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center p-2 hover:bg-gray-50 rounded cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="checkbox" value="江東区" onchange="toggleCity('東京都', '江東区', this.checked)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="ml-2 text-sm"&gt;江東区&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p2"><span class="Apple-converted-space">                            </span></p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center p-2 hover:bg-gray-50 rounded cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="checkbox" value="品川区" onchange="toggleCity('東京都', '品川区', this.checked)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="ml-2 text-sm"&gt;品川区&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p2"><span class="Apple-converted-space">                            </span></p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center p-2 hover:bg-gray-50 rounded cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="checkbox" value="目黒区" onchange="toggleCity('東京都', '目黒区', this.checked)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="ml-2 text-sm"&gt;目黒区&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p2"><span class="Apple-converted-space">                            </span></p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center p-2 hover:bg-gray-50 rounded cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="checkbox" value="大田区" onchange="toggleCity('東京都', '大田区', this.checked)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="ml-2 text-sm"&gt;大田区&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p2"><span class="Apple-converted-space">                            </span></p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center p-2 hover:bg-gray-50 rounded cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="checkbox" value="世田谷区" onchange="toggleCity('東京都', '世田谷区', this.checked)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="ml-2 text-sm"&gt;世田谷区&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p2"><span class="Apple-converted-space">                            </span></p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center p-2 hover:bg-gray-50 rounded cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="checkbox" value="渋谷区" onchange="toggleCity('東京都', '渋谷区', this.checked)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="ml-2 text-sm"&gt;渋谷区&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p2"><span class="Apple-converted-space">                            </span></p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center p-2 hover:bg-gray-50 rounded cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="checkbox" value="中野区" onchange="toggleCity('東京都', '中野区', this.checked)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="ml-2 text-sm"&gt;中野区&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p2"><span class="Apple-converted-space">                            </span></p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center p-2 hover:bg-gray-50 rounded cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="checkbox" value="杉並区" onchange="toggleCity('東京都', '杉並区', this.checked)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="ml-2 text-sm"&gt;杉並区&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p2"><span class="Apple-converted-space">                            </span></p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center p-2 hover:bg-gray-50 rounded cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="checkbox" value="豊島区" onchange="toggleCity('東京都', '豊島区', this.checked)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="ml-2 text-sm"&gt;豊島区&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p2"><span class="Apple-converted-space">                            </span></p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center p-2 hover:bg-gray-50 rounded cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="checkbox" value="北区" onchange="toggleCity('東京都', '北区', this.checked)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="ml-2 text-sm"&gt;北区&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p2"><span class="Apple-converted-space">                            </span></p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center p-2 hover:bg-gray-50 rounded cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="checkbox" value="荒川区" onchange="toggleCity('東京都', '荒川区', this.checked)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="ml-2 text-sm"&gt;荒川区&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p2"><span class="Apple-converted-space">                            </span></p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center p-2 hover:bg-gray-50 rounded cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="checkbox" value="板橋区" onchange="toggleCity('東京都', '板橋区', this.checked)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="ml-2 text-sm"&gt;板橋区&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p2"><span class="Apple-converted-space">                            </span></p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center p-2 hover:bg-gray-50 rounded cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="checkbox" value="練馬区" onchange="toggleCity('東京都', '練馬区', this.checked)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="ml-2 text-sm"&gt;練馬区&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p2"><span class="Apple-converted-space">                            </span></p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center p-2 hover:bg-gray-50 rounded cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="checkbox" value="足立区" onchange="toggleCity('東京都', '足立区', this.checked)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="ml-2 text-sm"&gt;足立区&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p2"><span class="Apple-converted-space">                            </span></p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center p-2 hover:bg-gray-50 rounded cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="checkbox" value="葛飾区" onchange="toggleCity('東京都', '葛飾区', this.checked)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="ml-2 text-sm"&gt;葛飾区&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p2"><span class="Apple-converted-space">                            </span></p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center p-2 hover:bg-gray-50 rounded cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="checkbox" value="江戸川区" onchange="toggleCity('東京都', '江戸川区', this.checked)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="ml-2 text-sm"&gt;江戸川区&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p2"><span class="Apple-converted-space">                            </span></p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center p-2 hover:bg-gray-50 rounded cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="checkbox" value="八王子市" onchange="toggleCity('東京都', '八王子市', this.checked)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="ml-2 text-sm"&gt;八王子市&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p2"><span class="Apple-converted-space">                            </span></p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center p-2 hover:bg-gray-50 rounded cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="checkbox" value="立川市" onchange="toggleCity('東京都', '立川市', this.checked)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="ml-2 text-sm"&gt;立川市&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p2"><span class="Apple-converted-space">                            </span></p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center p-2 hover:bg-gray-50 rounded cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="checkbox" value="武蔵野市" onchange="toggleCity('東京都', '武蔵野市', this.checked)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="ml-2 text-sm"&gt;武蔵野市&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p2"><span class="Apple-converted-space">                            </span></p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center p-2 hover:bg-gray-50 rounded cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="checkbox" value="三鷹市" onchange="toggleCity('東京都', '三鷹市', this.checked)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="ml-2 text-sm"&gt;三鷹市&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p2"><span class="Apple-converted-space">                            </span></p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center p-2 hover:bg-gray-50 rounded cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="checkbox" value="青梅市" onchange="toggleCity('東京都', '青梅市', this.checked)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="ml-2 text-sm"&gt;青梅市&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p2"><span class="Apple-converted-space">                            </span></p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center p-2 hover:bg-gray-50 rounded cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="checkbox" value="府中市" onchange="toggleCity('東京都', '府中市', this.checked)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="ml-2 text-sm"&gt;府中市&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p2"><span class="Apple-converted-space">                            </span></p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center p-2 hover:bg-gray-50 rounded cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="checkbox" value="昭島市" onchange="toggleCity('東京都', '昭島市', this.checked)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="ml-2 text-sm"&gt;昭島市&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p2"><span class="Apple-converted-space">                            </span></p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center p-2 hover:bg-gray-50 rounded cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="checkbox" value="調布市" onchange="toggleCity('東京都', '調布市', this.checked)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="ml-2 text-sm"&gt;調布市&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p2"><span class="Apple-converted-space">                            </span></p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center p-2 hover:bg-gray-50 rounded cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="checkbox" value="町田市" onchange="toggleCity('東京都', '町田市', this.checked)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="ml-2 text-sm"&gt;町田市&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p2"><span class="Apple-converted-space">                            </span></p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center p-2 hover:bg-gray-50 rounded cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="checkbox" value="小金井市" onchange="toggleCity('東京都', '小金井市', this.checked)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="ml-2 text-sm"&gt;小金井市&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p2"><span class="Apple-converted-space">                            </span></p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center p-2 hover:bg-gray-50 rounded cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="checkbox" value="小平市" onchange="toggleCity('東京都', '小平市', this.checked)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="ml-2 text-sm"&gt;小平市&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p2"><span class="Apple-converted-space">                            </span></p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center p-2 hover:bg-gray-50 rounded cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="checkbox" value="日野市" onchange="toggleCity('東京都', '日野市', this.checked)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="ml-2 text-sm"&gt;日野市&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p2"><span class="Apple-converted-space">                            </span></p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center p-2 hover:bg-gray-50 rounded cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="checkbox" value="東村山市" onchange="toggleCity('東京都', '東村山市', this.checked)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="ml-2 text-sm"&gt;東村山市&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p2"><span class="Apple-converted-space">                            </span></p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center p-2 hover:bg-gray-50 rounded cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="checkbox" value="国分寺市" onchange="toggleCity('東京都', '国分寺市', this.checked)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="ml-2 text-sm"&gt;国分寺市&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p2"><span class="Apple-converted-space">                            </span></p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center p-2 hover:bg-gray-50 rounded cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="checkbox" value="国立市" onchange="toggleCity('東京都', '国立市', this.checked)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="ml-2 text-sm"&gt;国立市&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p2"><span class="Apple-converted-space">                            </span></p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center p-2 hover:bg-gray-50 rounded cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="checkbox" value="福生市" onchange="toggleCity('東京都', '福生市', this.checked)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="ml-2 text-sm"&gt;福生市&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p2"><span class="Apple-converted-space">                            </span></p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center p-2 hover:bg-gray-50 rounded cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="checkbox" value="狛江市" onchange="toggleCity('東京都', '狛江市', this.checked)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="ml-2 text-sm"&gt;狛江市&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p2"><span class="Apple-converted-space">                            </span></p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center p-2 hover:bg-gray-50 rounded cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="checkbox" value="東大和市" onchange="toggleCity('東京都', '東大和市', this.checked)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="ml-2 text-sm"&gt;東大和市&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p2"><span class="Apple-converted-space">                            </span></p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center p-2 hover:bg-gray-50 rounded cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="checkbox" value="清瀬市" onchange="toggleCity('東京都', '清瀬市', this.checked)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="ml-2 text-sm"&gt;清瀬市&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p2"><span class="Apple-converted-space">                            </span></p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center p-2 hover:bg-gray-50 rounded cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="checkbox" value="東久留米市" onchange="toggleCity('東京都', '東久留米市', this.checked)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="ml-2 text-sm"&gt;東久留米市&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p2"><span class="Apple-converted-space">                            </span></p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center p-2 hover:bg-gray-50 rounded cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="checkbox" value="武蔵村山市" onchange="toggleCity('東京都', '武蔵村山市', this.checked)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="ml-2 text-sm"&gt;武蔵村山市&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p2"><span class="Apple-converted-space">                            </span></p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center p-2 hover:bg-gray-50 rounded cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="checkbox" value="多摩市" onchange="toggleCity('東京都', '多摩市', this.checked)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="ml-2 text-sm"&gt;多摩市&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p2"><span class="Apple-converted-space">                            </span></p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center p-2 hover:bg-gray-50 rounded cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="checkbox" value="稲城市" onchange="toggleCity('東京都', '稲城市', this.checked)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="ml-2 text-sm"&gt;稲城市&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p2"><span class="Apple-converted-space">                            </span></p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center p-2 hover:bg-gray-50 rounded cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="checkbox" value="羽村市" onchange="toggleCity('東京都', '羽村市', this.checked)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="ml-2 text-sm"&gt;羽村市&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p2"><span class="Apple-converted-space">                            </span></p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center p-2 hover:bg-gray-50 rounded cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="checkbox" value="あきる野市" onchange="toggleCity('東京都', 'あきる野市', this.checked)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="ml-2 text-sm"&gt;あきる野市&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p2"><span class="Apple-converted-space">                            </span></p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center p-2 hover:bg-gray-50 rounded cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="checkbox" value="西東京市" onchange="toggleCity('東京都', '西東京市', this.checked)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="ml-2 text-sm"&gt;西東京市&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p2"><span class="Apple-converted-space">                            </span></p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center p-2 hover:bg-gray-50 rounded cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="checkbox" value="瑞穂町" onchange="toggleCity('東京都', '瑞穂町', this.checked)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="ml-2 text-sm"&gt;瑞穂町&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p2"><span class="Apple-converted-space">                            </span></p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center p-2 hover:bg-gray-50 rounded cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="checkbox" value="日の出町" onchange="toggleCity('東京都', '日の出町', this.checked)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="ml-2 text-sm"&gt;日の出町&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p2"><span class="Apple-converted-space">                            </span></p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center p-2 hover:bg-gray-50 rounded cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="checkbox" value="檜原村" onchange="toggleCity('東京都', '檜原村', this.checked)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="ml-2 text-sm"&gt;檜原村&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p2"><span class="Apple-converted-space">                            </span></p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center p-2 hover:bg-gray-50 rounded cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="checkbox" value="奥多摩町" onchange="toggleCity('東京都', '奥多摩町', this.checked)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="ml-2 text-sm"&gt;奥多摩町&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p2"><span class="Apple-converted-space">                            </span></p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p2"><span class="Apple-converted-space">                </span></p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="border rounded-lg p-4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="mb-3"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div class="flex justify-between items-center mb-2"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;h5 class="font-medium text-lg"&gt;埼玉県&lt;/h5&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;span class="text-sm text-gray-600"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>0 / 49 選択中</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;label class="flex items-center cursor-pointer hover:bg-gray-50 p-1 rounded"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;input type="checkbox" onchange="toggleAllCities('埼玉県', this.checked)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;span class="ml-2 text-sm font-medium"&gt;すべて選択&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-2"&gt;</p>
<p class="p2"><span class="Apple-converted-space">                            </span></p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center p-2 hover:bg-gray-50 rounded cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="checkbox" value="さいたま市西区" onchange="toggleCity('埼玉県', 'さいたま市西区', this.checked)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="ml-2 text-sm"&gt;さいたま市西区&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p2"><span class="Apple-converted-space">                            </span></p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center p-2 hover:bg-gray-50 rounded cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="checkbox" value="さいたま市北区" onchange="toggleCity('埼玉県', 'さいたま市北区', this.checked)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="ml-2 text-sm"&gt;さいたま市北区&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p2"><span class="Apple-converted-space">                            </span></p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center p-2 hover:bg-gray-50 rounded cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="checkbox" value="さいたま市大宮区" onchange="toggleCity('埼玉県', 'さいたま市大宮区', this.checked)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="ml-2 text-sm"&gt;さいたま市大宮区&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p2"><span class="Apple-converted-space">                            </span></p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center p-2 hover:bg-gray-50 rounded cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="checkbox" value="さいたま市見沼区" onchange="toggleCity('埼玉県', 'さいたま市見沼区', this.checked)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="ml-2 text-sm"&gt;さいたま市見沼区&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p2"><span class="Apple-converted-space">                            </span></p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center p-2 hover:bg-gray-50 rounded cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="checkbox" value="さいたま市中央区" onchange="toggleCity('埼玉県', 'さいたま市中央区', this.checked)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="ml-2 text-sm"&gt;さいたま市中央区&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p2"><span class="Apple-converted-space">                            </span></p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center p-2 hover:bg-gray-50 rounded cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="checkbox" value="さいたま市桜区" onchange="toggleCity('埼玉県', 'さいたま市桜区', this.checked)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="ml-2 text-sm"&gt;さいたま市桜区&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p2"><span class="Apple-converted-space">                            </span></p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center p-2 hover:bg-gray-50 rounded cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="checkbox" value="さいたま市浦和区" onchange="toggleCity('埼玉県', 'さいたま市浦和区', this.checked)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="ml-2 text-sm"&gt;さいたま市浦和区&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p2"><span class="Apple-converted-space">                            </span></p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center p-2 hover:bg-gray-50 rounded cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="checkbox" value="さいたま市南区" onchange="toggleCity('埼玉県', 'さいたま市南区', this.checked)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="ml-2 text-sm"&gt;さいたま市南区&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p2"><span class="Apple-converted-space">                            </span></p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center p-2 hover:bg-gray-50 rounded cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="checkbox" value="さいたま市緑区" onchange="toggleCity('埼玉県', 'さいたま市緑区', this.checked)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="ml-2 text-sm"&gt;さいたま市緑区&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p2"><span class="Apple-converted-space">                            </span></p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center p-2 hover:bg-gray-50 rounded cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="checkbox" value="さいたま市岩槻区" onchange="toggleCity('埼玉県', 'さいたま市岩槻区', this.checked)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="ml-2 text-sm"&gt;さいたま市岩槻区&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p2"><span class="Apple-converted-space">                            </span></p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center p-2 hover:bg-gray-50 rounded cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="checkbox" value="川越市" onchange="toggleCity('埼玉県', '川越市', this.checked)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="ml-2 text-sm"&gt;川越市&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p2"><span class="Apple-converted-space">                            </span></p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center p-2 hover:bg-gray-50 rounded cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="checkbox" value="熊谷市" onchange="toggleCity('埼玉県', '熊谷市', this.checked)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="ml-2 text-sm"&gt;熊谷市&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p2"><span class="Apple-converted-space">                            </span></p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center p-2 hover:bg-gray-50 rounded cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="checkbox" value="川口市" onchange="toggleCity('埼玉県', '川口市', this.checked)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="ml-2 text-sm"&gt;川口市&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p2"><span class="Apple-converted-space">                            </span></p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center p-2 hover:bg-gray-50 rounded cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="checkbox" value="行田市" onchange="toggleCity('埼玉県', '行田市', this.checked)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="ml-2 text-sm"&gt;行田市&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p2"><span class="Apple-converted-space">                            </span></p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center p-2 hover:bg-gray-50 rounded cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="checkbox" value="秩父市" onchange="toggleCity('埼玉県', '秩父市', this.checked)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="ml-2 text-sm"&gt;秩父市&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p2"><span class="Apple-converted-space">                            </span></p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center p-2 hover:bg-gray-50 rounded cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="checkbox" value="所沢市" onchange="toggleCity('埼玉県', '所沢市', this.checked)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="ml-2 text-sm"&gt;所沢市&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p2"><span class="Apple-converted-space">                            </span></p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center p-2 hover:bg-gray-50 rounded cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="checkbox" value="飯能市" onchange="toggleCity('埼玉県', '飯能市', this.checked)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="ml-2 text-sm"&gt;飯能市&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p2"><span class="Apple-converted-space">                            </span></p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center p-2 hover:bg-gray-50 rounded cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="checkbox" value="加須市" onchange="toggleCity('埼玉県', '加須市', this.checked)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="ml-2 text-sm"&gt;加須市&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p2"><span class="Apple-converted-space">                            </span></p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center p-2 hover:bg-gray-50 rounded cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="checkbox" value="本庄市" onchange="toggleCity('埼玉県', '本庄市', this.checked)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="ml-2 text-sm"&gt;本庄市&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p2"><span class="Apple-converted-space">                            </span></p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center p-2 hover:bg-gray-50 rounded cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="checkbox" value="東松山市" onchange="toggleCity('埼玉県', '東松山市', this.checked)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="ml-2 text-sm"&gt;東松山市&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p2"><span class="Apple-converted-space">                            </span></p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center p-2 hover:bg-gray-50 rounded cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="checkbox" value="春日部市" onchange="toggleCity('埼玉県', '春日部市', this.checked)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="ml-2 text-sm"&gt;春日部市&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p2"><span class="Apple-converted-space">                            </span></p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center p-2 hover:bg-gray-50 rounded cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="checkbox" value="狭山市" onchange="toggleCity('埼玉県', '狭山市', this.checked)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="ml-2 text-sm"&gt;狭山市&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p2"><span class="Apple-converted-space">                            </span></p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center p-2 hover:bg-gray-50 rounded cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="checkbox" value="羽生市" onchange="toggleCity('埼玉県', '羽生市', this.checked)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="ml-2 text-sm"&gt;羽生市&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p2"><span class="Apple-converted-space">                            </span></p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center p-2 hover:bg-gray-50 rounded cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="checkbox" value="鴻巣市" onchange="toggleCity('埼玉県', '鴻巣市', this.checked)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="ml-2 text-sm"&gt;鴻巣市&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p2"><span class="Apple-converted-space">                            </span></p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center p-2 hover:bg-gray-50 rounded cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="checkbox" value="深谷市" onchange="toggleCity('埼玉県', '深谷市', this.checked)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="ml-2 text-sm"&gt;深谷市&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p2"><span class="Apple-converted-space">                            </span></p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center p-2 hover:bg-gray-50 rounded cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="checkbox" value="上尾市" onchange="toggleCity('埼玉県', '上尾市', this.checked)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="ml-2 text-sm"&gt;上尾市&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p2"><span class="Apple-converted-space">                            </span></p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center p-2 hover:bg-gray-50 rounded cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="checkbox" value="草加市" onchange="toggleCity('埼玉県', '草加市', this.checked)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="ml-2 text-sm"&gt;草加市&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p2"><span class="Apple-converted-space">                            </span></p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center p-2 hover:bg-gray-50 rounded cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="checkbox" value="越谷市" onchange="toggleCity('埼玉県', '越谷市', this.checked)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="ml-2 text-sm"&gt;越谷市&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p2"><span class="Apple-converted-space">                            </span></p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center p-2 hover:bg-gray-50 rounded cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="checkbox" value="蕨市" onchange="toggleCity('埼玉県', '蕨市', this.checked)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="ml-2 text-sm"&gt;蕨市&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p2"><span class="Apple-converted-space">                            </span></p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center p-2 hover:bg-gray-50 rounded cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="checkbox" value="戸田市" onchange="toggleCity('埼玉県', '戸田市', this.checked)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="ml-2 text-sm"&gt;戸田市&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p2"><span class="Apple-converted-space">                            </span></p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center p-2 hover:bg-gray-50 rounded cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="checkbox" value="入間市" onchange="toggleCity('埼玉県', '入間市', this.checked)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="ml-2 text-sm"&gt;入間市&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p2"><span class="Apple-converted-space">                            </span></p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center p-2 hover:bg-gray-50 rounded cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="checkbox" value="朝霞市" onchange="toggleCity('埼玉県', '朝霞市', this.checked)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="ml-2 text-sm"&gt;朝霞市&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p2"><span class="Apple-converted-space">                            </span></p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center p-2 hover:bg-gray-50 rounded cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="checkbox" value="志木市" onchange="toggleCity('埼玉県', '志木市', this.checked)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="ml-2 text-sm"&gt;志木市&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p2"><span class="Apple-converted-space">                            </span></p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center p-2 hover:bg-gray-50 rounded cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="checkbox" value="和光市" onchange="toggleCity('埼玉県', '和光市', this.checked)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="ml-2 text-sm"&gt;和光市&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p2"><span class="Apple-converted-space">                            </span></p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center p-2 hover:bg-gray-50 rounded cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="checkbox" value="新座市" onchange="toggleCity('埼玉県', '新座市', this.checked)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="ml-2 text-sm"&gt;新座市&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p2"><span class="Apple-converted-space">                            </span></p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center p-2 hover:bg-gray-50 rounded cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="checkbox" value="桶川市" onchange="toggleCity('埼玉県', '桶川市', this.checked)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="ml-2 text-sm"&gt;桶川市&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p2"><span class="Apple-converted-space">                            </span></p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center p-2 hover:bg-gray-50 rounded cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="checkbox" value="久喜市" onchange="toggleCity('埼玉県', '久喜市', this.checked)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="ml-2 text-sm"&gt;久喜市&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p2"><span class="Apple-converted-space">                            </span></p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center p-2 hover:bg-gray-50 rounded cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="checkbox" value="北本市" onchange="toggleCity('埼玉県', '北本市', this.checked)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="ml-2 text-sm"&gt;北本市&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p2"><span class="Apple-converted-space">                            </span></p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center p-2 hover:bg-gray-50 rounded cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="checkbox" value="八潮市" onchange="toggleCity('埼玉県', '八潮市', this.checked)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="ml-2 text-sm"&gt;八潮市&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p2"><span class="Apple-converted-space">                            </span></p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center p-2 hover:bg-gray-50 rounded cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="checkbox" value="富士見市" onchange="toggleCity('埼玉県', '富士見市', this.checked)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="ml-2 text-sm"&gt;富士見市&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p2"><span class="Apple-converted-space">                            </span></p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center p-2 hover:bg-gray-50 rounded cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="checkbox" value="三郷市" onchange="toggleCity('埼玉県', '三郷市', this.checked)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="ml-2 text-sm"&gt;三郷市&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p2"><span class="Apple-converted-space">                            </span></p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center p-2 hover:bg-gray-50 rounded cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="checkbox" value="蓮田市" onchange="toggleCity('埼玉県', '蓮田市', this.checked)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="ml-2 text-sm"&gt;蓮田市&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p2"><span class="Apple-converted-space">                            </span></p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center p-2 hover:bg-gray-50 rounded cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="checkbox" value="坂戸市" onchange="toggleCity('埼玉県', '坂戸市', this.checked)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="ml-2 text-sm"&gt;坂戸市&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p2"><span class="Apple-converted-space">                            </span></p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center p-2 hover:bg-gray-50 rounded cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="checkbox" value="幸手市" onchange="toggleCity('埼玉県', '幸手市', this.checked)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="ml-2 text-sm"&gt;幸手市&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p2"><span class="Apple-converted-space">                            </span></p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center p-2 hover:bg-gray-50 rounded cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="checkbox" value="鶴ヶ島市" onchange="toggleCity('埼玉県', '鶴ヶ島市', this.checked)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="ml-2 text-sm"&gt;鶴ヶ島市&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p2"><span class="Apple-converted-space">                            </span></p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center p-2 hover:bg-gray-50 rounded cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="checkbox" value="日高市" onchange="toggleCity('埼玉県', '日高市', this.checked)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="ml-2 text-sm"&gt;日高市&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p2"><span class="Apple-converted-space">                            </span></p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center p-2 hover:bg-gray-50 rounded cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="checkbox" value="吉川市" onchange="toggleCity('埼玉県', '吉川市', this.checked)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="ml-2 text-sm"&gt;吉川市&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p2"><span class="Apple-converted-space">                            </span></p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center p-2 hover:bg-gray-50 rounded cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="checkbox" value="ふじみ野市" onchange="toggleCity('埼玉県', 'ふじみ野市', this.checked)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="ml-2 text-sm"&gt;ふじみ野市&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p2"><span class="Apple-converted-space">                            </span></p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center p-2 hover:bg-gray-50 rounded cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="checkbox" value="白岡市" onchange="toggleCity('埼玉県', '白岡市', this.checked)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="ml-2 text-sm"&gt;白岡市&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p2"><span class="Apple-converted-space">                            </span></p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p2"><span class="Apple-converted-space">                </span></p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="border rounded-lg p-4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="mb-3"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div class="flex justify-between items-center mb-2"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;h5 class="font-medium text-lg"&gt;神奈川県&lt;/h5&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;span class="text-sm text-gray-600"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>0 / 44 選択中</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;label class="flex items-center cursor-pointer hover:bg-gray-50 p-1 rounded"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;input type="checkbox" onchange="toggleAllCities('神奈川県', this.checked)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;span class="ml-2 text-sm font-medium"&gt;すべて選択&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-2"&gt;</p>
<p class="p2"><span class="Apple-converted-space">                            </span></p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center p-2 hover:bg-gray-50 rounded cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="checkbox" value="横浜市鶴見区" onchange="toggleCity('神奈川県', '横浜市鶴見区', this.checked)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="ml-2 text-sm"&gt;横浜市鶴見区&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p2"><span class="Apple-converted-space">                            </span></p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center p-2 hover:bg-gray-50 rounded cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="checkbox" value="横浜市神奈川区" onchange="toggleCity('神奈川県', '横浜市神奈川区', this.checked)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="ml-2 text-sm"&gt;横浜市神奈川区&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p2"><span class="Apple-converted-space">                            </span></p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center p-2 hover:bg-gray-50 rounded cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="checkbox" value="横浜市西区" onchange="toggleCity('神奈川県', '横浜市西区', this.checked)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="ml-2 text-sm"&gt;横浜市西区&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p2"><span class="Apple-converted-space">                            </span></p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center p-2 hover:bg-gray-50 rounded cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="checkbox" value="横浜市中区" onchange="toggleCity('神奈川県', '横浜市中区', this.checked)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="ml-2 text-sm"&gt;横浜市中区&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p2"><span class="Apple-converted-space">                            </span></p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center p-2 hover:bg-gray-50 rounded cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="checkbox" value="横浜市南区" onchange="toggleCity('神奈川県', '横浜市南区', this.checked)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="ml-2 text-sm"&gt;横浜市南区&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p2"><span class="Apple-converted-space">                            </span></p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center p-2 hover:bg-gray-50 rounded cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="checkbox" value="横浜市保土ケ谷区" onchange="toggleCity('神奈川県', '横浜市保土ケ谷区', this.checked)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="ml-2 text-sm"&gt;横浜市保土ケ谷区&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p2"><span class="Apple-converted-space">                            </span></p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center p-2 hover:bg-gray-50 rounded cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="checkbox" value="横浜市磯子区" onchange="toggleCity('神奈川県', '横浜市磯子区', this.checked)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="ml-2 text-sm"&gt;横浜市磯子区&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p2"><span class="Apple-converted-space">                            </span></p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center p-2 hover:bg-gray-50 rounded cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="checkbox" value="横浜市金沢区" onchange="toggleCity('神奈川県', '横浜市金沢区', this.checked)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="ml-2 text-sm"&gt;横浜市金沢区&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p2"><span class="Apple-converted-space">                            </span></p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center p-2 hover:bg-gray-50 rounded cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="checkbox" value="横浜市港北区" onchange="toggleCity('神奈川県', '横浜市港北区', this.checked)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="ml-2 text-sm"&gt;横浜市港北区&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p2"><span class="Apple-converted-space">                            </span></p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center p-2 hover:bg-gray-50 rounded cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="checkbox" value="横浜市戸塚区" onchange="toggleCity('神奈川県', '横浜市戸塚区', this.checked)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="ml-2 text-sm"&gt;横浜市戸塚区&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p2"><span class="Apple-converted-space">                            </span></p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center p-2 hover:bg-gray-50 rounded cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="checkbox" value="横浜市港南区" onchange="toggleCity('神奈川県', '横浜市港南区', this.checked)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="ml-2 text-sm"&gt;横浜市港南区&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p2"><span class="Apple-converted-space">                            </span></p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center p-2 hover:bg-gray-50 rounded cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="checkbox" value="横浜市旭区" onchange="toggleCity('神奈川県', '横浜市旭区', this.checked)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="ml-2 text-sm"&gt;横浜市旭区&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p2"><span class="Apple-converted-space">                            </span></p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center p-2 hover:bg-gray-50 rounded cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="checkbox" value="横浜市緑区" onchange="toggleCity('神奈川県', '横浜市緑区', this.checked)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="ml-2 text-sm"&gt;横浜市緑区&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p2"><span class="Apple-converted-space">                            </span></p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center p-2 hover:bg-gray-50 rounded cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="checkbox" value="横浜市瀬谷区" onchange="toggleCity('神奈川県', '横浜市瀬谷区', this.checked)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="ml-2 text-sm"&gt;横浜市瀬谷区&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p2"><span class="Apple-converted-space">                            </span></p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center p-2 hover:bg-gray-50 rounded cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="checkbox" value="横浜市栄区" onchange="toggleCity('神奈川県', '横浜市栄区', this.checked)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="ml-2 text-sm"&gt;横浜市栄区&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p2"><span class="Apple-converted-space">                            </span></p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center p-2 hover:bg-gray-50 rounded cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="checkbox" value="横浜市泉区" onchange="toggleCity('神奈川県', '横浜市泉区', this.checked)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="ml-2 text-sm"&gt;横浜市泉区&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p2"><span class="Apple-converted-space">                            </span></p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center p-2 hover:bg-gray-50 rounded cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="checkbox" value="横浜市青葉区" onchange="toggleCity('神奈川県', '横浜市青葉区', this.checked)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="ml-2 text-sm"&gt;横浜市青葉区&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p2"><span class="Apple-converted-space">                            </span></p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center p-2 hover:bg-gray-50 rounded cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="checkbox" value="横浜市都筑区" onchange="toggleCity('神奈川県', '横浜市都筑区', this.checked)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="ml-2 text-sm"&gt;横浜市都筑区&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p2"><span class="Apple-converted-space">                            </span></p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center p-2 hover:bg-gray-50 rounded cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="checkbox" value="川崎市川崎区" onchange="toggleCity('神奈川県', '川崎市川崎区', this.checked)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="ml-2 text-sm"&gt;川崎市川崎区&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p2"><span class="Apple-converted-space">                            </span></p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center p-2 hover:bg-gray-50 rounded cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="checkbox" value="川崎市幸区" onchange="toggleCity('神奈川県', '川崎市幸区', this.checked)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="ml-2 text-sm"&gt;川崎市幸区&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p2"><span class="Apple-converted-space">                            </span></p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center p-2 hover:bg-gray-50 rounded cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="checkbox" value="川崎市中原区" onchange="toggleCity('神奈川県', '川崎市中原区', this.checked)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="ml-2 text-sm"&gt;川崎市中原区&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p2"><span class="Apple-converted-space">                            </span></p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center p-2 hover:bg-gray-50 rounded cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="checkbox" value="川崎市高津区" onchange="toggleCity('神奈川県', '川崎市高津区', this.checked)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="ml-2 text-sm"&gt;川崎市高津区&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p2"><span class="Apple-converted-space">                            </span></p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center p-2 hover:bg-gray-50 rounded cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="checkbox" value="川崎市多摩区" onchange="toggleCity('神奈川県', '川崎市多摩区', this.checked)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="ml-2 text-sm"&gt;川崎市多摩区&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p2"><span class="Apple-converted-space">                            </span></p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center p-2 hover:bg-gray-50 rounded cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="checkbox" value="川崎市宮前区" onchange="toggleCity('神奈川県', '川崎市宮前区', this.checked)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="ml-2 text-sm"&gt;川崎市宮前区&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p2"><span class="Apple-converted-space">                            </span></p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center p-2 hover:bg-gray-50 rounded cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="checkbox" value="川崎市麻生区" onchange="toggleCity('神奈川県', '川崎市麻生区', this.checked)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="ml-2 text-sm"&gt;川崎市麻生区&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p2"><span class="Apple-converted-space">                            </span></p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center p-2 hover:bg-gray-50 rounded cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="checkbox" value="相模原市緑区" onchange="toggleCity('神奈川県', '相模原市緑区', this.checked)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="ml-2 text-sm"&gt;相模原市緑区&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p2"><span class="Apple-converted-space">                            </span></p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center p-2 hover:bg-gray-50 rounded cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="checkbox" value="相模原市中央区" onchange="toggleCity('神奈川県', '相模原市中央区', this.checked)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="ml-2 text-sm"&gt;相模原市中央区&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p2"><span class="Apple-converted-space">                            </span></p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center p-2 hover:bg-gray-50 rounded cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="checkbox" value="相模原市南区" onchange="toggleCity('神奈川県', '相模原市南区', this.checked)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="ml-2 text-sm"&gt;相模原市南区&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p2"><span class="Apple-converted-space">                            </span></p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center p-2 hover:bg-gray-50 rounded cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="checkbox" value="横須賀市" onchange="toggleCity('神奈川県', '横須賀市', this.checked)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="ml-2 text-sm"&gt;横須賀市&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p2"><span class="Apple-converted-space">                            </span></p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center p-2 hover:bg-gray-50 rounded cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="checkbox" value="平塚市" onchange="toggleCity('神奈川県', '平塚市', this.checked)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="ml-2 text-sm"&gt;平塚市&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p2"><span class="Apple-converted-space">                            </span></p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center p-2 hover:bg-gray-50 rounded cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="checkbox" value="鎌倉市" onchange="toggleCity('神奈川県', '鎌倉市', this.checked)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="ml-2 text-sm"&gt;鎌倉市&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p2"><span class="Apple-converted-space">                            </span></p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center p-2 hover:bg-gray-50 rounded cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="checkbox" value="藤沢市" onchange="toggleCity('神奈川県', '藤沢市', this.checked)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="ml-2 text-sm"&gt;藤沢市&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p2"><span class="Apple-converted-space">                            </span></p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center p-2 hover:bg-gray-50 rounded cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="checkbox" value="小田原市" onchange="toggleCity('神奈川県', '小田原市', this.checked)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="ml-2 text-sm"&gt;小田原市&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p2"><span class="Apple-converted-space">                            </span></p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center p-2 hover:bg-gray-50 rounded cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="checkbox" value="茅ヶ崎市" onchange="toggleCity('神奈川県', '茅ヶ崎市', this.checked)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="ml-2 text-sm"&gt;茅ヶ崎市&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p2"><span class="Apple-converted-space">                            </span></p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center p-2 hover:bg-gray-50 rounded cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="checkbox" value="逗子市" onchange="toggleCity('神奈川県', '逗子市', this.checked)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="ml-2 text-sm"&gt;逗子市&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p2"><span class="Apple-converted-space">                            </span></p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center p-2 hover:bg-gray-50 rounded cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="checkbox" value="三浦市" onchange="toggleCity('神奈川県', '三浦市', this.checked)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="ml-2 text-sm"&gt;三浦市&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p2"><span class="Apple-converted-space">                            </span></p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center p-2 hover:bg-gray-50 rounded cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="checkbox" value="秦野市" onchange="toggleCity('神奈川県', '秦野市', this.checked)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="ml-2 text-sm"&gt;秦野市&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p2"><span class="Apple-converted-space">                            </span></p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center p-2 hover:bg-gray-50 rounded cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="checkbox" value="厚木市" onchange="toggleCity('神奈川県', '厚木市', this.checked)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="ml-2 text-sm"&gt;厚木市&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p2"><span class="Apple-converted-space">                            </span></p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center p-2 hover:bg-gray-50 rounded cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="checkbox" value="大和市" onchange="toggleCity('神奈川県', '大和市', this.checked)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="ml-2 text-sm"&gt;大和市&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p2"><span class="Apple-converted-space">                            </span></p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center p-2 hover:bg-gray-50 rounded cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="checkbox" value="伊勢原市" onchange="toggleCity('神奈川県', '伊勢原市', this.checked)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="ml-2 text-sm"&gt;伊勢原市&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p2"><span class="Apple-converted-space">                            </span></p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center p-2 hover:bg-gray-50 rounded cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="checkbox" value="海老名市" onchange="toggleCity('神奈川県', '海老名市', this.checked)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="ml-2 text-sm"&gt;海老名市&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p2"><span class="Apple-converted-space">                            </span></p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center p-2 hover:bg-gray-50 rounded cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="checkbox" value="座間市" onchange="toggleCity('神奈川県', '座間市', this.checked)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="ml-2 text-sm"&gt;座間市&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p2"><span class="Apple-converted-space">                            </span></p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center p-2 hover:bg-gray-50 rounded cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="checkbox" value="南足柄市" onchange="toggleCity('神奈川県', '南足柄市', this.checked)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="ml-2 text-sm"&gt;南足柄市&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p2"><span class="Apple-converted-space">                            </span></p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center p-2 hover:bg-gray-50 rounded cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="checkbox" value="綾瀬市" onchange="toggleCity('神奈川県', '綾瀬市', this.checked)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="ml-2 text-sm"&gt;綾瀬市&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p2"><span class="Apple-converted-space">                            </span></p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p2"><span class="Apple-converted-space">                </span></p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="border rounded-lg p-4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="mb-3"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div class="flex justify-between items-center mb-2"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;h5 class="font-medium text-lg"&gt;奈良県&lt;/h5&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;span class="text-sm text-gray-600"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>0 / 12 選択中</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;label class="flex items-center cursor-pointer hover:bg-gray-50 p-1 rounded"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;input type="checkbox" onchange="toggleAllCities('奈良県', this.checked)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;span class="ml-2 text-sm font-medium"&gt;すべて選択&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-2"&gt;</p>
<p class="p2"><span class="Apple-converted-space">                            </span></p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center p-2 hover:bg-gray-50 rounded cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="checkbox" value="奈良市" onchange="toggleCity('奈良県', '奈良市', this.checked)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="ml-2 text-sm"&gt;奈良市&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p2"><span class="Apple-converted-space">                            </span></p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center p-2 hover:bg-gray-50 rounded cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="checkbox" value="大和高田市" onchange="toggleCity('奈良県', '大和高田市', this.checked)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="ml-2 text-sm"&gt;大和高田市&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p2"><span class="Apple-converted-space">                            </span></p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center p-2 hover:bg-gray-50 rounded cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="checkbox" value="大和郡山市" onchange="toggleCity('奈良県', '大和郡山市', this.checked)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="ml-2 text-sm"&gt;大和郡山市&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p2"><span class="Apple-converted-space">                            </span></p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center p-2 hover:bg-gray-50 rounded cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="checkbox" value="天理市" onchange="toggleCity('奈良県', '天理市', this.checked)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="ml-2 text-sm"&gt;天理市&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p2"><span class="Apple-converted-space">                            </span></p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center p-2 hover:bg-gray-50 rounded cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="checkbox" value="橿原市" onchange="toggleCity('奈良県', '橿原市', this.checked)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="ml-2 text-sm"&gt;橿原市&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p2"><span class="Apple-converted-space">                            </span></p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center p-2 hover:bg-gray-50 rounded cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="checkbox" value="桜井市" onchange="toggleCity('奈良県', '桜井市', this.checked)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="ml-2 text-sm"&gt;桜井市&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p2"><span class="Apple-converted-space">                            </span></p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center p-2 hover:bg-gray-50 rounded cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="checkbox" value="五條市" onchange="toggleCity('奈良県', '五條市', this.checked)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="ml-2 text-sm"&gt;五條市&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p2"><span class="Apple-converted-space">                            </span></p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center p-2 hover:bg-gray-50 rounded cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="checkbox" value="御所市" onchange="toggleCity('奈良県', '御所市', this.checked)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="ml-2 text-sm"&gt;御所市&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p2"><span class="Apple-converted-space">                            </span></p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center p-2 hover:bg-gray-50 rounded cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="checkbox" value="生駒市" onchange="toggleCity('奈良県', '生駒市', this.checked)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="ml-2 text-sm"&gt;生駒市&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p2"><span class="Apple-converted-space">                            </span></p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center p-2 hover:bg-gray-50 rounded cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="checkbox" value="香芝市" onchange="toggleCity('奈良県', '香芝市', this.checked)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="ml-2 text-sm"&gt;香芝市&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p2"><span class="Apple-converted-space">                            </span></p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center p-2 hover:bg-gray-50 rounded cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="checkbox" value="葛城市" onchange="toggleCity('奈良県', '葛城市', this.checked)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="ml-2 text-sm"&gt;葛城市&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p2"><span class="Apple-converted-space">                            </span></p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center p-2 hover:bg-gray-50 rounded cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="checkbox" value="宇陀市" onchange="toggleCity('奈良県', '宇陀市', this.checked)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="ml-2 text-sm"&gt;宇陀市&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p2"><span class="Apple-converted-space">                            </span></p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p2"><span class="Apple-converted-space">                </span></p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="border rounded-lg p-4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="mb-3"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div class="flex justify-between items-center mb-2"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;h5 class="font-medium text-lg"&gt;兵庫県&lt;/h5&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;span class="text-sm text-gray-600"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>0 / 37 選択中</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;label class="flex items-center cursor-pointer hover:bg-gray-50 p-1 rounded"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;input type="checkbox" onchange="toggleAllCities('兵庫県', this.checked)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;span class="ml-2 text-sm font-medium"&gt;すべて選択&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-2"&gt;</p>
<p class="p2"><span class="Apple-converted-space">                            </span></p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center p-2 hover:bg-gray-50 rounded cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="checkbox" value="神戸市東灘区" onchange="toggleCity('兵庫県', '神戸市東灘区', this.checked)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="ml-2 text-sm"&gt;神戸市東灘区&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p2"><span class="Apple-converted-space">                            </span></p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center p-2 hover:bg-gray-50 rounded cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="checkbox" value="神戸市灘区" onchange="toggleCity('兵庫県', '神戸市灘区', this.checked)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="ml-2 text-sm"&gt;神戸市灘区&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p2"><span class="Apple-converted-space">                            </span></p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center p-2 hover:bg-gray-50 rounded cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="checkbox" value="神戸市兵庫区" onchange="toggleCity('兵庫県', '神戸市兵庫区', this.checked)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="ml-2 text-sm"&gt;神戸市兵庫区&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p2"><span class="Apple-converted-space">                            </span></p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center p-2 hover:bg-gray-50 rounded cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="checkbox" value="神戸市長田区" onchange="toggleCity('兵庫県', '神戸市長田区', this.checked)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="ml-2 text-sm"&gt;神戸市長田区&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p2"><span class="Apple-converted-space">                            </span></p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center p-2 hover:bg-gray-50 rounded cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="checkbox" value="神戸市須磨区" onchange="toggleCity('兵庫県', '神戸市須磨区', this.checked)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="ml-2 text-sm"&gt;神戸市須磨区&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p2"><span class="Apple-converted-space">                            </span></p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center p-2 hover:bg-gray-50 rounded cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="checkbox" value="神戸市垂水区" onchange="toggleCity('兵庫県', '神戸市垂水区', this.checked)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="ml-2 text-sm"&gt;神戸市垂水区&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p2"><span class="Apple-converted-space">                            </span></p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center p-2 hover:bg-gray-50 rounded cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="checkbox" value="神戸市北区" onchange="toggleCity('兵庫県', '神戸市北区', this.checked)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="ml-2 text-sm"&gt;神戸市北区&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p2"><span class="Apple-converted-space">                            </span></p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center p-2 hover:bg-gray-50 rounded cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="checkbox" value="神戸市中央区" onchange="toggleCity('兵庫県', '神戸市中央区', this.checked)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="ml-2 text-sm"&gt;神戸市中央区&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p2"><span class="Apple-converted-space">                            </span></p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center p-2 hover:bg-gray-50 rounded cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="checkbox" value="神戸市西区" onchange="toggleCity('兵庫県', '神戸市西区', this.checked)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="ml-2 text-sm"&gt;神戸市西区&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p2"><span class="Apple-converted-space">                            </span></p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center p-2 hover:bg-gray-50 rounded cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="checkbox" value="姫路市" onchange="toggleCity('兵庫県', '姫路市', this.checked)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="ml-2 text-sm"&gt;姫路市&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p2"><span class="Apple-converted-space">                            </span></p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center p-2 hover:bg-gray-50 rounded cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="checkbox" value="尼崎市" onchange="toggleCity('兵庫県', '尼崎市', this.checked)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="ml-2 text-sm"&gt;尼崎市&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p2"><span class="Apple-converted-space">                            </span></p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center p-2 hover:bg-gray-50 rounded cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="checkbox" value="明石市" onchange="toggleCity('兵庫県', '明石市', this.checked)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="ml-2 text-sm"&gt;明石市&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p2"><span class="Apple-converted-space">                            </span></p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center p-2 hover:bg-gray-50 rounded cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="checkbox" value="西宮市" onchange="toggleCity('兵庫県', '西宮市', this.checked)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="ml-2 text-sm"&gt;西宮市&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p2"><span class="Apple-converted-space">                            </span></p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center p-2 hover:bg-gray-50 rounded cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="checkbox" value="洲本市" onchange="toggleCity('兵庫県', '洲本市', this.checked)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="ml-2 text-sm"&gt;洲本市&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p2"><span class="Apple-converted-space">                            </span></p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center p-2 hover:bg-gray-50 rounded cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="checkbox" value="芦屋市" onchange="toggleCity('兵庫県', '芦屋市', this.checked)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="ml-2 text-sm"&gt;芦屋市&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p2"><span class="Apple-converted-space">                            </span></p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center p-2 hover:bg-gray-50 rounded cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="checkbox" value="伊丹市" onchange="toggleCity('兵庫県', '伊丹市', this.checked)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="ml-2 text-sm"&gt;伊丹市&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p2"><span class="Apple-converted-space">                            </span></p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center p-2 hover:bg-gray-50 rounded cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="checkbox" value="相生市" onchange="toggleCity('兵庫県', '相生市', this.checked)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="ml-2 text-sm"&gt;相生市&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p2"><span class="Apple-converted-space">                            </span></p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center p-2 hover:bg-gray-50 rounded cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="checkbox" value="豊岡市" onchange="toggleCity('兵庫県', '豊岡市', this.checked)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="ml-2 text-sm"&gt;豊岡市&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p2"><span class="Apple-converted-space">                            </span></p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center p-2 hover:bg-gray-50 rounded cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="checkbox" value="加古川市" onchange="toggleCity('兵庫県', '加古川市', this.checked)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="ml-2 text-sm"&gt;加古川市&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p2"><span class="Apple-converted-space">                            </span></p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center p-2 hover:bg-gray-50 rounded cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="checkbox" value="赤穂市" onchange="toggleCity('兵庫県', '赤穂市', this.checked)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="ml-2 text-sm"&gt;赤穂市&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p2"><span class="Apple-converted-space">                            </span></p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center p-2 hover:bg-gray-50 rounded cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="checkbox" value="西脇市" onchange="toggleCity('兵庫県', '西脇市', this.checked)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="ml-2 text-sm"&gt;西脇市&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p2"><span class="Apple-converted-space">                            </span></p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center p-2 hover:bg-gray-50 rounded cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="checkbox" value="宝塚市" onchange="toggleCity('兵庫県', '宝塚市', this.checked)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="ml-2 text-sm"&gt;宝塚市&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p2"><span class="Apple-converted-space">                            </span></p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center p-2 hover:bg-gray-50 rounded cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="checkbox" value="三木市" onchange="toggleCity('兵庫県', '三木市', this.checked)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="ml-2 text-sm"&gt;三木市&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p2"><span class="Apple-converted-space">                            </span></p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center p-2 hover:bg-gray-50 rounded cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="checkbox" value="高砂市" onchange="toggleCity('兵庫県', '高砂市', this.checked)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="ml-2 text-sm"&gt;高砂市&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p2"><span class="Apple-converted-space">                            </span></p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center p-2 hover:bg-gray-50 rounded cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="checkbox" value="川西市" onchange="toggleCity('兵庫県', '川西市', this.checked)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="ml-2 text-sm"&gt;川西市&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p2"><span class="Apple-converted-space">                            </span></p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center p-2 hover:bg-gray-50 rounded cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="checkbox" value="小野市" onchange="toggleCity('兵庫県', '小野市', this.checked)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="ml-2 text-sm"&gt;小野市&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p2"><span class="Apple-converted-space">                            </span></p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center p-2 hover:bg-gray-50 rounded cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="checkbox" value="三田市" onchange="toggleCity('兵庫県', '三田市', this.checked)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="ml-2 text-sm"&gt;三田市&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p2"><span class="Apple-converted-space">                            </span></p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center p-2 hover:bg-gray-50 rounded cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="checkbox" value="加西市" onchange="toggleCity('兵庫県', '加西市', this.checked)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="ml-2 text-sm"&gt;加西市&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p2"><span class="Apple-converted-space">                            </span></p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center p-2 hover:bg-gray-50 rounded cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="checkbox" value="丹波篠山市" onchange="toggleCity('兵庫県', '丹波篠山市', this.checked)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="ml-2 text-sm"&gt;丹波篠山市&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p2"><span class="Apple-converted-space">                            </span></p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center p-2 hover:bg-gray-50 rounded cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="checkbox" value="養父市" onchange="toggleCity('兵庫県', '養父市', this.checked)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="ml-2 text-sm"&gt;養父市&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p2"><span class="Apple-converted-space">                            </span></p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center p-2 hover:bg-gray-50 rounded cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="checkbox" value="丹波市" onchange="toggleCity('兵庫県', '丹波市', this.checked)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="ml-2 text-sm"&gt;丹波市&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p2"><span class="Apple-converted-space">                            </span></p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center p-2 hover:bg-gray-50 rounded cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="checkbox" value="南あわじ市" onchange="toggleCity('兵庫県', '南あわじ市', this.checked)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="ml-2 text-sm"&gt;南あわじ市&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p2"><span class="Apple-converted-space">                            </span></p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center p-2 hover:bg-gray-50 rounded cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="checkbox" value="朝来市" onchange="toggleCity('兵庫県', '朝来市', this.checked)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="ml-2 text-sm"&gt;朝来市&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p2"><span class="Apple-converted-space">                            </span></p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center p-2 hover:bg-gray-50 rounded cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="checkbox" value="淡路市" onchange="toggleCity('兵庫県', '淡路市', this.checked)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="ml-2 text-sm"&gt;淡路市&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p2"><span class="Apple-converted-space">                            </span></p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center p-2 hover:bg-gray-50 rounded cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="checkbox" value="宍粟市" onchange="toggleCity('兵庫県', '宍粟市', this.checked)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="ml-2 text-sm"&gt;宍粟市&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p2"><span class="Apple-converted-space">                            </span></p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center p-2 hover:bg-gray-50 rounded cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="checkbox" value="加東市" onchange="toggleCity('兵庫県', '加東市', this.checked)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="ml-2 text-sm"&gt;加東市&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p2"><span class="Apple-converted-space">                            </span></p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center p-2 hover:bg-gray-50 rounded cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="checkbox" value="たつの市" onchange="toggleCity('兵庫県', 'たつの市', this.checked)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="ml-2 text-sm"&gt;たつの市&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p2"><span class="Apple-converted-space">                            </span></p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;!-- STEP 3: 優先エリアを設定 --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div id="priorityArea" class="hidden mb-6"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;div class="bg-yellow-50 border border-yellow-200 rounded-lg p-3 sm:p-6"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;div class="flex flex-col sm:flex-row sm:justify-between sm:items-center mb-3 gap-2"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;h4 class="font-semibold text-sm sm:text-lg leading-tight"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>STEP 3: 優先エリアを設定</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;span class="block sm:inline sm:ml-1 text-xs sm:text-base font-normal text-gray-600"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                                </span>（最大3エリア）</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;/h4&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;span class="text-orange-500 font-semibold text-base sm:text-lg"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;span id="selectedPriorityCount"&gt;2&lt;/span&gt; / 3 選択中</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;p class="text-xs sm:text-sm text-gray-600 mb-3 sm:mb-4"&gt;特に注力したいエリアを最大3つまで選択できます&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;div id="prioritySelectionList" class="space-y-3 sm:space-y-4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;!-- 優先エリア選択リストがここに生成される（県ごとにカード形式） --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;!-- エリア選択完了ボタンセクション削除 --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="flex justify-end pb-20 relative z-10"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;button type="button" id="saveAutodeliveryBtn" class="bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 min-h-[48px] cursor-pointer relative z-20 active:bg-blue-800"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>設定を保存</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;!-- 会社情報セクション --&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;div id="companySection" class="section" style="display: block;"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;div class="flex justify-between items-start mb-6"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;h2 class="text-2xl font-bold text-gray-900"&gt;会社情報&lt;/h2&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;p class="text-sm text-gray-600 mt-1"&gt;実際にお客様に表示される詳細情報になります&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;button onclick="previewCompanyInfo()" class="bg-purple-600 text-white px-6 py-2 rounded-lg hover:bg-purple-700 flex items-center"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"&gt;&lt;/path&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"&gt;&lt;/path&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/svg&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>プレビュー</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;div class="bg-white rounded-lg shadow p-6"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;!-- メインビジュアル設定 --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="mb-8"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;h3 class="text-lg font-semibold mb-4"&gt;メインビジュアル&lt;/h3&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="border-2 border-dashed border-gray-300 rounded-lg p-8 text-center relative" id="mainVisualUploadArea"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;input type="file" id="mainVisualInput" class="hidden" accept="image/*" onchange="handleMainVisualUpload(event)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div id="mainVisualPreview" class=""&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;img id="mainVisualImage" src="https://drive.google.com/thumbnail?id=1USsRV4DxxSk0NCbwB_JsOrepMQ6jF4a2&amp;amp;sz=w1000" alt="メインビジュアル" class="max-w-full h-48 mx-auto object-cover rounded"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;button onclick="removeMainVisual()" class="mt-2 px-4 py-2 text-red-600 hover:text-red-800 border border-red-300 rounded"&gt;削除&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div id="mainVisualPlaceholder" class="hidden"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;svg class="mx-auto h-12 w-12 text-gray-400 mb-3" stroke="currentColor" fill="none" viewBox="0 0 48 48"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;path d="M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"&gt;&lt;/path&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/svg&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;p class="text-sm text-gray-600 mb-2"&gt;メインビジュアル画像をアップロード&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;button onclick="document.getElementById('mainVisualInput').click()" class="bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>画像を選択</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;p class="text-xs text-gray-500 mt-2"&gt;推奨: 1920x600px 以上&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;!-- 施工事例 --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="mb-8"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;h3 class="text-lg font-semibold mb-4"&gt;施工事例&lt;/h3&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;button onclick="addConstructionExample()" class="mb-4 bg-green-500 text-white px-4 py-2 rounded-lg hover:bg-green-600"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>施工事例を追加</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div id="constructionExamplesList" class="grid grid-cols-1 md:grid-cols-2 gap-4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;!-- 施工事例が動的に追加される --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="border rounded-lg p-4" id="example_loaded_0"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;input type="text" class="w-full px-3 py-2 border rounded mb-2" placeholder="施工タイトル（例：戸建て外壁塗装）" value="戸建て２F" onchange="updateConstructionExample('example_loaded_0', 'title', this.value)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div class="grid grid-cols-2 gap-2 mb-2"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;label class="text-xs text-gray-600 mb-1 block"&gt;築年数&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;div class="flex items-center"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;input type="number" class="w-full px-3 py-2 border rounded" placeholder="15" min="0" max="100" value="20" onchange="updateConstructionExample('example_loaded_0', 'buildingAge', this.value)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;span class="ml-2 text-sm text-gray-600"&gt;年&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;label class="text-xs text-gray-600 mb-1 block"&gt;施工金額（万円）&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;div class="flex items-center"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;input type="number" class="w-full px-3 py-2 border rounded" placeholder="150" min="0" value="150" onchange="updateConstructionExample('example_loaded_0', 'price', this.value)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;span class="ml-2 text-sm text-gray-600"&gt;万円&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;textarea class="w-full px-3 py-2 border rounded mb-2" rows="2" placeholder="施工内容（例：シリコン塗料による3回塗り、色褪せと汚れを解消）" onchange="updateConstructionExample('example_loaded_0', 'content', this.value)"&gt;シリコン3回塗り&lt;/textarea&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div class="grid grid-cols-2 gap-4 mb-2"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;label class="text-xs font-semibold text-gray-600 mb-1 block"&gt;施工前（Before）&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;img src="https://drive.google.com/thumbnail?id=1gC7TC4okEpgQoW3GTXV2IB7xEaoo2X8X&amp;amp;sz=w1000" class="w-full h-32 object-cover rounded" alt="施工前"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;label class="text-xs font-semibold text-gray-600 mb-1 block"&gt;施工後（After）&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;img src="https://drive.google.com/thumbnail?id=1plGReQL9lUBT0RWY5YML-EnqJTig1vxh&amp;amp;sz=w1000" class="w-full h-32 object-cover rounded" alt="施工後"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div class="flex justify-end"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;button onclick="removeConstructionExample('example_loaded_0')" class="text-red-600 hover:text-red-800 text-sm"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;svg class="w-4 h-4 inline mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"&gt;&lt;/path&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;/svg&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>この事例を削除</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;&lt;div class="border rounded-lg p-4" id="example_loaded_1"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;input type="text" class="w-full px-3 py-2 border rounded mb-2" placeholder="施工タイトル（例：戸建て外壁塗装）" value="築45年" onchange="updateConstructionExample('example_loaded_1', 'title', this.value)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div class="grid grid-cols-2 gap-2 mb-2"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;label class="text-xs text-gray-600 mb-1 block"&gt;築年数&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;div class="flex items-center"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;input type="number" class="w-full px-3 py-2 border rounded" placeholder="15" min="0" max="100" value="50" onchange="updateConstructionExample('example_loaded_1', 'buildingAge', this.value)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;span class="ml-2 text-sm text-gray-600"&gt;年&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;label class="text-xs text-gray-600 mb-1 block"&gt;施工金額（万円）&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;div class="flex items-center"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;input type="number" class="w-full px-3 py-2 border rounded" placeholder="150" min="0" value="250" onchange="updateConstructionExample('example_loaded_1', 'price', this.value)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;span class="ml-2 text-sm text-gray-600"&gt;万円&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;textarea class="w-full px-3 py-2 border rounded mb-2" rows="2" placeholder="施工内容（例：シリコン塗料による3回塗り、色褪せと汚れを解消）" onchange="updateConstructionExample('example_loaded_1', 'content', this.value)"&gt;フッ素3回塗り&lt;/textarea&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div class="grid grid-cols-2 gap-4 mb-2"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;label class="text-xs font-semibold text-gray-600 mb-1 block"&gt;施工前（Before）&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;img src="https://drive.google.com/thumbnail?id=10BsSuaYzQP2KZyOg5c6R3TSja2FFkzha&amp;amp;sz=w1000" class="w-full h-32 object-cover rounded" alt="施工前"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;label class="text-xs font-semibold text-gray-600 mb-1 block"&gt;施工後（After）&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;img src="https://drive.google.com/thumbnail?id=1ppjNTZmgMHaRXNPPPqFtMeGVf3JGNA82&amp;amp;sz=w1000" class="w-full h-32 object-cover rounded" alt="施工後"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div class="flex justify-end"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;button onclick="removeConstructionExample('example_loaded_1')" class="text-red-600 hover:text-red-800 text-sm"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;svg class="w-4 h-4 inline mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"&gt;&lt;/path&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;/svg&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>この事例を削除</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;&lt;div class="border rounded-lg p-4" id="example_loaded_2"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;input type="text" class="w-full px-3 py-2 border rounded mb-2" placeholder="施工タイトル（例：戸建て外壁塗装）" value="屋根壁塗装" onchange="updateConstructionExample('example_loaded_2', 'title', this.value)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div class="grid grid-cols-2 gap-2 mb-2"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;label class="text-xs text-gray-600 mb-1 block"&gt;築年数&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;div class="flex items-center"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;input type="number" class="w-full px-3 py-2 border rounded" placeholder="15" min="0" max="100" value="40" onchange="updateConstructionExample('example_loaded_2', 'buildingAge', this.value)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;span class="ml-2 text-sm text-gray-600"&gt;年&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;label class="text-xs text-gray-600 mb-1 block"&gt;施工金額（万円）&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;div class="flex items-center"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;input type="number" class="w-full px-3 py-2 border rounded" placeholder="150" min="0" value="130" onchange="updateConstructionExample('example_loaded_2', 'price', this.value)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;span class="ml-2 text-sm text-gray-600"&gt;万円&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;textarea class="w-full px-3 py-2 border rounded mb-2" rows="2" placeholder="施工内容（例：シリコン塗料による3回塗り、色褪せと汚れを解消）" onchange="updateConstructionExample('example_loaded_2', 'content', this.value)"&gt;光触媒フッ素&lt;/textarea&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div class="grid grid-cols-2 gap-4 mb-2"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;label class="text-xs font-semibold text-gray-600 mb-1 block"&gt;施工前（Before）&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;img src="https://drive.google.com/thumbnail?id=1VgWpZ4o_tQViSKXkbScS_zIQqKm98DhC&amp;amp;sz=w1000" class="w-full h-32 object-cover rounded" alt="施工前"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;label class="text-xs font-semibold text-gray-600 mb-1 block"&gt;施工後（After）&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;img src="https://drive.google.com/thumbnail?id=1rOLVBNsaQer6AKCpdiEGUgxmDbik7Gx7&amp;amp;sz=w1000" class="w-full h-32 object-cover rounded" alt="施工後"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div class="flex justify-end"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;button onclick="removeConstructionExample('example_loaded_2')" class="text-red-600 hover:text-red-800 text-sm"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;svg class="w-4 h-4 inline mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"&gt;&lt;/path&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;/svg&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>この事例を削除</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;&lt;div class="border rounded-lg p-4" id="example_loaded_3"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;input type="text" class="w-full px-3 py-2 border rounded mb-2" placeholder="施工タイトル（例：戸建て外壁塗装）" value="スマホでも" onchange="updateConstructionExample('example_loaded_3', 'title', this.value)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div class="grid grid-cols-2 gap-2 mb-2"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;label class="text-xs text-gray-600 mb-1 block"&gt;築年数&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;div class="flex items-center"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;input type="number" class="w-full px-3 py-2 border rounded" placeholder="15" min="0" max="100" value="200" onchange="updateConstructionExample('example_loaded_3', 'buildingAge', this.value)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;span class="ml-2 text-sm text-gray-600"&gt;年&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;label class="text-xs text-gray-600 mb-1 block"&gt;施工金額（万円）&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;div class="flex items-center"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;input type="number" class="w-full px-3 py-2 border rounded" placeholder="150" min="0" value="1000" onchange="updateConstructionExample('example_loaded_3', 'price', this.value)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;span class="ml-2 text-sm text-gray-600"&gt;万円&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;textarea class="w-full px-3 py-2 border rounded mb-2" rows="2" placeholder="施工内容（例：シリコン塗料による3回塗り、色褪せと汚れを解消）" onchange="updateConstructionExample('example_loaded_3', 'content', this.value)"&gt;&lt;/textarea&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div class="grid grid-cols-2 gap-4 mb-2"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;label class="text-xs font-semibold text-gray-600 mb-1 block"&gt;施工前（Before）&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;img src="https://drive.google.com/thumbnail?id=1D2Jy3hHMYvp8X58hv6Eh0EWaUAG5bSB5&amp;amp;sz=w1000" class="w-full h-32 object-cover rounded" alt="施工前"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;label class="text-xs font-semibold text-gray-600 mb-1 block"&gt;施工後（After）&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;img src="https://drive.google.com/thumbnail?id=14Le1y5t7g6lv1tZgSgN7Mch4bJEMz0dR&amp;amp;sz=w1000" class="w-full h-32 object-cover rounded" alt="施工後"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div class="flex justify-end"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;button onclick="removeConstructionExample('example_loaded_3')" class="text-red-600 hover:text-red-800 text-sm"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;svg class="w-4 h-4 inline mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"&gt;&lt;/path&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;/svg&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>この事例を削除</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;!-- 写真ギャラリー --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="mb-8"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;h3 class="text-lg font-semibold mb-4"&gt;写真ギャラリー&lt;/h3&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div id="photoGalleryList" class="grid grid-cols-2 md:grid-cols-4 gap-4 mb-4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div class="relative group gallery-item" id="gallery_loaded_0"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;img loading="lazy" src="https://drive.google.com/thumbnail?id=1wPa5qlnbVjyiZ9-rKZWfiaYxVbsYueFd&amp;amp;sz=w200" class="w-full h-24 object-cover rounded-lg" alt="ギャラリー画像1"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;button type="button" onclick="removeGalleryImage('gallery_loaded_0')" class="absolute top-1 right-1 bg-red-500 text-white p-1 rounded opacity-0 group-hover:opacity-100 transition"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"&gt;&lt;/path&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/svg&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;&lt;div class="relative group gallery-item" id="gallery_loaded_1"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;img loading="lazy" src="https://drive.google.com/thumbnail?id=1eh6VsUdDgcOGp1uH3cgWk8beBTrvvy_T&amp;amp;sz=w200" class="w-full h-24 object-cover rounded-lg" alt="ギャラリー画像2"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;button type="button" onclick="removeGalleryImage('gallery_loaded_1')" class="absolute top-1 right-1 bg-red-500 text-white p-1 rounded opacity-0 group-hover:opacity-100 transition"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"&gt;&lt;/path&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/svg&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;&lt;div class="relative group gallery-item" id="gallery_loaded_2"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;img loading="lazy" src="https://drive.google.com/thumbnail?id=1MhcTeKWmuHTHvo5xVitNp57iL1iCQLxd&amp;amp;sz=w200" class="w-full h-24 object-cover rounded-lg" alt="ギャラリー画像3"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;button type="button" onclick="removeGalleryImage('gallery_loaded_2')" class="absolute top-1 right-1 bg-red-500 text-white p-1 rounded opacity-0 group-hover:opacity-100 transition"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"&gt;&lt;/path&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/svg&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;&lt;div class="relative group gallery-item" id="gallery_loaded_3"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;img loading="lazy" src="https://drive.google.com/thumbnail?id=1WTGr6YnN9t8BA9gbj6SwB2YhvkN7tU4-&amp;amp;sz=w200" class="w-full h-24 object-cover rounded-lg" alt="ギャラリー画像4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;button type="button" onclick="removeGalleryImage('gallery_loaded_3')" class="absolute top-1 right-1 bg-red-500 text-white p-1 rounded opacity-0 group-hover:opacity-100 transition"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"&gt;&lt;/path&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/svg&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;&lt;div class="relative group gallery-item" id="gallery_loaded_4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;img loading="lazy" src="https://drive.google.com/thumbnail?id=1BOPtkoklUZF5-vA805UInmq2eiCEbXdu&amp;amp;sz=w200" class="w-full h-24 object-cover rounded-lg" alt="ギャラリー画像5"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;button type="button" onclick="removeGalleryImage('gallery_loaded_4')" class="absolute top-1 right-1 bg-red-500 text-white p-1 rounded opacity-0 group-hover:opacity-100 transition"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"&gt;&lt;/path&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/svg&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;&lt;div class="relative group gallery-item" id="gallery_loaded_5"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;img loading="lazy" src="https://drive.google.com/thumbnail?id=1pCLD4Uz2ddsar2KN024S0ixk3thSxAOA&amp;amp;sz=w200" class="w-full h-24 object-cover rounded-lg" alt="ギャラリー画像6"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;button type="button" onclick="removeGalleryImage('gallery_loaded_5')" class="absolute top-1 right-1 bg-red-500 text-white p-1 rounded opacity-0 group-hover:opacity-100 transition"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"&gt;&lt;/path&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/svg&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;&lt;div class="relative group gallery-item" id="gallery_loaded_6"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;img loading="lazy" src="https://drive.google.com/thumbnail?id=1jcNwDTcpXHkVo5eahtR_GWacrgFgu04T&amp;amp;sz=w200" class="w-full h-24 object-cover rounded-lg" alt="ギャラリー画像7"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;button type="button" onclick="removeGalleryImage('gallery_loaded_6')" class="absolute top-1 right-1 bg-red-500 text-white p-1 rounded opacity-0 group-hover:opacity-100 transition"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"&gt;&lt;/path&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/svg&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;&lt;div class="relative group gallery-item" id="gallery_loaded_7"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;img loading="lazy" src="https://drive.google.com/thumbnail?id=1T01Q88Me9j_FriI8stvG0vk5T5WjnUgb&amp;amp;sz=w200" class="w-full h-24 object-cover rounded-lg" alt="ギャラリー画像8"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;button type="button" onclick="removeGalleryImage('gallery_loaded_7')" class="absolute top-1 right-1 bg-red-500 text-white p-1 rounded opacity-0 group-hover:opacity-100 transition"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"&gt;&lt;/path&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/svg&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;&lt;div class="relative group gallery-item" id="gallery_loaded_8"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;img loading="lazy" src="https://drive.google.com/thumbnail?id=1VFhHXI6Nnkw7LRAKfFXVfdReYUn-rZfI&amp;amp;sz=w200" class="w-full h-24 object-cover rounded-lg" alt="ギャラリー画像9"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;button type="button" onclick="removeGalleryImage('gallery_loaded_8')" class="absolute top-1 right-1 bg-red-500 text-white p-1 rounded opacity-0 group-hover:opacity-100 transition"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"&gt;&lt;/path&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/svg&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;&lt;div class="relative group gallery-item" id="gallery_loaded_9"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;img loading="lazy" src="https://drive.google.com/thumbnail?id=1AVw6Br9A9HytjmjTZUOllLUCj3Ec0-kB&amp;amp;sz=w200" class="w-full h-24 object-cover rounded-lg" alt="ギャラリー画像10"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;button type="button" onclick="removeGalleryImage('gallery_loaded_9')" class="absolute top-1 right-1 bg-red-500 text-white p-1 rounded opacity-0 group-hover:opacity-100 transition"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"&gt;&lt;/path&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/svg&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;&lt;div class="relative group gallery-item" id="gallery_loaded_10"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;img loading="lazy" src="https://drive.google.com/thumbnail?id=12h4hwVM95fX0Tt8S0YoPOwrjiKWpTZTe&amp;amp;sz=w200" class="w-full h-24 object-cover rounded-lg" alt="ギャラリー画像11"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;button type="button" onclick="removeGalleryImage('gallery_loaded_10')" class="absolute top-1 right-1 bg-red-500 text-white p-1 rounded opacity-0 group-hover:opacity-100 transition"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"&gt;&lt;/path&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/svg&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;&lt;div class="border-2 border-dashed border-gray-300 rounded-lg p-4 text-center cursor-pointer hover:border-blue-500" onclick="document.getElementById('galleryUpload').click()"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;svg class="w-8 h-8 text-gray-400 mx-auto mb-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"&gt;&lt;/path&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/svg&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;span class="text-sm text-gray-500"&gt;画像を追加&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;!-- ギャラリー画像が動的に追加される --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;input type="file" id="galleryUpload" accept="image/*" multiple="" style="display: none;" onchange="handleGalleryUpload(event)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;!-- 会社基本情報 --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="mb-8"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;h3 class="text-lg font-semibold mb-4"&gt;基本情報&lt;/h3&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="grid grid-cols-1 md:grid-cols-2 gap-4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="block text-sm font-medium text-gray-700 mb-1"&gt;会社名 &lt;span class="text-red-500"&gt;*&lt;/span&gt;&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;input type="text" id="companyName" class="w-full px-3 py-2 border rounded-lg" placeholder="例: 株式会社くらべる塗装" value=""&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="block text-sm font-medium text-gray-700 mb-1"&gt;会社名カナ &lt;span class="text-red-500"&gt;*&lt;/span&gt;&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;input type="text" id="companyNameKana" class="w-full px-3 py-2 border rounded-lg" placeholder="カタカナで入力" value=""&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="block text-sm font-medium text-gray-700 mb-1"&gt;屋号&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;input type="text" id="tradeName" class="w-full px-3 py-2 border rounded-lg" placeholder="例: くらべるペイント" value="" onchange="updateTradeNameDisplay()"&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;!-- 屋号表示オプション --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;div class="mt-3 p-3 bg-gray-50 rounded-lg" id="tradeNameDisplayOptions" style="display: none;"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;label class="block text-xs font-medium text-gray-700 mb-2"&gt;会社名の表示方法&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;div class="space-y-2"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;!-- パターン1：社名表示 --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;label class="flex items-center p-2 bg-white border rounded-lg hover:bg-blue-50 cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;input type="radio" name="tradeNameDisplay" value="company" class="mr-2" checked="" onchange="updateCompanyNameDisplay()"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                                </span>&lt;span class="text-xs font-medium"&gt;パターン1：社名表示&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                                </span>&lt;div class="text-xs text-gray-600 mt-0.5"&gt;例: 株式会社くらべる塗装&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;/label&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;!-- パターン2：屋号表示 --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;label class="flex items-center p-2 bg-white border rounded-lg hover:bg-blue-50 cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;input type="radio" name="tradeNameDisplay" value="trade" class="mr-2" onchange="updateCompanyNameDisplay()"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                                </span>&lt;span class="text-xs font-medium"&gt;パターン2：屋号表示&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                                </span>&lt;div class="text-xs text-gray-600 mt-0.5"&gt;例: くらべるペイント&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;/label&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;!-- パターン3：両方表示 --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;label class="flex items-center p-2 bg-white border rounded-lg hover:bg-blue-50 cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;input type="radio" name="tradeNameDisplay" value="both" class="mr-2" onchange="updateCompanyNameDisplay()"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                                </span>&lt;span class="text-xs font-medium"&gt;パターン3：両方表示&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                                </span>&lt;div class="text-xs text-gray-600 mt-0.5"&gt;例: 株式会社くらべる塗装｜くらべるペイント&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;/label&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;!-- パターン3のカスタマイズオプション --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;div id="bothDisplayOptions" class="ml-6 p-2 bg-blue-50 rounded-lg" style="display: none;"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;h4 class="text-xs font-semibold text-gray-700 mb-2"&gt;カスタマイズオプション&lt;/h4&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;!-- 表示順序 --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;div class="mb-2"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                                </span>&lt;label class="flex items-center"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                                    </span>&lt;input type="checkbox" id="reverseOrder" class="mr-2" onchange="updateCompanyNameDisplay()"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                                    </span>&lt;span class="text-xs"&gt;順番を入れ替える&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                                </span>&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                                </span>&lt;div class="text-xs text-gray-500 ml-6"&gt;→ くらべるペイント｜株式会社くらべる塗装&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;!-- 文字サイズ --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                                </span>&lt;label class="flex items-center"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                                    </span>&lt;input type="checkbox" id="smallerSecond" class="mr-2" onchange="updateCompanyNameDisplay()"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                                    </span>&lt;span class="text-xs"&gt;後ろの文字を小さくする（85%サイズ）&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                                </span>&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                                </span>&lt;div class="text-xs text-gray-500 ml-6"&gt;→ 大きい文字｜&lt;span style="font-size:85%"&gt;小さい文字&lt;/span&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="block text-sm font-medium text-gray-700 mb-1"&gt;屋号カナ&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;input type="text" id="tradeNameKana" class="w-full px-3 py-2 border rounded-lg" placeholder="カタカナで入力" value=""&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="block text-sm font-medium text-gray-700 mb-1"&gt;代表者名 &lt;span class="text-red-500"&gt;*&lt;/span&gt;&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;input type="text" id="representative" class="w-full px-3 py-2 border rounded-lg" placeholder="代表者名を入力" value=""&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="block text-sm font-medium text-gray-700 mb-1"&gt;代表者名カナ &lt;span class="text-red-500"&gt;*&lt;/span&gt;&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;input type="text" id="representativeKana" class="w-full px-3 py-2 border rounded-lg" placeholder="カタカナで入力" value=""&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="block text-sm font-medium text-gray-700 mb-1"&gt;郵便番号 &lt;span class="text-red-500"&gt;*&lt;/span&gt;&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;input type="text" id="zipCode" class="w-full px-3 py-2 border rounded-lg" placeholder="123-4567" value=""&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="block text-sm font-medium text-gray-700 mb-1"&gt;住所 &lt;span class="text-red-500"&gt;*&lt;/span&gt;&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;input type="text" id="address" class="w-full px-3 py-2 border rounded-lg" placeholder="東京都港区青山1-1-1" value=""&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="block text-sm font-medium text-gray-700 mb-1"&gt;電話番号 &lt;span class="text-red-500"&gt;*&lt;/span&gt;&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;input type="text" id="phone" class="w-full px-3 py-2 border rounded-lg" placeholder="03-1234-5678" value=""&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="block text-sm font-medium text-gray-700 mb-1"&gt;ウェブサイトURL&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;input type="text" id="website" class="w-full px-3 py-2 border rounded-lg" placeholder="https://example.com" value=""&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="block text-sm font-medium text-gray-700 mb-1"&gt;設立年月&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;input type="text" id="established" class="w-full px-3 py-2 border rounded-lg" placeholder="例: 2010年4月" value=""&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="grid grid-cols-1 gap-4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="block text-sm font-medium text-gray-700 mb-1"&gt;PR文 &lt;span class="text-red-500"&gt;*&lt;/span&gt;&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;textarea id="prText" class="w-full px-3 py-2 border rounded-lg resize-y" rows="10" placeholder="会社の特徴やPR文を入力してください" style="min-height: 200px; height: 352px;"&gt;&lt;/textarea&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;p class="text-xs text-gray-500 mt-1 text-right"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span id="prTextCharCount"&gt;197&lt;/span&gt;文字</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;!-- 支店情報 --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="mb-8"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;h3 class="text-lg font-semibold mb-4"&gt;支店情報&lt;/h3&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div id="branchList"&gt;&lt;div id="branch-1" class="border rounded-lg p-4 mb-3 bg-gray-50"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div class="flex justify-between items-start mb-3"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;h4 class="font-medium text-gray-700"&gt;支店 1&lt;/h4&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;button onclick="removeBranch(1)" class="text-red-600 hover:text-red-800"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"&gt;&lt;/path&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;/svg&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div class="space-y-3"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;label class="block text-sm font-medium text-gray-700 mb-1"&gt;支店名&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="text" class="w-full px-3 py-2 border rounded-lg" placeholder="例: 横浜支店" value="名古屋支店" onchange="updateBranch(1, 'name', this.value)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;label class="block text-sm font-medium text-gray-700 mb-1"&gt;支店住所&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="text" class="w-full px-3 py-2 border rounded-lg" placeholder="例: 神奈川県横浜市..." value="名古屋1-1" onchange="updateBranch(1, 'address', this.value)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;&lt;div id="branch-2" class="border rounded-lg p-4 mb-3 bg-gray-50"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div class="flex justify-between items-start mb-3"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;h4 class="font-medium text-gray-700"&gt;支店 2&lt;/h4&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;button onclick="removeBranch(2)" class="text-red-600 hover:text-red-800"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"&gt;&lt;/path&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;/svg&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div class="space-y-3"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;label class="block text-sm font-medium text-gray-700 mb-1"&gt;支店名&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="text" class="w-full px-3 py-2 border rounded-lg" placeholder="例: 横浜支店" value="北海道" onchange="updateBranch(2, 'name', this.value)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;label class="block text-sm font-medium text-gray-700 mb-1"&gt;支店住所&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="text" class="w-full px-3 py-2 border rounded-lg" placeholder="例: 神奈川県横浜市..." value="網走1-1" onchange="updateBranch(2, 'address', this.value)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;button onclick="addBranch()" class="mt-3 text-blue-600 hover:text-blue-800 text-sm font-medium"&gt;+ 支店を追加&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;!-- 連絡先情報 --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="mb-8"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;h3 class="text-lg font-semibold mb-4"&gt;連絡先情報&lt;/h3&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="grid grid-cols-1 md:grid-cols-2 gap-4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="block text-sm font-medium text-gray-700 mb-1"&gt;請求用メールアドレス &lt;span class="text-red-500"&gt;*&lt;/span&gt;&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;input type="email" id="billingEmail" class="w-full px-3 py-2 border rounded-lg" placeholder="billing@example.com" value=""&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="block text-sm font-medium text-gray-700 mb-1"&gt;営業用メールアドレス &lt;span class="text-red-500"&gt;*&lt;/span&gt;&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;input type="email" id="salesEmail" class="w-full px-3 py-2 border rounded-lg" placeholder="sales@company.co.jp" value=""&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="block text-sm font-medium text-gray-700 mb-1"&gt;営業担当者氏名 &lt;span class="text-red-500"&gt;*&lt;/span&gt;&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;input type="text" id="salesPersonName" class="w-full px-3 py-2 border rounded-lg" placeholder="営業担当者の氏名を入力" value=""&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="block text-sm font-medium text-gray-700 mb-1"&gt;営業担当者カナ &lt;span class="text-red-500"&gt;*&lt;/span&gt;&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;input type="text" id="salesPersonKana" class="w-full px-3 py-2 border rounded-lg" placeholder="ヤマダ タロウ" value=""&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;!-- 事業詳細 --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="mb-8"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;h3 class="text-lg font-semibold mb-4"&gt;事業詳細&lt;/h3&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="grid grid-cols-1 md:grid-cols-2 gap-4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="block text-sm font-medium text-gray-700 mb-1"&gt;従業員数 &lt;span class="text-red-500"&gt;*&lt;/span&gt;&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;select id="employees" class="w-full px-3 py-2 border rounded-lg"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;option value=""&gt;選択してください&lt;/option&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;option value="1-2"&gt;1〜2名&lt;/option&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;option value="3-5"&gt;3〜5名&lt;/option&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;option value="6-10"&gt;6〜10名&lt;/option&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;option value="11+"&gt;11名以上&lt;/option&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/select&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="block text-sm font-medium text-gray-700 mb-1"&gt;売上規模 &lt;span class="text-red-500"&gt;*&lt;/span&gt;&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;select id="salesScale" class="w-full px-3 py-2 border rounded-lg"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;option value=""&gt;選択してください&lt;/option&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;option value="under-10m"&gt;1,000万円未満&lt;/option&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;option value="10m-30m"&gt;1,000万円〜3,000万円&lt;/option&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;option value="30m-50m"&gt;3,000万円〜5,000万円&lt;/option&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;option value="50m-100m"&gt;5,000万円〜1億円&lt;/option&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;option value="100m-300m"&gt;1億円〜3億円&lt;/option&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;option value="over-300m"&gt;3億円以上&lt;/option&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/select&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;!-- 対応エリア --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="mb-8"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;h3 class="text-lg font-semibold mb-4"&gt;対応エリア&lt;/h3&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;p class="text-sm text-gray-600 mb-3"&gt;※ 自動配信設定から自動的に反映されます&lt;/p&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;!-- 自動反映表示 --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div id="companyAreaAuto" class="bg-white border border-gray-200 rounded-lg overflow-hidden"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div id="companyAreaDisplay"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;!-- 都道府県 --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;div class="p-4 border-b border-gray-100"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;div class="flex items-center mb-3"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;span class="text-lg mr-2"&gt;📍&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;h4 class="text-sm font-semibold text-gray-800"&gt;対応都道府県&lt;/h4&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;div id="companyPrefecturesDisplay" class="flex flex-wrap gap-2"&gt;&lt;span class="inline-flex items-center px-4 py-2 bg-gradient-to-r from-blue-500 to-blue-600 text-white rounded-lg text-sm font-medium shadow-sm hover:shadow-md transition-shadow"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>東京都</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/span&gt;&lt;span class="inline-flex items-center px-4 py-2 bg-gradient-to-r from-blue-500 to-blue-600 text-white rounded-lg text-sm font-medium shadow-sm hover:shadow-md transition-shadow"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>埼玉県</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/span&gt;&lt;span class="inline-flex items-center px-4 py-2 bg-gradient-to-r from-blue-500 to-blue-600 text-white rounded-lg text-sm font-medium shadow-sm hover:shadow-md transition-shadow"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>神奈川県</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/span&gt;&lt;span class="inline-flex items-center px-4 py-2 bg-gradient-to-r from-blue-500 to-blue-600 text-white rounded-lg text-sm font-medium shadow-sm hover:shadow-md transition-shadow"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>奈良県</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/span&gt;&lt;span class="inline-flex items-center px-4 py-2 bg-gradient-to-r from-blue-500 to-blue-600 text-white rounded-lg text-sm font-medium shadow-sm hover:shadow-md transition-shadow"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>兵庫県</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/span&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;!-- 市区町村 --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;div class="p-4 border-b border-gray-100 bg-gray-50"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;div class="flex items-center mb-3"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;span class="text-lg mr-2"&gt;🏘️&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;h4 class="text-sm font-semibold text-gray-800"&gt;対応市区町村&lt;/h4&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;div id="companyCitiesDisplay" class="flex flex-wrap gap-1.5 max-h-64 overflow-y-auto p-2 bg-white rounded border border-gray-200"&gt;&lt;span class="inline-block px-2.5 py-1 bg-green-50 text-green-700 border border-green-200 rounded text-xs font-medium hover:bg-green-100 transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>{"type":"compressed"</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/span&gt;&lt;span class="inline-block px-2.5 py-1 bg-green-50 text-green-700 border border-green-200 rounded text-xs font-medium hover:bg-green-100 transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>"full":"千代田区</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/span&gt;&lt;span class="inline-block px-2.5 py-1 bg-green-50 text-green-700 border border-green-200 rounded text-xs font-medium hover:bg-green-100 transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>中央区</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/span&gt;&lt;span class="inline-block px-2.5 py-1 bg-green-50 text-green-700 border border-green-200 rounded text-xs font-medium hover:bg-green-100 transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>港区</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/span&gt;&lt;span class="inline-block px-2.5 py-1 bg-green-50 text-green-700 border border-green-200 rounded text-xs font-medium hover:bg-green-100 transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>新宿区</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/span&gt;&lt;span class="inline-block px-2.5 py-1 bg-green-50 text-green-700 border border-green-200 rounded text-xs font-medium hover:bg-green-100 transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>文京区</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/span&gt;&lt;span class="inline-block px-2.5 py-1 bg-green-50 text-green-700 border border-green-200 rounded text-xs font-medium hover:bg-green-100 transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>台東区</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/span&gt;&lt;span class="inline-block px-2.5 py-1 bg-green-50 text-green-700 border border-green-200 rounded text-xs font-medium hover:bg-green-100 transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>墨田区</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/span&gt;&lt;span class="inline-block px-2.5 py-1 bg-green-50 text-green-700 border border-green-200 rounded text-xs font-medium hover:bg-green-100 transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>江東区</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/span&gt;&lt;span class="inline-block px-2.5 py-1 bg-green-50 text-green-700 border border-green-200 rounded text-xs font-medium hover:bg-green-100 transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>品川区</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/span&gt;&lt;span class="inline-block px-2.5 py-1 bg-green-50 text-green-700 border border-green-200 rounded text-xs font-medium hover:bg-green-100 transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>目黒区</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/span&gt;&lt;span class="inline-block px-2.5 py-1 bg-green-50 text-green-700 border border-green-200 rounded text-xs font-medium hover:bg-green-100 transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>大田区</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/span&gt;&lt;span class="inline-block px-2.5 py-1 bg-green-50 text-green-700 border border-green-200 rounded text-xs font-medium hover:bg-green-100 transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>世田谷区</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/span&gt;&lt;span class="inline-block px-2.5 py-1 bg-green-50 text-green-700 border border-green-200 rounded text-xs font-medium hover:bg-green-100 transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>渋谷区</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/span&gt;&lt;span class="inline-block px-2.5 py-1 bg-green-50 text-green-700 border border-green-200 rounded text-xs font-medium hover:bg-green-100 transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>中野区</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/span&gt;&lt;span class="inline-block px-2.5 py-1 bg-green-50 text-green-700 border border-green-200 rounded text-xs font-medium hover:bg-green-100 transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>杉並区</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/span&gt;&lt;span class="inline-block px-2.5 py-1 bg-green-50 text-green-700 border border-green-200 rounded text-xs font-medium hover:bg-green-100 transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>豊島区</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/span&gt;&lt;span class="inline-block px-2.5 py-1 bg-green-50 text-green-700 border border-green-200 rounded text-xs font-medium hover:bg-green-100 transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>北区</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/span&gt;&lt;span class="inline-block px-2.5 py-1 bg-green-50 text-green-700 border border-green-200 rounded text-xs font-medium hover:bg-green-100 transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>荒川区</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/span&gt;&lt;span class="inline-block px-2.5 py-1 bg-green-50 text-green-700 border border-green-200 rounded text-xs font-medium hover:bg-green-100 transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>板橋区</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/span&gt;&lt;span class="inline-block px-2.5 py-1 bg-green-50 text-green-700 border border-green-200 rounded text-xs font-medium hover:bg-green-100 transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>練馬区</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/span&gt;&lt;span class="inline-block px-2.5 py-1 bg-green-50 text-green-700 border border-green-200 rounded text-xs font-medium hover:bg-green-100 transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>足立区</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/span&gt;&lt;span class="inline-block px-2.5 py-1 bg-green-50 text-green-700 border border-green-200 rounded text-xs font-medium hover:bg-green-100 transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>葛飾区</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/span&gt;&lt;span class="inline-block px-2.5 py-1 bg-green-50 text-green-700 border border-green-200 rounded text-xs font-medium hover:bg-green-100 transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>江戸川区</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/span&gt;&lt;span class="inline-block px-2.5 py-1 bg-green-50 text-green-700 border border-green-200 rounded text-xs font-medium hover:bg-green-100 transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>八王子市</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/span&gt;&lt;span class="inline-block px-2.5 py-1 bg-green-50 text-green-700 border border-green-200 rounded text-xs font-medium hover:bg-green-100 transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>立川市</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/span&gt;&lt;span class="inline-block px-2.5 py-1 bg-green-50 text-green-700 border border-green-200 rounded text-xs font-medium hover:bg-green-100 transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>武蔵野市</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/span&gt;&lt;span class="inline-block px-2.5 py-1 bg-green-50 text-green-700 border border-green-200 rounded text-xs font-medium hover:bg-green-100 transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>三鷹市</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/span&gt;&lt;span class="inline-block px-2.5 py-1 bg-green-50 text-green-700 border border-green-200 rounded text-xs font-medium hover:bg-green-100 transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>青梅市</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/span&gt;&lt;span class="inline-block px-2.5 py-1 bg-green-50 text-green-700 border border-green-200 rounded text-xs font-medium hover:bg-green-100 transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>府中市</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/span&gt;&lt;span class="inline-block px-2.5 py-1 bg-green-50 text-green-700 border border-green-200 rounded text-xs font-medium hover:bg-green-100 transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>昭島市</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/span&gt;&lt;span class="inline-block px-2.5 py-1 bg-green-50 text-green-700 border border-green-200 rounded text-xs font-medium hover:bg-green-100 transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>調布市</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/span&gt;&lt;span class="inline-block px-2.5 py-1 bg-green-50 text-green-700 border border-green-200 rounded text-xs font-medium hover:bg-green-100 transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>町田市</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/span&gt;&lt;span class="inline-block px-2.5 py-1 bg-green-50 text-green-700 border border-green-200 rounded text-xs font-medium hover:bg-green-100 transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>小金井市</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/span&gt;&lt;span class="inline-block px-2.5 py-1 bg-green-50 text-green-700 border border-green-200 rounded text-xs font-medium hover:bg-green-100 transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>小平市</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/span&gt;&lt;span class="inline-block px-2.5 py-1 bg-green-50 text-green-700 border border-green-200 rounded text-xs font-medium hover:bg-green-100 transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>日野市</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/span&gt;&lt;span class="inline-block px-2.5 py-1 bg-green-50 text-green-700 border border-green-200 rounded text-xs font-medium hover:bg-green-100 transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>東村山市</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/span&gt;&lt;span class="inline-block px-2.5 py-1 bg-green-50 text-green-700 border border-green-200 rounded text-xs font-medium hover:bg-green-100 transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>国分寺市</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/span&gt;&lt;span class="inline-block px-2.5 py-1 bg-green-50 text-green-700 border border-green-200 rounded text-xs font-medium hover:bg-green-100 transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>国立市</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/span&gt;&lt;span class="inline-block px-2.5 py-1 bg-green-50 text-green-700 border border-green-200 rounded text-xs font-medium hover:bg-green-100 transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>福生市</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/span&gt;&lt;span class="inline-block px-2.5 py-1 bg-green-50 text-green-700 border border-green-200 rounded text-xs font-medium hover:bg-green-100 transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>狛江市</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/span&gt;&lt;span class="inline-block px-2.5 py-1 bg-green-50 text-green-700 border border-green-200 rounded text-xs font-medium hover:bg-green-100 transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>東大和市</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/span&gt;&lt;span class="inline-block px-2.5 py-1 bg-green-50 text-green-700 border border-green-200 rounded text-xs font-medium hover:bg-green-100 transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>清瀬市</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/span&gt;&lt;span class="inline-block px-2.5 py-1 bg-green-50 text-green-700 border border-green-200 rounded text-xs font-medium hover:bg-green-100 transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>東久留米市</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/span&gt;&lt;span class="inline-block px-2.5 py-1 bg-green-50 text-green-700 border border-green-200 rounded text-xs font-medium hover:bg-green-100 transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>武蔵村山市</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/span&gt;&lt;span class="inline-block px-2.5 py-1 bg-green-50 text-green-700 border border-green-200 rounded text-xs font-medium hover:bg-green-100 transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>多摩市</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/span&gt;&lt;span class="inline-block px-2.5 py-1 bg-green-50 text-green-700 border border-green-200 rounded text-xs font-medium hover:bg-green-100 transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>稲城市</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/span&gt;&lt;span class="inline-block px-2.5 py-1 bg-green-50 text-green-700 border border-green-200 rounded text-xs font-medium hover:bg-green-100 transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>羽村市</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/span&gt;&lt;span class="inline-block px-2.5 py-1 bg-green-50 text-green-700 border border-green-200 rounded text-xs font-medium hover:bg-green-100 transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>あきる野市</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/span&gt;&lt;span class="inline-block px-2.5 py-1 bg-green-50 text-green-700 border border-green-200 rounded text-xs font-medium hover:bg-green-100 transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>西東京市</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/span&gt;&lt;span class="inline-block px-2.5 py-1 bg-green-50 text-green-700 border border-green-200 rounded text-xs font-medium hover:bg-green-100 transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>瑞穂町</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/span&gt;&lt;span class="inline-block px-2.5 py-1 bg-green-50 text-green-700 border border-green-200 rounded text-xs font-medium hover:bg-green-100 transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>日の出町</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/span&gt;&lt;span class="inline-block px-2.5 py-1 bg-green-50 text-green-700 border border-green-200 rounded text-xs font-medium hover:bg-green-100 transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>檜原村</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/span&gt;&lt;span class="inline-block px-2.5 py-1 bg-green-50 text-green-700 border border-green-200 rounded text-xs font-medium hover:bg-green-100 transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>奥多摩町</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/span&gt;&lt;span class="inline-block px-2.5 py-1 bg-green-50 text-green-700 border border-green-200 rounded text-xs font-medium hover:bg-green-100 transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>さいたま市西区</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/span&gt;&lt;span class="inline-block px-2.5 py-1 bg-green-50 text-green-700 border border-green-200 rounded text-xs font-medium hover:bg-green-100 transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>さいたま市北区</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/span&gt;&lt;span class="inline-block px-2.5 py-1 bg-green-50 text-green-700 border border-green-200 rounded text-xs font-medium hover:bg-green-100 transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>さいたま市大宮区</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/span&gt;&lt;span class="inline-block px-2.5 py-1 bg-green-50 text-green-700 border border-green-200 rounded text-xs font-medium hover:bg-green-100 transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>さいたま市見沼区</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/span&gt;&lt;span class="inline-block px-2.5 py-1 bg-green-50 text-green-700 border border-green-200 rounded text-xs font-medium hover:bg-green-100 transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>さいたま市中央区</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/span&gt;&lt;span class="inline-block px-2.5 py-1 bg-green-50 text-green-700 border border-green-200 rounded text-xs font-medium hover:bg-green-100 transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>さいたま市桜区</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/span&gt;&lt;span class="inline-block px-2.5 py-1 bg-green-50 text-green-700 border border-green-200 rounded text-xs font-medium hover:bg-green-100 transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>さいたま市浦和区</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/span&gt;&lt;span class="inline-block px-2.5 py-1 bg-green-50 text-green-700 border border-green-200 rounded text-xs font-medium hover:bg-green-100 transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>さいたま市南区</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/span&gt;&lt;span class="inline-block px-2.5 py-1 bg-green-50 text-green-700 border border-green-200 rounded text-xs font-medium hover:bg-green-100 transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>さいたま市緑区</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/span&gt;&lt;span class="inline-block px-2.5 py-1 bg-green-50 text-green-700 border border-green-200 rounded text-xs font-medium hover:bg-green-100 transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>さいたま市岩槻区</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/span&gt;&lt;span class="inline-block px-2.5 py-1 bg-green-50 text-green-700 border border-green-200 rounded text-xs font-medium hover:bg-green-100 transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>川越市</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/span&gt;&lt;span class="inline-block px-2.5 py-1 bg-green-50 text-green-700 border border-green-200 rounded text-xs font-medium hover:bg-green-100 transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>熊谷市</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/span&gt;&lt;span class="inline-block px-2.5 py-1 bg-green-50 text-green-700 border border-green-200 rounded text-xs font-medium hover:bg-green-100 transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>川口市</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/span&gt;&lt;span class="inline-block px-2.5 py-1 bg-green-50 text-green-700 border border-green-200 rounded text-xs font-medium hover:bg-green-100 transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>行田市</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/span&gt;&lt;span class="inline-block px-2.5 py-1 bg-green-50 text-green-700 border border-green-200 rounded text-xs font-medium hover:bg-green-100 transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>秩父市</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/span&gt;&lt;span class="inline-block px-2.5 py-1 bg-green-50 text-green-700 border border-green-200 rounded text-xs font-medium hover:bg-green-100 transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>所沢市</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/span&gt;&lt;span class="inline-block px-2.5 py-1 bg-green-50 text-green-700 border border-green-200 rounded text-xs font-medium hover:bg-green-100 transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>飯能市</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/span&gt;&lt;span class="inline-block px-2.5 py-1 bg-green-50 text-green-700 border border-green-200 rounded text-xs font-medium hover:bg-green-100 transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>加須市</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/span&gt;&lt;span class="inline-block px-2.5 py-1 bg-green-50 text-green-700 border border-green-200 rounded text-xs font-medium hover:bg-green-100 transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>本庄市</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/span&gt;&lt;span class="inline-block px-2.5 py-1 bg-green-50 text-green-700 border border-green-200 rounded text-xs font-medium hover:bg-green-100 transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>東松山市</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/span&gt;&lt;span class="inline-block px-2.5 py-1 bg-green-50 text-green-700 border border-green-200 rounded text-xs font-medium hover:bg-green-100 transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>春日部市</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/span&gt;&lt;span class="inline-block px-2.5 py-1 bg-green-50 text-green-700 border border-green-200 rounded text-xs font-medium hover:bg-green-100 transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>狭山市</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/span&gt;&lt;span class="inline-block px-2.5 py-1 bg-green-50 text-green-700 border border-green-200 rounded text-xs font-medium hover:bg-green-100 transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>羽生市</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/span&gt;&lt;span class="inline-block px-2.5 py-1 bg-green-50 text-green-700 border border-green-200 rounded text-xs font-medium hover:bg-green-100 transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>鴻巣市</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/span&gt;&lt;span class="inline-block px-2.5 py-1 bg-green-50 text-green-700 border border-green-200 rounded text-xs font-medium hover:bg-green-100 transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>深谷市</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/span&gt;&lt;span class="inline-block px-2.5 py-1 bg-green-50 text-green-700 border border-green-200 rounded text-xs font-medium hover:bg-green-100 transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>上尾市</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/span&gt;&lt;span class="inline-block px-2.5 py-1 bg-green-50 text-green-700 border border-green-200 rounded text-xs font-medium hover:bg-green-100 transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>草加市</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/span&gt;&lt;span class="inline-block px-2.5 py-1 bg-green-50 text-green-700 border border-green-200 rounded text-xs font-medium hover:bg-green-100 transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>越谷市</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/span&gt;&lt;span class="inline-block px-2.5 py-1 bg-green-50 text-green-700 border border-green-200 rounded text-xs font-medium hover:bg-green-100 transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>蕨市</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/span&gt;&lt;span class="inline-block px-2.5 py-1 bg-green-50 text-green-700 border border-green-200 rounded text-xs font-medium hover:bg-green-100 transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>戸田市</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/span&gt;&lt;span class="inline-block px-2.5 py-1 bg-green-50 text-green-700 border border-green-200 rounded text-xs font-medium hover:bg-green-100 transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>入間市</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/span&gt;&lt;span class="inline-block px-2.5 py-1 bg-green-50 text-green-700 border border-green-200 rounded text-xs font-medium hover:bg-green-100 transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>朝霞市</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/span&gt;&lt;span class="inline-block px-2.5 py-1 bg-green-50 text-green-700 border border-green-200 rounded text-xs font-medium hover:bg-green-100 transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>志木市</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/span&gt;&lt;span class="inline-block px-2.5 py-1 bg-green-50 text-green-700 border border-green-200 rounded text-xs font-medium hover:bg-green-100 transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>和光市</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/span&gt;&lt;span class="inline-block px-2.5 py-1 bg-green-50 text-green-700 border border-green-200 rounded text-xs font-medium hover:bg-green-100 transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>新座市</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/span&gt;&lt;span class="inline-block px-2.5 py-1 bg-green-50 text-green-700 border border-green-200 rounded text-xs font-medium hover:bg-green-100 transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>桶川市</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/span&gt;&lt;span class="inline-block px-2.5 py-1 bg-green-50 text-green-700 border border-green-200 rounded text-xs font-medium hover:bg-green-100 transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>久喜市</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/span&gt;&lt;span class="inline-block px-2.5 py-1 bg-green-50 text-green-700 border border-green-200 rounded text-xs font-medium hover:bg-green-100 transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>北本市</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/span&gt;&lt;span class="inline-block px-2.5 py-1 bg-green-50 text-green-700 border border-green-200 rounded text-xs font-medium hover:bg-green-100 transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>八潮市</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/span&gt;&lt;span class="inline-block px-2.5 py-1 bg-green-50 text-green-700 border border-green-200 rounded text-xs font-medium hover:bg-green-100 transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>富士見市</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/span&gt;&lt;span class="inline-block px-2.5 py-1 bg-green-50 text-green-700 border border-green-200 rounded text-xs font-medium hover:bg-green-100 transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>三郷市</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/span&gt;&lt;span class="inline-block px-2.5 py-1 bg-green-50 text-green-700 border border-green-200 rounded text-xs font-medium hover:bg-green-100 transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>蓮田市</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/span&gt;&lt;span class="inline-block px-2.5 py-1 bg-green-50 text-green-700 border border-green-200 rounded text-xs font-medium hover:bg-green-100 transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>坂戸市</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/span&gt;&lt;span class="inline-block px-2.5 py-1 bg-green-50 text-green-700 border border-green-200 rounded text-xs font-medium hover:bg-green-100 transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>幸手市</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/span&gt;&lt;span class="inline-block px-2.5 py-1 bg-green-50 text-green-700 border border-green-200 rounded text-xs font-medium hover:bg-green-100 transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>鶴ヶ島市</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/span&gt;&lt;span class="inline-block px-2.5 py-1 bg-green-50 text-green-700 border border-green-200 rounded text-xs font-medium hover:bg-green-100 transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>日高市</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/span&gt;&lt;span class="inline-block px-2.5 py-1 bg-green-50 text-green-700 border border-green-200 rounded text-xs font-medium hover:bg-green-100 transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>吉川市</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/span&gt;&lt;span class="inline-block px-2.5 py-1 bg-green-50 text-green-700 border border-green-200 rounded text-xs font-medium hover:bg-green-100 transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>ふじみ野市</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/span&gt;&lt;span class="inline-block px-2.5 py-1 bg-green-50 text-green-700 border border-green-200 rounded text-xs font-medium hover:bg-green-100 transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>白岡市</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/span&gt;&lt;span class="inline-block px-2.5 py-1 bg-green-50 text-green-700 border border-green-200 rounded text-xs font-medium hover:bg-green-100 transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>横浜市鶴見区</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/span&gt;&lt;span class="inline-block px-2.5 py-1 bg-green-50 text-green-700 border border-green-200 rounded text-xs font-medium hover:bg-green-100 transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>横浜市神奈川区</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/span&gt;&lt;span class="inline-block px-2.5 py-1 bg-green-50 text-green-700 border border-green-200 rounded text-xs font-medium hover:bg-green-100 transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>横浜市西区</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/span&gt;&lt;span class="inline-block px-2.5 py-1 bg-green-50 text-green-700 border border-green-200 rounded text-xs font-medium hover:bg-green-100 transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>横浜市中区</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/span&gt;&lt;span class="inline-block px-2.5 py-1 bg-green-50 text-green-700 border border-green-200 rounded text-xs font-medium hover:bg-green-100 transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>横浜市南区</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/span&gt;&lt;span class="inline-block px-2.5 py-1 bg-green-50 text-green-700 border border-green-200 rounded text-xs font-medium hover:bg-green-100 transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>横浜市保土ケ谷区</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/span&gt;&lt;span class="inline-block px-2.5 py-1 bg-green-50 text-green-700 border border-green-200 rounded text-xs font-medium hover:bg-green-100 transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>横浜市磯子区</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/span&gt;&lt;span class="inline-block px-2.5 py-1 bg-green-50 text-green-700 border border-green-200 rounded text-xs font-medium hover:bg-green-100 transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>横浜市金沢区</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/span&gt;&lt;span class="inline-block px-2.5 py-1 bg-green-50 text-green-700 border border-green-200 rounded text-xs font-medium hover:bg-green-100 transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>横浜市港北区</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/span&gt;&lt;span class="inline-block px-2.5 py-1 bg-green-50 text-green-700 border border-green-200 rounded text-xs font-medium hover:bg-green-100 transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>横浜市戸塚区</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/span&gt;&lt;span class="inline-block px-2.5 py-1 bg-green-50 text-green-700 border border-green-200 rounded text-xs font-medium hover:bg-green-100 transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>横浜市港南区</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/span&gt;&lt;span class="inline-block px-2.5 py-1 bg-green-50 text-green-700 border border-green-200 rounded text-xs font-medium hover:bg-green-100 transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>横浜市旭区</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/span&gt;&lt;span class="inline-block px-2.5 py-1 bg-green-50 text-green-700 border border-green-200 rounded text-xs font-medium hover:bg-green-100 transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>横浜市緑区</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/span&gt;&lt;span class="inline-block px-2.5 py-1 bg-green-50 text-green-700 border border-green-200 rounded text-xs font-medium hover:bg-green-100 transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>横浜市瀬谷区</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/span&gt;&lt;span class="inline-block px-2.5 py-1 bg-green-50 text-green-700 border border-green-200 rounded text-xs font-medium hover:bg-green-100 transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>横浜市栄区</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/span&gt;&lt;span class="inline-block px-2.5 py-1 bg-green-50 text-green-700 border border-green-200 rounded text-xs font-medium hover:bg-green-100 transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>横浜市泉区</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/span&gt;&lt;span class="inline-block px-2.5 py-1 bg-green-50 text-green-700 border border-green-200 rounded text-xs font-medium hover:bg-green-100 transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>横浜市青葉区</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/span&gt;&lt;span class="inline-block px-2.5 py-1 bg-green-50 text-green-700 border border-green-200 rounded text-xs font-medium hover:bg-green-100 transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>横浜市都筑区</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/span&gt;&lt;span class="inline-block px-2.5 py-1 bg-green-50 text-green-700 border border-green-200 rounded text-xs font-medium hover:bg-green-100 transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>川崎市川崎区</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/span&gt;&lt;span class="inline-block px-2.5 py-1 bg-green-50 text-green-700 border border-green-200 rounded text-xs font-medium hover:bg-green-100 transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>川崎市幸区</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/span&gt;&lt;span class="inline-block px-2.5 py-1 bg-green-50 text-green-700 border border-green-200 rounded text-xs font-medium hover:bg-green-100 transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>川崎市中原区</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/span&gt;&lt;span class="inline-block px-2.5 py-1 bg-green-50 text-green-700 border border-green-200 rounded text-xs font-medium hover:bg-green-100 transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>川崎市高津区</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/span&gt;&lt;span class="inline-block px-2.5 py-1 bg-green-50 text-green-700 border border-green-200 rounded text-xs font-medium hover:bg-green-100 transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>川崎市多摩区</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/span&gt;&lt;span class="inline-block px-2.5 py-1 bg-green-50 text-green-700 border border-green-200 rounded text-xs font-medium hover:bg-green-100 transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>川崎市宮前区</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/span&gt;&lt;span class="inline-block px-2.5 py-1 bg-green-50 text-green-700 border border-green-200 rounded text-xs font-medium hover:bg-green-100 transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>川崎市麻生区</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/span&gt;&lt;span class="inline-block px-2.5 py-1 bg-green-50 text-green-700 border border-green-200 rounded text-xs font-medium hover:bg-green-100 transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>相模原市緑区</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/span&gt;&lt;span class="inline-block px-2.5 py-1 bg-green-50 text-green-700 border border-green-200 rounded text-xs font-medium hover:bg-green-100 transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>相模原市中央区</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/span&gt;&lt;span class="inline-block px-2.5 py-1 bg-green-50 text-green-700 border border-green-200 rounded text-xs font-medium hover:bg-green-100 transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>相模原市南区</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/span&gt;&lt;span class="inline-block px-2.5 py-1 bg-green-50 text-green-700 border border-green-200 rounded text-xs font-medium hover:bg-green-100 transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>横須賀市</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/span&gt;&lt;span class="inline-block px-2.5 py-1 bg-green-50 text-green-700 border border-green-200 rounded text-xs font-medium hover:bg-green-100 transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>平塚市</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/span&gt;&lt;span class="inline-block px-2.5 py-1 bg-green-50 text-green-700 border border-green-200 rounded text-xs font-medium hover:bg-green-100 transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>鎌倉市</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/span&gt;&lt;span class="inline-block px-2.5 py-1 bg-green-50 text-green-700 border border-green-200 rounded text-xs font-medium hover:bg-green-100 transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>藤沢市</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/span&gt;&lt;span class="inline-block px-2.5 py-1 bg-green-50 text-green-700 border border-green-200 rounded text-xs font-medium hover:bg-green-100 transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>小田原市</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/span&gt;&lt;span class="inline-block px-2.5 py-1 bg-green-50 text-green-700 border border-green-200 rounded text-xs font-medium hover:bg-green-100 transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>茅ヶ崎市</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/span&gt;&lt;span class="inline-block px-2.5 py-1 bg-green-50 text-green-700 border border-green-200 rounded text-xs font-medium hover:bg-green-100 transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>逗子市</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/span&gt;&lt;span class="inline-block px-2.5 py-1 bg-green-50 text-green-700 border border-green-200 rounded text-xs font-medium hover:bg-green-100 transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>三浦市</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/span&gt;&lt;span class="inline-block px-2.5 py-1 bg-green-50 text-green-700 border border-green-200 rounded text-xs font-medium hover:bg-green-100 transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>秦野市</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/span&gt;&lt;span class="inline-block px-2.5 py-1 bg-green-50 text-green-700 border border-green-200 rounded text-xs font-medium hover:bg-green-100 transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>厚木市</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/span&gt;&lt;span class="inline-block px-2.5 py-1 bg-green-50 text-green-700 border border-green-200 rounded text-xs font-medium hover:bg-green-100 transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>大和市</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/span&gt;&lt;span class="inline-block px-2.5 py-1 bg-green-50 text-green-700 border border-green-200 rounded text-xs font-medium hover:bg-green-100 transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>伊勢原市</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/span&gt;&lt;span class="inline-block px-2.5 py-1 bg-green-50 text-green-700 border border-green-200 rounded text-xs font-medium hover:bg-green-100 transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>海老名市</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/span&gt;&lt;span class="inline-block px-2.5 py-1 bg-green-50 text-green-700 border border-green-200 rounded text-xs font-medium hover:bg-green-100 transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>座間市</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/span&gt;&lt;span class="inline-block px-2.5 py-1 bg-green-50 text-green-700 border border-green-200 rounded text-xs font-medium hover:bg-green-100 transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>南足柄市</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/span&gt;&lt;span class="inline-block px-2.5 py-1 bg-green-50 text-green-700 border border-green-200 rounded text-xs font-medium hover:bg-green-100 transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>綾瀬市</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/span&gt;&lt;span class="inline-block px-2.5 py-1 bg-green-50 text-green-700 border border-green-200 rounded text-xs font-medium hover:bg-green-100 transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>奈良市</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/span&gt;&lt;span class="inline-block px-2.5 py-1 bg-green-50 text-green-700 border border-green-200 rounded text-xs font-medium hover:bg-green-100 transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>大和高田市</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/span&gt;&lt;span class="inline-block px-2.5 py-1 bg-green-50 text-green-700 border border-green-200 rounded text-xs font-medium hover:bg-green-100 transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>大和郡山市</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/span&gt;&lt;span class="inline-block px-2.5 py-1 bg-green-50 text-green-700 border border-green-200 rounded text-xs font-medium hover:bg-green-100 transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>天理市</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/span&gt;&lt;span class="inline-block px-2.5 py-1 bg-green-50 text-green-700 border border-green-200 rounded text-xs font-medium hover:bg-green-100 transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>橿原市</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/span&gt;&lt;span class="inline-block px-2.5 py-1 bg-green-50 text-green-700 border border-green-200 rounded text-xs font-medium hover:bg-green-100 transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>桜井市</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/span&gt;&lt;span class="inline-block px-2.5 py-1 bg-green-50 text-green-700 border border-green-200 rounded text-xs font-medium hover:bg-green-100 transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>五條市</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/span&gt;&lt;span class="inline-block px-2.5 py-1 bg-green-50 text-green-700 border border-green-200 rounded text-xs font-medium hover:bg-green-100 transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>御所市</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/span&gt;&lt;span class="inline-block px-2.5 py-1 bg-green-50 text-green-700 border border-green-200 rounded text-xs font-medium hover:bg-green-100 transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>生駒市</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/span&gt;&lt;span class="inline-block px-2.5 py-1 bg-green-50 text-green-700 border border-green-200 rounded text-xs font-medium hover:bg-green-100 transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>香芝市</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/span&gt;&lt;span class="inline-block px-2.5 py-1 bg-green-50 text-green-700 border border-green-200 rounded text-xs font-medium hover:bg-green-100 transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>葛城市</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/span&gt;&lt;span class="inline-block px-2.5 py-1 bg-green-50 text-green-700 border border-green-200 rounded text-xs font-medium hover:bg-green-100 transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>宇陀市</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/span&gt;&lt;span class="inline-block px-2.5 py-1 bg-green-50 text-green-700 border border-green-200 rounded text-xs font-medium hover:bg-green-100 transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>神戸市東灘区</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/span&gt;&lt;span class="inline-block px-2.5 py-1 bg-green-50 text-green-700 border border-green-200 rounded text-xs font-medium hover:bg-green-100 transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>神戸市灘区</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/span&gt;&lt;span class="inline-block px-2.5 py-1 bg-green-50 text-green-700 border border-green-200 rounded text-xs font-medium hover:bg-green-100 transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>神戸市兵庫区</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/span&gt;&lt;span class="inline-block px-2.5 py-1 bg-green-50 text-green-700 border border-green-200 rounded text-xs font-medium hover:bg-green-100 transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>神戸市長田区</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/span&gt;&lt;span class="inline-block px-2.5 py-1 bg-green-50 text-green-700 border border-green-200 rounded text-xs font-medium hover:bg-green-100 transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>神戸市須磨区</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/span&gt;&lt;span class="inline-block px-2.5 py-1 bg-green-50 text-green-700 border border-green-200 rounded text-xs font-medium hover:bg-green-100 transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>神戸市垂水区</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/span&gt;&lt;span class="inline-block px-2.5 py-1 bg-green-50 text-green-700 border border-green-200 rounded text-xs font-medium hover:bg-green-100 transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>神戸市北区</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/span&gt;&lt;span class="inline-block px-2.5 py-1 bg-green-50 text-green-700 border border-green-200 rounded text-xs font-medium hover:bg-green-100 transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>神戸市中央区</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/span&gt;&lt;span class="inline-block px-2.5 py-1 bg-green-50 text-green-700 border border-green-200 rounded text-xs font-medium hover:bg-green-100 transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>神戸市西区</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/span&gt;&lt;span class="inline-block px-2.5 py-1 bg-green-50 text-green-700 border border-green-200 rounded text-xs font-medium hover:bg-green-100 transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>姫路市</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/span&gt;&lt;span class="inline-block px-2.5 py-1 bg-green-50 text-green-700 border border-green-200 rounded text-xs font-medium hover:bg-green-100 transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>尼崎市</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/span&gt;&lt;span class="inline-block px-2.5 py-1 bg-green-50 text-green-700 border border-green-200 rounded text-xs font-medium hover:bg-green-100 transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>明石市</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/span&gt;&lt;span class="inline-block px-2.5 py-1 bg-green-50 text-green-700 border border-green-200 rounded text-xs font-medium hover:bg-green-100 transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>西宮市</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/span&gt;&lt;span class="inline-block px-2.5 py-1 bg-green-50 text-green-700 border border-green-200 rounded text-xs font-medium hover:bg-green-100 transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>洲本市</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/span&gt;&lt;span class="inline-block px-2.5 py-1 bg-green-50 text-green-700 border border-green-200 rounded text-xs font-medium hover:bg-green-100 transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>芦屋市</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/span&gt;&lt;span class="inline-block px-2.5 py-1 bg-green-50 text-green-700 border border-green-200 rounded text-xs font-medium hover:bg-green-100 transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>伊丹市</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/span&gt;&lt;span class="inline-block px-2.5 py-1 bg-green-50 text-green-700 border border-green-200 rounded text-xs font-medium hover:bg-green-100 transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>相生市</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/span&gt;&lt;span class="inline-block px-2.5 py-1 bg-green-50 text-green-700 border border-green-200 rounded text-xs font-medium hover:bg-green-100 transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>豊岡市</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/span&gt;&lt;span class="inline-block px-2.5 py-1 bg-green-50 text-green-700 border border-green-200 rounded text-xs font-medium hover:bg-green-100 transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>加古川市</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/span&gt;&lt;span class="inline-block px-2.5 py-1 bg-green-50 text-green-700 border border-green-200 rounded text-xs font-medium hover:bg-green-100 transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>赤穂市</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/span&gt;&lt;span class="inline-block px-2.5 py-1 bg-green-50 text-green-700 border border-green-200 rounded text-xs font-medium hover:bg-green-100 transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>西脇市</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/span&gt;&lt;span class="inline-block px-2.5 py-1 bg-green-50 text-green-700 border border-green-200 rounded text-xs font-medium hover:bg-green-100 transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>宝塚市</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/span&gt;&lt;span class="inline-block px-2.5 py-1 bg-green-50 text-green-700 border border-green-200 rounded text-xs font-medium hover:bg-green-100 transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>三木市</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/span&gt;&lt;span class="inline-block px-2.5 py-1 bg-green-50 text-green-700 border border-green-200 rounded text-xs font-medium hover:bg-green-100 transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>高砂市</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/span&gt;&lt;span class="inline-block px-2.5 py-1 bg-green-50 text-green-700 border border-green-200 rounded text-xs font-medium hover:bg-green-100 transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>川西市</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/span&gt;&lt;span class="inline-block px-2.5 py-1 bg-green-50 text-green-700 border border-green-200 rounded text-xs font-medium hover:bg-green-100 transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>小野市</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/span&gt;&lt;span class="inline-block px-2.5 py-1 bg-green-50 text-green-700 border border-green-200 rounded text-xs font-medium hover:bg-green-100 transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>三田市</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/span&gt;&lt;span class="inline-block px-2.5 py-1 bg-green-50 text-green-700 border border-green-200 rounded text-xs font-medium hover:bg-green-100 transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>加西市</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/span&gt;&lt;span class="inline-block px-2.5 py-1 bg-green-50 text-green-700 border border-green-200 rounded text-xs font-medium hover:bg-green-100 transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>丹波篠山市</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/span&gt;&lt;span class="inline-block px-2.5 py-1 bg-green-50 text-green-700 border border-green-200 rounded text-xs font-medium hover:bg-green-100 transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>養父市</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/span&gt;&lt;span class="inline-block px-2.5 py-1 bg-green-50 text-green-700 border border-green-200 rounded text-xs font-medium hover:bg-green-100 transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>丹波市</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/span&gt;&lt;span class="inline-block px-2.5 py-1 bg-green-50 text-green-700 border border-green-200 rounded text-xs font-medium hover:bg-green-100 transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>南あわじ市</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/span&gt;&lt;span class="inline-block px-2.5 py-1 bg-green-50 text-green-700 border border-green-200 rounded text-xs font-medium hover:bg-green-100 transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>朝来市</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/span&gt;&lt;span class="inline-block px-2.5 py-1 bg-green-50 text-green-700 border border-green-200 rounded text-xs font-medium hover:bg-green-100 transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>淡路市</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/span&gt;&lt;span class="inline-block px-2.5 py-1 bg-green-50 text-green-700 border border-green-200 rounded text-xs font-medium hover:bg-green-100 transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>宍粟市</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/span&gt;&lt;span class="inline-block px-2.5 py-1 bg-green-50 text-green-700 border border-green-200 rounded text-xs font-medium hover:bg-green-100 transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>加東市</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/span&gt;&lt;span class="inline-block px-2.5 py-1 bg-green-50 text-green-700 border border-green-200 rounded text-xs font-medium hover:bg-green-100 transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>たつの市"}</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/span&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;!-- 優先エリア --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;div class="p-4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;div class="flex items-center mb-3"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;span class="text-lg mr-2"&gt;⭐&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;h4 class="text-sm font-semibold text-gray-800"&gt;優先エリア&lt;/h4&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;div id="companyPrioritiesDisplay" class="flex flex-wrap gap-2"&gt;&lt;span class="inline-flex items-center gap-1 px-4 py-2 bg-gradient-to-r from-amber-400 to-yellow-400 text-amber-900 rounded-lg text-sm font-semibold shadow-sm hover:shadow-md transition-shadow"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"&gt;&lt;/path&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/svg&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>愛知県_名古屋市東区</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/span&gt;&lt;span class="inline-flex items-center gap-1 px-4 py-2 bg-gradient-to-r from-amber-400 to-yellow-400 text-amber-900 rounded-lg text-sm font-semibold shadow-sm hover:shadow-md transition-shadow"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"&gt;&lt;/path&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/svg&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>奈良県_奈良市</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/span&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;!-- 対応工事内容 --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="mb-8"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;h3 class="text-lg font-semibold mb-4"&gt;対応工事内容&lt;/h3&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;p class="text-sm text-gray-600 mb-3"&gt;※ 自動配信設定から自動的に反映されます&lt;/p&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;!-- 自動反映表示 --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div id="companyConstructionAuto" class="bg-white border border-gray-200 rounded-lg p-4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div id="companyConstructionDisplay" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-2"&gt;&lt;div class="flex items-center gap-2 p-2 bg-gray-50 hover:bg-gray-100 border border-gray-200 rounded-lg transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;span class="text-lg"&gt;🎨&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;span class="text-sm font-medium text-gray-700"&gt;外壁塗装&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;&lt;div class="flex items-center gap-2 p-2 bg-gray-50 hover:bg-gray-100 border border-gray-200 rounded-lg transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;span class="text-lg"&gt;🏗️&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;span class="text-sm font-medium text-gray-700"&gt;外壁カバー工法&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;&lt;div class="flex items-center gap-2 p-2 bg-gray-50 hover:bg-gray-100 border border-gray-200 rounded-lg transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;span class="text-lg"&gt;🔨&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;span class="text-sm font-medium text-gray-700"&gt;外壁張替え&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;&lt;div class="flex items-center gap-2 p-2 bg-gray-50 hover:bg-gray-100 border border-gray-200 rounded-lg transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;span class="text-lg"&gt;🏠&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;span class="text-sm font-medium text-gray-700"&gt;屋根塗装&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;&lt;div class="flex items-center gap-2 p-2 bg-gray-50 hover:bg-gray-100 border border-gray-200 rounded-lg transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;span class="text-lg"&gt;☔&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;span class="text-sm font-medium text-gray-700"&gt;屋上防水&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;&lt;div class="flex items-center gap-2 p-2 bg-gray-50 hover:bg-gray-100 border border-gray-200 rounded-lg transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;span class="text-lg"&gt;🔧&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;span class="text-sm font-medium text-gray-700"&gt;屋根葺き替え・張り替え※スレート・ガルバリウム等&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;&lt;div class="flex items-center gap-2 p-2 bg-gray-50 hover:bg-gray-100 border border-gray-200 rounded-lg transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;span class="text-lg"&gt;🏯&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;span class="text-sm font-medium text-gray-700"&gt;屋根葺き替え・張り替え※瓦&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;&lt;div class="flex items-center gap-2 p-2 bg-gray-50 hover:bg-gray-100 border border-gray-200 rounded-lg transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;span class="text-lg"&gt;🛠️&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;span class="text-sm font-medium text-gray-700"&gt;屋根カバー工法&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;&lt;div class="flex items-center gap-2 p-2 bg-gray-50 hover:bg-gray-100 border border-gray-200 rounded-lg transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;span class="text-lg"&gt;🔧&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;span class="text-sm font-medium text-gray-700"&gt;外壁補修&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;&lt;div class="flex items-center gap-2 p-2 bg-gray-50 hover:bg-gray-100 border border-gray-200 rounded-lg transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;span class="text-lg"&gt;🛠️&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;span class="text-sm font-medium text-gray-700"&gt;屋根補修&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;&lt;div class="flex items-center gap-2 p-2 bg-gray-50 hover:bg-gray-100 border border-gray-200 rounded-lg transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;span class="text-lg"&gt;💧&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;span class="text-sm font-medium text-gray-700"&gt;ベランダ防水&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;&lt;div class="flex items-center gap-2 p-2 bg-gray-50 hover:bg-gray-100 border border-gray-200 rounded-lg transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;span class="text-lg"&gt;☔&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;span class="text-sm font-medium text-gray-700"&gt;外壁雨漏り修繕&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;&lt;div class="flex items-center gap-2 p-2 bg-gray-50 hover:bg-gray-100 border border-gray-200 rounded-lg transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;span class="text-lg"&gt;🚿&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;span class="text-sm font-medium text-gray-700"&gt;内装水回り（バス・キッチン・トイレ）&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;&lt;div class="flex items-center gap-2 p-2 bg-gray-50 hover:bg-gray-100 border border-gray-200 rounded-lg transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;span class="text-lg"&gt;🏡&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;span class="text-sm font-medium text-gray-700"&gt;内装（フローリングや畳などの床・クロス等）&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;!-- アピールポイント（自動配信設定から自動反映） --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="mb-8"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;h3 class="text-lg font-semibold mb-4"&gt;アピールポイント&lt;/h3&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;p class="text-sm text-gray-600 mb-3"&gt;※ 自動配信設定から自動的に反映されます&lt;/p&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;!-- 自動反映表示 --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div id="companyAppealPointsAuto" class="bg-white border border-gray-200 rounded-lg p-4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div id="companyAppealPointsDisplay" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-2"&gt;&lt;div class="flex items-center gap-2 p-2 bg-gradient-to-r from-amber-50 to-yellow-50 hover:from-amber-100 hover:to-yellow-100 border border-yellow-200 rounded-lg transition-all"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;span class="text-lg"&gt;⭐&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;span class="text-sm font-medium text-gray-700"&gt;🌡 遮熱・断熱塗料提案可能&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;&lt;div class="flex items-center gap-2 p-2 bg-gradient-to-r from-amber-50 to-yellow-50 hover:from-amber-100 hover:to-yellow-100 border border-yellow-200 rounded-lg transition-all"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;span class="text-lg"&gt;⭐&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;span class="text-sm font-medium text-gray-700"&gt;👀 立ち会いなし・見積もり手渡し希望&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;&lt;div class="flex items-center gap-2 p-2 bg-gradient-to-r from-amber-50 to-yellow-50 hover:from-amber-100 hover:to-yellow-100 border border-yellow-200 rounded-lg transition-all"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;span class="text-lg"&gt;⭐&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;span class="text-sm font-medium text-gray-700"&gt;📮 遠方につき立ち会いなし・見積もり郵送・電話で商談可&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;&lt;div class="flex items-center gap-2 p-2 bg-gradient-to-r from-amber-50 to-yellow-50 hover:from-amber-100 hover:to-yellow-100 border border-yellow-200 rounded-lg transition-all"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;span class="text-lg"&gt;⭐&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;span class="text-sm font-medium text-gray-700"&gt;🏡 エクステリア（庭・駐車場・外構）&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;&lt;div class="flex items-center gap-2 p-2 bg-gradient-to-r from-amber-50 to-yellow-50 hover:from-amber-100 hover:to-yellow-100 border border-yellow-200 rounded-lg transition-all"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;span class="text-lg"&gt;⭐&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;span class="text-sm font-medium text-gray-700"&gt;☀️ 太陽光パネル脱着（撤去含む）&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;&lt;div class="flex items-center gap-2 p-2 bg-gradient-to-r from-amber-50 to-yellow-50 hover:from-amber-100 hover:to-yellow-100 border border-yellow-200 rounded-lg transition-all"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;span class="text-lg"&gt;⭐&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;span class="text-sm font-medium text-gray-700"&gt;🏦 提携先ローン有り&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;&lt;div class="flex items-center gap-2 p-2 bg-gradient-to-r from-amber-50 to-yellow-50 hover:from-amber-100 hover:to-yellow-100 border border-yellow-200 rounded-lg transition-all"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;span class="text-lg"&gt;⭐&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;span class="text-sm font-medium text-gray-700"&gt;💳 クレジットカード払い可&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;&lt;div class="flex items-center gap-2 p-2 bg-gradient-to-r from-amber-50 to-yellow-50 hover:from-amber-100 hover:to-yellow-100 border border-yellow-200 rounded-lg transition-all"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;span class="text-lg"&gt;⭐&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;span class="text-sm font-medium text-gray-700"&gt;🔥 火災保険申請サポート&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;&lt;div class="flex items-center gap-2 p-2 bg-gradient-to-r from-amber-50 to-yellow-50 hover:from-amber-100 hover:to-yellow-100 border border-yellow-200 rounded-lg transition-all"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;span class="text-lg"&gt;⭐&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;span class="text-sm font-medium text-gray-700"&gt;💰 助成金申請サポート&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;&lt;div class="flex items-center gap-2 p-2 bg-gradient-to-r from-amber-50 to-yellow-50 hover:from-amber-100 hover:to-yellow-100 border border-yellow-200 rounded-lg transition-all"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;span class="text-lg"&gt;⭐&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;span class="text-sm font-medium text-gray-700"&gt;🏗 建築許可証&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;&lt;div class="flex items-center gap-2 p-2 bg-gradient-to-r from-amber-50 to-yellow-50 hover:from-amber-100 hover:to-yellow-100 border border-yellow-200 rounded-lg transition-all"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;span class="text-lg"&gt;⭐&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;span class="text-sm font-medium text-gray-700"&gt;✨ 光触媒塗料提案可&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;!-- 保有資格 --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="mb-8"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;h3 class="text-lg font-semibold mb-4"&gt;保有資格&lt;/h3&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;p class="text-sm text-gray-600 mb-4"&gt;該当する資格をすべて選択してください（複数選択可）&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3 mb-4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;label class="flex items-center p-3 bg-white border rounded-lg hover:bg-blue-50 cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;input type="checkbox" name="qualifications" value="一級塗装技能士" class="mr-3"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;span class="text-sm"&gt;一級塗装技能士&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;label class="flex items-center p-3 bg-white border rounded-lg hover:bg-blue-50 cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;input type="checkbox" name="qualifications" value="二級塗装技能士" class="mr-3"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;span class="text-sm"&gt;二級塗装技能士&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;label class="flex items-center p-3 bg-white border rounded-lg hover:bg-blue-50 cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;input type="checkbox" name="qualifications" value="足場組立作業主任者" class="mr-3"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;span class="text-sm"&gt;足場組立作業主任者&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;label class="flex items-center p-3 bg-white border rounded-lg hover:bg-blue-50 cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;input type="checkbox" name="qualifications" value="石綿作業主任者" class="mr-3"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;span class="text-sm"&gt;石綿（アスベスト）作業主任者&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;label class="flex items-center p-3 bg-white border rounded-lg hover:bg-blue-50 cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;input type="checkbox" name="qualifications" value="外壁診断士" class="mr-3"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;span class="text-sm"&gt;外壁診断士&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;label class="flex items-center p-3 bg-white border rounded-lg hover:bg-blue-50 cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;input type="checkbox" name="qualifications" value="外壁劣化診断士" class="mr-3"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;span class="text-sm"&gt;外壁劣化診断士&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;label class="flex items-center p-3 bg-white border rounded-lg hover:bg-blue-50 cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;input type="checkbox" name="qualifications" value="外壁アドバイザー" class="mr-3"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;span class="text-sm"&gt;外壁アドバイザー&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;label class="flex items-center p-3 bg-white border rounded-lg hover:bg-blue-50 cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;input type="checkbox" name="qualifications" value="屋根診断士" class="mr-3"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;span class="text-sm"&gt;屋根診断士&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;label class="flex items-center p-3 bg-white border rounded-lg hover:bg-blue-50 cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;input type="checkbox" name="qualifications" value="雨漏り診断士" class="mr-3"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;span class="text-sm"&gt;雨漏り診断士&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;label class="flex items-center p-3 bg-white border rounded-lg hover:bg-blue-50 cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;input type="checkbox" name="qualifications" value="増改築相談員" class="mr-3"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;span class="text-sm"&gt;増改築相談員&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;label class="flex items-center p-3 bg-white border rounded-lg hover:bg-blue-50 cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;input type="checkbox" name="qualifications" value="第二種電気工事士" class="mr-3"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;span class="text-sm"&gt;第二種電気工事士&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;label class="flex items-center p-3 bg-white border rounded-lg hover:bg-blue-50 cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;input type="checkbox" name="qualifications" value="有機溶剤作業主任者" class="mr-3"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;span class="text-sm"&gt;有機溶剤作業主任者&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;label class="flex items-center p-3 bg-white border rounded-lg hover:bg-blue-50 cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;input type="checkbox" name="qualifications" value="一級防水施工技能士" class="mr-3"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;span class="text-sm"&gt;一級防水施工技能士&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;!-- その他の資格を追加 --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="mt-4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;label class="block text-sm font-medium text-gray-700 mb-2"&gt;その他の資格&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div class="flex gap-2" id="customQualifications"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;input type="text" id="customQualificationInput" class="flex-1 px-3 py-2 border rounded-lg" placeholder="その他の資格を入力"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;button onclick="addCustomQualification()" class="bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>追加</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div id="customQualificationsList" class="mt-3 flex flex-wrap gap-2"&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;!-- 加入保険 --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="mb-8"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;h3 class="text-lg font-semibold mb-4"&gt;加入保険&lt;/h3&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;p class="text-sm text-gray-600 mb-4"&gt;加入している保険をすべて選択してください（複数選択可）&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3 mb-4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;label class="flex items-center p-3 bg-white border rounded-lg hover:bg-blue-50 cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;input type="checkbox" name="insurance" value="工事保険" class="mr-3"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;span class="text-sm"&gt;工事保険&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;label class="flex items-center p-3 bg-white border rounded-lg hover:bg-blue-50 cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;input type="checkbox" name="insurance" value="賠償責任保険" class="mr-3"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;span class="text-sm"&gt;賠償責任保険&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;label class="flex items-center p-3 bg-white border rounded-lg hover:bg-blue-50 cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;input type="checkbox" name="insurance" value="リフォーム瑕疵保険" class="mr-3"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;span class="text-sm"&gt;リフォーム瑕疵保険&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;label class="flex items-center p-3 bg-white border rounded-lg hover:bg-blue-50 cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;input type="checkbox" name="insurance" value="建設工事保険" class="mr-3"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;span class="text-sm"&gt;建設工事保険&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;label class="flex items-center p-3 bg-white border rounded-lg hover:bg-blue-50 cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;input type="checkbox" name="insurance" value="請負業者賠償責任保険" class="mr-3"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;span class="text-sm"&gt;請負業者賠償責任保険&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;label class="flex items-center p-3 bg-white border rounded-lg hover:bg-blue-50 cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;input type="checkbox" name="insurance" value="生産物賠償責任保険" class="mr-3"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;span class="text-sm"&gt;生産物賠償責任保険（PL保険）&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;!-- その他の保険を追加 --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="mt-4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;label class="block text-sm font-medium text-gray-700 mb-2"&gt;その他の保険&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div class="flex gap-2" id="customInsurance"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;input type="text" id="customInsuranceInput" class="flex-1 px-3 py-2 border rounded-lg" placeholder="その他の保険を入力"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;button onclick="addCustomInsurance()" class="bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>追加</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div id="customInsuranceList" class="mt-3 flex flex-wrap gap-2"&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;!-- 保存ボタン --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="flex justify-end mt-8 gap-3"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;button onclick="resetCompanyInfo()" class="px-6 py-3 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors font-medium"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>リセット</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;button onclick="saveCompanyInfo()" class="px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium flex items-center gap-2"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-3m-1 4l-3 3m0 0l-3-3m3 3V4"&gt;&lt;/path&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/svg&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>変更を保存</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;!-- キャンセル申請セクション --&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;div id="cancelSection" class="section" style="display: none;"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;div class="flex justify-between items-start mb-6"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;h2 class="text-2xl font-bold text-gray-900"&gt;キャンセル申請&lt;/h2&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;p class="text-sm text-gray-600 mt-1"&gt;案件のキャンセル理由を選択して申請してください&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;!-- 検索バー --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;div class="bg-white rounded-lg shadow p-4 mb-6"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;!-- 基本検索 --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="lg:col-span-2"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;input type="text" id="cancelSearchInput" placeholder="顧客名・電話番号・住所で検索（部分一致）" class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:border-blue-500" onkeyup="searchCancelCases()"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;select id="cancelAssigneeFilter" class="w-full px-4 py-2 border rounded-lg" onchange="searchCancelCases()"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;option value=""&gt;担当者で検索&lt;/option&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;option value="self"&gt;自分の案件&lt;/option&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;option value="田中太郎"&gt;田中太郎&lt;/option&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;option value="佐藤花子"&gt;佐藤花子&lt;/option&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;option value="鈴木一郎"&gt;鈴木一郎&lt;/option&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;option value="高橋みゆき"&gt;高橋みゆき&lt;/option&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;option value="伊藤健"&gt;伊藤健&lt;/option&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;option value="未割当"&gt;未割当&lt;/option&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/select&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;!-- 期間検索 --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="grid grid-cols-1 md:grid-cols-2 gap-4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="flex items-center gap-2"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;label class="text-xs text-gray-600"&gt;流入期間&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;input type="date" id="cancelStartDate" class="px-3 py-2 border rounded-lg" onchange="searchCancelCases()"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;span class="text-xs text-gray-600"&gt;〜&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;input type="date" id="cancelEndDate" class="px-3 py-2 border rounded-lg" onchange="searchCancelCases()"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="flex items-center justify-end"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;button onclick="searchCancelCases()" class="px-6 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>検索</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;!-- 案件一覧 --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;div id="cancelCasesList" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 mb-6"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;!-- 案件カードが動的に表示される --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;!-- キャンセル申請フォーム（モーダル） --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;div id="cancelModal" class="fixed inset-0 bg-black bg-opacity-50 z-50 hidden flex items-center justify-center p-4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="bg-white rounded-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="p-6"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;h3 class="text-xl font-bold mb-4"&gt;キャンセル理由の選択&lt;/h3&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div id="cancelQuestionContainer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;!-- 質問が動的に表示される --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div id="cancelAIResponse" class="hidden mt-6 p-4 bg-blue-50 rounded-lg"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;h4 class="font-semibold text-gray-800 mb-2"&gt;AI生成の申請文&lt;/h4&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;div id="cancelAIText" class="text-gray-700 whitespace-pre-wrap"&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;div class="mt-4 flex gap-3"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;button onclick="submitCancelRequest()" class="px-6 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>この内容で申請</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;button onclick="regenerateCancelText()" class="px-6 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>再生成</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;button onclick="closeCancelModal()" class="mt-4 text-gray-500 hover:text-gray-700"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>キャンセル</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;!-- 成約報告セクション --&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;div id="contractSection" class="section" style="display: none;"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;div class="flex justify-between items-start mb-6"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;h2 class="text-2xl font-bold text-gray-900"&gt;成約報告&lt;/h2&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;p class="text-sm text-gray-600 mt-1"&gt;成約した案件の詳細を報告してください&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;!-- 検索バー --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;div class="bg-white rounded-lg shadow p-4 mb-6"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;!-- 基本検索 --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="lg:col-span-2"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;input type="text" id="contractSearchInput" placeholder="顧客名・電話番号・住所で検索（部分一致）" class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:border-blue-500" onkeyup="searchContractCases()"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;select id="contractAssigneeFilter" class="w-full px-4 py-2 border rounded-lg" onchange="searchContractCases()"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;option value=""&gt;担当者で検索&lt;/option&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;option value="self"&gt;自分の案件&lt;/option&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;option value="田中太郎"&gt;田中太郎&lt;/option&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;option value="佐藤花子"&gt;佐藤花子&lt;/option&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;option value="鈴木一郎"&gt;鈴木一郎&lt;/option&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;option value="高橋みゆき"&gt;高橋みゆき&lt;/option&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;option value="伊藤健"&gt;伊藤健&lt;/option&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;option value="未割当"&gt;未割当&lt;/option&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/select&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;!-- 期間検索 --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="grid grid-cols-1 md:grid-cols-2 gap-4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="flex items-center gap-2"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;label class="text-xs text-gray-600"&gt;流入期間&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;input type="date" id="contractStartDate" class="px-3 py-2 border rounded-lg" onchange="searchContractCases()"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;span class="text-xs text-gray-600"&gt;〜&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;input type="date" id="contractEndDate" class="px-3 py-2 border rounded-lg" onchange="searchContractCases()"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="flex items-center justify-end"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;button onclick="searchContractCases()" class="px-6 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>検索</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;!-- 案件一覧 --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;div id="contractCasesList" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 mb-6"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;!-- 案件カードが動的に表示される --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;!-- 成約報告モーダル --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;div id="contractModal" class="fixed inset-0 bg-black bg-opacity-50 z-50 hidden flex items-center justify-center p-4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="bg-white rounded-2xl max-w-3xl w-full max-h-[90vh] overflow-y-auto relative"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;!-- 閉じるボタン（右上） --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;button onclick="closeContractModal()" class="absolute top-4 right-4 p-2 rounded-lg hover:bg-gray-100 transition-colors z-10"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;svg class="w-6 h-6 text-gray-500" fill="none" stroke="currentColor" viewBox="0 0 24 24"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"&gt;&lt;/path&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/svg&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/button&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="p-6"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;h3 class="text-xl font-bold mb-4"&gt;成約報告&lt;/h3&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;!-- 顧客情報表示 --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div id="contractCustomerInfo" class="hidden mb-4 p-4 bg-blue-50 rounded-lg"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;div class="text-lg font-semibold" id="contractCustomerName"&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;div class="text-gray-600" id="contractCustomerAddress"&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;!-- 質問フェーズ --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div id="contractQuestionContainer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;!-- 質問が動的に表示される --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;!-- フォームフェーズ --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div id="contractFormPhase" class="hidden"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;form id="contractReportForm"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;div class="grid grid-cols-1 md:grid-cols-2 gap-6"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;!-- 契約金額 --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;div class="md:col-span-2"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;label class="block text-sm font-medium text-gray-700 mb-2"&gt;契約金額（税込）&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;div class="flex items-center"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                                </span>&lt;span class="mr-2"&gt;¥&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                                </span>&lt;input type="number" id="contractAmount" class="flex-1 px-3 py-2 border rounded-lg" placeholder="1234567" min="0" step="1" required=""&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                                </span>&lt;span class="ml-2"&gt;円&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;!-- 完工日 --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;label class="block text-sm font-medium text-gray-700 mb-2" id="completionDateLabel"&gt;完工予定日&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;input type="date" id="completionDate" class="w-full px-3 py-2 border rounded-lg" required=""&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;!-- 着金日 --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;label class="block text-sm font-medium text-gray-700 mb-2" id="paymentDateLabel"&gt;着金予定日&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;input type="date" id="paymentDate" class="w-full px-3 py-2 border rounded-lg" required=""&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;!-- 対象物件種別 --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;div class="md:col-span-2"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;label class="block text-sm font-medium text-gray-700 mb-2"&gt;対象物件種別&lt;/label&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;!-- 物件タイプ（複数選択可） --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;div class="grid grid-cols-2 md:grid-cols-4 gap-3 mb-3"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                                </span>&lt;label class="flex items-center"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                                    </span>&lt;input type="checkbox" name="propertyType" value="戸建て" class="mr-2"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                                    </span>&lt;span&gt;戸建て&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                                </span>&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                                </span>&lt;label class="flex items-center"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                                    </span>&lt;input type="checkbox" name="propertyType" value="アパート" class="mr-2"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                                    </span>&lt;span&gt;アパート&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                                </span>&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                                </span>&lt;label class="flex items-center"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                                    </span>&lt;input type="checkbox" name="propertyType" value="マンション" class="mr-2"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                                    </span>&lt;span&gt;マンション&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                                </span>&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                                </span>&lt;label class="flex items-center"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                                    </span>&lt;input type="checkbox" name="propertyType" value="店舗" class="mr-2"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                                    </span>&lt;span&gt;店舗&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                                </span>&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                                </span>&lt;label class="flex items-center"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                                    </span>&lt;input type="checkbox" name="propertyType" value="事務所" class="mr-2"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                                    </span>&lt;span&gt;事務所&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                                </span>&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                                </span>&lt;label class="flex items-center"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                                    </span>&lt;input type="checkbox" name="propertyType" value="工場" class="mr-2"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                                    </span>&lt;span&gt;工場&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                                </span>&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                                </span>&lt;label class="flex items-center"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                                    </span>&lt;input type="checkbox" name="propertyType" value="倉庫" class="mr-2"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                                    </span>&lt;span&gt;倉庫&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                                </span>&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                                </span>&lt;label class="flex items-center"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                                    </span>&lt;input type="checkbox" name="propertyType" value="その他" class="mr-2" onchange="toggleOtherPropertyDetails()"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                                    </span>&lt;span&gt;その他&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                                </span>&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;input type="text" id="otherPropertyDetails" class="w-full px-3 py-2 border rounded-lg hidden" placeholder="その他の物件種別を入力"&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;!-- 階数選択 --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;div class="mt-3"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                                </span>&lt;label class="block text-xs text-gray-600 mb-1"&gt;階数&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                                </span>&lt;select id="buildingFloors" class="w-full px-3 py-2 border rounded-lg"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                                    </span>&lt;option value=""&gt;選択してください&lt;/option&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                                    </span>&lt;option value="1F"&gt;1F&lt;/option&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                                    </span>&lt;option value="2F"&gt;2F&lt;/option&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                                    </span>&lt;option value="3F"&gt;3F&lt;/option&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                                    </span>&lt;option value="4F"&gt;4F&lt;/option&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                                    </span>&lt;option value="5F"&gt;5F&lt;/option&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                                    </span>&lt;option value="6F"&gt;6F&lt;/option&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                                    </span>&lt;option value="7F"&gt;7F&lt;/option&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                                    </span>&lt;option value="8F"&gt;8F&lt;/option&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                                    </span>&lt;option value="9F"&gt;9F&lt;/option&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                                    </span>&lt;option value="10F以上"&gt;10F以上&lt;/option&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                                </span>&lt;/select&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;!-- 施工内容 --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;div class="md:col-span-2"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;label class="block text-sm font-medium text-gray-700 mb-2"&gt;施工内容（複数選択可）&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;div class="grid grid-cols-2 md:grid-cols-3 gap-3 mb-3"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                                </span>&lt;label class="flex items-center"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                                    </span>&lt;input type="checkbox" name="workType" value="外壁塗装" class="mr-2"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                                    </span>&lt;span&gt;外壁塗装&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                                </span>&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                                </span>&lt;label class="flex items-center"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                                    </span>&lt;input type="checkbox" name="workType" value="外壁カバー工法" class="mr-2"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                                    </span>&lt;span&gt;外壁カバー工法&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                                </span>&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                                </span>&lt;label class="flex items-center"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                                    </span>&lt;input type="checkbox" name="workType" value="外壁張替え" class="mr-2"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                                    </span>&lt;span&gt;外壁張替え&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                                </span>&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                                </span>&lt;label class="flex items-center"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                                    </span>&lt;input type="checkbox" name="workType" value="屋根塗装" class="mr-2"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                                    </span>&lt;span&gt;屋根塗装&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                                </span>&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                                </span>&lt;label class="flex items-center"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                                    </span>&lt;input type="checkbox" name="workType" value="屋上防水" class="mr-2"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                                    </span>&lt;span&gt;屋上防水&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                                </span>&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                                </span>&lt;label class="flex items-center"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                                    </span>&lt;input type="checkbox" name="workType" value="屋根葺き替え（スレート・ガルバ）" class="mr-2"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                                    </span>&lt;span&gt;屋根葺き替え（スレート・ガルバ）&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                                </span>&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                                </span>&lt;label class="flex items-center"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                                    </span>&lt;input type="checkbox" name="workType" value="屋根葺き替え（瓦）" class="mr-2"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                                    </span>&lt;span&gt;屋根葺き替え（瓦）&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                                </span>&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                                </span>&lt;label class="flex items-center"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                                    </span>&lt;input type="checkbox" name="workType" value="屋根カバー工法" class="mr-2"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                                    </span>&lt;span&gt;屋根カバー工法&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                                </span>&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                                </span>&lt;label class="flex items-center"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                                    </span>&lt;input type="checkbox" name="workType" value="外壁補修" class="mr-2"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                                    </span>&lt;span&gt;外壁補修&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                                </span>&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                                </span>&lt;label class="flex items-center"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                                    </span>&lt;input type="checkbox" name="workType" value="屋根補修" class="mr-2"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                                    </span>&lt;span&gt;屋根補修&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                                </span>&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                                </span>&lt;label class="flex items-center"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                                    </span>&lt;input type="checkbox" name="workType" value="ベランダ防水" class="mr-2"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                                    </span>&lt;span&gt;ベランダ防水&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                                </span>&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                                </span>&lt;label class="flex items-center"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                                    </span>&lt;input type="checkbox" name="workType" value="雨漏り修繕" class="mr-2"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                                    </span>&lt;span&gt;雨漏り修繕&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                                </span>&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                                </span>&lt;label class="flex items-center"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                                    </span>&lt;input type="checkbox" name="workType" value="内装水回り（バス・キッチン・トイレ）" class="mr-2"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                                    </span>&lt;span&gt;内装水回り&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                                </span>&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                                </span>&lt;label class="flex items-center"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                                    </span>&lt;input type="checkbox" name="workType" value="内装（床・クロス等）" class="mr-2"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                                    </span>&lt;span&gt;内装（床・クロス等）&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                                </span>&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                                </span>&lt;label class="flex items-center"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                                    </span>&lt;input type="checkbox" name="workType" value="その他" class="mr-2" onchange="toggleOtherWorkDetails()"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                                    </span>&lt;span&gt;その他&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                                </span>&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;textarea id="workDetails" class="w-full px-3 py-2 border rounded-lg hidden" rows="3" placeholder="その他の施工内容を入力"&gt;&lt;/textarea&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;!-- 見積書アップロード --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;label class="block text-sm font-medium text-gray-700 mb-2"&gt;見積書&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;div class="border-2 border-dashed border-gray-300 rounded-lg p-4 text-center"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                                </span>&lt;input type="file" id="estimateFile" accept="image/*,application/pdf" class="hidden" onchange="handleFileUpload(event, 'estimate')"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                                </span>&lt;div id="estimatePreview" class="mb-2"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                                    </span>&lt;svg class="w-12 h-12 text-gray-400 mx-auto" fill="none" stroke="currentColor" viewBox="0 0 24 24"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                                        </span>&lt;path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 13h6m-3-3v6m5 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"&gt;&lt;/path&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                                    </span>&lt;/svg&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                                </span>&lt;button type="button" onclick="document.getElementById('estimateFile').click()" class="px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                                    </span>ファイルを選択</p>
<p class="p1"><span class="Apple-converted-space">                                                </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                                </span>&lt;p class="text-xs text-gray-500 mt-2"&gt;画像またはPDF&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;!-- 領収書アップロード --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;label class="block text-sm font-medium text-gray-700 mb-2"&gt;領収書&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;div class="border-2 border-dashed border-gray-300 rounded-lg p-4 text-center"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                                </span>&lt;input type="file" id="receiptFile" accept="image/*,application/pdf" class="hidden" onchange="handleFileUpload(event, 'receipt')"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                                </span>&lt;div id="receiptPreview" class="mb-2"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                                    </span>&lt;svg class="w-12 h-12 text-gray-400 mx-auto" fill="none" stroke="currentColor" viewBox="0 0 24 24"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                                        </span>&lt;path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 13h6m-3-3v6m5 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"&gt;&lt;/path&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                                    </span>&lt;/svg&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                                </span>&lt;button type="button" onclick="document.getElementById('receiptFile').click()" class="px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                                    </span>ファイルを選択</p>
<p class="p1"><span class="Apple-converted-space">                                                </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                                </span>&lt;p class="text-xs text-gray-500 mt-2"&gt;画像またはPDF&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;!-- 備考 --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;div class="md:col-span-2"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;label class="block text-sm font-medium text-gray-700 mb-2"&gt;備考&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;textarea id="contractNotes" class="w-full px-3 py-2 border rounded-lg" rows="3" placeholder="特記事項があれば入力"&gt;&lt;/textarea&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;div class="mt-6 flex justify-center"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;button type="submit" class="px-8 py-3 bg-green-500 text-white rounded-lg hover:bg-green-600 font-medium"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>成約報告を送信</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/form&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;!-- 設定セクション --&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;div id="settingsSection" class="section" style="display: none;"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;h2 class="text-2xl font-bold text-gray-900 mb-6"&gt;設定&lt;/h2&gt;</p>
<p class="p2"><span class="Apple-converted-space">                </span></p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;!-- タブナビゲーション --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;!-- タブを削除して1ページ統合 --&gt;</p>
<p class="p2"><span class="Apple-converted-space">                </span></p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;!-- プロフィール情報 --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;div id="profileSection"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="bg-white shadow rounded-lg p-6"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;h3 class="text-lg font-medium text-gray-900 mb-4"&gt;プロフィール情報&lt;/h3&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="grid grid-cols-1 md:grid-cols-2 gap-6"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="block text-sm font-medium text-gray-700 mb-2"&gt;氏名&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;input type="text" id="profileName" class="w-full px-3 py-2 border border-gray-300 rounded-lg" placeholder="田中太郎"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="block text-sm font-medium text-gray-700 mb-2"&gt;電話番号&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;input type="tel" id="profilePhone" class="w-full px-3 py-2 border border-gray-300 rounded-lg" placeholder="090-1234-5678"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="block text-sm font-medium text-gray-700 mb-2"&gt;メールアドレス&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;input type="email" id="profileEmail" class="w-full px-3 py-2 border border-gray-300 rounded-lg" placeholder="tanaka@example.com"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="block text-sm font-medium text-gray-700 mb-2"&gt;LINE ID&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;input type="text" id="profileLineId" class="w-full px-3 py-2 border border-gray-300 rounded-lg" placeholder="@tanaka_taro"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;!-- 通知・アラート設定 --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;div id="notificationSection" class="mt-6"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="bg-white shadow rounded-lg p-6"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;h3 class="text-lg font-medium text-gray-900 mb-4"&gt;通知・アラート設定&lt;/h3&gt;</p>
<p class="p2"><span class="Apple-converted-space">                        </span></p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;!-- 通知方法 --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="mb-6"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;h4 class="text-sm font-medium text-gray-700 mb-3"&gt;通知方法&lt;/h4&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div class="space-y-3"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center justify-between"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="text-sm text-gray-700"&gt;メール通知&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;div class="flex items-center"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;input type="checkbox" id="notifyEmail" class="toggle-switch" checked=""&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;button onclick="testNotification('email')" class="ml-3 text-xs text-blue-600 hover:text-blue-800"&gt;テスト送信&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center justify-between"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="text-sm text-gray-700"&gt;SMS通知&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;div class="flex items-center"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;input type="checkbox" id="notifySms" class="toggle-switch"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;button onclick="testNotification('sms')" class="ml-3 text-xs text-blue-600 hover:text-blue-800"&gt;テスト送信&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center justify-between"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="text-sm text-gray-700"&gt;LINE通知&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;div class="flex items-center"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;input type="checkbox" id="notifyLine" class="toggle-switch"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;button onclick="testNotification('line')" class="ml-3 text-xs text-blue-600 hover:text-blue-800"&gt;テスト送信&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center justify-between"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="text-sm text-gray-700"&gt;ブラウザ通知&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;div class="flex items-center"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;input type="checkbox" id="notifyBrowser" class="toggle-switch" checked=""&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;button onclick="testNotification('browser')" class="ml-3 text-xs text-blue-600 hover:text-blue-800"&gt;テスト送信&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</p>
<p class="p2"><span class="Apple-converted-space">                        </span></p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;!-- 通知種別 --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="mb-6"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;h4 class="text-sm font-medium text-gray-700 mb-3"&gt;通知種別&lt;/h4&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div class="space-y-3"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;!-- アポイントリマインダー --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;div class="border rounded-lg p-3 bg-gray-50 group relative"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;label class="flex items-center justify-between"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;div class="flex items-center"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;span class="text-lg mr-2"&gt;📋&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;span class="text-sm font-medium text-gray-700"&gt;現調前日リマインダー&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;span class="ml-1 text-gray-400 cursor-help"&gt;ⓘ&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;div class="flex items-center gap-2"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;input type="time" id="appointmentAlertTime" value="18:00" class="px-2 py-1 border rounded text-sm"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;input type="checkbox" id="appointmentReminder" class="toggle-switch" checked="" onchange="updateAlertSetting('appointment_reminder', this.checked)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;div class="absolute left-0 top-full mt-1 hidden group-hover:block bg-gray-800 text-white text-xs rounded px-2 py-1 z-10 whitespace-nowrap"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>現地調査の前日に通知します</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;!-- 架電リマインダー --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;div class="border rounded-lg p-3 bg-gray-50 group relative"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;label class="flex items-center justify-between"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;div class="flex items-center"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;span class="text-lg mr-2"&gt;📞&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;span class="text-sm font-medium text-gray-700"&gt;架電リマインダー&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;span class="ml-1 text-gray-400 cursor-help"&gt;ⓘ&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;div class="flex items-center gap-2"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;input type="time" id="callAlertTime" value="10:00" class="px-2 py-1 border rounded text-sm"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;input type="checkbox" id="callReminder" class="toggle-switch" checked="" onchange="updateAlertSetting('call_reminder', this.checked)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;div class="absolute left-0 top-full mt-1 hidden group-hover:block bg-gray-800 text-white text-xs rounded px-2 py-1 z-10 whitespace-nowrap"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>未対応案件の翌日に通知します</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;!-- 見積フォロー --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;div class="border rounded-lg p-3 bg-gray-50 group relative"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;label class="flex items-center justify-between"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;div class="flex items-center"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;span class="text-lg mr-2"&gt;📝&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;span class="text-sm font-medium text-gray-700"&gt;見積フォローアップ&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;span class="ml-1 text-gray-400 cursor-help"&gt;ⓘ&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;div class="flex items-center gap-2"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;input type="number" id="followupDays" value="7" min="1" max="30" class="w-16 px-2 py-1 border rounded text-sm"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;span class="text-sm text-gray-600"&gt;日後&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;input type="checkbox" id="estimateFollowup" class="toggle-switch" checked="" onchange="updateAlertSetting('estimate_followup', this.checked)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;div class="absolute left-0 top-full mt-1 hidden group-hover:block bg-gray-800 text-white text-xs rounded px-2 py-1 z-10 whitespace-nowrap"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>見積提出後に自動でフォロー通知します</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;!-- 入金確認 --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;div class="border rounded-lg p-3 bg-gray-50 group relative"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;label class="flex items-center justify-between"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;div class="flex items-center"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;span class="text-lg mr-2"&gt;💰&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;span class="text-sm font-medium text-gray-700"&gt;入金確認アラート&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;span class="ml-1 text-gray-400 cursor-help"&gt;ⓘ&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;input type="checkbox" id="paymentAlert" class="toggle-switch" checked="" onchange="updateAlertSetting('payment_alert', this.checked)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;div class="absolute left-0 top-full mt-1 hidden group-hover:block bg-gray-800 text-white text-xs rounded px-2 py-1 z-10 whitespace-nowrap"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>入金予定日に自動で通知します</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</p>
<p class="p2"><span class="Apple-converted-space">                        </span></p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;!-- 通知時間・休日設定 --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="mb-6"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;h4 class="text-sm font-medium text-gray-700 mb-3"&gt;通知時間・休日設定&lt;/h4&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div class="space-y-4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;!-- 休日設定 --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;div class="border rounded-lg p-4 bg-gray-50"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;label class="flex items-center"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;input type="checkbox" id="enableHolidays" onchange="toggleHolidaySettings()" checked=""&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;span class="ml-2 text-sm font-medium text-gray-700"&gt;📅 休日設定（チェックした曜日は通知されません）&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;div id="holidaySettings" class="mt-3 flex flex-wrap gap-3"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;label class="flex items-center"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;input type="checkbox" id="holidayMon" class="mr-2"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;span class="text-sm"&gt;月&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;label class="flex items-center"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;input type="checkbox" id="holidayTue" class="mr-2"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;span class="text-sm"&gt;火&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;label class="flex items-center"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;input type="checkbox" id="holidayWed" class="mr-2"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;span class="text-sm"&gt;水&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;label class="flex items-center"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;input type="checkbox" id="holidayThu" class="mr-2"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;span class="text-sm"&gt;木&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;label class="flex items-center"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;input type="checkbox" id="holidayFri" class="mr-2"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;span class="text-sm"&gt;金&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;label class="flex items-center"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;input type="checkbox" id="holidaySat" class="mr-2" checked=""&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;span class="text-sm font-medium text-blue-600"&gt;土&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;label class="flex items-center"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;input type="checkbox" id="holidaySun" class="mr-2" checked=""&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;span class="text-sm font-medium text-red-600"&gt;日&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;!-- 通知制限時間 --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;div class="border rounded-lg p-4 bg-gray-50"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;label class="flex items-center"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;input type="checkbox" id="enableQuietHours" onchange="toggleQuietHours()" checked=""&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;span class="ml-2 text-sm font-medium text-gray-700"&gt;🔕 通知を制限する時間帯&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;div id="quietHoursSettings" class="mt-3 space-y-2"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;div class="flex items-center space-x-2"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;input type="time" id="quietStart" value="22:00" class="px-3 py-2 border border-gray-300 rounded-lg"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;span class="text-sm text-gray-500"&gt;から&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;input type="time" id="quietEnd" value="08:00" class="px-3 py-2 border border-gray-300 rounded-lg"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;span class="text-sm text-gray-500"&gt;まで&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;p class="text-xs text-gray-500"&gt;この時間帯は通知を送信しません&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;!-- 統合保存ボタン --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="mt-6 flex justify-end"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;button onclick="saveAllSettings()" class="px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-medium"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>設定を保存</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;/main&gt;&lt;/div&gt;&lt;!-- settingsSectionの終了 --&gt;</p>
<p class="p2"><span class="Apple-converted-space">    </span></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;!-- 権限設定モーダル --&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;div id="permissionModal" class="fixed inset-0 bg-gray-600 bg-opacity-50 hidden overflow-y-auto h-full w-full z-50"&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;div class="relative top-20 mx-auto p-5 border w-11/12 max-w-4xl shadow-lg rounded-md bg-white"&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;div class="mb-4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;h3 class="text-lg font-bold text-gray-900" id="modalTitle"&gt;営業権限設定&lt;/h3&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;p class="text-sm text-gray-500 mt-1"&gt;営業担当者の権限を詳細に設定できます&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;!-- 新規追加時の入力フィールド --&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;div id="newSalesFields" class="mb-6 hidden"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;div class="grid grid-cols-2 gap-4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;label class="block text-sm font-medium text-gray-700 mb-1"&gt;氏名 &lt;span class="text-red-500"&gt;*&lt;/span&gt;&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;input type="text" id="newSalesName" class="w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500" placeholder="例：山田太郎"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;label class="block text-sm font-medium text-gray-700 mb-1"&gt;メールアドレス &lt;span class="text-red-500"&gt;*&lt;/span&gt;&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;input type="email" id="newSalesEmail" class="w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500" placeholder="example@company.com"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;label class="block text-sm font-medium text-gray-700 mb-1"&gt;電話番号&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;input type="tel" id="newSalesPhone" class="w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500" placeholder="090-1234-5678"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;label class="block text-sm font-medium text-gray-700 mb-1"&gt;役職&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;select id="newSalesRole" class="w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;option value="一般営業"&gt;一般営業&lt;/option&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;option value="リーダー"&gt;リーダー&lt;/option&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;option value="一般事務"&gt;一般事務&lt;/option&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;option value="現場監督"&gt;現場監督&lt;/option&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/select&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;div class="mb-6"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;label class="block text-sm font-medium text-gray-700 mb-2"&gt;権限プリセット&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;div class="grid grid-cols-4 gap-2"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;button onclick="setPreset('office')" class="preset-btn px-4 py-2 border rounded-lg hover:bg-gray-50"&gt;一般事務&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;button onclick="setPreset('standard')" class="preset-btn px-4 py-2 border rounded-lg hover:bg-gray-50"&gt;一般営業&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;button onclick="setPreset('leader')" class="preset-btn px-4 py-2 border rounded-lg hover:bg-gray-50"&gt;リーダー&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;button onclick="setPreset('admin')" class="preset-btn px-4 py-2 border rounded-lg hover:bg-gray-50"&gt;副管理者&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;h3 class="text-sm font-medium text-gray-700 mb-3"&gt;カスタム設定&lt;/h3&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;div class="permission-grid mb-6"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;!-- 案件関連 --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;div class="border rounded-lg p-4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;h4 class="font-medium text-gray-900 mb-3"&gt;案件関連&lt;/h4&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="space-y-2"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;label class="flex items-center text-sm group relative"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;input type="checkbox" class="permission-checkbox rounded" data-permission="case.view.all"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;span class="ml-2"&gt;他担当者の案件閲覧&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;span class="invisible group-hover:visible absolute left-0 -top-8 bg-gray-800 text-white text-xs px-2 py-1 rounded whitespace-nowrap z-10"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>他の担当者の案件も閲覧できる権限</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;label class="flex items-center text-sm group relative"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;input type="checkbox" class="permission-checkbox rounded" data-permission="case.edit"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;span class="ml-2"&gt;他担当者の案件編集&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;span class="invisible group-hover:visible absolute left-0 -top-8 bg-gray-800 text-white text-xs px-2 py-1 rounded whitespace-nowrap z-10"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>他の担当者の案件も編集できる権限</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;label class="flex items-center text-sm group relative"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;input type="checkbox" class="permission-checkbox rounded" data-permission="case.hide"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;span class="ml-2"&gt;案件非表示化&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;span class="invisible group-hover:visible absolute left-0 -top-8 bg-gray-800 text-white text-xs px-2 py-1 rounded whitespace-nowrap z-10"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>任意の案件を一時的に非表示にできる権限</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;label class="flex items-center text-sm group relative"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;input type="checkbox" class="permission-checkbox rounded" data-permission="case.delete"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;span class="ml-2"&gt;案件削除（24時間以内）&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;span class="invisible group-hover:visible absolute left-0 -top-8 bg-gray-800 text-white text-xs px-2 py-1 rounded whitespace-nowrap z-10"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>誤入力した案件を24時間以内に限り削除できる権限</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;label class="flex items-center text-sm group relative"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;input type="checkbox" class="permission-checkbox rounded" data-permission="case.cancel"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;span class="ml-2"&gt;キャンセル申請&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;span class="invisible group-hover:visible absolute left-0 -top-8 bg-gray-800 text-white text-xs px-2 py-1 rounded whitespace-nowrap z-10"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>自分が担当する案件のキャンセル申請を行える権限</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;label class="flex items-center text-sm group relative"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;input type="checkbox" class="permission-checkbox rounded" data-permission="case.contract"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;span class="ml-2"&gt;成約報告&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;span class="invisible group-hover:visible absolute left-0 -top-8 bg-gray-800 text-white text-xs px-2 py-1 rounded whitespace-nowrap z-10"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>自分が担当する案件の成約報告を登録できる権限</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;!-- 自動配信設定 --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;div class="border rounded-lg p-4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;h4 class="font-medium text-gray-900 mb-3"&gt;自動配信設定&lt;/h4&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="space-y-2"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;label class="flex items-center text-sm group relative"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;input type="checkbox" class="permission-checkbox rounded" data-permission="automail.view"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;span class="ml-2"&gt;配信条件閲覧&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;span class="invisible group-hover:visible absolute left-0 -top-8 bg-gray-800 text-white text-xs px-2 py-1 rounded whitespace-nowrap z-10"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>自動配信の設定を閲覧できる権限</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;label class="flex items-center text-sm group relative"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;input type="checkbox" class="permission-checkbox rounded" data-permission="automail.edit"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;span class="ml-2"&gt;配信条件編集&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;span class="invisible group-hover:visible absolute left-0 -top-8 bg-gray-800 text-white text-xs px-2 py-1 rounded whitespace-nowrap z-10"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>自動配信の条件を編集できる権限</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;!-- 財務情報 --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;div class="border rounded-lg p-4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;h4 class="font-medium text-gray-900 mb-3"&gt;財務情報&lt;/h4&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="space-y-2"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;label class="flex items-center text-sm group relative"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;input type="checkbox" class="permission-checkbox rounded" data-permission="finance.view"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;span class="ml-2"&gt;売上閲覧&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;span class="invisible group-hover:visible absolute left-0 -top-8 bg-gray-800 text-white text-xs px-2 py-1 rounded whitespace-nowrap z-10"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>売上・財務情報を閲覧できる権限</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;label class="flex items-center text-sm group relative"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;input type="checkbox" class="permission-checkbox rounded" data-permission="finance.export"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;span class="ml-2"&gt;データエクスポート&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;span class="invisible group-hover:visible absolute left-0 -top-8 bg-gray-800 text-white text-xs px-2 py-1 rounded whitespace-nowrap z-10"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>財務データをCSV出力できる権限</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;!-- レポート・営業管理 --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;div class="border rounded-lg p-4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;h4 class="font-medium text-gray-900 mb-3"&gt;レポート・営業管理&lt;/h4&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="space-y-2"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;label class="flex items-center text-sm group relative"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;input type="checkbox" class="permission-checkbox rounded" data-permission="report.self"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;span class="ml-2"&gt;レポート閲覧（自分の成績のみ）&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;span class="invisible group-hover:visible absolute left-0 -top-8 bg-gray-800 text-white text-xs px-2 py-1 rounded whitespace-nowrap z-10"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>自分の成績レポートを閲覧できる権限</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;label class="flex items-center text-sm group relative"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;input type="checkbox" class="permission-checkbox rounded" data-permission="report.all"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;span class="ml-2"&gt;全体レポート閲覧&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;span class="invisible group-hover:visible absolute left-0 -top-8 bg-gray-800 text-white text-xs px-2 py-1 rounded whitespace-nowrap z-10"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>全営業担当者の成績を閲覧できる権限</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;label class="flex items-center text-sm group relative"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;input type="checkbox" class="permission-checkbox rounded" data-permission="report.export"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;span class="ml-2"&gt;レポートCSV出力&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;span class="invisible group-hover:visible absolute left-0 -top-8 bg-gray-800 text-white text-xs px-2 py-1 rounded whitespace-nowrap z-10"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>レポートデータをCSV出力できる権限</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;label class="flex items-center text-sm group relative"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;input type="checkbox" class="permission-checkbox rounded" data-permission="sales.manage"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;span class="ml-2"&gt;営業担当者管理&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;span class="invisible group-hover:visible absolute left-0 -top-8 bg-gray-800 text-white text-xs px-2 py-1 rounded whitespace-nowrap z-10"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>営業担当者を追加・削除できる権限</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;!-- 会社情報 --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;div class="border rounded-lg p-4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;h4 class="font-medium text-gray-900 mb-3"&gt;会社情報&lt;/h4&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="space-y-2"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;label class="flex items-center text-sm group relative"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;input type="checkbox" class="permission-checkbox rounded" data-permission="company.view"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;span class="ml-2"&gt;会社情報閲覧&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;span class="invisible group-hover:visible absolute left-0 -top-8 bg-gray-800 text-white text-xs px-2 py-1 rounded whitespace-nowrap z-10"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>会社情報を閲覧できる権限</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;label class="flex items-center text-sm group relative"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;input type="checkbox" class="permission-checkbox rounded" data-permission="company.edit"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;span class="ml-2"&gt;会社情報修正&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;span class="invisible group-hover:visible absolute left-0 -top-8 bg-gray-800 text-white text-xs px-2 py-1 rounded whitespace-nowrap z-10"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>会社情報を編集できる権限</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;div class="flex justify-end space-x-3"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;button onclick="closePermissionModal()" class="px-4 py-2 bg-gray-200 text-gray-800 rounded-lg hover:bg-gray-300"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>キャンセル</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;button onclick="savePermissions()" class="px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>保存</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;!-- mainApp end --&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;!-- アラート通知パネル --&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;!-- 本部からの通知パネル --&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;div id="notificationPanel" class="fixed top-20 right-4 w-96 max-h-[600px] bg-white rounded-lg shadow-2xl hidden z-50 overflow-hidden"&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;div class="bg-gradient-to-r from-yellow-500 to-orange-600 text-white p-4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;div class="flex items-center justify-between"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;h3 class="font-bold text-lg flex items-center gap-2"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"&gt;&lt;/path&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/svg&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>本部からの通知</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/h3&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;button onclick="toggleNotificationPanel()" class="hover:bg-white hover:bg-opacity-20 rounded-lg p-1"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"&gt;&lt;/path&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/svg&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;div class="overflow-y-auto max-h-[500px]"&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;div id="notificationList" class="p-4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;p class="text-gray-500 text-center py-8"&gt;新しい通知はありません&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;!-- アラート・リマインダーパネル --&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;div id="alertPanel" class="fixed top-20 right-4 w-96 max-h-[600px] bg-white rounded-lg shadow-2xl hidden z-50 overflow-hidden"&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;div class="bg-gradient-to-r from-blue-500 to-blue-600 text-white p-4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;div class="flex items-center justify-between"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;h3 class="font-bold text-lg flex items-center gap-2"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"&gt;&lt;/path&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/svg&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>アラート・リマインダー</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/h3&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;button onclick="toggleAlertPanel()" class="hover:bg-white hover:bg-opacity-20 rounded-lg p-1"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"&gt;&lt;/path&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/svg&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;div class="overflow-y-auto max-h-[500px]"&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;!-- 今日のタスク --&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;div class="border-b"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;div class="p-4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;h4 class="font-semibold text-gray-700 mb-3 flex items-center gap-2"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;span class="w-2 h-2 bg-red-500 rounded-full animate-pulse"&gt;&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>今日のタスク</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/h4&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div id="todayTasks" class="space-y-2"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;!-- 動的に生成 --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;!-- 明日の予定 --&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;div class="border-b"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;div class="p-4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;h4 class="font-semibold text-gray-700 mb-3 flex items-center gap-2"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;span class="w-2 h-2 bg-yellow-500 rounded-full"&gt;&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>明日の予定</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/h4&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div id="tomorrowTasks" class="space-y-2"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;!-- 動的に生成 --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;!-- 自動アラート --&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;div class="border-b"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;div class="p-4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;h4 class="font-semibold text-gray-700 mb-3 flex items-center gap-2"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;span class="w-2 h-2 bg-blue-500 rounded-full"&gt;&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>自動リマインダー</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/h4&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div id="autoAlerts" class="space-y-2"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;!-- 動的に生成 --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;!-- アクションボタン --&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;div class="p-4 bg-gray-50"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;button onclick="showSection('settings'); setTimeout(() =&amp;gt; { document.getElementById('notificationSection').scrollIntoView({ behavior: 'smooth' }); }, 100)" class="w-full px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>アラート設定を開く</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;!-- 会社情報プレビューモーダル --&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;div id="companyPreviewModal" class="fixed inset-0 bg-black bg-opacity-50 z-50 overflow-y-auto hidden"&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;div class="relative min-h-screen py-12 px-4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;div class="relative bg-white rounded-2xl max-w-6xl mx-auto shadow-2xl"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;!-- モーダルヘッダー --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;div class="sticky top-0 bg-white rounded-t-2xl border-b z-10"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="flex justify-between items-center p-6"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;h2 class="text-2xl font-bold text-gray-900"&gt;会社情報プレビュー&lt;/h2&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="flex items-center gap-4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;button onclick="togglePreviewSettings()" class="p-2 text-gray-600 hover:bg-gray-100 rounded-lg transition"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"&gt;&lt;/path&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"&gt;&lt;/path&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/svg&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;button onclick="closePreviewModal()" class="p-2 text-gray-600 hover:bg-gray-100 rounded-lg transition"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"&gt;&lt;/path&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/svg&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;!-- 表示設定パネル --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div id="previewSettings" class="hidden border-t bg-gray-50 p-4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;h3 class="text-sm font-semibold text-gray-700 mb-3"&gt;表示項目の設定&lt;/h3&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;!-- メインセクション（実際の表示順） --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="mb-3"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;h4 class="text-xs font-semibold text-gray-600 mb-2"&gt;表示セクション&lt;/h4&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div class="grid grid-cols-2 md:grid-cols-4 gap-2"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center text-sm"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="checkbox" class="mr-2" checked="" onchange="togglePreviewSection('prText')"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span&gt;会社の特徴&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center text-sm"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="checkbox" class="mr-2" checked="" onchange="togglePreviewSection('examples')"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span&gt;施工事例&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center text-sm"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="checkbox" class="mr-2" checked="" onchange="togglePreviewSection('contact')"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span&gt;お問い合わせ&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center text-sm"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="checkbox" class="mr-2" checked="" onchange="togglePreviewSection('areas')"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span&gt;対応エリア&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center text-sm"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="checkbox" class="mr-2" checked="" onchange="togglePreviewSection('services')"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span&gt;対応工事&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center text-sm"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="checkbox" class="mr-2" checked="" onchange="togglePreviewSection('gallery')"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span&gt;写真ギャラリー&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center text-sm"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="checkbox" class="mr-2" checked="" onchange="togglePreviewSection('insurance')"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span&gt;加入保険&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center text-sm"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="checkbox" class="mr-2" checked="" onchange="togglePreviewSection('features')"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span&gt;当社の強み&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center text-sm"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="checkbox" class="mr-2" checked="" onchange="togglePreviewSection('qualifications')"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span&gt;保有資格&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center text-sm"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="checkbox" class="mr-2" checked="" onchange="togglePreviewSection('reviews')"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span&gt;お客様の声&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center text-sm"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="checkbox" class="mr-2" checked="" onchange="togglePreviewSection('basicInfo')"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span&gt;会社概要&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;!-- 会社概要の詳細項目 --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;h4 class="text-xs font-semibold text-gray-600 mb-2"&gt;会社概要の表示項目&lt;/h4&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div class="grid grid-cols-2 md:grid-cols-4 gap-2"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center text-sm"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="checkbox" class="mr-2" id="showCompanyName" checked="" onchange="toggleBasicInfoField('companyName')"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span&gt;会社名&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center text-sm"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="checkbox" class="mr-2" id="showRepresentative" checked="" onchange="toggleBasicInfoField('representative')"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span&gt;代表者&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center text-sm"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="checkbox" class="mr-2" id="showAddress" checked="" onchange="toggleBasicInfoField('address')"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span&gt;住所・地図&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center text-sm"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="checkbox" class="mr-2" id="showEstablished" checked="" onchange="toggleBasicInfoField('established')"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span&gt;設立年&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;!-- プレビューコンテンツ --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;div class="px-4 sm:px-6 py-6"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;!-- メインビジュアルセクション --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div id="mainVisualSection" class="relative mb-12 overflow-hidden" style="display: block;"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="relative" style="height: 500px; overflow: hidden; cursor: move;" id="mainVisualContainer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;img id="previewMainVisual" src="https://drive.google.com/thumbnail?id=1USsRV4DxxSk0NCbwB_JsOrepMQ6jF4a2&amp;amp;sz=w1000" alt="" class="w-full h-full object-cover" style="object-position: center;" draggable="false"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div class="absolute inset-0 bg-gradient-to-b from-transparent via-transparent to-black/30" style="pointer-events: none; background: linear-gradient(transparent, transparent, rgba(0, 0, 0, 0));"&gt;&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;!-- 会社名と情報をオーバーレイ --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div class="absolute bottom-0 left-0 right-0 p-4 sm:p-8 text-white"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;h1 id="previewCompanyNameOverlay" class="text-5xl sm:text-7xl font-bold mb-2 drop-shadow-lg text-center sm:text-left whitespace-nowrap overflow-hidden text-ellipsis text-gray-800" style="min-width: 0px; color: rgb(31, 41, 55);"&gt;株式会社あたる&lt;/h1&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;p id="previewTaglineOverlay" class="text-lg sm:text-3xl mb-4 drop-shadow-md text-center sm:text-left text-gray-800" style="color: rgb(31, 41, 55);"&gt;ファインテックは、関西一円で外壁・屋根塗装、防水工事、リフォームを手掛ける塗装・リフォーム会社です&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;div class="flex flex-wrap gap-4 text-gray-800" style="color: rgb(31, 41, 55);"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;div class="flex items-center bg-white/20 backdrop-blur px-4 py-2 rounded-full text-gray-800" style="color: rgb(31, 41, 55);"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;svg class="w-5 h-5 mr-2 text-gray-800" fill="currentColor" viewBox="0 0 20 20" style="color: rgb(31, 41, 55);"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;path d="M4 4a2 2 0 012-2h8a2 2 0 012 2v12a2 2 0 01-2 2H6a2 2 0 01-2-2V4zm3 1h6v4H7V5zm6 6H7v2h6v-2z" class="text-gray-800" style="color: rgb(31, 41, 55);"&gt;&lt;/path&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;/svg&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;span id="previewEstablishedOverlay" class="text-gray-800" style="color: rgb(31, 41, 55);"&gt;2010年4月&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;!-- 調整コントロールトグルボタン --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;button onclick="toggleImageControls()" class="absolute top-4 right-4 bg-white rounded-lg shadow-lg p-2 hover:bg-gray-50 transition" title="画像調整"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;svg class="w-5 h-5 text-gray-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4"&gt;&lt;/path&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/svg&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/button&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;!-- 調整コントロールパネル --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div id="visualControls" class="absolute top-14 right-4 bg-white rounded-lg shadow-lg p-3 hidden"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div class="text-sm font-medium text-gray-700 mb-2"&gt;画像調整&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div class="space-y-3"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;label class="text-xs text-gray-600"&gt;位置調整&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;div class="grid grid-cols-3 gap-1 w-32 mx-auto mt-2"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;div&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;button onclick="adjustImagePosition('up')" class="p-2 hover:bg-gray-100 rounded" title="上に移動"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"&gt;&lt;path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 15l7-7 7 7"&gt;&lt;/path&gt;&lt;/svg&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;div&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;button onclick="adjustImagePosition('left')" class="p-2 hover:bg-gray-100 rounded" title="左に移動"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"&gt;&lt;path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"&gt;&lt;/path&gt;&lt;/svg&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;button onclick="adjustImagePosition('center')" class="p-2 hover:bg-gray-100 rounded" title="中央にリセット"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"&gt;&lt;circle cx="12" cy="12" r="3" stroke-width="2"&gt;&lt;/circle&gt;&lt;/svg&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;button onclick="adjustImagePosition('right')" class="p-2 hover:bg-gray-100 rounded" title="右に移動"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"&gt;&lt;path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"&gt;&lt;/path&gt;&lt;/svg&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;div&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;button onclick="adjustImagePosition('down')" class="p-2 hover:bg-gray-100 rounded" title="下に移動"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"&gt;&lt;path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"&gt;&lt;/path&gt;&lt;/svg&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;div&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;label class="text-xs text-gray-600"&gt;ズーム&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="range" id="imageZoom" min="100" max="150" value="100" class="w-full" onchange="adjustImageZoom(this.value)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;label class="text-xs text-gray-600"&gt;明るさ&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="range" id="imageOpacity" min="20" max="100" value="70" class="w-full" onchange="adjustImageOpacity(this.value)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;label class="text-xs text-gray-600 block mb-1"&gt;文字色&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;div class="flex gap-2"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;button id="textColorWhite" onclick="adjustTextColor('white')" class="flex-1 px-3 py-1.5 bg-gray-800 text-white text-xs rounded hover:bg-gray-700 transition border-2 border-gray-800"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>白</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;button id="textColorBlack" onclick="adjustTextColor('black')" class="flex-1 px-3 py-1.5 bg-white text-gray-800 text-xs rounded hover:bg-gray-100 transition border-2 border-blue-500"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>黒</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;!-- ヒーローセクション（メインビジュアルがない場合） --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div id="heroSection" class="relative bg-gradient-to-r from-blue-600 to-purple-600 rounded-2xl p-12 mb-12 text-white overflow-hidden" style="display: none;"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="absolute inset-0 bg-black opacity-10"&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="relative z-10"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;h1 id="previewCompanyNameHero" class="text-2xl sm:text-4xl font-bold mb-2 text-center sm:text-left"&gt;株式会社あたる&lt;/h1&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;p id="previewTaglineHero" class="text-base sm:text-lg opacity-90 text-center sm:text-left"&gt;ファインテックは、関西一円で外壁・屋根塗装、防水工事、リフォームを手掛ける塗装・リフォーム会社です&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div class="flex flex-wrap gap-4 mt-6"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;div class="flex items-center"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;path d="M4 4a2 2 0 012-2h8a2 2 0 012 2v12a2 2 0 01-2 2H6a2 2 0 01-2-2V4zm3 1h6v4H7V5zm6 6H7v2h6v-2z"&gt;&lt;/path&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;/svg&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span id="previewEstablishedHero"&gt;2010年4月&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;div class="flex items-center"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"&gt;&lt;/path&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;/svg&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span&gt;実績1000件以上&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="p-8"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;!-- 会社の特徴・強み（選ばれる理由） --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div id="preview-prText" class="mb-12"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;h3 class="text-xl font-bold text-gray-900 mb-6 flex items-center"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;span class="w-1 h-6 bg-yellow-500 mr-3 rounded"&gt;&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>会社の特徴・強み</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/h3&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="bg-gradient-to-br from-yellow-50 to-orange-50 rounded-xl p-8 border border-yellow-200"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;p id="previewPrText" class="text-gray-700 leading-relaxed"&gt;ファインテックは、関西一円で外壁・屋根塗装、防水工事、リフォームを手掛ける塗装・リフォーム会社です。代表者自らが直接見積もりを行う「本物の自社施工」を徹底し、中間マージンを排除することで高品質ながら適正価格を実現。独自の3D工法による意匠サイディングの再現塗装や多色塗り分けデザインなど、高い技術力でお客様のこだわりを細部まで再現。長期保証と丁寧なアフターメンテナンスで施工後も安心が続きます。&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;!-- 1. 施工事例セクション（最初に実績を見せる） --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div id="preview-examples" class="mb-12" style="display: block;"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;h3 class="text-xl font-bold text-gray-900 mb-6 flex items-center"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;span class="w-1 h-6 bg-pink-600 mr-3 rounded"&gt;&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>施工事例</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/h3&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;!-- カルーセルコンテナ --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="relative"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;!-- 左矢印 --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;button onclick="scrollExamples('left')" class="absolute left-0 top-1/2 -translate-y-1/2 -translate-x-4 z-10 bg-white shadow-lg rounded-full p-2 hover:bg-gray-50 transition"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;svg class="w-5 h-5 text-gray-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"&gt;&lt;/path&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/svg&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;!-- 施工事例カルーセル --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div id="examplesCarousel" class="overflow-hidden"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;div id="previewExamplesList" class="flex gap-4 transition-transform duration-300" style="transform: translateX(-2224px);"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="flex-shrink-0 w-full md:w-96 bg-white rounded-lg shadow-lg border overflow-hidden"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div class="relative"&gt;</p>
<p class="p2"><span class="Apple-converted-space">                                </span></p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;!-- ビフォーアフター比較 --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;div class="grid grid-cols-2 relative"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;div class="relative cursor-pointer" onclick="openImageModal('https://drive.google.com/thumbnail?id=1gC7TC4okEpgQoW3GTXV2IB7xEaoo2X8X&amp;amp;sz=w1000', '施工前')"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;img src="https://drive.google.com/thumbnail?id=1gC7TC4okEpgQoW3GTXV2IB7xEaoo2X8X&amp;amp;sz=w1000" alt="施工前" class="w-full h-48 object-cover hover:opacity-90 transition"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;div class="absolute top-2 left-2 bg-black bg-opacity-60 text-white px-2 py-1 text-xs rounded"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                                </span>BEFORE</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;div class="relative cursor-pointer" onclick="openImageModal('https://drive.google.com/thumbnail?id=1plGReQL9lUBT0RWY5YML-EnqJTig1vxh&amp;amp;sz=w1000', '施工後')"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;img src="https://drive.google.com/thumbnail?id=1plGReQL9lUBT0RWY5YML-EnqJTig1vxh&amp;amp;sz=w1000" alt="施工後" class="w-full h-48 object-cover hover:opacity-90 transition"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;div class="absolute top-2 left-2 bg-blue-600 bg-opacity-90 text-white px-2 py-1 text-xs rounded"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                                </span>AFTER</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;/div&gt;</p>
<p class="p2"><span class="Apple-converted-space">                                </span></p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div class="p-4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;div class="flex items-start justify-between mb-2"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;h4 class="font-semibold text-gray-900"&gt;築20年 戸建て２F&lt;/h4&gt;</p>
<p class="p2"><span class="Apple-converted-space">                                    </span></p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;div class="text-right"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;div class="text-xs font-medium text-gray-500"&gt;工事金額&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;span class="inline-block text-red-600 font-bold text-lg"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                                </span>150万円</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;/div&gt;</p>
<p class="p2"><span class="Apple-converted-space">                                    </span></p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;p class="text-sm text-gray-600"&gt;シリコン3回塗り&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</p>
<p class="p2"><span class="Apple-converted-space">                    </span></p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="flex-shrink-0 w-full md:w-96 bg-white rounded-lg shadow-lg border overflow-hidden"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div class="relative"&gt;</p>
<p class="p2"><span class="Apple-converted-space">                                </span></p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;!-- ビフォーアフター比較 --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;div class="grid grid-cols-2 relative"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;div class="relative cursor-pointer" onclick="openImageModal('https://drive.google.com/thumbnail?id=10BsSuaYzQP2KZyOg5c6R3TSja2FFkzha&amp;amp;sz=w1000', '施工前')"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;img src="https://drive.google.com/thumbnail?id=10BsSuaYzQP2KZyOg5c6R3TSja2FFkzha&amp;amp;sz=w1000" alt="施工前" class="w-full h-48 object-cover hover:opacity-90 transition"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;div class="absolute top-2 left-2 bg-black bg-opacity-60 text-white px-2 py-1 text-xs rounded"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                                </span>BEFORE</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;div class="relative cursor-pointer" onclick="openImageModal('https://drive.google.com/thumbnail?id=1ppjNTZmgMHaRXNPPPqFtMeGVf3JGNA82&amp;amp;sz=w1000', '施工後')"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;img src="https://drive.google.com/thumbnail?id=1ppjNTZmgMHaRXNPPPqFtMeGVf3JGNA82&amp;amp;sz=w1000" alt="施工後" class="w-full h-48 object-cover hover:opacity-90 transition"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;div class="absolute top-2 left-2 bg-blue-600 bg-opacity-90 text-white px-2 py-1 text-xs rounded"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                                </span>AFTER</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;/div&gt;</p>
<p class="p2"><span class="Apple-converted-space">                                </span></p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div class="p-4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;div class="flex items-start justify-between mb-2"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;h4 class="font-semibold text-gray-900"&gt;築50年 築45年&lt;/h4&gt;</p>
<p class="p2"><span class="Apple-converted-space">                                    </span></p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;div class="text-right"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;div class="text-xs font-medium text-gray-500"&gt;工事金額&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;span class="inline-block text-red-600 font-bold text-lg"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                                </span>250万円</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;/div&gt;</p>
<p class="p2"><span class="Apple-converted-space">                                    </span></p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;p class="text-sm text-gray-600"&gt;フッ素3回塗り&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</p>
<p class="p2"><span class="Apple-converted-space">                    </span></p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="flex-shrink-0 w-full md:w-96 bg-white rounded-lg shadow-lg border overflow-hidden"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div class="relative"&gt;</p>
<p class="p2"><span class="Apple-converted-space">                                </span></p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;!-- ビフォーアフター比較 --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;div class="grid grid-cols-2 relative"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;div class="relative cursor-pointer" onclick="openImageModal('https://drive.google.com/thumbnail?id=1VgWpZ4o_tQViSKXkbScS_zIQqKm98DhC&amp;amp;sz=w1000', '施工前')"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;img src="https://drive.google.com/thumbnail?id=1VgWpZ4o_tQViSKXkbScS_zIQqKm98DhC&amp;amp;sz=w1000" alt="施工前" class="w-full h-48 object-cover hover:opacity-90 transition"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;div class="absolute top-2 left-2 bg-black bg-opacity-60 text-white px-2 py-1 text-xs rounded"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                                </span>BEFORE</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;div class="relative cursor-pointer" onclick="openImageModal('https://drive.google.com/thumbnail?id=1rOLVBNsaQer6AKCpdiEGUgxmDbik7Gx7&amp;amp;sz=w1000', '施工後')"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;img src="https://drive.google.com/thumbnail?id=1rOLVBNsaQer6AKCpdiEGUgxmDbik7Gx7&amp;amp;sz=w1000" alt="施工後" class="w-full h-48 object-cover hover:opacity-90 transition"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;div class="absolute top-2 left-2 bg-blue-600 bg-opacity-90 text-white px-2 py-1 text-xs rounded"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                                </span>AFTER</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;/div&gt;</p>
<p class="p2"><span class="Apple-converted-space">                                </span></p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div class="p-4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;div class="flex items-start justify-between mb-2"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;h4 class="font-semibold text-gray-900"&gt;築40年 屋根壁塗装&lt;/h4&gt;</p>
<p class="p2"><span class="Apple-converted-space">                                    </span></p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;div class="text-right"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;div class="text-xs font-medium text-gray-500"&gt;工事金額&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;span class="inline-block text-red-600 font-bold text-lg"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                                </span>130万円</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;/div&gt;</p>
<p class="p2"><span class="Apple-converted-space">                                    </span></p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;p class="text-sm text-gray-600"&gt;光触媒フッ素&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</p>
<p class="p2"><span class="Apple-converted-space">                    </span></p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="flex-shrink-0 w-full md:w-96 bg-white rounded-lg shadow-lg border overflow-hidden"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div class="relative"&gt;</p>
<p class="p2"><span class="Apple-converted-space">                                </span></p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;!-- ビフォーアフター比較 --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;div class="grid grid-cols-2 relative"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;div class="relative cursor-pointer" onclick="openImageModal('https://drive.google.com/thumbnail?id=1D2Jy3hHMYvp8X58hv6Eh0EWaUAG5bSB5&amp;amp;sz=w1000', '施工前')"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;img src="https://drive.google.com/thumbnail?id=1D2Jy3hHMYvp8X58hv6Eh0EWaUAG5bSB5&amp;amp;sz=w1000" alt="施工前" class="w-full h-48 object-cover hover:opacity-90 transition"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;div class="absolute top-2 left-2 bg-black bg-opacity-60 text-white px-2 py-1 text-xs rounded"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                                </span>BEFORE</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;div class="relative cursor-pointer" onclick="openImageModal('https://drive.google.com/thumbnail?id=14Le1y5t7g6lv1tZgSgN7Mch4bJEMz0dR&amp;amp;sz=w1000', '施工後')"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;img src="https://drive.google.com/thumbnail?id=14Le1y5t7g6lv1tZgSgN7Mch4bJEMz0dR&amp;amp;sz=w1000" alt="施工後" class="w-full h-48 object-cover hover:opacity-90 transition"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;div class="absolute top-2 left-2 bg-blue-600 bg-opacity-90 text-white px-2 py-1 text-xs rounded"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                                </span>AFTER</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;/div&gt;</p>
<p class="p2"><span class="Apple-converted-space">                                </span></p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div class="p-4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;div class="flex items-start justify-between mb-2"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;h4 class="font-semibold text-gray-900"&gt;築200年 スマホでも&lt;/h4&gt;</p>
<p class="p2"><span class="Apple-converted-space">                                    </span></p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;div class="text-right"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;div class="text-xs font-medium text-gray-500"&gt;工事金額&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;span class="inline-block text-red-600 font-bold text-lg"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                                </span>1,000万円</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;/div&gt;</p>
<p class="p2"><span class="Apple-converted-space">                                    </span></p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;p class="text-sm text-gray-600"&gt;詳細情報&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</p>
<p class="p2"><span class="Apple-converted-space">                    </span></p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="flex-shrink-0 w-full md:w-96 bg-white rounded-lg shadow-lg border overflow-hidden"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div class="relative"&gt;</p>
<p class="p2"><span class="Apple-converted-space">                                </span></p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;!-- ビフォーアフター比較 --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;div class="grid grid-cols-2 relative"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;div class="relative cursor-pointer" onclick="openImageModal('https://drive.google.com/thumbnail?id=1gC7TC4okEpgQoW3GTXV2IB7xEaoo2X8X&amp;amp;sz=w1000', '施工前')"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;img src="https://drive.google.com/thumbnail?id=1gC7TC4okEpgQoW3GTXV2IB7xEaoo2X8X&amp;amp;sz=w1000" alt="施工前" class="w-full h-48 object-cover hover:opacity-90 transition"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;div class="absolute top-2 left-2 bg-black bg-opacity-60 text-white px-2 py-1 text-xs rounded"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                                </span>BEFORE</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;div class="relative cursor-pointer" onclick="openImageModal('https://drive.google.com/thumbnail?id=1plGReQL9lUBT0RWY5YML-EnqJTig1vxh&amp;amp;sz=w1000', '施工後')"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;img src="https://drive.google.com/thumbnail?id=1plGReQL9lUBT0RWY5YML-EnqJTig1vxh&amp;amp;sz=w1000" alt="施工後" class="w-full h-48 object-cover hover:opacity-90 transition"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;div class="absolute top-2 left-2 bg-blue-600 bg-opacity-90 text-white px-2 py-1 text-xs rounded"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                                </span>AFTER</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;/div&gt;</p>
<p class="p2"><span class="Apple-converted-space">                                </span></p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div class="p-4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;div class="flex items-start justify-between mb-2"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;h4 class="font-semibold text-gray-900"&gt;築20年 戸建て２F&lt;/h4&gt;</p>
<p class="p2"><span class="Apple-converted-space">                                    </span></p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;div class="text-right"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;div class="text-xs font-medium text-gray-500"&gt;工事金額&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;span class="inline-block text-red-600 font-bold text-lg"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                                </span>150万円</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;/div&gt;</p>
<p class="p2"><span class="Apple-converted-space">                                    </span></p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;p class="text-sm text-gray-600"&gt;シリコン3回塗り&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</p>
<p class="p2"><span class="Apple-converted-space">                    </span></p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="flex-shrink-0 w-full md:w-96 bg-white rounded-lg shadow-lg border overflow-hidden"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div class="relative"&gt;</p>
<p class="p2"><span class="Apple-converted-space">                                </span></p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;!-- ビフォーアフター比較 --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;div class="grid grid-cols-2 relative"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;div class="relative cursor-pointer" onclick="openImageModal('https://drive.google.com/thumbnail?id=10BsSuaYzQP2KZyOg5c6R3TSja2FFkzha&amp;amp;sz=w1000', '施工前')"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;img src="https://drive.google.com/thumbnail?id=10BsSuaYzQP2KZyOg5c6R3TSja2FFkzha&amp;amp;sz=w1000" alt="施工前" class="w-full h-48 object-cover hover:opacity-90 transition"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;div class="absolute top-2 left-2 bg-black bg-opacity-60 text-white px-2 py-1 text-xs rounded"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                                </span>BEFORE</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;div class="relative cursor-pointer" onclick="openImageModal('https://drive.google.com/thumbnail?id=1ppjNTZmgMHaRXNPPPqFtMeGVf3JGNA82&amp;amp;sz=w1000', '施工後')"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;img src="https://drive.google.com/thumbnail?id=1ppjNTZmgMHaRXNPPPqFtMeGVf3JGNA82&amp;amp;sz=w1000" alt="施工後" class="w-full h-48 object-cover hover:opacity-90 transition"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;div class="absolute top-2 left-2 bg-blue-600 bg-opacity-90 text-white px-2 py-1 text-xs rounded"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                                </span>AFTER</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;/div&gt;</p>
<p class="p2"><span class="Apple-converted-space">                                </span></p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div class="p-4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;div class="flex items-start justify-between mb-2"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;h4 class="font-semibold text-gray-900"&gt;築50年 築45年&lt;/h4&gt;</p>
<p class="p2"><span class="Apple-converted-space">                                    </span></p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;div class="text-right"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;div class="text-xs font-medium text-gray-500"&gt;工事金額&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;span class="inline-block text-red-600 font-bold text-lg"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                                </span>250万円</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;/div&gt;</p>
<p class="p2"><span class="Apple-converted-space">                                    </span></p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;p class="text-sm text-gray-600"&gt;フッ素3回塗り&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</p>
<p class="p2"><span class="Apple-converted-space">                    </span></p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="flex-shrink-0 w-full md:w-96 bg-white rounded-lg shadow-lg border overflow-hidden"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div class="relative"&gt;</p>
<p class="p2"><span class="Apple-converted-space">                                </span></p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;!-- ビフォーアフター比較 --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;div class="grid grid-cols-2 relative"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;div class="relative cursor-pointer" onclick="openImageModal('https://drive.google.com/thumbnail?id=1VgWpZ4o_tQViSKXkbScS_zIQqKm98DhC&amp;amp;sz=w1000', '施工前')"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;img src="https://drive.google.com/thumbnail?id=1VgWpZ4o_tQViSKXkbScS_zIQqKm98DhC&amp;amp;sz=w1000" alt="施工前" class="w-full h-48 object-cover hover:opacity-90 transition"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;div class="absolute top-2 left-2 bg-black bg-opacity-60 text-white px-2 py-1 text-xs rounded"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                                </span>BEFORE</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;div class="relative cursor-pointer" onclick="openImageModal('https://drive.google.com/thumbnail?id=1rOLVBNsaQer6AKCpdiEGUgxmDbik7Gx7&amp;amp;sz=w1000', '施工後')"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;img src="https://drive.google.com/thumbnail?id=1rOLVBNsaQer6AKCpdiEGUgxmDbik7Gx7&amp;amp;sz=w1000" alt="施工後" class="w-full h-48 object-cover hover:opacity-90 transition"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;div class="absolute top-2 left-2 bg-blue-600 bg-opacity-90 text-white px-2 py-1 text-xs rounded"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                                </span>AFTER</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;/div&gt;</p>
<p class="p2"><span class="Apple-converted-space">                                </span></p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div class="p-4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;div class="flex items-start justify-between mb-2"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;h4 class="font-semibold text-gray-900"&gt;築40年 屋根壁塗装&lt;/h4&gt;</p>
<p class="p2"><span class="Apple-converted-space">                                    </span></p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;div class="text-right"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;div class="text-xs font-medium text-gray-500"&gt;工事金額&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;span class="inline-block text-red-600 font-bold text-lg"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                                </span>130万円</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;/div&gt;</p>
<p class="p2"><span class="Apple-converted-space">                                    </span></p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;p class="text-sm text-gray-600"&gt;光触媒フッ素&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</p>
<p class="p2"><span class="Apple-converted-space">                    </span></p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="flex-shrink-0 w-full md:w-96 bg-white rounded-lg shadow-lg border overflow-hidden"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div class="relative"&gt;</p>
<p class="p2"><span class="Apple-converted-space">                                </span></p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;!-- ビフォーアフター比較 --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;div class="grid grid-cols-2 relative"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;div class="relative cursor-pointer" onclick="openImageModal('https://drive.google.com/thumbnail?id=1D2Jy3hHMYvp8X58hv6Eh0EWaUAG5bSB5&amp;amp;sz=w1000', '施工前')"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;img src="https://drive.google.com/thumbnail?id=1D2Jy3hHMYvp8X58hv6Eh0EWaUAG5bSB5&amp;amp;sz=w1000" alt="施工前" class="w-full h-48 object-cover hover:opacity-90 transition"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;div class="absolute top-2 left-2 bg-black bg-opacity-60 text-white px-2 py-1 text-xs rounded"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                                </span>BEFORE</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;div class="relative cursor-pointer" onclick="openImageModal('https://drive.google.com/thumbnail?id=14Le1y5t7g6lv1tZgSgN7Mch4bJEMz0dR&amp;amp;sz=w1000', '施工後')"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;img src="https://drive.google.com/thumbnail?id=14Le1y5t7g6lv1tZgSgN7Mch4bJEMz0dR&amp;amp;sz=w1000" alt="施工後" class="w-full h-48 object-cover hover:opacity-90 transition"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;div class="absolute top-2 left-2 bg-blue-600 bg-opacity-90 text-white px-2 py-1 text-xs rounded"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                                </span>AFTER</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;/div&gt;</p>
<p class="p2"><span class="Apple-converted-space">                                </span></p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div class="p-4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;div class="flex items-start justify-between mb-2"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;h4 class="font-semibold text-gray-900"&gt;築200年 スマホでも&lt;/h4&gt;</p>
<p class="p2"><span class="Apple-converted-space">                                    </span></p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;div class="text-right"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;div class="text-xs font-medium text-gray-500"&gt;工事金額&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;span class="inline-block text-red-600 font-bold text-lg"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                                </span>1,000万円</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;/div&gt;</p>
<p class="p2"><span class="Apple-converted-space">                                    </span></p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;p class="text-sm text-gray-600"&gt;詳細情報&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</p>
<p class="p2"><span class="Apple-converted-space">                    </span></p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="flex-shrink-0 w-full md:w-96 bg-white rounded-lg shadow-lg border overflow-hidden"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div class="relative"&gt;</p>
<p class="p2"><span class="Apple-converted-space">                                </span></p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;!-- ビフォーアフター比較 --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;div class="grid grid-cols-2 relative"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;div class="relative cursor-pointer" onclick="openImageModal('https://drive.google.com/thumbnail?id=1gC7TC4okEpgQoW3GTXV2IB7xEaoo2X8X&amp;amp;sz=w1000', '施工前')"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;img src="https://drive.google.com/thumbnail?id=1gC7TC4okEpgQoW3GTXV2IB7xEaoo2X8X&amp;amp;sz=w1000" alt="施工前" class="w-full h-48 object-cover hover:opacity-90 transition"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;div class="absolute top-2 left-2 bg-black bg-opacity-60 text-white px-2 py-1 text-xs rounded"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                                </span>BEFORE</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;div class="relative cursor-pointer" onclick="openImageModal('https://drive.google.com/thumbnail?id=1plGReQL9lUBT0RWY5YML-EnqJTig1vxh&amp;amp;sz=w1000', '施工後')"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;img src="https://drive.google.com/thumbnail?id=1plGReQL9lUBT0RWY5YML-EnqJTig1vxh&amp;amp;sz=w1000" alt="施工後" class="w-full h-48 object-cover hover:opacity-90 transition"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;div class="absolute top-2 left-2 bg-blue-600 bg-opacity-90 text-white px-2 py-1 text-xs rounded"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                                </span>AFTER</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;/div&gt;</p>
<p class="p2"><span class="Apple-converted-space">                                </span></p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div class="p-4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;div class="flex items-start justify-between mb-2"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;h4 class="font-semibold text-gray-900"&gt;築20年 戸建て２F&lt;/h4&gt;</p>
<p class="p2"><span class="Apple-converted-space">                                    </span></p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;div class="text-right"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;div class="text-xs font-medium text-gray-500"&gt;工事金額&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;span class="inline-block text-red-600 font-bold text-lg"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                                </span>150万円</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;/div&gt;</p>
<p class="p2"><span class="Apple-converted-space">                                    </span></p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;p class="text-sm text-gray-600"&gt;シリコン3回塗り&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</p>
<p class="p2"><span class="Apple-converted-space">                    </span></p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="flex-shrink-0 w-full md:w-96 bg-white rounded-lg shadow-lg border overflow-hidden"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div class="relative"&gt;</p>
<p class="p2"><span class="Apple-converted-space">                                </span></p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;!-- ビフォーアフター比較 --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;div class="grid grid-cols-2 relative"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;div class="relative cursor-pointer" onclick="openImageModal('https://drive.google.com/thumbnail?id=10BsSuaYzQP2KZyOg5c6R3TSja2FFkzha&amp;amp;sz=w1000', '施工前')"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;img src="https://drive.google.com/thumbnail?id=10BsSuaYzQP2KZyOg5c6R3TSja2FFkzha&amp;amp;sz=w1000" alt="施工前" class="w-full h-48 object-cover hover:opacity-90 transition"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;div class="absolute top-2 left-2 bg-black bg-opacity-60 text-white px-2 py-1 text-xs rounded"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                                </span>BEFORE</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;div class="relative cursor-pointer" onclick="openImageModal('https://drive.google.com/thumbnail?id=1ppjNTZmgMHaRXNPPPqFtMeGVf3JGNA82&amp;amp;sz=w1000', '施工後')"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;img src="https://drive.google.com/thumbnail?id=1ppjNTZmgMHaRXNPPPqFtMeGVf3JGNA82&amp;amp;sz=w1000" alt="施工後" class="w-full h-48 object-cover hover:opacity-90 transition"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;div class="absolute top-2 left-2 bg-blue-600 bg-opacity-90 text-white px-2 py-1 text-xs rounded"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                                </span>AFTER</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;/div&gt;</p>
<p class="p2"><span class="Apple-converted-space">                                </span></p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div class="p-4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;div class="flex items-start justify-between mb-2"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;h4 class="font-semibold text-gray-900"&gt;築50年 築45年&lt;/h4&gt;</p>
<p class="p2"><span class="Apple-converted-space">                                    </span></p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;div class="text-right"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;div class="text-xs font-medium text-gray-500"&gt;工事金額&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;span class="inline-block text-red-600 font-bold text-lg"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                                </span>250万円</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;/div&gt;</p>
<p class="p2"><span class="Apple-converted-space">                                    </span></p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;p class="text-sm text-gray-600"&gt;フッ素3回塗り&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</p>
<p class="p2"><span class="Apple-converted-space">                    </span></p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="flex-shrink-0 w-full md:w-96 bg-white rounded-lg shadow-lg border overflow-hidden"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div class="relative"&gt;</p>
<p class="p2"><span class="Apple-converted-space">                                </span></p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;!-- ビフォーアフター比較 --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;div class="grid grid-cols-2 relative"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;div class="relative cursor-pointer" onclick="openImageModal('https://drive.google.com/thumbnail?id=1VgWpZ4o_tQViSKXkbScS_zIQqKm98DhC&amp;amp;sz=w1000', '施工前')"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;img src="https://drive.google.com/thumbnail?id=1VgWpZ4o_tQViSKXkbScS_zIQqKm98DhC&amp;amp;sz=w1000" alt="施工前" class="w-full h-48 object-cover hover:opacity-90 transition"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;div class="absolute top-2 left-2 bg-black bg-opacity-60 text-white px-2 py-1 text-xs rounded"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                                </span>BEFORE</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;div class="relative cursor-pointer" onclick="openImageModal('https://drive.google.com/thumbnail?id=1rOLVBNsaQer6AKCpdiEGUgxmDbik7Gx7&amp;amp;sz=w1000', '施工後')"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;img src="https://drive.google.com/thumbnail?id=1rOLVBNsaQer6AKCpdiEGUgxmDbik7Gx7&amp;amp;sz=w1000" alt="施工後" class="w-full h-48 object-cover hover:opacity-90 transition"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;div class="absolute top-2 left-2 bg-blue-600 bg-opacity-90 text-white px-2 py-1 text-xs rounded"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                                </span>AFTER</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;/div&gt;</p>
<p class="p2"><span class="Apple-converted-space">                                </span></p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div class="p-4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;div class="flex items-start justify-between mb-2"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;h4 class="font-semibold text-gray-900"&gt;築40年 屋根壁塗装&lt;/h4&gt;</p>
<p class="p2"><span class="Apple-converted-space">                                    </span></p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;div class="text-right"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;div class="text-xs font-medium text-gray-500"&gt;工事金額&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;span class="inline-block text-red-600 font-bold text-lg"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                                </span>130万円</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;/div&gt;</p>
<p class="p2"><span class="Apple-converted-space">                                    </span></p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;p class="text-sm text-gray-600"&gt;光触媒フッ素&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</p>
<p class="p2"><span class="Apple-converted-space">                    </span></p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="flex-shrink-0 w-full md:w-96 bg-white rounded-lg shadow-lg border overflow-hidden"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div class="relative"&gt;</p>
<p class="p2"><span class="Apple-converted-space">                                </span></p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;!-- ビフォーアフター比較 --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;div class="grid grid-cols-2 relative"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;div class="relative cursor-pointer" onclick="openImageModal('https://drive.google.com/thumbnail?id=1D2Jy3hHMYvp8X58hv6Eh0EWaUAG5bSB5&amp;amp;sz=w1000', '施工前')"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;img src="https://drive.google.com/thumbnail?id=1D2Jy3hHMYvp8X58hv6Eh0EWaUAG5bSB5&amp;amp;sz=w1000" alt="施工前" class="w-full h-48 object-cover hover:opacity-90 transition"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;div class="absolute top-2 left-2 bg-black bg-opacity-60 text-white px-2 py-1 text-xs rounded"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                                </span>BEFORE</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;div class="relative cursor-pointer" onclick="openImageModal('https://drive.google.com/thumbnail?id=14Le1y5t7g6lv1tZgSgN7Mch4bJEMz0dR&amp;amp;sz=w1000', '施工後')"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;img src="https://drive.google.com/thumbnail?id=14Le1y5t7g6lv1tZgSgN7Mch4bJEMz0dR&amp;amp;sz=w1000" alt="施工後" class="w-full h-48 object-cover hover:opacity-90 transition"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;div class="absolute top-2 left-2 bg-blue-600 bg-opacity-90 text-white px-2 py-1 text-xs rounded"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                                </span>AFTER</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;/div&gt;</p>
<p class="p2"><span class="Apple-converted-space">                                </span></p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div class="p-4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;div class="flex items-start justify-between mb-2"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;h4 class="font-semibold text-gray-900"&gt;築200年 スマホでも&lt;/h4&gt;</p>
<p class="p2"><span class="Apple-converted-space">                                    </span></p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;div class="text-right"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;div class="text-xs font-medium text-gray-500"&gt;工事金額&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;span class="inline-block text-red-600 font-bold text-lg"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                                </span>1,000万円</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;/div&gt;</p>
<p class="p2"><span class="Apple-converted-space">                                    </span></p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;p class="text-sm text-gray-600"&gt;詳細情報&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;!-- 右矢印 --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;button onclick="scrollExamples('right')" class="absolute right-0 top-1/2 -translate-y-1/2 translate-x-4 z-10 bg-white shadow-lg rounded-full p-2 hover:bg-gray-50 transition"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;svg class="w-5 h-5 text-gray-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"&gt;&lt;/path&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/svg&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;!-- インジケーター --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div id="examplesIndicators" class="flex justify-center gap-1 mt-4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;button onclick="goToExample(0)" class="w-2 h-2 rounded-full transition bg-blue-600"&gt;&lt;/button&gt;</p>
<p class="p2"><span class="Apple-converted-space">                        </span></p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;button onclick="goToExample(1)" class="w-2 h-2 rounded-full transition bg-gray-300"&gt;&lt;/button&gt;</p>
<p class="p2"><span class="Apple-converted-space">                        </span></p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;button onclick="goToExample(2)" class="w-2 h-2 rounded-full transition bg-gray-300"&gt;&lt;/button&gt;</p>
<p class="p2"><span class="Apple-converted-space">                        </span></p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;button onclick="goToExample(3)" class="w-2 h-2 rounded-full transition bg-gray-300"&gt;&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;!-- 2. お客様の声（信頼性を高める） --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div id="preview-reviews" class="mb-12 bg-gradient-to-br from-purple-50 via-blue-50 to-purple-50 rounded-2xl p-8" style="display: block;"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="mb-4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;h3 class="text-xl font-bold text-gray-900 mb-2 inline-flex items-center"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;span class="w-1 h-6 bg-gradient-to-b from-purple-600 to-blue-600 mr-3 rounded"&gt;&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>お客様の声</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/h3&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;!-- カルーセルコンテナ --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="relative max-w-2xl mx-auto"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;!-- 左矢印 --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;button onclick="scrollReviews('left')" class="absolute left-0 top-1/2 -translate-y-1/2 -translate-x-12 z-10 bg-white shadow-lg rounded-full p-3 hover:bg-gray-50 transition"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;svg class="w-6 h-6 text-gray-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"&gt;&lt;/path&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/svg&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/button&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;!-- クチコミカルーセル --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div id="reviewCarousel" class="overflow-hidden px-4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;div id="previewReviewsList" class="flex transition-transform duration-300" style="transform: translateX(0px);"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="flex-shrink-0 w-full bg-white rounded-xl shadow-xl border-2 border-purple-100 p-8"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div class="flex items-center justify-center mb-4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;div class="flex text-yellow-400 mr-2"&gt;</p>
<p class="p2"><span class="Apple-converted-space">                                    </span></p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;svg class="w-6 h-6 fill-current" viewBox="0 0 20 20"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;path d="M10 15l-5.878 3.09 1.123-6.545L.489 6.91l6.572-.955L10 0l2.939 5.955 6.572.955-4.756 4.635 1.123 6.545z"&gt;&lt;/path&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;/svg&gt;</p>
<p class="p2"><span class="Apple-converted-space">                                    </span></p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;svg class="w-6 h-6 fill-current" viewBox="0 0 20 20"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;path d="M10 15l-5.878 3.09 1.123-6.545L.489 6.91l6.572-.955L10 0l2.939 5.955 6.572.955-4.756 4.635 1.123 6.545z"&gt;&lt;/path&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;/svg&gt;</p>
<p class="p2"><span class="Apple-converted-space">                                    </span></p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;svg class="w-6 h-6 fill-current" viewBox="0 0 20 20"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;path d="M10 15l-5.878 3.09 1.123-6.545L.489 6.91l6.572-.955L10 0l2.939 5.955 6.572.955-4.756 4.635 1.123 6.545z"&gt;&lt;/path&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;/svg&gt;</p>
<p class="p2"><span class="Apple-converted-space">                                    </span></p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;svg class="w-6 h-6 fill-current" viewBox="0 0 20 20"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;path d="M10 15l-5.878 3.09 1.123-6.545L.489 6.91l6.572-.955L10 0l2.939 5.955 6.572.955-4.756 4.635 1.123 6.545z"&gt;&lt;/path&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;/svg&gt;</p>
<p class="p2"><span class="Apple-converted-space">                                    </span></p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;svg class="w-6 h-6 fill-current" viewBox="0 0 20 20"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;path d="M10 15l-5.878 3.09 1.123-6.545L.489 6.91l6.572-.955L10 0l2.939 5.955 6.572.955-4.756 4.635 1.123 6.545z"&gt;&lt;/path&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;/svg&gt;</p>
<p class="p2"><span class="Apple-converted-space">                                    </span></p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;span class="text-lg text-gray-700 font-bold ml-2"&gt;5.0&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;p class="text-gray-800 text-base leading-relaxed mb-6 text-center"&gt;丁寧な対応で安心してお任せできました。見積もりも明確で、追加料金なく予定通りに完成しました。&lt;/p&gt;</p>
<p class="p2"><br></p>
<p class="p2"><span class="Apple-converted-space">                            </span></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div class="border-t-2 border-purple-100 pt-4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;div class="flex justify-between items-center"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;div class="text-sm text-gray-600"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;div class="font-semibold text-base text-gray-800"&gt;東京都 Y様&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;div class="text-xs text-gray-500 mt-1"&gt;2024年1月&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="text-xs bg-purple-50 text-purple-700 px-3 py-1.5 rounded-full font-medium"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>直接いただいた声</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</p>
<p class="p2"><span class="Apple-converted-space">                    </span></p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="flex-shrink-0 w-full bg-white rounded-xl shadow-xl border-2 border-purple-100 p-8"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div class="flex items-center justify-center mb-4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;div class="flex text-yellow-400 mr-2"&gt;</p>
<p class="p2"><span class="Apple-converted-space">                                    </span></p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;svg class="w-6 h-6 fill-current" viewBox="0 0 20 20"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;path d="M10 15l-5.878 3.09 1.123-6.545L.489 6.91l6.572-.955L10 0l2.939 5.955 6.572.955-4.756 4.635 1.123 6.545z"&gt;&lt;/path&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;/svg&gt;</p>
<p class="p2"><span class="Apple-converted-space">                                    </span></p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;svg class="w-6 h-6 fill-current" viewBox="0 0 20 20"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;path d="M10 15l-5.878 3.09 1.123-6.545L.489 6.91l6.572-.955L10 0l2.939 5.955 6.572.955-4.756 4.635 1.123 6.545z"&gt;&lt;/path&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;/svg&gt;</p>
<p class="p2"><span class="Apple-converted-space">                                    </span></p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;svg class="w-6 h-6 fill-current" viewBox="0 0 20 20"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;path d="M10 15l-5.878 3.09 1.123-6.545L.489 6.91l6.572-.955L10 0l2.939 5.955 6.572.955-4.756 4.635 1.123 6.545z"&gt;&lt;/path&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;/svg&gt;</p>
<p class="p2"><span class="Apple-converted-space">                                    </span></p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;svg class="w-6 h-6 fill-current" viewBox="0 0 20 20"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;path d="M10 15l-5.878 3.09 1.123-6.545L.489 6.91l6.572-.955L10 0l2.939 5.955 6.572.955-4.756 4.635 1.123 6.545z"&gt;&lt;/path&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;/svg&gt;</p>
<p class="p2"><span class="Apple-converted-space">                                    </span></p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;svg class="w-6 h-6 text-gray-300" viewBox="0 0 20 20"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;path d="M10 15l-5.878 3.09 1.123-6.545L.489 6.91l6.572-.955L10 0l2.939 5.955 6.572.955-4.756 4.635 1.123 6.545z"&gt;&lt;/path&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;/svg&gt;</p>
<p class="p2"><span class="Apple-converted-space">                                    </span></p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;span class="text-lg text-gray-700 font-bold ml-2"&gt;4.0&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;p class="text-gray-800 text-base leading-relaxed mb-6 text-center"&gt;職人さんの技術が高く、仕上がりに満足しています。近隣への配慮もしっかりしていました。&lt;/p&gt;</p>
<p class="p2"><br></p>
<p class="p2"><span class="Apple-converted-space">                            </span></p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;div class="mb-6 flex justify-center"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;img src="data:image/svg+xml,%3Csvg xmlns=" http:="" www.w3.org="" 2000="" svg"="" width="150" height="100" %3e%3crect="" fill="%23ddd" %3e%3ctext="" x="50%25" y="50%25" font-family="Arial" font-size="14" text-anchor="middle" dy=".3em" %3e150x100%3c="" text%3e%3c="" svg%3e"="" class="h-32 rounded-lg object-cover shadow-md" alt="施工写真"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/div&gt;</p>
<p class="p2"><span class="Apple-converted-space">                            </span></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div class="border-t-2 border-purple-100 pt-4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;div class="flex justify-between items-center"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;div class="text-sm text-gray-600"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;div class="font-semibold text-base text-gray-800"&gt;神奈川県 T様&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;div class="text-xs text-gray-500 mt-1"&gt;2024年2月&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="text-xs bg-purple-50 text-purple-700 px-3 py-1.5 rounded-full font-medium"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>直接いただいた声</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</p>
<p class="p2"><span class="Apple-converted-space">                    </span></p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="flex-shrink-0 w-full bg-white rounded-xl shadow-xl border-2 border-purple-100 p-8"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div class="flex items-center justify-center mb-4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;div class="flex text-yellow-400 mr-2"&gt;</p>
<p class="p2"><span class="Apple-converted-space">                                    </span></p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;svg class="w-6 h-6 fill-current" viewBox="0 0 20 20"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;path d="M10 15l-5.878 3.09 1.123-6.545L.489 6.91l6.572-.955L10 0l2.939 5.955 6.572.955-4.756 4.635 1.123 6.545z"&gt;&lt;/path&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;/svg&gt;</p>
<p class="p2"><span class="Apple-converted-space">                                    </span></p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;svg class="w-6 h-6 fill-current" viewBox="0 0 20 20"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;path d="M10 15l-5.878 3.09 1.123-6.545L.489 6.91l6.572-.955L10 0l2.939 5.955 6.572.955-4.756 4.635 1.123 6.545z"&gt;&lt;/path&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;/svg&gt;</p>
<p class="p2"><span class="Apple-converted-space">                                    </span></p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;svg class="w-6 h-6 fill-current" viewBox="0 0 20 20"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;path d="M10 15l-5.878 3.09 1.123-6.545L.489 6.91l6.572-.955L10 0l2.939 5.955 6.572.955-4.756 4.635 1.123 6.545z"&gt;&lt;/path&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;/svg&gt;</p>
<p class="p2"><span class="Apple-converted-space">                                    </span></p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;svg class="w-6 h-6 fill-current" viewBox="0 0 20 20"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;path d="M10 15l-5.878 3.09 1.123-6.545L.489 6.91l6.572-.955L10 0l2.939 5.955 6.572.955-4.756 4.635 1.123 6.545z"&gt;&lt;/path&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;/svg&gt;</p>
<p class="p2"><span class="Apple-converted-space">                                    </span></p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;svg class="w-6 h-6 fill-current" viewBox="0 0 20 20"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;path d="M10 15l-5.878 3.09 1.123-6.545L.489 6.91l6.572-.955L10 0l2.939 5.955 6.572.955-4.756 4.635 1.123 6.545z"&gt;&lt;/path&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;/svg&gt;</p>
<p class="p2"><span class="Apple-converted-space">                                    </span></p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;span class="text-lg text-gray-700 font-bold ml-2"&gt;5.0&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;p class="text-gray-800 text-base leading-relaxed mb-6 text-center"&gt;15年前に建てた家の外壁が色褪せてきたので依頼しました。複数社から見積もりを取りましたが、説明が一番丁寧で安心感がありました。&lt;/p&gt;</p>
<p class="p2"><br></p>
<p class="p2"><span class="Apple-converted-space">                            </span></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div class="border-t-2 border-purple-100 pt-4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;div class="flex justify-between items-center"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;div class="text-sm text-gray-600"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;div class="font-semibold text-base text-gray-800"&gt;千葉県 M様&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;div class="text-xs text-gray-500 mt-1"&gt;2024年2月&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="text-xs bg-purple-50 text-purple-700 px-3 py-1.5 rounded-full font-medium"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>直接いただいた声</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</p>
<p class="p2"><span class="Apple-converted-space">                    </span></p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="flex-shrink-0 w-full bg-white rounded-xl shadow-xl border-2 border-purple-100 p-8"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div class="flex items-center justify-center mb-4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;div class="flex text-yellow-400 mr-2"&gt;</p>
<p class="p2"><span class="Apple-converted-space">                                    </span></p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;svg class="w-6 h-6 fill-current" viewBox="0 0 20 20"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;path d="M10 15l-5.878 3.09 1.123-6.545L.489 6.91l6.572-.955L10 0l2.939 5.955 6.572.955-4.756 4.635 1.123 6.545z"&gt;&lt;/path&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;/svg&gt;</p>
<p class="p2"><span class="Apple-converted-space">                                    </span></p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;svg class="w-6 h-6 fill-current" viewBox="0 0 20 20"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;path d="M10 15l-5.878 3.09 1.123-6.545L.489 6.91l6.572-.955L10 0l2.939 5.955 6.572.955-4.756 4.635 1.123 6.545z"&gt;&lt;/path&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;/svg&gt;</p>
<p class="p2"><span class="Apple-converted-space">                                    </span></p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;svg class="w-6 h-6 fill-current" viewBox="0 0 20 20"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;path d="M10 15l-5.878 3.09 1.123-6.545L.489 6.91l6.572-.955L10 0l2.939 5.955 6.572.955-4.756 4.635 1.123 6.545z"&gt;&lt;/path&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;/svg&gt;</p>
<p class="p2"><span class="Apple-converted-space">                                    </span></p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;svg class="w-6 h-6 fill-current" viewBox="0 0 20 20"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;path d="M10 15l-5.878 3.09 1.123-6.545L.489 6.91l6.572-.955L10 0l2.939 5.955 6.572.955-4.756 4.635 1.123 6.545z"&gt;&lt;/path&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;/svg&gt;</p>
<p class="p2"><span class="Apple-converted-space">                                    </span></p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;svg class="w-6 h-6 fill-current" viewBox="0 0 20 20"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;path d="M10 15l-5.878 3.09 1.123-6.545L.489 6.91l6.572-.955L10 0l2.939 5.955 6.572.955-4.756 4.635 1.123 6.545z"&gt;&lt;/path&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;/svg&gt;</p>
<p class="p2"><span class="Apple-converted-space">                                    </span></p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;span class="text-lg text-gray-700 font-bold ml-2"&gt;5.0&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;p class="text-gray-800 text-base leading-relaxed mb-6 text-center"&gt;職人さんの挨拶から始まり、毎日の作業報告、近隣への配慮など、すべてにおいて満足でした。&lt;/p&gt;</p>
<p class="p2"><br></p>
<p class="p2"><span class="Apple-converted-space">                            </span></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div class="border-t-2 border-purple-100 pt-4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;div class="flex justify-between items-center"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;div class="text-sm text-gray-600"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;div class="font-semibold text-base text-gray-800"&gt;埼玉県 K様&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;div class="text-xs text-gray-500 mt-1"&gt;2024年3月&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="text-xs bg-purple-50 text-purple-700 px-3 py-1.5 rounded-full font-medium"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>直接いただいた声</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</p>
<p class="p2"><span class="Apple-converted-space">                    </span></p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="flex-shrink-0 w-full bg-white rounded-xl shadow-xl border-2 border-purple-100 p-8"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div class="flex items-center justify-center mb-4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;div class="flex text-yellow-400 mr-2"&gt;</p>
<p class="p2"><span class="Apple-converted-space">                                    </span></p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;svg class="w-6 h-6 fill-current" viewBox="0 0 20 20"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;path d="M10 15l-5.878 3.09 1.123-6.545L.489 6.91l6.572-.955L10 0l2.939 5.955 6.572.955-4.756 4.635 1.123 6.545z"&gt;&lt;/path&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;/svg&gt;</p>
<p class="p2"><span class="Apple-converted-space">                                    </span></p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;svg class="w-6 h-6 fill-current" viewBox="0 0 20 20"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;path d="M10 15l-5.878 3.09 1.123-6.545L.489 6.91l6.572-.955L10 0l2.939 5.955 6.572.955-4.756 4.635 1.123 6.545z"&gt;&lt;/path&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;/svg&gt;</p>
<p class="p2"><span class="Apple-converted-space">                                    </span></p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;svg class="w-6 h-6 fill-current" viewBox="0 0 20 20"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;path d="M10 15l-5.878 3.09 1.123-6.545L.489 6.91l6.572-.955L10 0l2.939 5.955 6.572.955-4.756 4.635 1.123 6.545z"&gt;&lt;/path&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;/svg&gt;</p>
<p class="p2"><span class="Apple-converted-space">                                    </span></p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;svg class="w-6 h-6 fill-current" viewBox="0 0 20 20"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;path d="M10 15l-5.878 3.09 1.123-6.545L.489 6.91l6.572-.955L10 0l2.939 5.955 6.572.955-4.756 4.635 1.123 6.545z"&gt;&lt;/path&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;/svg&gt;</p>
<p class="p2"><span class="Apple-converted-space">                                    </span></p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;svg class="w-6 h-6 text-gray-300" viewBox="0 0 20 20"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;path d="M10 15l-5.878 3.09 1.123-6.545L.489 6.91l6.572-.955L10 0l2.939 5.955 6.572.955-4.756 4.635 1.123 6.545z"&gt;&lt;/path&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;/svg&gt;</p>
<p class="p2"><span class="Apple-converted-space">                                    </span></p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;span class="text-lg text-gray-700 font-bold ml-2"&gt;4.0&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;p class="text-gray-800 text-base leading-relaxed mb-6 text-center"&gt;見積もりが明確で、追加料金もなく予定通りに終わりました。仕上がりも期待以上です。&lt;/p&gt;</p>
<p class="p2"><br></p>
<p class="p2"><span class="Apple-converted-space">                            </span></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div class="border-t-2 border-purple-100 pt-4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;div class="flex justify-between items-center"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;div class="text-sm text-gray-600"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;div class="font-semibold text-base text-gray-800"&gt;東京都 S様&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;div class="text-xs text-gray-500 mt-1"&gt;2024年3月&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="text-xs bg-purple-50 text-purple-700 px-3 py-1.5 rounded-full font-medium"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>直接いただいた声</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;!-- 右矢印 --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;button onclick="scrollReviews('right')" class="absolute right-0 top-1/2 -translate-y-1/2 translate-x-12 z-10 bg-white shadow-lg rounded-full p-3 hover:bg-gray-50 transition"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;svg class="w-6 h-6 text-gray-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"&gt;&lt;/path&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/svg&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;!-- インジケーター --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div id="reviewIndicators" class="flex justify-center gap-2 mt-6"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;button onclick="goToReview(0)" class="w-3 h-3 rounded-full transition bg-blue-600 scale-125"&gt;&lt;/button&gt;</p>
<p class="p2"><span class="Apple-converted-space">                        </span></p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;button onclick="goToReview(1)" class="w-3 h-3 rounded-full transition bg-gray-300"&gt;&lt;/button&gt;</p>
<p class="p2"><span class="Apple-converted-space">                        </span></p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;button onclick="goToReview(2)" class="w-3 h-3 rounded-full transition bg-gray-300"&gt;&lt;/button&gt;</p>
<p class="p2"><span class="Apple-converted-space">                        </span></p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;button onclick="goToReview(3)" class="w-3 h-3 rounded-full transition bg-gray-300"&gt;&lt;/button&gt;</p>
<p class="p2"><span class="Apple-converted-space">                        </span></p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;button onclick="goToReview(4)" class="w-3 h-3 rounded-full transition bg-gray-300"&gt;&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;!-- 10. お問い合わせセクション（最終CTA） --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div id="preview-contact" class="mb-12"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;h3 class="text-xl font-bold text-gray-900 mb-6 flex items-center"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;span class="w-1 h-6 bg-purple-600 mr-3 rounded"&gt;&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>お問い合わせ</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/h3&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="grid grid-cols-1 md:grid-cols-2 gap-6"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div class="bg-white border rounded-xl p-4 hover:shadow-lg transition"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;div class="flex items-center mb-2"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;div class="w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center mr-3"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;svg class="w-6 h-6 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"&gt;&lt;/path&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;/svg&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;p class="text-sm text-gray-600"&gt;お電話でのお問い合わせ&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;p class="text-lg font-semibold text-gray-900"&gt;0120-XXX-XXX&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;p class="text-xs text-gray-500"&gt;受付時間: 9:00-18:00（年中無休）&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div class="bg-white border rounded-xl p-4 hover:shadow-lg transition"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;div class="flex items-center mb-2"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;div class="w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center mr-3"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;svg class="w-6 h-6 text-purple-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"&gt;&lt;/path&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;/svg&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;div class="overflow-hidden min-w-0"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;p class="text-sm text-gray-600"&gt;メールでのお問い合わせ&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;p class="text-sm sm:text-base font-semibold text-gray-900 break-all"&gt;info@gaihekikuraberu.com&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;p class="text-xs text-gray-500"&gt;24時間受付中&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;!-- 9つの特典詳細セクション --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="mb-12 bg-gradient-to-br from-orange-50 via-orange-100 to-red-50 rounded-2xl p-10"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="text-center mb-6"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;h3 class="text-2xl font-bold text-gray-900 mb-2"&gt;🎁 今だけ！9つの無料特典&lt;/h3&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;p class="text-sm text-gray-600"&gt;期間限定キャンペーン実施中！&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="max-w-4xl mx-auto mb-6 px-4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;!-- 特典1: 無料点検 --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;div class="bg-white rounded-lg p-4 shadow-md border-l-4 border-orange-500 hover:shadow-lg transition"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;div class="flex items-start"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;span class="text-2xl mr-3"&gt;🔍&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;h4 class="font-bold text-orange-600 mb-1"&gt;無料点検&lt;/h4&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;p class="text-xs text-gray-600"&gt;プロの目で外壁・屋根を徹底チェック！お家の状態を詳細に報告&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;!-- 特典2: エリア最低価格保証 --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;div class="bg-white rounded-lg p-4 shadow-md border-l-4 border-orange-500 hover:shadow-lg transition"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;div class="flex items-start"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;span class="text-2xl mr-3"&gt;💰&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;h4 class="font-bold text-orange-600 mb-1"&gt;エリア最低価格保証&lt;/h4&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;p class="text-xs text-gray-600"&gt;地域最安値をお約束！他社より高ければ値引き対応&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;!-- 特典3: お値引き交渉代行 --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;div class="bg-white rounded-lg p-4 shadow-md border-l-4 border-orange-500 hover:shadow-lg transition"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;div class="flex items-start"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;span class="text-2xl mr-3"&gt;🤝&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;h4 class="font-bold text-orange-600 mb-1"&gt;お値引き交渉代行&lt;/h4&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;p class="text-xs text-gray-600"&gt;他社見積もりをお持ちなら、代わりに交渉して最安値を実現&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;!-- 特典4: 助成金申請サポート --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;div class="bg-white rounded-lg p-4 shadow-md border-l-4 border-orange-500 hover:shadow-lg transition"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;div class="flex items-start"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;span class="text-2xl mr-3"&gt;📝&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;h4 class="font-bold text-orange-600 mb-1"&gt;助成金申請サポート&lt;/h4&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;p class="text-xs text-gray-600"&gt;最大10～70万円！各種助成金の申請手続きを完全サポート&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;!-- 特典5: 火災保険申請サポート --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;div class="bg-white rounded-lg p-4 shadow-md border-l-4 border-orange-500 hover:shadow-lg transition"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;div class="flex items-start"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;span class="text-2xl mr-3"&gt;🏛️&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;h4 class="font-bold text-orange-600 mb-1"&gt;火災保険申請サポート&lt;/h4&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;p class="text-xs text-gray-600"&gt;台風・雪害等の損害に火災保険適用可能！無料で調査&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;!-- 特典6: お断り代行サービス --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;div class="bg-white rounded-lg p-4 shadow-md border-l-4 border-orange-500 hover:shadow-lg transition"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;div class="flex items-start"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;span class="text-2xl mr-3"&gt;🚫&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;h4 class="font-bold text-orange-600 mb-1"&gt;お断り代行サービス&lt;/h4&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;p class="text-xs text-gray-600"&gt;成約時の他社へのお断りも代行可能！面倒なやり取り不要&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;!-- 特典7: 無料お電話サポート --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;div class="bg-white rounded-lg p-4 shadow-md border-l-4 border-orange-500 hover:shadow-lg transition"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;div class="flex items-start"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;span class="text-2xl mr-3"&gt;📞&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;h4 class="font-bold text-orange-600 mb-1"&gt;無料お電話サポート&lt;/h4&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;p class="text-xs text-gray-600"&gt;工事完了後も安心！365日電話サポートでお悩み解決&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;!-- 特典8: 訪問業者マニュアル進呈 --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;div class="bg-white rounded-lg p-4 shadow-md border-l-4 border-orange-500 hover:shadow-lg transition"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;div class="flex items-start"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;span class="text-2xl mr-3"&gt;📖&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;h4 class="font-bold text-orange-600 mb-1"&gt;訪問業者マニュアル進呈&lt;/h4&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;p class="text-xs text-gray-600"&gt;悪徳業者の手口や対処法を完全解説！安心ガイド&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;!-- 特典9: お友達紹介キャンペーン --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;div class="bg-white rounded-lg p-4 shadow-md border-l-4 border-orange-500 hover:shadow-lg transition"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;div class="flex items-start"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;span class="text-2xl mr-3"&gt;👥&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;h4 class="font-bold text-orange-600 mb-1"&gt;お友達紹介キャンペーン&lt;/h4&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;p class="text-xs text-gray-600"&gt;紹介で双方に特典！最大30,000円分のギフトカード&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="text-center mt-6"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;button class="bg-gradient-to-r from-orange-500 to-red-500 text-white px-10 py-4 rounded-lg hover:shadow-xl transition font-bold text-lg transform hover:scale-105"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>今すぐ無料見積もりを依頼する</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;p class="text-xs text-gray-500 mt-2"&gt;※24時間以内にご連絡いたします&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;!-- 8. 対応エリアセクション --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div id="preview-areas" class="mb-12" style="display: block;"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;h3 class="text-xl font-bold text-gray-900 mb-6 flex items-center"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;span class="w-1 h-6 bg-orange-600 mr-3 rounded"&gt;&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>対応エリア</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/h3&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="bg-white rounded-xl p-6 border border-gray-200"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div id="previewCitiesContainer"&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;!-- 4. 対応可能な工事（サービス内容） --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div id="preview-services" class="mb-12" style="display: block;"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;h3 class="text-xl font-bold text-gray-900 mb-6 flex items-center"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;span class="w-1 h-6 bg-green-600 mr-3 rounded"&gt;&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>対応可能な工事</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/h3&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div id="previewServicesList" class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3"&gt;&lt;div class="bg-white border border-green-200 rounded-lg p-3 flex items-center hover:shadow-md transition"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;span class="text-2xl mr-2"&gt;🎨&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;span class="text-sm font-medium text-gray-800"&gt;外壁塗装&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;&lt;div class="bg-white border border-green-200 rounded-lg p-3 flex items-center hover:shadow-md transition"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;span class="text-2xl mr-2"&gt;🏗️&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;span class="text-sm font-medium text-gray-800"&gt;外壁カバー工法&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;&lt;div class="bg-white border border-green-200 rounded-lg p-3 flex items-center hover:shadow-md transition"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;span class="text-2xl mr-2"&gt;🔨&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;span class="text-sm font-medium text-gray-800"&gt;外壁張替え&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;&lt;div class="bg-white border border-green-200 rounded-lg p-3 flex items-center hover:shadow-md transition"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;span class="text-2xl mr-2"&gt;🏠&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;span class="text-sm font-medium text-gray-800"&gt;屋根塗装&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;&lt;div class="bg-white border border-green-200 rounded-lg p-3 flex items-center hover:shadow-md transition"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;span class="text-2xl mr-2"&gt;💧&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;span class="text-sm font-medium text-gray-800"&gt;屋上防水&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;&lt;div class="bg-white border border-green-200 rounded-lg p-3 flex items-center hover:shadow-md transition"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;span class="text-2xl mr-2"&gt;🏚️&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;span class="text-sm font-medium text-gray-800"&gt;屋根葺き替え・張り替え※スレート・ガルバリウム等&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;&lt;div class="bg-white border border-green-200 rounded-lg p-3 flex items-center hover:shadow-md transition"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;span class="text-2xl mr-2"&gt;🏯&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;span class="text-sm font-medium text-gray-800"&gt;屋根葺き替え・張り替え※瓦&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;&lt;div class="bg-white border border-green-200 rounded-lg p-3 flex items-center hover:shadow-md transition"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;span class="text-2xl mr-2"&gt;📐&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;span class="text-sm font-medium text-gray-800"&gt;屋根カバー工法&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;&lt;div class="bg-white border border-green-200 rounded-lg p-3 flex items-center hover:shadow-md transition"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;span class="text-2xl mr-2"&gt;🔧&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;span class="text-sm font-medium text-gray-800"&gt;外壁補修&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;&lt;div class="bg-white border border-green-200 rounded-lg p-3 flex items-center hover:shadow-md transition"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;span class="text-2xl mr-2"&gt;🛠️&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;span class="text-sm font-medium text-gray-800"&gt;屋根補修&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;&lt;div class="bg-white border border-green-200 rounded-lg p-3 flex items-center hover:shadow-md transition"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;span class="text-2xl mr-2"&gt;🌊&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;span class="text-sm font-medium text-gray-800"&gt;ベランダ防水&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;&lt;div class="bg-white border border-green-200 rounded-lg p-3 flex items-center hover:shadow-md transition"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;span class="text-2xl mr-2"&gt;✓&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;span class="text-sm font-medium text-gray-800"&gt;外壁雨漏り修繕&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;&lt;div class="bg-white border border-green-200 rounded-lg p-3 flex items-center hover:shadow-md transition"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;span class="text-2xl mr-2"&gt;✓&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;span class="text-sm font-medium text-gray-800"&gt;内装水回り（バス・キッチン・トイレ）&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;&lt;div class="bg-white border border-green-200 rounded-lg p-3 flex items-center hover:shadow-md transition"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;span class="text-2xl mr-2"&gt;✓&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;span class="text-sm font-medium text-gray-800"&gt;内装（フローリングや畳などの床・クロス等）&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;!-- CTAボタン（1回目）削除 --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="hidden"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="text-center mb-6"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;h3 class="text-2xl font-bold text-gray-900 mb-2"&gt;🎁 今だけ！9つの無料特典&lt;/h3&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;p class="text-sm text-gray-600"&gt;期間限定キャンペーン実施中！&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="max-w-4xl mx-auto mb-6 px-4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;!-- 特典1: 無料点検 --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;div class="bg-white rounded-lg p-4 shadow-md border-l-4 border-orange-500 hover:shadow-lg transition"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;div class="flex items-start"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;span class="text-2xl mr-3"&gt;🔍&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;h4 class="font-bold text-orange-600 mb-1"&gt;無料点検&lt;/h4&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;p class="text-xs text-gray-600"&gt;プロの目で外壁・屋根を徹底チェック！お家の状態を詳細に報告&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;!-- 特典2: エリア最低価格保証 --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;div class="bg-white rounded-lg p-4 shadow-md border-l-4 border-orange-500 hover:shadow-lg transition"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;div class="flex items-start"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;span class="text-2xl mr-3"&gt;💰&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;h4 class="font-bold text-orange-600 mb-1"&gt;エリア最低価格保証&lt;/h4&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;p class="text-xs text-gray-600"&gt;地域最安値をお約束！他社より高ければ値引き対応&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;!-- 特典3: お値引き交渉代行 --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;div class="bg-white rounded-lg p-4 shadow-md border-l-4 border-orange-500 hover:shadow-lg transition"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;div class="flex items-start"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;span class="text-2xl mr-3"&gt;🤝&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;h4 class="font-bold text-orange-600 mb-1"&gt;お値引き交渉代行&lt;/h4&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;p class="text-xs text-gray-600"&gt;他社見積もりをお持ちなら、代わりに交渉して最安値を実現&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;!-- 特典4: 助成金申請サポート --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;div class="bg-white rounded-lg p-4 shadow-md border-l-4 border-orange-500 hover:shadow-lg transition"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;div class="flex items-start"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;span class="text-2xl mr-3"&gt;📝&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;h4 class="font-bold text-orange-600 mb-1"&gt;助成金申請サポート&lt;/h4&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;p class="text-xs text-gray-600"&gt;最大10～70万円！各種助成金の申請手続きを完全サポート&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;!-- 特典5: 火災保険申請サポート --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;div class="bg-white rounded-lg p-4 shadow-md border-l-4 border-orange-500 hover:shadow-lg transition"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;div class="flex items-start"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;span class="text-2xl mr-3"&gt;🏛️&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;h4 class="font-bold text-orange-600 mb-1"&gt;火災保険申請サポート&lt;/h4&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;p class="text-xs text-gray-600"&gt;台風・雪害等の損害に火災保険適用可能！無料で調査&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;!-- 特典6: お断り代行サービス --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;div class="bg-white rounded-lg p-4 shadow-md border-l-4 border-orange-500 hover:shadow-lg transition"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;div class="flex items-start"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;span class="text-2xl mr-3"&gt;🚫&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;h4 class="font-bold text-orange-600 mb-1"&gt;お断り代行サービス&lt;/h4&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;p class="text-xs text-gray-600"&gt;成約時の他社へのお断りも代行可能！面倒なやり取り不要&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;!-- 特典8: 訪問業者マニュアル --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;div class="bg-white rounded-lg p-4 shadow-md border-l-4 border-orange-500 hover:shadow-lg transition"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;div class="flex items-start"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;span class="text-2xl mr-3"&gt;📖&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;h4 class="font-bold text-orange-600 mb-1"&gt;訪問業者マニュアル進呈&lt;/h4&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;p class="text-xs text-gray-600"&gt;悪徳業者の手口や対処法を完全解説！安心ガイド&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;!-- 特典7: 無料お電話サポート --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;div class="bg-white rounded-lg p-4 shadow-md border-l-4 border-orange-500 hover:shadow-lg transition"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;div class="flex items-start"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;span class="text-2xl mr-3"&gt;📞&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;h4 class="font-bold text-orange-600 mb-1"&gt;無料お電話サポート&lt;/h4&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;p class="text-xs text-gray-600"&gt;工事完了後も安心！365日電話サポートでお悩み解決&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;!-- 特典8: お友達紹介キャンペーン --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;div class="bg-white rounded-lg p-4 shadow-md border-l-4 border-orange-500 hover:shadow-lg transition"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;div class="flex items-start"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;span class="text-2xl mr-3"&gt;👥&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;h4 class="font-bold text-orange-600 mb-1"&gt;お友達紹介キャンペーン&lt;/h4&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;p class="text-xs text-gray-600"&gt;紹介で双方に特典！最大30,000円分のギフトカード&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="text-center"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;button class="bg-gradient-to-r from-orange-500 to-red-500 text-white px-10 py-4 rounded-lg hover:shadow-xl transition font-bold text-lg transform hover:scale-105"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>今すぐ無料見積もりを依頼する</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;p class="text-xs text-gray-500 mt-2"&gt;※24時間以内にご連絡いたします&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;!-- 5. 写真ギャラリーセクション（仕事の様子） --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div id="preview-gallery" class="mb-12" style="display: block;"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;h3 class="text-xl font-bold text-gray-900 mb-6 flex items-center"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;span class="w-1 h-6 bg-purple-600 mr-3 rounded"&gt;&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>保有資格</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/h3&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div id="qualificationsList" class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3"&gt;&lt;div class="bg-purple-50 border border-purple-200 rounded-lg p-3 flex items-center"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;span class="text-2xl mr-2"&gt;🎖️&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;span class="text-sm font-medium"&gt;一級塗装技能士&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;&lt;div class="bg-purple-50 border border-purple-200 rounded-lg p-3 flex items-center"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;span class="text-2xl mr-2"&gt;🎖️&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;span class="text-sm font-medium"&gt;二級塗装技能士&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;&lt;div class="bg-purple-50 border border-purple-200 rounded-lg p-3 flex items-center"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;span class="text-2xl mr-2"&gt;🎖️&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;span class="text-sm font-medium"&gt;足場組立作業主任者&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;&lt;div class="bg-purple-50 border border-purple-200 rounded-lg p-3 flex items-center"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;span class="text-2xl mr-2"&gt;🎖️&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;span class="text-sm font-medium"&gt;石綿作業主任者&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;&lt;div class="bg-purple-50 border border-purple-200 rounded-lg p-3 flex items-center"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;span class="text-2xl mr-2"&gt;🎖️&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;span class="text-sm font-medium"&gt;外壁診断士&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;&lt;div class="bg-purple-50 border border-purple-200 rounded-lg p-3 flex items-center"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;span class="text-2xl mr-2"&gt;🎖️&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;span class="text-sm font-medium"&gt;外壁劣化診断士&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;&lt;div class="bg-purple-50 border border-purple-200 rounded-lg p-3 flex items-center"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;span class="text-2xl mr-2"&gt;🎖️&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;span class="text-sm font-medium"&gt;外壁アドバイザー&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;&lt;div class="bg-purple-50 border border-purple-200 rounded-lg p-3 flex items-center"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;span class="text-2xl mr-2"&gt;🎖️&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;span class="text-sm font-medium"&gt;屋根診断士&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;&lt;div class="bg-purple-50 border border-purple-200 rounded-lg p-3 flex items-center"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;span class="text-2xl mr-2"&gt;🎖️&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;span class="text-sm font-medium"&gt;雨漏り診断士&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;&lt;div class="bg-purple-50 border border-purple-200 rounded-lg p-3 flex items-center"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;span class="text-2xl mr-2"&gt;🎖️&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;span class="text-sm font-medium"&gt;増改築相談員&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;&lt;div class="bg-purple-50 border border-purple-200 rounded-lg p-3 flex items-center"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;span class="text-2xl mr-2"&gt;🎖️&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;span class="text-sm font-medium"&gt;第二種電気工事士&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;&lt;div class="bg-purple-50 border border-purple-200 rounded-lg p-3 flex items-center"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;span class="text-2xl mr-2"&gt;🎖️&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;span class="text-sm font-medium"&gt;有機溶剤作業主任者&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;&lt;div class="bg-purple-50 border border-purple-200 rounded-lg p-3 flex items-center"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;span class="text-2xl mr-2"&gt;🎖️&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;span class="text-sm font-medium"&gt;一級防水施工技能士&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div id="preview-insurance" class="mb-12" style="display: block;"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;h3 class="text-xl font-bold text-gray-900 mb-6 flex items-center"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;span class="w-1 h-6 bg-indigo-600 mr-3 rounded"&gt;&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>加入保険</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/h3&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div id="insuranceList" class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3"&gt;&lt;div class="bg-indigo-50 border border-indigo-200 rounded-lg p-3 flex items-center"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;span class="text-2xl mr-2"&gt;🛡️&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;span class="text-sm font-medium"&gt;工事保険&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;&lt;div class="bg-indigo-50 border border-indigo-200 rounded-lg p-3 flex items-center"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;span class="text-2xl mr-2"&gt;🛡️&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;span class="text-sm font-medium"&gt;賠償責任保険&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;&lt;div class="bg-indigo-50 border border-indigo-200 rounded-lg p-3 flex items-center"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;span class="text-2xl mr-2"&gt;🛡️&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;span class="text-sm font-medium"&gt;リフォーム瑕疵保険&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;&lt;div class="bg-indigo-50 border border-indigo-200 rounded-lg p-3 flex items-center"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;span class="text-2xl mr-2"&gt;🛡️&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;span class="text-sm font-medium"&gt;建設工事保険&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;&lt;div class="bg-indigo-50 border border-indigo-200 rounded-lg p-3 flex items-center"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;span class="text-2xl mr-2"&gt;🛡️&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;span class="text-sm font-medium"&gt;請負業者賠償責任保険&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;&lt;div class="bg-indigo-50 border border-indigo-200 rounded-lg p-3 flex items-center"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;span class="text-2xl mr-2"&gt;🛡️&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;span class="text-sm font-medium"&gt;生産物賠償責任保険&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;!-- CTAボタン（2回目） --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="text-center py-8 bg-gradient-to-r from-blue-50 to-purple-50 rounded-lg"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;h3 class="text-lg font-bold text-gray-900 mb-3"&gt;安心の保証体制でお客様をサポート&lt;/h3&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;button class="bg-gradient-to-r from-blue-600 to-purple-600 text-white px-8 py-3 rounded-lg hover:shadow-lg transition font-semibold"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>まずは無料相談から</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;!-- 7. 当社の強み（特別なメリット） --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div id="preview-features" class="mb-12" style="display: block;"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;h3 class="text-xl font-bold text-gray-900 mb-6 flex items-center"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;span class="w-1 h-6 bg-orange-600 mr-3 rounded"&gt;&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>当社の強み</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/h3&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div id="previewFeaturesList" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"&gt;&lt;div class="bg-gradient-to-br from-blue-50 to-blue-100 rounded-xl p-4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="text-3xl mb-2"&gt;🌡&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;h4 class="font-semibold text-gray-900 mb-1"&gt;遮熱・断熱塗料提案可能&lt;/h4&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;&lt;div class="bg-gradient-to-br from-purple-50 to-purple-100 rounded-xl p-4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="text-3xl mb-2"&gt;🏡&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;h4 class="font-semibold text-gray-900 mb-1"&gt;エクステリア（庭・駐車場・外構）&lt;/h4&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;&lt;div class="bg-gradient-to-br from-green-50 to-green-100 rounded-xl p-4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="text-3xl mb-2"&gt;☀️&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;h4 class="font-semibold text-gray-900 mb-1"&gt;太陽光パネル脱着（撤去含む）&lt;/h4&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;&lt;div class="bg-gradient-to-br from-pink-50 to-pink-100 rounded-xl p-4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="text-3xl mb-2"&gt;🏦&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;h4 class="font-semibold text-gray-900 mb-1"&gt;提携先ローン有り&lt;/h4&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;&lt;div class="bg-gradient-to-br from-yellow-50 to-yellow-100 rounded-xl p-4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="text-3xl mb-2"&gt;💳&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;h4 class="font-semibold text-gray-900 mb-1"&gt;クレジットカード払い可&lt;/h4&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;&lt;div class="bg-gradient-to-br from-indigo-50 to-indigo-100 rounded-xl p-4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="text-3xl mb-2"&gt;🔥&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;h4 class="font-semibold text-gray-900 mb-1"&gt;火災保険申請サポート&lt;/h4&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;&lt;div class="bg-gradient-to-br from-blue-50 to-blue-100 rounded-xl p-4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="text-3xl mb-2"&gt;💰&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;h4 class="font-semibold text-gray-900 mb-1"&gt;助成金申請サポート&lt;/h4&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;&lt;div class="bg-gradient-to-br from-purple-50 to-purple-100 rounded-xl p-4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="text-3xl mb-2"&gt;🏗&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;h4 class="font-semibold text-gray-900 mb-1"&gt;建築許可証&lt;/h4&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;&lt;div class="bg-gradient-to-br from-green-50 to-green-100 rounded-xl p-4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="text-3xl mb-2"&gt;✨&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;h4 class="font-semibold text-gray-900 mb-1"&gt;光触媒塗料提案可&lt;/h4&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;!-- 6. 保有資格・加入保険（安心感） --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div id="preview-qualifications" class="mb-12" style="display: block;"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;h3 class="text-xl font-bold text-gray-900 mb-6 flex items-center"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;span class="w-1 h-6 bg-indigo-600 mr-3 rounded"&gt;&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>写真ギャラリー</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/h3&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;!-- カルーセルコンテナ --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="relative"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;!-- 左矢印 --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;button onclick="scrollGallery('left')" class="absolute left-0 top-1/2 -translate-y-1/2 -translate-x-4 z-10 bg-white shadow-lg rounded-full p-2 hover:bg-gray-50 transition"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;svg class="w-5 h-5 text-gray-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"&gt;&lt;/path&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/svg&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/button&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;!-- ギャラリーカルーセル --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div id="galleryCarousel" class="overflow-hidden"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;div id="previewGalleryList" class="flex gap-4 transition-transform duration-300" style="transform: translateX(-6688px);"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="flex-shrink-0 w-72 aspect-square overflow-hidden rounded-lg cursor-pointer" onclick="openImageModal('https://drive.google.com/thumbnail?id=1wPa5qlnbVjyiZ9-rKZWfiaYxVbsYueFd&amp;amp;sz=w1000', 'ギャラリー画像1')"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;img src="https://drive.google.com/thumbnail?id=1wPa5qlnbVjyiZ9-rKZWfiaYxVbsYueFd&amp;amp;sz=w1000" alt="ギャラリー画像1" class="w-full h-full object-cover hover:scale-110 transition-transform duration-300"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p2"><span class="Apple-converted-space">                </span></p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="flex-shrink-0 w-72 aspect-square overflow-hidden rounded-lg cursor-pointer" onclick="openImageModal('https://drive.google.com/thumbnail?id=1eh6VsUdDgcOGp1uH3cgWk8beBTrvvy_T&amp;amp;sz=w1000', 'ギャラリー画像2')"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;img src="https://drive.google.com/thumbnail?id=1eh6VsUdDgcOGp1uH3cgWk8beBTrvvy_T&amp;amp;sz=w1000" alt="ギャラリー画像2" class="w-full h-full object-cover hover:scale-110 transition-transform duration-300"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p2"><span class="Apple-converted-space">                </span></p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="flex-shrink-0 w-72 aspect-square overflow-hidden rounded-lg cursor-pointer" onclick="openImageModal('https://drive.google.com/thumbnail?id=1MhcTeKWmuHTHvo5xVitNp57iL1iCQLxd&amp;amp;sz=w1000', 'ギャラリー画像3')"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;img src="https://drive.google.com/thumbnail?id=1MhcTeKWmuHTHvo5xVitNp57iL1iCQLxd&amp;amp;sz=w1000" alt="ギャラリー画像3" class="w-full h-full object-cover hover:scale-110 transition-transform duration-300"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p2"><span class="Apple-converted-space">                </span></p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="flex-shrink-0 w-72 aspect-square overflow-hidden rounded-lg cursor-pointer" onclick="openImageModal('https://drive.google.com/thumbnail?id=1WTGr6YnN9t8BA9gbj6SwB2YhvkN7tU4-&amp;amp;sz=w1000', 'ギャラリー画像4')"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;img src="https://drive.google.com/thumbnail?id=1WTGr6YnN9t8BA9gbj6SwB2YhvkN7tU4-&amp;amp;sz=w1000" alt="ギャラリー画像4" class="w-full h-full object-cover hover:scale-110 transition-transform duration-300"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p2"><span class="Apple-converted-space">                </span></p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="flex-shrink-0 w-72 aspect-square overflow-hidden rounded-lg cursor-pointer" onclick="openImageModal('https://drive.google.com/thumbnail?id=1BOPtkoklUZF5-vA805UInmq2eiCEbXdu&amp;amp;sz=w1000', 'ギャラリー画像5')"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;img src="https://drive.google.com/thumbnail?id=1BOPtkoklUZF5-vA805UInmq2eiCEbXdu&amp;amp;sz=w1000" alt="ギャラリー画像5" class="w-full h-full object-cover hover:scale-110 transition-transform duration-300"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p2"><span class="Apple-converted-space">                </span></p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="flex-shrink-0 w-72 aspect-square overflow-hidden rounded-lg cursor-pointer" onclick="openImageModal('https://drive.google.com/thumbnail?id=1pCLD4Uz2ddsar2KN024S0ixk3thSxAOA&amp;amp;sz=w1000', 'ギャラリー画像6')"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;img src="https://drive.google.com/thumbnail?id=1pCLD4Uz2ddsar2KN024S0ixk3thSxAOA&amp;amp;sz=w1000" alt="ギャラリー画像6" class="w-full h-full object-cover hover:scale-110 transition-transform duration-300"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p2"><span class="Apple-converted-space">                </span></p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="flex-shrink-0 w-72 aspect-square overflow-hidden rounded-lg cursor-pointer" onclick="openImageModal('https://drive.google.com/thumbnail?id=1jcNwDTcpXHkVo5eahtR_GWacrgFgu04T&amp;amp;sz=w1000', 'ギャラリー画像7')"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;img src="https://drive.google.com/thumbnail?id=1jcNwDTcpXHkVo5eahtR_GWacrgFgu04T&amp;amp;sz=w1000" alt="ギャラリー画像7" class="w-full h-full object-cover hover:scale-110 transition-transform duration-300"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p2"><span class="Apple-converted-space">                </span></p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="flex-shrink-0 w-72 aspect-square overflow-hidden rounded-lg cursor-pointer" onclick="openImageModal('https://drive.google.com/thumbnail?id=1T01Q88Me9j_FriI8stvG0vk5T5WjnUgb&amp;amp;sz=w1000', 'ギャラリー画像8')"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;img src="https://drive.google.com/thumbnail?id=1T01Q88Me9j_FriI8stvG0vk5T5WjnUgb&amp;amp;sz=w1000" alt="ギャラリー画像8" class="w-full h-full object-cover hover:scale-110 transition-transform duration-300"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p2"><span class="Apple-converted-space">                </span></p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="flex-shrink-0 w-72 aspect-square overflow-hidden rounded-lg cursor-pointer" onclick="openImageModal('https://drive.google.com/thumbnail?id=1VFhHXI6Nnkw7LRAKfFXVfdReYUn-rZfI&amp;amp;sz=w1000', 'ギャラリー画像9')"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;img src="https://drive.google.com/thumbnail?id=1VFhHXI6Nnkw7LRAKfFXVfdReYUn-rZfI&amp;amp;sz=w1000" alt="ギャラリー画像9" class="w-full h-full object-cover hover:scale-110 transition-transform duration-300"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p2"><span class="Apple-converted-space">                </span></p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="flex-shrink-0 w-72 aspect-square overflow-hidden rounded-lg cursor-pointer" onclick="openImageModal('https://drive.google.com/thumbnail?id=1AVw6Br9A9HytjmjTZUOllLUCj3Ec0-kB&amp;amp;sz=w1000', 'ギャラリー画像10')"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;img src="https://drive.google.com/thumbnail?id=1AVw6Br9A9HytjmjTZUOllLUCj3Ec0-kB&amp;amp;sz=w1000" alt="ギャラリー画像10" class="w-full h-full object-cover hover:scale-110 transition-transform duration-300"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p2"><span class="Apple-converted-space">                </span></p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="flex-shrink-0 w-72 aspect-square overflow-hidden rounded-lg cursor-pointer" onclick="openImageModal('https://drive.google.com/thumbnail?id=12h4hwVM95fX0Tt8S0YoPOwrjiKWpTZTe&amp;amp;sz=w1000', 'ギャラリー画像11')"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;img src="https://drive.google.com/thumbnail?id=12h4hwVM95fX0Tt8S0YoPOwrjiKWpTZTe&amp;amp;sz=w1000" alt="ギャラリー画像11" class="w-full h-full object-cover hover:scale-110 transition-transform duration-300"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p2"><span class="Apple-converted-space">                </span></p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="flex-shrink-0 w-72 aspect-square overflow-hidden rounded-lg cursor-pointer" onclick="openImageModal('https://drive.google.com/thumbnail?id=1wPa5qlnbVjyiZ9-rKZWfiaYxVbsYueFd&amp;amp;sz=w1000', 'ギャラリー画像1')"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;img src="https://drive.google.com/thumbnail?id=1wPa5qlnbVjyiZ9-rKZWfiaYxVbsYueFd&amp;amp;sz=w1000" alt="ギャラリー画像1" class="w-full h-full object-cover hover:scale-110 transition-transform duration-300"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p2"><span class="Apple-converted-space">                </span></p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="flex-shrink-0 w-72 aspect-square overflow-hidden rounded-lg cursor-pointer" onclick="openImageModal('https://drive.google.com/thumbnail?id=1eh6VsUdDgcOGp1uH3cgWk8beBTrvvy_T&amp;amp;sz=w1000', 'ギャラリー画像2')"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;img src="https://drive.google.com/thumbnail?id=1eh6VsUdDgcOGp1uH3cgWk8beBTrvvy_T&amp;amp;sz=w1000" alt="ギャラリー画像2" class="w-full h-full object-cover hover:scale-110 transition-transform duration-300"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p2"><span class="Apple-converted-space">                </span></p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="flex-shrink-0 w-72 aspect-square overflow-hidden rounded-lg cursor-pointer" onclick="openImageModal('https://drive.google.com/thumbnail?id=1MhcTeKWmuHTHvo5xVitNp57iL1iCQLxd&amp;amp;sz=w1000', 'ギャラリー画像3')"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;img src="https://drive.google.com/thumbnail?id=1MhcTeKWmuHTHvo5xVitNp57iL1iCQLxd&amp;amp;sz=w1000" alt="ギャラリー画像3" class="w-full h-full object-cover hover:scale-110 transition-transform duration-300"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p2"><span class="Apple-converted-space">                </span></p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="flex-shrink-0 w-72 aspect-square overflow-hidden rounded-lg cursor-pointer" onclick="openImageModal('https://drive.google.com/thumbnail?id=1WTGr6YnN9t8BA9gbj6SwB2YhvkN7tU4-&amp;amp;sz=w1000', 'ギャラリー画像4')"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;img src="https://drive.google.com/thumbnail?id=1WTGr6YnN9t8BA9gbj6SwB2YhvkN7tU4-&amp;amp;sz=w1000" alt="ギャラリー画像4" class="w-full h-full object-cover hover:scale-110 transition-transform duration-300"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p2"><span class="Apple-converted-space">                </span></p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="flex-shrink-0 w-72 aspect-square overflow-hidden rounded-lg cursor-pointer" onclick="openImageModal('https://drive.google.com/thumbnail?id=1BOPtkoklUZF5-vA805UInmq2eiCEbXdu&amp;amp;sz=w1000', 'ギャラリー画像5')"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;img src="https://drive.google.com/thumbnail?id=1BOPtkoklUZF5-vA805UInmq2eiCEbXdu&amp;amp;sz=w1000" alt="ギャラリー画像5" class="w-full h-full object-cover hover:scale-110 transition-transform duration-300"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p2"><span class="Apple-converted-space">                </span></p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="flex-shrink-0 w-72 aspect-square overflow-hidden rounded-lg cursor-pointer" onclick="openImageModal('https://drive.google.com/thumbnail?id=1pCLD4Uz2ddsar2KN024S0ixk3thSxAOA&amp;amp;sz=w1000', 'ギャラリー画像6')"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;img src="https://drive.google.com/thumbnail?id=1pCLD4Uz2ddsar2KN024S0ixk3thSxAOA&amp;amp;sz=w1000" alt="ギャラリー画像6" class="w-full h-full object-cover hover:scale-110 transition-transform duration-300"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p2"><span class="Apple-converted-space">                </span></p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="flex-shrink-0 w-72 aspect-square overflow-hidden rounded-lg cursor-pointer" onclick="openImageModal('https://drive.google.com/thumbnail?id=1jcNwDTcpXHkVo5eahtR_GWacrgFgu04T&amp;amp;sz=w1000', 'ギャラリー画像7')"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;img src="https://drive.google.com/thumbnail?id=1jcNwDTcpXHkVo5eahtR_GWacrgFgu04T&amp;amp;sz=w1000" alt="ギャラリー画像7" class="w-full h-full object-cover hover:scale-110 transition-transform duration-300"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p2"><span class="Apple-converted-space">                </span></p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="flex-shrink-0 w-72 aspect-square overflow-hidden rounded-lg cursor-pointer" onclick="openImageModal('https://drive.google.com/thumbnail?id=1T01Q88Me9j_FriI8stvG0vk5T5WjnUgb&amp;amp;sz=w1000', 'ギャラリー画像8')"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;img src="https://drive.google.com/thumbnail?id=1T01Q88Me9j_FriI8stvG0vk5T5WjnUgb&amp;amp;sz=w1000" alt="ギャラリー画像8" class="w-full h-full object-cover hover:scale-110 transition-transform duration-300"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p2"><span class="Apple-converted-space">                </span></p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="flex-shrink-0 w-72 aspect-square overflow-hidden rounded-lg cursor-pointer" onclick="openImageModal('https://drive.google.com/thumbnail?id=1VFhHXI6Nnkw7LRAKfFXVfdReYUn-rZfI&amp;amp;sz=w1000', 'ギャラリー画像9')"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;img src="https://drive.google.com/thumbnail?id=1VFhHXI6Nnkw7LRAKfFXVfdReYUn-rZfI&amp;amp;sz=w1000" alt="ギャラリー画像9" class="w-full h-full object-cover hover:scale-110 transition-transform duration-300"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p2"><span class="Apple-converted-space">                </span></p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="flex-shrink-0 w-72 aspect-square overflow-hidden rounded-lg cursor-pointer" onclick="openImageModal('https://drive.google.com/thumbnail?id=1AVw6Br9A9HytjmjTZUOllLUCj3Ec0-kB&amp;amp;sz=w1000', 'ギャラリー画像10')"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;img src="https://drive.google.com/thumbnail?id=1AVw6Br9A9HytjmjTZUOllLUCj3Ec0-kB&amp;amp;sz=w1000" alt="ギャラリー画像10" class="w-full h-full object-cover hover:scale-110 transition-transform duration-300"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p2"><span class="Apple-converted-space">                </span></p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="flex-shrink-0 w-72 aspect-square overflow-hidden rounded-lg cursor-pointer" onclick="openImageModal('https://drive.google.com/thumbnail?id=12h4hwVM95fX0Tt8S0YoPOwrjiKWpTZTe&amp;amp;sz=w1000', 'ギャラリー画像11')"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;img src="https://drive.google.com/thumbnail?id=12h4hwVM95fX0Tt8S0YoPOwrjiKWpTZTe&amp;amp;sz=w1000" alt="ギャラリー画像11" class="w-full h-full object-cover hover:scale-110 transition-transform duration-300"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p2"><span class="Apple-converted-space">                </span></p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="flex-shrink-0 w-72 aspect-square overflow-hidden rounded-lg cursor-pointer" onclick="openImageModal('https://drive.google.com/thumbnail?id=1wPa5qlnbVjyiZ9-rKZWfiaYxVbsYueFd&amp;amp;sz=w1000', 'ギャラリー画像1')"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;img src="https://drive.google.com/thumbnail?id=1wPa5qlnbVjyiZ9-rKZWfiaYxVbsYueFd&amp;amp;sz=w1000" alt="ギャラリー画像1" class="w-full h-full object-cover hover:scale-110 transition-transform duration-300"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p2"><span class="Apple-converted-space">                </span></p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="flex-shrink-0 w-72 aspect-square overflow-hidden rounded-lg cursor-pointer" onclick="openImageModal('https://drive.google.com/thumbnail?id=1eh6VsUdDgcOGp1uH3cgWk8beBTrvvy_T&amp;amp;sz=w1000', 'ギャラリー画像2')"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;img src="https://drive.google.com/thumbnail?id=1eh6VsUdDgcOGp1uH3cgWk8beBTrvvy_T&amp;amp;sz=w1000" alt="ギャラリー画像2" class="w-full h-full object-cover hover:scale-110 transition-transform duration-300"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p2"><span class="Apple-converted-space">                </span></p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="flex-shrink-0 w-72 aspect-square overflow-hidden rounded-lg cursor-pointer" onclick="openImageModal('https://drive.google.com/thumbnail?id=1MhcTeKWmuHTHvo5xVitNp57iL1iCQLxd&amp;amp;sz=w1000', 'ギャラリー画像3')"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;img src="https://drive.google.com/thumbnail?id=1MhcTeKWmuHTHvo5xVitNp57iL1iCQLxd&amp;amp;sz=w1000" alt="ギャラリー画像3" class="w-full h-full object-cover hover:scale-110 transition-transform duration-300"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p2"><span class="Apple-converted-space">                </span></p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="flex-shrink-0 w-72 aspect-square overflow-hidden rounded-lg cursor-pointer" onclick="openImageModal('https://drive.google.com/thumbnail?id=1WTGr6YnN9t8BA9gbj6SwB2YhvkN7tU4-&amp;amp;sz=w1000', 'ギャラリー画像4')"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;img src="https://drive.google.com/thumbnail?id=1WTGr6YnN9t8BA9gbj6SwB2YhvkN7tU4-&amp;amp;sz=w1000" alt="ギャラリー画像4" class="w-full h-full object-cover hover:scale-110 transition-transform duration-300"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p2"><span class="Apple-converted-space">                </span></p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="flex-shrink-0 w-72 aspect-square overflow-hidden rounded-lg cursor-pointer" onclick="openImageModal('https://drive.google.com/thumbnail?id=1BOPtkoklUZF5-vA805UInmq2eiCEbXdu&amp;amp;sz=w1000', 'ギャラリー画像5')"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;img src="https://drive.google.com/thumbnail?id=1BOPtkoklUZF5-vA805UInmq2eiCEbXdu&amp;amp;sz=w1000" alt="ギャラリー画像5" class="w-full h-full object-cover hover:scale-110 transition-transform duration-300"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p2"><span class="Apple-converted-space">                </span></p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="flex-shrink-0 w-72 aspect-square overflow-hidden rounded-lg cursor-pointer" onclick="openImageModal('https://drive.google.com/thumbnail?id=1pCLD4Uz2ddsar2KN024S0ixk3thSxAOA&amp;amp;sz=w1000', 'ギャラリー画像6')"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;img src="https://drive.google.com/thumbnail?id=1pCLD4Uz2ddsar2KN024S0ixk3thSxAOA&amp;amp;sz=w1000" alt="ギャラリー画像6" class="w-full h-full object-cover hover:scale-110 transition-transform duration-300"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p2"><span class="Apple-converted-space">                </span></p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="flex-shrink-0 w-72 aspect-square overflow-hidden rounded-lg cursor-pointer" onclick="openImageModal('https://drive.google.com/thumbnail?id=1jcNwDTcpXHkVo5eahtR_GWacrgFgu04T&amp;amp;sz=w1000', 'ギャラリー画像7')"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;img src="https://drive.google.com/thumbnail?id=1jcNwDTcpXHkVo5eahtR_GWacrgFgu04T&amp;amp;sz=w1000" alt="ギャラリー画像7" class="w-full h-full object-cover hover:scale-110 transition-transform duration-300"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p2"><span class="Apple-converted-space">                </span></p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="flex-shrink-0 w-72 aspect-square overflow-hidden rounded-lg cursor-pointer" onclick="openImageModal('https://drive.google.com/thumbnail?id=1T01Q88Me9j_FriI8stvG0vk5T5WjnUgb&amp;amp;sz=w1000', 'ギャラリー画像8')"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;img src="https://drive.google.com/thumbnail?id=1T01Q88Me9j_FriI8stvG0vk5T5WjnUgb&amp;amp;sz=w1000" alt="ギャラリー画像8" class="w-full h-full object-cover hover:scale-110 transition-transform duration-300"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p2"><span class="Apple-converted-space">                </span></p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="flex-shrink-0 w-72 aspect-square overflow-hidden rounded-lg cursor-pointer" onclick="openImageModal('https://drive.google.com/thumbnail?id=1VFhHXI6Nnkw7LRAKfFXVfdReYUn-rZfI&amp;amp;sz=w1000', 'ギャラリー画像9')"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;img src="https://drive.google.com/thumbnail?id=1VFhHXI6Nnkw7LRAKfFXVfdReYUn-rZfI&amp;amp;sz=w1000" alt="ギャラリー画像9" class="w-full h-full object-cover hover:scale-110 transition-transform duration-300"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p2"><span class="Apple-converted-space">                </span></p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="flex-shrink-0 w-72 aspect-square overflow-hidden rounded-lg cursor-pointer" onclick="openImageModal('https://drive.google.com/thumbnail?id=1AVw6Br9A9HytjmjTZUOllLUCj3Ec0-kB&amp;amp;sz=w1000', 'ギャラリー画像10')"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;img src="https://drive.google.com/thumbnail?id=1AVw6Br9A9HytjmjTZUOllLUCj3Ec0-kB&amp;amp;sz=w1000" alt="ギャラリー画像10" class="w-full h-full object-cover hover:scale-110 transition-transform duration-300"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p2"><span class="Apple-converted-space">                </span></p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="flex-shrink-0 w-72 aspect-square overflow-hidden rounded-lg cursor-pointer" onclick="openImageModal('https://drive.google.com/thumbnail?id=12h4hwVM95fX0Tt8S0YoPOwrjiKWpTZTe&amp;amp;sz=w1000', 'ギャラリー画像11')"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;img src="https://drive.google.com/thumbnail?id=12h4hwVM95fX0Tt8S0YoPOwrjiKWpTZTe&amp;amp;sz=w1000" alt="ギャラリー画像11" class="w-full h-full object-cover hover:scale-110 transition-transform duration-300"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;!-- 右矢印 --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;button onclick="scrollGallery('right')" class="absolute right-0 top-1/2 -translate-y-1/2 translate-x-4 z-10 bg-white shadow-lg rounded-full p-2 hover:bg-gray-50 transition"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;svg class="w-5 h-5 text-gray-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"&gt;&lt;/path&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/svg&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;!-- インジケーター --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div id="galleryIndicators" class="flex justify-center gap-1 mt-4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;button onclick="goToGalleryImage(0)" class="w-2 h-2 rounded-full transition bg-blue-600"&gt;&lt;/button&gt;</p>
<p class="p2"><span class="Apple-converted-space">                    </span></p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;button onclick="goToGalleryImage(1)" class="w-2 h-2 rounded-full transition bg-gray-300"&gt;&lt;/button&gt;</p>
<p class="p2"><span class="Apple-converted-space">                    </span></p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;button onclick="goToGalleryImage(2)" class="w-2 h-2 rounded-full transition bg-gray-300"&gt;&lt;/button&gt;</p>
<p class="p2"><span class="Apple-converted-space">                    </span></p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;button onclick="goToGalleryImage(3)" class="w-2 h-2 rounded-full transition bg-gray-300"&gt;&lt;/button&gt;</p>
<p class="p2"><span class="Apple-converted-space">                    </span></p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;button onclick="goToGalleryImage(4)" class="w-2 h-2 rounded-full transition bg-gray-300"&gt;&lt;/button&gt;</p>
<p class="p2"><span class="Apple-converted-space">                    </span></p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;button onclick="goToGalleryImage(5)" class="w-2 h-2 rounded-full transition bg-gray-300"&gt;&lt;/button&gt;</p>
<p class="p2"><span class="Apple-converted-space">                    </span></p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;button onclick="goToGalleryImage(6)" class="w-2 h-2 rounded-full transition bg-gray-300"&gt;&lt;/button&gt;</p>
<p class="p2"><span class="Apple-converted-space">                    </span></p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;button onclick="goToGalleryImage(7)" class="w-2 h-2 rounded-full transition bg-gray-300"&gt;&lt;/button&gt;</p>
<p class="p2"><span class="Apple-converted-space">                    </span></p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;button onclick="goToGalleryImage(8)" class="w-2 h-2 rounded-full transition bg-gray-300"&gt;&lt;/button&gt;</p>
<p class="p2"><span class="Apple-converted-space">                    </span></p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;button onclick="goToGalleryImage(9)" class="w-2 h-2 rounded-full transition bg-gray-300"&gt;&lt;/button&gt;</p>
<p class="p2"><span class="Apple-converted-space">                    </span></p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;button onclick="goToGalleryImage(10)" class="w-2 h-2 rounded-full transition bg-gray-300"&gt;&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;!-- 9. 会社概要（信頼性の補強） --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div id="preview-basicInfo" class="mb-12"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;h3 class="text-xl font-bold text-gray-900 mb-6 flex items-center"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;span class="w-1 h-6 bg-blue-600 mr-3 rounded"&gt;&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>会社概要</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/h3&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="bg-gray-50 rounded-xl p-8"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;dl class="grid grid-cols-1 md:grid-cols-2 gap-4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;div id="basicInfo-companyName"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;dt class="text-sm font-medium text-gray-600"&gt;会社名&lt;/dt&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;dd id="previewCompanyNameFull" class="mt-1 text-base sm:text-lg text-gray-900 break-words"&gt;株式会社あたる&lt;/dd&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;div id="basicInfo-representative"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;dt class="text-sm font-medium text-gray-600"&gt;代表者&lt;/dt&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;dd id="previewRepresentative" class="mt-1 text-lg text-gray-900"&gt;小泉純一&lt;/dd&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;div id="basicInfo-address"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;dt class="text-sm font-medium text-gray-600"&gt;所在地&lt;/dt&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;dd id="previewAddress" class="mt-1 text-lg text-gray-900"&gt;〒2250024 神奈川県横浜市青葉区市ケ尾町537-3&lt;/dd&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;div id="basicInfo-established"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;dt class="text-sm font-medium text-gray-600"&gt;設立&lt;/dt&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;dd id="previewEstablishedDate" class="mt-1 text-lg text-gray-900"&gt;2010年4月&lt;/dd&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/dl&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;!-- Googleマップ埋め込み --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="mt-4" id="basicInfo-map"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;h4 class="text-sm font-medium text-gray-600 mb-2"&gt;アクセス&lt;/h4&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div id="googleMapContainer" class="w-full h-64 bg-gray-200 rounded-lg overflow-hidden"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;iframe width="100%" height="100%" frameborder="0" style="border:0" src="https://www.google.com/maps?q=%E3%80%922250024%20%E7%A5%9E%E5%A5%88%E5%B7%9D%E7%9C%8C%E6%A8%AA%E6%B5%9C%E5%B8%82%E9%9D%92%E8%91%89%E5%8C%BA%E5%B8%82%E3%82%B1%E5%B0%BE%E7%94%BA537-3&amp;amp;output=embed" allowfullscreen=""&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/iframe&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;!-- 支店マップコンテナー --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div id="branchMapsContainer" class="mt-6" style="display: block;"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;h4 class="text-sm font-medium text-gray-600 mb-3 mt-4"&gt;支店情報&lt;/h4&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="space-y-4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;&lt;div class="border rounded-lg p-4 bg-gray-50"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;h5 class="text-lg font-semibold text-gray-800 mb-2"&gt;名古屋支店&lt;/h5&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;p class="text-sm text-gray-600 mb-3"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;svg class="w-4 h-4 inline mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"&gt;&lt;/path&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"&gt;&lt;/path&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/svg&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>名古屋1-1</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div class="w-full h-64 bg-gray-200 rounded-lg overflow-hidden"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;iframe width="100%" height="100%" frameborder="0" style="border:0" src="https://www.google.com/maps/embed/v1/place?key=AIzaSyBFw0Qbyq9zTFTd-tUY6dZWTgaQzuU17R8&amp;amp;q=%E5%90%8D%E5%8F%A4%E5%B1%8B1-1&amp;amp;zoom=16&amp;amp;language=ja" allowfullscreen=""&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/iframe&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;&lt;div class="border rounded-lg p-4 bg-gray-50"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;h5 class="text-lg font-semibold text-gray-800 mb-2"&gt;北海道&lt;/h5&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;p class="text-sm text-gray-600 mb-3"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;svg class="w-4 h-4 inline mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"&gt;&lt;/path&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"&gt;&lt;/path&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/svg&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>網走1-1</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div class="w-full h-64 bg-gray-200 rounded-lg overflow-hidden"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;iframe width="100%" height="100%" frameborder="0" style="border:0" src="https://www.google.com/maps/embed/v1/place?key=AIzaSyBFw0Qbyq9zTFTd-tUY6dZWTgaQzuU17R8&amp;amp;q=%E7%B6%B2%E8%B5%B01-1&amp;amp;zoom=16&amp;amp;language=ja" allowfullscreen=""&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/iframe&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;&lt;div&gt;&lt;/div&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p2"><span class="Apple-converted-space">                        </span></p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="grid grid-cols-1 md:grid-cols-2 gap-4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div class="bg-white border rounded-xl p-4 hover:shadow-lg transition"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;div class="flex items-center mb-2"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;div class="w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center mr-3"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;svg class="w-6 h-6 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"&gt;&lt;/path&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;/svg&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;p class="text-sm text-gray-600"&gt;お電話でのお問い合わせ&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;p class="text-lg font-semibold text-gray-900"&gt;0120-XXX-XXX&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;p class="text-xs text-gray-500"&gt;受付時間: 9:00-18:00（年中無休）&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div class="bg-white border rounded-xl p-4 hover:shadow-lg transition"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;div class="flex items-center mb-2"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;div class="w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center mr-3"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;svg class="w-6 h-6 text-purple-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"&gt;&lt;/path&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;/svg&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;div class="overflow-hidden min-w-0"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;p class="text-sm text-gray-600"&gt;メールでのお問い合わせ&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;p class="text-sm sm:text-base font-semibold text-gray-900 break-all"&gt;info@gaihekikuraberu.com&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;p class="text-xs text-gray-500"&gt;24時間受付中&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;!-- 最下部CTA --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="text-center py-8 border-t"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;h3 class="text-2xl font-bold text-gray-900 mb-4"&gt;今すぐ無料見積もりを依頼&lt;/h3&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;p class="text-gray-600 mb-6"&gt;お気軽にお問い合わせください&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;button class="bg-gradient-to-r from-blue-600 to-purple-600 text-white px-10 py-4 rounded-lg hover:shadow-xl transition text-lg font-semibold"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>無料見積もりを依頼する</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;/div&gt;</p>
<p class="p2"><span class="Apple-converted-space">    </span></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;script&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>// メニュートグル機能</p>
<p class="p1"><span class="Apple-converted-space">        </span>function toggleMenu() {</p>
<p class="p1"><span class="Apple-converted-space">            </span>const sidebar = document.getElementById('sidebar');</p>
<p class="p1"><span class="Apple-converted-space">            </span>if (sidebar) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>sidebar.classList.toggle('-translate-x-full');</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// ユーザー状態管理</p>
<p class="p1"><span class="Apple-converted-space">        </span>let currentUser = '管理者';</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// 支店情報管理</p>
<p class="p1"><span class="Apple-converted-space">        </span>window.branches = [];</p>
<p class="p1"><span class="Apple-converted-space">        </span>let branchIdCounter = 0;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// 支店追加</p>
<p class="p1"><span class="Apple-converted-space">        </span>function addBranch() {</p>
<p class="p1"><span class="Apple-converted-space">            </span>const branchId = ++branchIdCounter;</p>
<p class="p1"><span class="Apple-converted-space">            </span>const branch = {</p>
<p class="p1"><span class="Apple-converted-space">                </span>id: branchId,</p>
<p class="p1"><span class="Apple-converted-space">                </span>name: '',</p>
<p class="p1"><span class="Apple-converted-space">                </span>address: ''</p>
<p class="p1"><span class="Apple-converted-space">            </span>};</p>
<p class="p1"><span class="Apple-converted-space">            </span>window.branches.push(branch);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>const branchList = document.getElementById('branchList');</p>
<p class="p1"><span class="Apple-converted-space">            </span>const branchDiv = document.createElement('div');</p>
<p class="p1"><span class="Apple-converted-space">            </span>branchDiv.id = `branch-${branchId}`;</p>
<p class="p1"><span class="Apple-converted-space">            </span>branchDiv.className = 'border rounded-lg p-4 mb-3 bg-gray-50';</p>
<p class="p1"><span class="Apple-converted-space">            </span>branchDiv.innerHTML = `</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;div class="flex justify-between items-center mb-3"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;h4 class="font-medium text-gray-700"&gt;支店 ${branchId}&lt;/h4&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;button onclick="removeBranch(${branchId})" class="text-red-600 hover:text-red-800"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"&gt;&lt;/path&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/svg&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;div class="grid grid-cols-1 gap-4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;label class="block text-sm font-medium text-gray-700 mb-1"&gt;支店名&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;input type="text" class="w-full px-3 py-2 border rounded-lg" placeholder="例: 横浜支店"</p>
<p class="p1"><span class="Apple-converted-space">                               </span>onchange="updateBranch(${branchId}, 'name', this.value)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;label class="block text-sm font-medium text-gray-700 mb-1"&gt;住所&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;input type="text" class="w-full px-3 py-2 border rounded-lg" placeholder="例: 神奈川県横浜市..."</p>
<p class="p1"><span class="Apple-converted-space">                               </span>onchange="updateBranch(${branchId}, 'address', this.value)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>`;</p>
<p class="p1"><span class="Apple-converted-space">            </span>branchList.appendChild(branchDiv);</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// 支店情報更新</p>
<p class="p1"><span class="Apple-converted-space">        </span>function updateBranch(branchId, field, value) {</p>
<p class="p1"><span class="Apple-converted-space">            </span>const branch = window.branches.find(b =&gt; b.id === branchId);</p>
<p class="p1"><span class="Apple-converted-space">            </span>if (branch) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>branch[field] = value;</p>
<p class="p1"><span class="Apple-converted-space">                </span>updateBranchMaps();</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// 支店削除</p>
<p class="p1"><span class="Apple-converted-space">        </span>function removeBranch(branchId) {</p>
<p class="p1"><span class="Apple-converted-space">            </span>window.branches = window.branches.filter(b =&gt; b.id !== branchId);</p>
<p class="p1"><span class="Apple-converted-space">            </span>const branchDiv = document.getElementById(`branch-${branchId}`);</p>
<p class="p1"><span class="Apple-converted-space">            </span>if (branchDiv) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>branchDiv.remove();</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p1"><span class="Apple-converted-space">            </span>updateBranchMaps();</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// 支店マップ更新</p>
<p class="p1"><span class="Apple-converted-space">        </span>function updateBranchMaps() {</p>
<p class="p1"><span class="Apple-converted-space">            </span>// プレビューの支店マップを更新</p>
<p class="p1"><span class="Apple-converted-space">            </span>const branchMapsContainer = document.getElementById('branchMapsContainer');</p>
<p class="p1"><span class="Apple-converted-space">            </span>if (branchMapsContainer) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>const validBranches = window.branches.filter(b =&gt; b.name &amp;&amp; b.address);</p>
<p class="p1"><span class="Apple-converted-space">                </span>if (validBranches.length &gt; 0) {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>branchMapsContainer.innerHTML = `</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;h4 class="text-sm font-medium text-gray-600 mb-3 mt-4"&gt;支店情報&lt;/h4&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="space-y-4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>`;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>validBranches.forEach((branch, index) =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                        </span>const mapDiv = document.createElement('div');</p>
<p class="p1"><span class="Apple-converted-space">                        </span>mapDiv.className = 'border rounded-lg p-4 bg-gray-50';</p>
<p class="p1"><span class="Apple-converted-space">                        </span>mapDiv.innerHTML = `</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;h5 class="text-lg font-semibold text-gray-800 mb-2"&gt;${branch.name}&lt;/h5&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;p class="text-sm text-gray-600 mb-3"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;svg class="w-4 h-4 inline mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"&gt;&lt;/path&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"&gt;&lt;/path&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/svg&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>${branch.address}</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div class="w-full h-64 bg-gray-200 rounded-lg overflow-hidden"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;iframe</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>width="100%"</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>height="100%"</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>frameborder="0"</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>style="border:0"</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>src="https://www.google.com/maps/embed/v1/place?key=AIzaSyBFw0Qbyq9zTFTd-tUY6dZWTgaQzuU17R8&amp;q=${encodeURIComponent(branch.address)}&amp;zoom=16&amp;language=ja"</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>allowfullscreen&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/iframe&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>`;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>branchMapsContainer.appendChild(mapDiv);</p>
<p class="p1"><span class="Apple-converted-space">                    </span>});</p>
<p class="p1"><span class="Apple-converted-space">                    </span>const closeDiv = document.createElement('div');</p>
<p class="p1"><span class="Apple-converted-space">                    </span>closeDiv.innerHTML = '&lt;/div&gt;';</p>
<p class="p1"><span class="Apple-converted-space">                    </span>branchMapsContainer.appendChild(closeDiv);</p>
<p class="p1"><span class="Apple-converted-space">                    </span>branchMapsContainer.style.display = 'block';</p>
<p class="p1"><span class="Apple-converted-space">                </span>} else {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>branchMapsContainer.style.display = 'none';</p>
<p class="p1"><span class="Apple-converted-space">                </span>}</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>let userRole = 'admin';</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// ログイン処理</p>
<p class="p1"><span class="Apple-converted-space">        </span>// GAS APIのURL（env-loader.jsから取得）</p>
<p class="p1"><span class="Apple-converted-space">        </span>const GAS_URL = ENV.GAS_URL;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// ステータスをスプレッドシートから読み込む関数</p>
<p class="p1"><span class="Apple-converted-space">        </span>async function loadMerchantStatus(merchantId) {</p>
<p class="p1"><span class="Apple-converted-space">            </span>try {</p>
<p class="p1"><span class="Apple-converted-space">                </span>const result = await new Promise((resolve, reject) =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>const callbackName = 'jsonp_status_' + Date.now() + '_' + Math.random().toString(36).substr(2, 9);</p>
<p class="p1"><span class="Apple-converted-space">                    </span>const script = document.createElement('script');</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                    </span>window[callbackName] = (data) =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                        </span>delete window[callbackName];</p>
<p class="p1"><span class="Apple-converted-space">                        </span>if (script.parentNode) {</p>
<p class="p1"><span class="Apple-converted-space">                            </span>script.parentNode.removeChild(script);</p>
<p class="p1"><span class="Apple-converted-space">                        </span>}</p>
<p class="p1"><span class="Apple-converted-space">                        </span>resolve(data);</p>
<p class="p1"><span class="Apple-converted-space">                    </span>};</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                    </span>script.src = `${GAS_URL}?action=getMerchantStatus&amp;merchantId=${encodeURIComponent(merchantId)}&amp;callback=${callbackName}`;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>script.onerror = (error) =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                        </span>console.error('[loadMerchantStatus] Error:', error);</p>
<p class="p1"><span class="Apple-converted-space">                        </span>delete window[callbackName];</p>
<p class="p1"><span class="Apple-converted-space">                        </span>if (script.parentNode) {</p>
<p class="p1"><span class="Apple-converted-space">                            </span>script.parentNode.removeChild(script);</p>
<p class="p1"><span class="Apple-converted-space">                        </span>}</p>
<p class="p1"><span class="Apple-converted-space">                        </span>reject(new Error('JSONP request failed'));</p>
<p class="p1"><span class="Apple-converted-space">                    </span>};</p>
<p class="p1"><span class="Apple-converted-space">                    </span>document.body.appendChild(script);</p>
<p class="p1"><span class="Apple-converted-space">                </span>});</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>if (result.success) {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>const statusSpan = document.getElementById('merchantStatus');</p>
<p class="p1"><span class="Apple-converted-space">                    </span>if (statusSpan) {</p>
<p class="p1"><span class="Apple-converted-space">                        </span>// スプレッドシートのステータスをそのまま表示（アクティブ、一時停止、休止）</p>
<p class="p1"><span class="Apple-converted-space">                        </span>let displayStatus = result.status || '休止';</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                        </span>// 正規化（念のため）</p>
<p class="p1"><span class="Apple-converted-space">                        </span>if (displayStatus === '稼働中' || displayStatus === 'active') {</p>
<p class="p1"><span class="Apple-converted-space">                            </span>displayStatus = 'アクティブ';</p>
<p class="p1"><span class="Apple-converted-space">                        </span>} else if (displayStatus === '一時停止中' || displayStatus === 'paused') {</p>
<p class="p1"><span class="Apple-converted-space">                            </span>displayStatus = '一時停止';</p>
<p class="p1"><span class="Apple-converted-space">                        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                        </span>statusSpan.textContent = displayStatus;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                        </span>// ステータスに応じた色を設定</p>
<p class="p1"><span class="Apple-converted-space">                        </span>statusSpan.classList.remove('bg-green-100', 'text-green-800', 'border-green-300');</p>
<p class="p1"><span class="Apple-converted-space">                        </span>statusSpan.classList.remove('bg-yellow-100', 'text-yellow-800', 'border-yellow-300');</p>
<p class="p1"><span class="Apple-converted-space">                        </span>statusSpan.classList.remove('bg-gray-100', 'text-gray-800', 'border-gray-300');</p>
<p class="p1"><span class="Apple-converted-space">                        </span>statusSpan.classList.remove('bg-red-100', 'text-red-800', 'border-red-300');</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                        </span>if (displayStatus === 'アクティブ') {</p>
<p class="p1"><span class="Apple-converted-space">                            </span>statusSpan.classList.add('bg-green-100', 'text-green-800', 'border-green-300');</p>
<p class="p1"><span class="Apple-converted-space">                        </span>} else if (displayStatus === '一時停止') {</p>
<p class="p1"><span class="Apple-converted-space">                            </span>statusSpan.classList.add('bg-yellow-100', 'text-yellow-800', 'border-yellow-300');</p>
<p class="p1"><span class="Apple-converted-space">                        </span>} else if (displayStatus === '休止') {</p>
<p class="p1"><span class="Apple-converted-space">                            </span>statusSpan.classList.add('bg-red-100', 'text-red-800', 'border-red-300');</p>
<p class="p1"><span class="Apple-converted-space">                        </span>} else {</p>
<p class="p1"><span class="Apple-converted-space">                            </span>statusSpan.classList.add('bg-gray-100', 'text-gray-800', 'border-gray-300');</p>
<p class="p1"><span class="Apple-converted-space">                        </span>}</p>
<p class="p1"><span class="Apple-converted-space">                    </span>}</p>
<p class="p1"><span class="Apple-converted-space">                </span>}</p>
<p class="p1"><span class="Apple-converted-space">            </span>} catch (error) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>console.error('[loadMerchantStatus] Error:', error);</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// ヘッダーのステータス表示を更新する関数</p>
<p class="p1"><span class="Apple-converted-space">        </span>function updateHeaderStatus(status) {</p>
<p class="p1"><span class="Apple-converted-space">            </span>const statusSpan = document.getElementById('merchantStatus');</p>
<p class="p1"><span class="Apple-converted-space">            </span>if (!statusSpan) return;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>// 正規化</p>
<p class="p1"><span class="Apple-converted-space">            </span>let displayStatus = status;</p>
<p class="p1"><span class="Apple-converted-space">            </span>if (displayStatus === '稼働中' || displayStatus === 'active') {</p>
<p class="p1"><span class="Apple-converted-space">                </span>displayStatus = 'アクティブ';</p>
<p class="p1"><span class="Apple-converted-space">            </span>} else if (displayStatus === '一時停止中' || displayStatus === 'paused') {</p>
<p class="p1"><span class="Apple-converted-space">                </span>displayStatus = '一時停止';</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>statusSpan.textContent = displayStatus;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>// ステータスに応じた色を設定</p>
<p class="p1"><span class="Apple-converted-space">            </span>statusSpan.classList.remove('bg-green-100', 'text-green-800', 'border-green-300');</p>
<p class="p1"><span class="Apple-converted-space">            </span>statusSpan.classList.remove('bg-yellow-100', 'text-yellow-800', 'border-yellow-300');</p>
<p class="p1"><span class="Apple-converted-space">            </span>statusSpan.classList.remove('bg-gray-100', 'text-gray-800', 'border-gray-300');</p>
<p class="p1"><span class="Apple-converted-space">            </span>statusSpan.classList.remove('bg-red-100', 'text-red-800', 'border-red-300');</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>if (displayStatus === 'アクティブ') {</p>
<p class="p1"><span class="Apple-converted-space">                </span>statusSpan.classList.add('bg-green-100', 'text-green-800', 'border-green-300');</p>
<p class="p1"><span class="Apple-converted-space">            </span>} else if (displayStatus === '一時停止') {</p>
<p class="p1"><span class="Apple-converted-space">                </span>statusSpan.classList.add('bg-yellow-100', 'text-yellow-800', 'border-yellow-300');</p>
<p class="p1"><span class="Apple-converted-space">            </span>} else if (displayStatus === '休止') {</p>
<p class="p1"><span class="Apple-converted-space">                </span>statusSpan.classList.add('bg-red-100', 'text-red-800', 'border-red-300');</p>
<p class="p1"><span class="Apple-converted-space">            </span>} else {</p>
<p class="p1"><span class="Apple-converted-space">                </span>statusSpan.classList.add('bg-gray-100', 'text-gray-800', 'border-gray-300');</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>console.log('[updateHeaderStatus] Updated status to:', displayStatus);</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// 加盟店データを取得する関数</p>
<p class="p1"><span class="Apple-converted-space">        </span>async function fetchMerchantData(merchantId) {</p>
<p class="p1"><span class="Apple-converted-space">            </span>console.log('[fetchMerchantData] Fetching data for:', merchantId);</p>
<p class="p1"><span class="Apple-converted-space">            </span>try {</p>
<p class="p1"><span class="Apple-converted-space">                </span>// JSONP でデータ取得</p>
<p class="p1"><span class="Apple-converted-space">                </span>const result = await new Promise((resolve, reject) =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>const callbackName = 'jsonp_data_' + Date.now() + '_' + Math.random().toString(36).substr(2, 9);</p>
<p class="p1"><span class="Apple-converted-space">                    </span>const script = document.createElement('script');</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                    </span>window[callbackName] = (data) =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                        </span>delete window[callbackName];</p>
<p class="p1"><span class="Apple-converted-space">                        </span>if (script.parentNode) {</p>
<p class="p1"><span class="Apple-converted-space">                            </span>script.parentNode.removeChild(script);</p>
<p class="p1"><span class="Apple-converted-space">                        </span>}</p>
<p class="p1"><span class="Apple-converted-space">                        </span>resolve(data);</p>
<p class="p1"><span class="Apple-converted-space">                    </span>};</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                    </span>script.src = `${GAS_URL}?action=getMerchantData&amp;merchantId=${encodeURIComponent(merchantId)}&amp;callback=${callbackName}`;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>script.onerror = () =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                        </span>delete window[callbackName];</p>
<p class="p1"><span class="Apple-converted-space">                        </span>if (script.parentNode) {</p>
<p class="p1"><span class="Apple-converted-space">                            </span>script.parentNode.removeChild(script);</p>
<p class="p1"><span class="Apple-converted-space">                        </span>}</p>
<p class="p1"><span class="Apple-converted-space">                        </span>reject(new Error('JSONP request failed'));</p>
<p class="p1"><span class="Apple-converted-space">                    </span>};</p>
<p class="p1"><span class="Apple-converted-space">                    </span>document.body.appendChild(script);</p>
<p class="p1"><span class="Apple-converted-space">                </span>});</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>console.log('[fetchMerchantData] Response:', result);</p>
<p class="p1"><span class="Apple-converted-space">                </span>console.log('[fetchMerchantData] result.success:', result.success);</p>
<p class="p1"><span class="Apple-converted-space">                </span>console.log('[fetchMerchantData] result.data:', result.data);</p>
<p class="p1"><span class="Apple-converted-space">                </span>console.log('[fetchMerchantData] result.error:', result.error);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>if (result.success &amp;&amp; result.data) {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>window.merchantData = result.data;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>window.merchantId = merchantId; // merchantIdもセット</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                    </span>// 営業担当者氏名を明示的に抽出（X列）</p>
<p class="p1"><span class="Apple-converted-space">                    </span>const salesPersonName = result.data['営業担当者氏名'] || result.data.salesPersonName || result.data.sales_person_name || '';</p>
<p class="p1"><span class="Apple-converted-space">                    </span>if (salesPersonName) {</p>
<p class="p1"><span class="Apple-converted-space">                        </span>window.merchantData.salesPerson = salesPersonName;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>console.log('[fetchMerchantData] Sales person extracted:', salesPersonName);</p>
<p class="p1"><span class="Apple-converted-space">                    </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                    </span>console.log('[fetchMerchantData] Merchant data loaded:', window.merchantData);</p>
<p class="p1"><span class="Apple-converted-space">                    </span>console.log('[fetchMerchantData] merchantId set to:', window.merchantId);</p>
<p class="p1"><span class="Apple-converted-space">                    </span>console.log('[fetchMerchantData] salesPerson:', window.merchantData.salesPerson);</p>
<p class="p1"><span class="Apple-converted-space">                </span>} else {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>console.warn('[fetchMerchantData] No data returned - success:', result.success, 'data:', result.data);</p>
<p class="p1"><span class="Apple-converted-space">                    </span>window.merchantData = {};</p>
<p class="p1"><span class="Apple-converted-space">                </span>}</p>
<p class="p1"><span class="Apple-converted-space">            </span>} catch (error) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>console.error('[fetchMerchantData] Error:', error);</p>
<p class="p1"><span class="Apple-converted-space">                </span>window.merchantData = {};</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// 汎用GAS API呼び出し（JSONP）</p>
<p class="p1"><span class="Apple-converted-space">        </span>async function callGasApi(action, params = {}) {</p>
<p class="p1"><span class="Apple-converted-space">            </span>console.log('[callGasApi] Calling action:', action, 'with params:', params);</p>
<p class="p1"><span class="Apple-converted-space">            </span>return new Promise((resolve, reject) =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                </span>const callbackName = 'jsonp_' + action + '_' + Date.now() + '_' + Math.random().toString(36).substr(2, 9);</p>
<p class="p1"><span class="Apple-converted-space">                </span>const script = document.createElement('script');</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>window[callbackName] = (data) =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>delete window[callbackName];</p>
<p class="p1"><span class="Apple-converted-space">                    </span>if (script.parentNode) {</p>
<p class="p1"><span class="Apple-converted-space">                        </span>script.parentNode.removeChild(script);</p>
<p class="p1"><span class="Apple-converted-space">                    </span>}</p>
<p class="p1"><span class="Apple-converted-space">                    </span>resolve(data);</p>
<p class="p1"><span class="Apple-converted-space">                </span>};</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>const queryParams = new URLSearchParams({</p>
<p class="p1"><span class="Apple-converted-space">                    </span>action: action,</p>
<p class="p1"><span class="Apple-converted-space">                    </span>callback: callbackName,</p>
<p class="p1"><span class="Apple-converted-space">                    </span>...params</p>
<p class="p1"><span class="Apple-converted-space">                </span>});</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>script.src = `${window.ENV.GAS_URL}?${queryParams.toString()}`;</p>
<p class="p1"><span class="Apple-converted-space">                </span>script.onerror = () =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>delete window[callbackName];</p>
<p class="p1"><span class="Apple-converted-space">                    </span>if (script.parentNode) {</p>
<p class="p1"><span class="Apple-converted-space">                        </span>script.parentNode.removeChild(script);</p>
<p class="p1"><span class="Apple-converted-space">                    </span>}</p>
<p class="p1"><span class="Apple-converted-space">                    </span>reject(new Error('Script load error'));</p>
<p class="p1"><span class="Apple-converted-space">                </span>};</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>document.body.appendChild(script);</p>
<p class="p1"><span class="Apple-converted-space">            </span>});</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// 営業担当者名編集</p>
<p class="p1"><span class="Apple-converted-space">        </span>function editSalesPerson() {</p>
<p class="p1"><span class="Apple-converted-space">            </span>const userRoleDiv = document.getElementById('userRole');</p>
<p class="p1"><span class="Apple-converted-space">            </span>const userRoleInput = document.getElementById('userRoleInput');</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>userRoleInput.value = userRoleDiv.textContent;</p>
<p class="p1"><span class="Apple-converted-space">            </span>userRoleDiv.classList.add('hidden');</p>
<p class="p1"><span class="Apple-converted-space">            </span>userRoleInput.classList.remove('hidden');</p>
<p class="p1"><span class="Apple-converted-space">            </span>userRoleInput.focus();</p>
<p class="p1"><span class="Apple-converted-space">            </span>userRoleInput.select();</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// 営業担当者名保存</p>
<p class="p1"><span class="Apple-converted-space">        </span>async function saveSalesPerson() {</p>
<p class="p1"><span class="Apple-converted-space">            </span>const userRoleDiv = document.getElementById('userRole');</p>
<p class="p1"><span class="Apple-converted-space">            </span>const userRoleInput = document.getElementById('userRoleInput');</p>
<p class="p1"><span class="Apple-converted-space">            </span>const newSalesPerson = userRoleInput.value.trim();</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>if (!newSalesPerson) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>alert('営業担当者氏名を入力してください');</p>
<p class="p1"><span class="Apple-converted-space">                </span>return;</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>try {</p>
<p class="p1"><span class="Apple-converted-space">                </span>// JSONP でデータ保存</p>
<p class="p1"><span class="Apple-converted-space">                </span>const result = await new Promise((resolve, reject) =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>const callbackName = 'jsonp_sales_' + Date.now() + '_' + Math.random().toString(36).substr(2, 9);</p>
<p class="p1"><span class="Apple-converted-space">                    </span>const script = document.createElement('script');</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                    </span>window[callbackName] = (data) =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                        </span>delete window[callbackName];</p>
<p class="p1"><span class="Apple-converted-space">                        </span>if (script.parentNode) {</p>
<p class="p1"><span class="Apple-converted-space">                            </span>script.parentNode.removeChild(script);</p>
<p class="p1"><span class="Apple-converted-space">                        </span>}</p>
<p class="p1"><span class="Apple-converted-space">                        </span>resolve(data);</p>
<p class="p1"><span class="Apple-converted-space">                    </span>};</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                    </span>script.src = `${GAS_URL}?action=updateSalesPerson&amp;merchantId=${encodeURIComponent(currentUser)}&amp;salesPerson=${encodeURIComponent(newSalesPerson)}&amp;callback=${callbackName}`;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>script.onerror = () =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                        </span>delete window[callbackName];</p>
<p class="p1"><span class="Apple-converted-space">                        </span>if (script.parentNode) {</p>
<p class="p1"><span class="Apple-converted-space">                            </span>script.parentNode.removeChild(script);</p>
<p class="p1"><span class="Apple-converted-space">                        </span>}</p>
<p class="p1"><span class="Apple-converted-space">                        </span>reject(new Error('JSONP request failed'));</p>
<p class="p1"><span class="Apple-converted-space">                    </span>};</p>
<p class="p1"><span class="Apple-converted-space">                    </span>document.body.appendChild(script);</p>
<p class="p1"><span class="Apple-converted-space">                </span>});</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>if (result.success) {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>// 成功 - 表示を更新</p>
<p class="p1"><span class="Apple-converted-space">                    </span>userRoleDiv.textContent = newSalesPerson;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>if (window.merchantData) {</p>
<p class="p1"><span class="Apple-converted-space">                        </span>window.merchantData.salesPerson = newSalesPerson;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>}</p>
<p class="p1"><span class="Apple-converted-space">                </span>} else {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>// 失敗 - 元に戻す</p>
<p class="p1"><span class="Apple-converted-space">                    </span>console.error('Save failed:', result.error);</p>
<p class="p1"><span class="Apple-converted-space">                </span>}</p>
<p class="p1"><span class="Apple-converted-space">            </span>} catch (error) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>console.error('Save error:', error);</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>// 入力欄を非表示、テキストを表示</p>
<p class="p1"><span class="Apple-converted-space">            </span>userRoleInput.classList.add('hidden');</p>
<p class="p1"><span class="Apple-converted-space">            </span>userRoleDiv.classList.remove('hidden');</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// ロール表示更新</p>
<p class="p1"><span class="Apple-converted-space">        </span>function updateRoleDisplay() {</p>
<p class="p1"><span class="Apple-converted-space">            </span>// ユーザー名とロールを表示</p>
<p class="p1"><span class="Apple-converted-space">            </span>document.getElementById('userName').textContent = currentUser;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>// 営業担当者氏名を表示（window.merchantDataのX列から取得）</p>
<p class="p1"><span class="Apple-converted-space">            </span>let salesPerson = '営業担当者未設定';</p>
<p class="p1"><span class="Apple-converted-space">            </span>if (window.merchantData &amp;&amp; window.merchantData.salesPerson) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>salesPerson = window.merchantData.salesPerson;</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p1"><span class="Apple-converted-space">            </span>document.getElementById('userRole').textContent = salesPerson;</p>
<p class="p2"><span class="Apple-converted-space">            </span></p>
<p class="p1"><span class="Apple-converted-space">            </span>// 権限に応じてUIを変更</p>
<p class="p1"><span class="Apple-converted-space">            </span>if (userRole === 'admin') {</p>
<p class="p1"><span class="Apple-converted-space">                </span>// 管理者: すべて表示、紫系の配色</p>
<p class="p1"><span class="Apple-converted-space">                </span>document.getElementById('systemTitle').textContent = '加盟店管理システム';</p>
<p class="p1"><span class="Apple-converted-space">                </span>document.getElementById('companyLogo').style.background = 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)';</p>
<p class="p1"><span class="Apple-converted-space">                </span>document.getElementById('userRole').className = 'ml-2 text-xs px-2 py-1 rounded-full bg-purple-100 text-purple-800';</p>
<p class="p1"><span class="Apple-converted-space">            </span>} else {</p>
<p class="p1"><span class="Apple-converted-space">                </span>// 営業: 基本機能のみ、青系の配色</p>
<p class="p1"><span class="Apple-converted-space">                </span>document.getElementById('systemTitle').textContent = '加盟店管理システム';</p>
<p class="p1"><span class="Apple-converted-space">                </span>document.getElementById('companyLogo').style.background = 'linear-gradient(135deg, #4facfe 0%, #00f2fe 100%)';</p>
<p class="p1"><span class="Apple-converted-space">                </span>document.getElementById('userRole').className = 'ml-2 text-xs px-2 py-1 rounded-full bg-blue-100 text-blue-800';</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p2"><span class="Apple-converted-space">            </span></p>
<p class="p1"><span class="Apple-converted-space">            </span>// 管理者専用メニューの表示制御</p>
<p class="p1"><span class="Apple-converted-space">            </span>const adminElements = document.querySelectorAll('.admin-only');</p>
<p class="p1"><span class="Apple-converted-space">            </span>adminElements.forEach(el =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                </span>el.style.display = userRole === 'admin' ? 'flex' : 'none';</p>
<p class="p1"><span class="Apple-converted-space">            </span>});</p>
<p class="p2"><span class="Apple-converted-space">            </span></p>
<p class="p1"><span class="Apple-converted-space">            </span>// リーダー専用要素があれば管理者のみ表示</p>
<p class="p1"><span class="Apple-converted-space">            </span>const leaderElements = document.querySelectorAll('.leader-only');</p>
<p class="p1"><span class="Apple-converted-space">            </span>leaderElements.forEach(el =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                </span>el.style.display = userRole === 'admin' ? 'flex' : 'none';</p>
<p class="p1"><span class="Apple-converted-space">            </span>});</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// 通知権限リクエスト</p>
<p class="p1"><span class="Apple-converted-space">        </span>// 通知許可リクエストをアラートパネル内に統合</p>
<p class="p1"><span class="Apple-converted-space">        </span>window.requestNotificationPermission = function() {</p>
<p class="p1"><span class="Apple-converted-space">            </span>if ('Notification' in window &amp;&amp; Notification.permission !== 'granted') {</p>
<p class="p1"><span class="Apple-converted-space">                </span>Notification.requestPermission().then(permission =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>if (permission === 'granted') {</p>
<p class="p1"><span class="Apple-converted-space">                        </span>showNotification('通知設定', 'ブラウザ通知を有効にしました', 'success');</p>
<p class="p1"><span class="Apple-converted-space">                    </span>} else {</p>
<p class="p1"><span class="Apple-converted-space">                        </span>showInAppNotification('通知設定', 'ブラウザ通知は無効です', 'warning');</p>
<p class="p1"><span class="Apple-converted-space">                    </span>}</p>
<p class="p1"><span class="Apple-converted-space">                </span>});</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// アラートパネルを開く時に通知許可を確認</p>
<p class="p1"><span class="Apple-converted-space">        </span>function checkNotificationPermission() {</p>
<p class="p1"><span class="Apple-converted-space">            </span>if ('Notification' in window &amp;&amp; Notification.permission === 'default') {</p>
<p class="p1"><span class="Apple-converted-space">                </span>const alertPanel = document.getElementById('alertPanel');</p>
<p class="p1"><span class="Apple-converted-space">                </span>if (alertPanel &amp;&amp; !alertPanel.classList.contains('hidden')) {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>// 通知許可バナーを表示</p>
<p class="p1"><span class="Apple-converted-space">                    </span>const banner = document.createElement('div');</p>
<p class="p1"><span class="Apple-converted-space">                    </span>banner.className = 'bg-yellow-100 border-l-4 border-yellow-500 p-3 m-3';</p>
<p class="p1"><span class="Apple-converted-space">                    </span>banner.innerHTML = `</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="flex items-center justify-between"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;span class="text-sm"&gt;🔔 ブラウザ通知を有効にしますか？&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;button onclick="requestNotificationPermission(); this.parentElement.parentElement.remove()"</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>class="text-sm bg-yellow-500 text-white px-3 py-1 rounded hover:bg-yellow-600"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>有効にする</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>`;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>alertPanel.insertBefore(banner, alertPanel.firstChild.nextSibling);</p>
<p class="p1"><span class="Apple-converted-space">                </span>}</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// 自動配信設定の保存</p>
<p class="p1"><span class="Apple-converted-space">        </span>async function saveAutoDeliverySettings() {</p>
<p class="p1"><span class="Apple-converted-space">            </span>console.log('[saveAutoDeliverySettings] Function called');</p>
<p class="p1"><span class="Apple-converted-space">            </span>const saveBtn = document.getElementById('saveAutodeliveryBtn');</p>
<p class="p1"><span class="Apple-converted-space">            </span>const originalText = saveBtn ? saveBtn.innerHTML : '';</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>try {</p>
<p class="p1"><span class="Apple-converted-space">                </span>// ボタンをローディング状態に</p>
<p class="p1"><span class="Apple-converted-space">                </span>if (saveBtn) {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>saveBtn.disabled = true;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>saveBtn.innerHTML = '&lt;svg class="animate-spin inline-block w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"&gt;&lt;circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"&gt;&lt;/circle&gt;&lt;path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"&gt;&lt;/path&gt;&lt;/svg&gt;保存中...';</p>
<p class="p1"><span class="Apple-converted-space">                </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>console.log('[saveAutoDeliverySettings] Collecting data...');</p>
<p class="p1"><span class="Apple-converted-space">                </span>const autoDeliveryData = collectAutoDeliveryData();</p>
<p class="p1"><span class="Apple-converted-space">                </span>console.log('[saveAutoDeliverySettings] Data collected:', autoDeliveryData);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>if (!autoDeliveryData) {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>alert('エラー: 必須項目を入力してください');</p>
<p class="p1"><span class="Apple-converted-space">                    </span>return;</p>
<p class="p1"><span class="Apple-converted-space">                </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>console.log('[saveAutoDeliverySettings] Sending data:', autoDeliveryData);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>// 会社情報と同じ方式でPOST送信</p>
<p class="p1"><span class="Apple-converted-space">                </span>const response = await fetch(GAS_URL, {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>method: 'POST',</p>
<p class="p1"><span class="Apple-converted-space">                    </span>headers: {</p>
<p class="p1"><span class="Apple-converted-space">                        </span>'Content-Type': 'text/plain'</p>
<p class="p1"><span class="Apple-converted-space">                    </span>},</p>
<p class="p1"><span class="Apple-converted-space">                    </span>body: JSON.stringify({</p>
<p class="p1"><span class="Apple-converted-space">                        </span>action: 'updateMerchantData',</p>
<p class="p1"><span class="Apple-converted-space">                        </span>merchantId: window.merchantId,</p>
<p class="p1"><span class="Apple-converted-space">                        </span>data: autoDeliveryData</p>
<p class="p1"><span class="Apple-converted-space">                    </span>})</p>
<p class="p1"><span class="Apple-converted-space">                </span>});</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>console.log('[saveAutoDeliverySettings] Response status:', response.status);</p>
<p class="p1"><span class="Apple-converted-space">                </span>const result = await response.json();</p>
<p class="p1"><span class="Apple-converted-space">                </span>console.log('[saveAutoDeliverySettings] Result:', result);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>if (result.success) {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>// 成功時: チェックマークを表示</p>
<p class="p1"><span class="Apple-converted-space">                    </span>if (saveBtn) {</p>
<p class="p1"><span class="Apple-converted-space">                        </span>saveBtn.innerHTML = '&lt;svg class="inline-block w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"&gt;&lt;path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"&gt;&lt;/path&gt;&lt;/svg&gt;保存完了';</p>
<p class="p1"><span class="Apple-converted-space">                    </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                    </span>setTimeout(() =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                        </span>alert('保存完了: 自動配信設定を保存しました');</p>
<p class="p1"><span class="Apple-converted-space">                    </span>}, 300);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                    </span>resetAutodeliveryChanged();</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                    </span>// ステータスが変更された場合、ヘッダーの表示を即座に更新</p>
<p class="p1"><span class="Apple-converted-space">                    </span>console.log('[saveAutoDeliverySettings] autoDeliveryData.status:', autoDeliveryData.status);</p>
<p class="p1"><span class="Apple-converted-space">                    </span>if (autoDeliveryData.status) {</p>
<p class="p1"><span class="Apple-converted-space">                        </span>console.log('[saveAutoDeliverySettings] Calling updateHeaderStatus with:', autoDeliveryData.status);</p>
<p class="p1"><span class="Apple-converted-space">                        </span>updateHeaderStatus(autoDeliveryData.status);</p>
<p class="p1"><span class="Apple-converted-space">                    </span>} else {</p>
<p class="p1"><span class="Apple-converted-space">                        </span>console.warn('[saveAutoDeliverySettings] No status in autoDeliveryData');</p>
<p class="p1"><span class="Apple-converted-space">                    </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                    </span>// 2秒後にボタンを元に戻す</p>
<p class="p1"><span class="Apple-converted-space">                    </span>setTimeout(() =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                        </span>if (saveBtn) {</p>
<p class="p1"><span class="Apple-converted-space">                            </span>saveBtn.innerHTML = originalText;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>saveBtn.disabled = false;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>}</p>
<p class="p1"><span class="Apple-converted-space">                    </span>}, 2000);</p>
<p class="p1"><span class="Apple-converted-space">                </span>} else {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>alert('エラー: ' + (result.error || '保存に失敗しました'));</p>
<p class="p1"><span class="Apple-converted-space">                </span>}</p>
<p class="p1"><span class="Apple-converted-space">            </span>} catch (error) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>console.error('[saveAutoDeliverySettings] Error:', error);</p>
<p class="p1"><span class="Apple-converted-space">                </span>alert('エラー: 保存中にエラーが発生しました: ' + error.message);</p>
<p class="p1"><span class="Apple-converted-space">            </span>} finally {</p>
<p class="p1"><span class="Apple-converted-space">                </span>// エラー時はすぐに元に戻す</p>
<p class="p1"><span class="Apple-converted-space">                </span>if (saveBtn &amp;&amp; saveBtn.disabled) {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>setTimeout(() =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                        </span>saveBtn.innerHTML = originalText;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>saveBtn.disabled = false;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>}, 500);</p>
<p class="p1"><span class="Apple-converted-space">                </span>}</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// 自動配信設定データを収集</p>
<p class="p1"><span class="Apple-converted-space">        </span>function collectAutoDeliveryData() {</p>
<p class="p1"><span class="Apple-converted-space">            </span>// 物件種別（autodeliverySectionに限定）</p>
<p class="p1"><span class="Apple-converted-space">            </span>const propertyTypes = Array.from(document.querySelectorAll('#autodeliverySection input[name="propertyType"]:checked'))</p>
<p class="p1"><span class="Apple-converted-space">                </span>.map(cb =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>const typeMap = {</p>
<p class="p1"><span class="Apple-converted-space">                        </span>'house': '戸建て住宅',</p>
<p class="p1"><span class="Apple-converted-space">                        </span>'apartment': 'アパート・マンション',</p>
<p class="p1"><span class="Apple-converted-space">                        </span>'commercial': '店舗・事務所',</p>
<p class="p1"><span class="Apple-converted-space">                        </span>'factory': '工場・倉庫'</p>
<p class="p1"><span class="Apple-converted-space">                    </span>};</p>
<p class="p1"><span class="Apple-converted-space">                    </span>return typeMap[cb.value];</p>
<p class="p1"><span class="Apple-converted-space">                </span>});</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>// 物件種別が1つも選択されていない場合はエラー</p>
<p class="p1"><span class="Apple-converted-space">            </span>if (propertyTypes.length === 0) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>alert('エラー: 対応可能物件種別を最低1つ選択してください');</p>
<p class="p1"><span class="Apple-converted-space">                </span>return null;</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>// 最大対応階数</p>
<p class="p1"><span class="Apple-converted-space">            </span>const selects = document.querySelectorAll('#autodeliverySection select');</p>
<p class="p1"><span class="Apple-converted-space">            </span>const maxFloorsList = [];</p>
<p class="p1"><span class="Apple-converted-space">            </span>const typeNames = ['戸建て住宅', 'アパート・マンション', '店舗・事務所', '工場・倉庫'];</p>
<p class="p1"><span class="Apple-converted-space">            </span>selects.forEach((select, idx) =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                </span>if (propertyTypes.includes(typeNames[idx])) {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>// select要素の選択されたoptionのテキストを取得</p>
<p class="p1"><span class="Apple-converted-space">                    </span>const selectedOption = select.options[select.selectedIndex];</p>
<p class="p1"><span class="Apple-converted-space">                    </span>const optionText = selectedOption ? selectedOption.text : select.value;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>maxFloorsList.push(`${typeNames[idx]}(${optionText}まで)`);</p>
<p class="p1"><span class="Apple-converted-space">                </span>}</p>
<p class="p1"><span class="Apple-converted-space">            </span>});</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>// 築年数範囲</p>
<p class="p1"><span class="Apple-converted-space">            </span>const ageSliders = document.querySelectorAll('#autodeliverySection input[type="range"]');</p>
<p class="p1"><span class="Apple-converted-space">            </span>const ageMin = ageSliders[0] ? parseInt(ageSliders[0].value) : 0;</p>
<p class="p1"><span class="Apple-converted-space">            </span>const ageMax = ageSliders[1] ? parseInt(ageSliders[1].value) : 50;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>// 施工箇所（完全一致で保存）（autodeliverySectionに限定）</p>
<p class="p1"><span class="Apple-converted-space">            </span>const constructionTypes = Array.from(document.querySelectorAll('#autodeliverySection input[name="constructionTypes"]:checked'))</p>
<p class="p1"><span class="Apple-converted-space">                </span>.map(cb =&gt; cb.value);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>// 特殊対応項目（完全一致で保存）（autodeliverySectionに限定）</p>
<p class="p1"><span class="Apple-converted-space">            </span>const specialServices = Array.from(document.querySelectorAll('#autodeliverySection input[name="specialServices"]:checked'))</p>
<p class="p1"><span class="Apple-converted-space">                </span>.map(cb =&gt; cb.value);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>// 対応都道府県・市区町村</p>
<p class="p1"><span class="Apple-converted-space">            </span>const prefectures = areaSelectionData.prefectures.join(',');</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>// 市区町村をJSON圧縮形式で保存（スプシと同じ形式）</p>
<p class="p1"><span class="Apple-converted-space">            </span>const allCities = [];</p>
<p class="p1"><span class="Apple-converted-space">            </span>Object.entries(areaSelectionData.cities).forEach(([pref, cities]) =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                </span>allCities.push(...cities);</p>
<p class="p1"><span class="Apple-converted-space">            </span>});</p>
<p class="p1"><span class="Apple-converted-space">            </span>const citiesStr = JSON.stringify({</p>
<p class="p1"><span class="Apple-converted-space">                </span>type: "compressed",</p>
<p class="p1"><span class="Apple-converted-space">                </span>full: allCities.join(','),</p>
<p class="p1"><span class="Apple-converted-space">                </span>preview: allCities.slice(0, 100).join(',') + (allCities.length &gt; 100 ? '...' : '')</p>
<p class="p1"><span class="Apple-converted-space">            </span>});</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>// 優先エリア: アンダースコア形式のまま保存（スプシの形式に合わせる）</p>
<p class="p1"><span class="Apple-converted-space">            </span>const priorities = areaSelectionData.priorities.join(',');</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>// 一時停止設定データ</p>
<p class="p1"><span class="Apple-converted-space">            </span>const autoPauseToggle = document.getElementById('autoPauseToggle');</p>
<p class="p1"><span class="Apple-converted-space">            </span>const pauseStartDate = document.getElementById('pauseStartDate');</p>
<p class="p1"><span class="Apple-converted-space">            </span>const pauseEndDate = document.getElementById('pauseEndDate');</p>
<p class="p1"><span class="Apple-converted-space">            </span>const indefinitePause = document.getElementById('indefinitePause');</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>const pauseFlag = autoPauseToggle ? autoPauseToggle.checked : false;</p>
<p class="p1"><span class="Apple-converted-space">            </span>const pauseStart = pauseFlag &amp;&amp; pauseStartDate ? pauseStartDate.value : '';</p>
<p class="p1"><span class="Apple-converted-space">            </span>const pauseEnd = pauseFlag &amp;&amp; pauseEndDate &amp;&amp; !indefinitePause.checked ? pauseEndDate.value : '';</p>
<p class="p1"><span class="Apple-converted-space">            </span>const isIndefinite = pauseFlag &amp;&amp; indefinitePause &amp;&amp; indefinitePause.checked;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>// 一時停止バリデーション</p>
<p class="p1"><span class="Apple-converted-space">            </span>if (pauseFlag) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>// 一時停止ONの場合、開始日は必須</p>
<p class="p1"><span class="Apple-converted-space">                </span>if (!pauseStart) {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>showNotification('エラー', '一時停止開始日を入力してください', 'error');</p>
<p class="p1"><span class="Apple-converted-space">                    </span>return null;</p>
<p class="p1"><span class="Apple-converted-space">                </span>}</p>
<p class="p1"><span class="Apple-converted-space">                </span>// 再開予定日も必須（未定チェックがOFFの場合）</p>
<p class="p1"><span class="Apple-converted-space">                </span>if (!isIndefinite &amp;&amp; !pauseEnd) {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>showNotification('エラー', '一時停止再開予定日を入力するか、「未定」にチェックを入れてください', 'error');</p>
<p class="p1"><span class="Apple-converted-space">                    </span>return null;</p>
<p class="p1"><span class="Apple-converted-space">                </span>}</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>// ステータスの決定</p>
<p class="p1"><span class="Apple-converted-space">            </span>// - 一時停止OFF → アクティブ</p>
<p class="p1"><span class="Apple-converted-space">            </span>// - 一時停止ON + 開始日が未来 → アクティブ（スケジュール予約）</p>
<p class="p1"><span class="Apple-converted-space">            </span>// - 一時停止ON + 開始日が今日以前 + 再開日未定 → 休止</p>
<p class="p1"><span class="Apple-converted-space">            </span>// - 一時停止ON + 開始日が今日以前 + 再開日あり → 一時停止</p>
<p class="p1"><span class="Apple-converted-space">            </span>let status = 'アクティブ';</p>
<p class="p1"><span class="Apple-converted-space">            </span>if (pauseFlag &amp;&amp; pauseStart) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>const today = new Date();</p>
<p class="p1"><span class="Apple-converted-space">                </span>today.setHours(0, 0, 0, 0);</p>
<p class="p1"><span class="Apple-converted-space">                </span>const startDate = new Date(pauseStart);</p>
<p class="p1"><span class="Apple-converted-space">                </span>startDate.setHours(0, 0, 0, 0);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>// 開始日が今日または過去の場合のみステータス変更</p>
<p class="p1"><span class="Apple-converted-space">                </span>if (startDate &lt;= today) {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>status = isIndefinite ? '休止' : '一時停止';</p>
<p class="p1"><span class="Apple-converted-space">                </span>}</p>
<p class="p1"><span class="Apple-converted-space">                </span>// 開始日が未来の場合はアクティブのまま（予約状態）</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>return {</p>
<p class="p1"><span class="Apple-converted-space">                </span>// GASのupdateMerchantDataで期待するフィールド名に合わせる</p>
<p class="p1"><span class="Apple-converted-space">                </span>propertyTypes: propertyTypes.join(','), <span class="Apple-converted-space">              </span>// 対応物件種別</p>
<p class="p1"><span class="Apple-converted-space">                </span>maxFloors: maxFloorsList.join(','),<span class="Apple-converted-space">                    </span>// 最大対応階数</p>
<p class="p1"><span class="Apple-converted-space">                </span>buildingAge: `{min=${ageMin}, max=${ageMax}}`,<span class="Apple-converted-space">        </span>// 築年数対応範囲</p>
<p class="p1"><span class="Apple-converted-space">                </span>constructionTypes: constructionTypes.join(','),<span class="Apple-converted-space">        </span>// 対応工事種別（施工箇所列に保存）</p>
<p class="p1"><span class="Apple-converted-space">                </span>specialServices: specialServices.join(','), <span class="Apple-converted-space">          </span>// 特殊対応項目</p>
<p class="p1"><span class="Apple-converted-space">                </span>prefectures: prefectures, <span class="Apple-converted-space">                            </span>// 対応都道府県</p>
<p class="p1"><span class="Apple-converted-space">                </span>cities: citiesStr,<span class="Apple-converted-space">                                    </span>// 対応市区町村</p>
<p class="p1"><span class="Apple-converted-space">                </span>priorityAreas: priorities,<span class="Apple-converted-space">                            </span>// 優先エリア</p>
<p class="p1"><span class="Apple-converted-space">                </span>// 一時停止設定</p>
<p class="p1"><span class="Apple-converted-space">                </span>status: status, <span class="Apple-converted-space">                                      </span>// ステータス (AJ列)</p>
<p class="p1"><span class="Apple-converted-space">                </span>pauseFlag: pauseFlag ? 'TRUE' : 'FALSE', <span class="Apple-converted-space">            </span>// 一時停止フラグ (AO列)</p>
<p class="p1"><span class="Apple-converted-space">                </span>pauseStartDate: pauseStart || '', <span class="Apple-converted-space">                    </span>// 一時停止開始日 (AP列)</p>
<p class="p1"><span class="Apple-converted-space">                </span>pauseEndDate: isIndefinite ? '未定' : (pauseEnd || '') // 一時停止再開予定日 (AQ列)</p>
<p class="p1"><span class="Apple-converted-space">            </span>};</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// 屋号表示オプションの表示/非表示</p>
<p class="p1"><span class="Apple-converted-space">        </span>function updateTradeNameDisplay() {</p>
<p class="p1"><span class="Apple-converted-space">            </span>const tradeName = document.getElementById('tradeName').value;</p>
<p class="p1"><span class="Apple-converted-space">            </span>const tradeNameOptions = document.getElementById('tradeNameDisplayOptions');</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>if (tradeName &amp;&amp; tradeName.trim() !== '') {</p>
<p class="p1"><span class="Apple-converted-space">                </span>tradeNameOptions.style.display = 'block';</p>
<p class="p1"><span class="Apple-converted-space">            </span>} else {</p>
<p class="p1"><span class="Apple-converted-space">                </span>tradeNameOptions.style.display = 'none';</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// 旧関数名の互換性維持</p>
<p class="p1"><span class="Apple-converted-space">        </span>function updateBranchDisplay() {</p>
<p class="p1"><span class="Apple-converted-space">            </span>updateTradeNameDisplay();</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// 会社名表示を更新</p>
<p class="p1"><span class="Apple-converted-space">        </span>function updateCompanyNameDisplay() {</p>
<p class="p1"><span class="Apple-converted-space">            </span>// 両方表示オプションの表示/非表示</p>
<p class="p1"><span class="Apple-converted-space">            </span>const displayOption = document.querySelector('input[name="tradeNameDisplay"]:checked')?.value;</p>
<p class="p1"><span class="Apple-converted-space">            </span>const bothOptions = document.getElementById('bothDisplayOptions');</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>if (displayOption === 'both' &amp;&amp; bothOptions) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>bothOptions.style.display = 'block';</p>
<p class="p1"><span class="Apple-converted-space">            </span>} else if (bothOptions) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>bothOptions.style.display = 'none';</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// 自動保存</p>
<p class="p1"><span class="Apple-converted-space">        </span>async function autoSave() {</p>
<p class="p1"><span class="Apple-converted-space">            </span>// 保存インジケーターを表示</p>
<p class="p1"><span class="Apple-converted-space">            </span>const saveIndicator = document.querySelector('#companySection .text-green-500');</p>
<p class="p1"><span class="Apple-converted-space">            </span>if (saveIndicator) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>saveIndicator.parentElement.parentElement.style.opacity = '0.5';</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>// 画像アップロード処理（メインビジュアル）</p>
<p class="p1"><span class="Apple-converted-space">            </span>if (mainVisualData &amp;&amp; mainVisualFileName) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>try {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>console.log('[autoSave] Uploading main visual...');</p>
<p class="p1"><span class="Apple-converted-space">                    </span>const response = await fetch(GAS_URL, {</p>
<p class="p1"><span class="Apple-converted-space">                        </span>method: 'POST',</p>
<p class="p1"><span class="Apple-converted-space">                        </span>headers: { 'Content-Type': 'text/plain' },</p>
<p class="p1"><span class="Apple-converted-space">                        </span>body: JSON.stringify({</p>
<p class="p1"><span class="Apple-converted-space">                            </span>action: 'companyinfo_uploadImage',</p>
<p class="p1"><span class="Apple-converted-space">                            </span>merchantId: window.merchantId,</p>
<p class="p1"><span class="Apple-converted-space">                            </span>base64Data: mainVisualData,</p>
<p class="p1"><span class="Apple-converted-space">                            </span>fileName: mainVisualFileName,</p>
<p class="p1"><span class="Apple-converted-space">                            </span>imageType: 'main-visual'</p>
<p class="p1"><span class="Apple-converted-space">                        </span>})</p>
<p class="p1"><span class="Apple-converted-space">                    </span>});</p>
<p class="p1"><span class="Apple-converted-space">                    </span>const result = await response.json();</p>
<p class="p1"><span class="Apple-converted-space">                    </span>console.log('[autoSave] Main visual response:', result);</p>
<p class="p1"><span class="Apple-converted-space">                    </span>if (result.success) {</p>
<p class="p1"><span class="Apple-converted-space">                        </span>mainVisualUrl = result.url;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>console.log('[autoSave] Main visual uploaded:', result.url);</p>
<p class="p1"><span class="Apple-converted-space">                    </span>} else {</p>
<p class="p1"><span class="Apple-converted-space">                        </span>console.error('[autoSave] Main visual upload failed:', result.error);</p>
<p class="p1"><span class="Apple-converted-space">                    </span>}</p>
<p class="p1"><span class="Apple-converted-space">                </span>} catch (error) {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>console.error('[autoSave] Main visual upload error:', error);</p>
<p class="p1"><span class="Apple-converted-space">                </span>}</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>// 画像アップロード処理（写真ギャラリー）</p>
<p class="p1"><span class="Apple-converted-space">            </span>const uploadedGalleryUrls = [];</p>
<p class="p1"><span class="Apple-converted-space">            </span>if (galleryFilesToUpload.length &gt; 0) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>try {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>console.log('[autoSave] Uploading gallery images:', galleryFilesToUpload.length);</p>
<p class="p1"><span class="Apple-converted-space">                    </span>for (const file of galleryFilesToUpload) {</p>
<p class="p1"><span class="Apple-converted-space">                        </span>const response = await fetch(GAS_URL, {</p>
<p class="p1"><span class="Apple-converted-space">                            </span>method: 'POST',</p>
<p class="p1"><span class="Apple-converted-space">                            </span>headers: { 'Content-Type': 'text/plain' },</p>
<p class="p1"><span class="Apple-converted-space">                            </span>body: JSON.stringify({</p>
<p class="p1"><span class="Apple-converted-space">                                </span>action: 'companyinfo_uploadImage',</p>
<p class="p1"><span class="Apple-converted-space">                                </span>merchantId: window.merchantId,</p>
<p class="p1"><span class="Apple-converted-space">                                </span>base64Data: file.base64Data,</p>
<p class="p1"><span class="Apple-converted-space">                                </span>fileName: file.fileName,</p>
<p class="p1"><span class="Apple-converted-space">                                </span>imageType: 'gallery'</p>
<p class="p1"><span class="Apple-converted-space">                            </span>})</p>
<p class="p1"><span class="Apple-converted-space">                        </span>});</p>
<p class="p1"><span class="Apple-converted-space">                        </span>const result = await response.json();</p>
<p class="p1"><span class="Apple-converted-space">                        </span>if (result.success) {</p>
<p class="p1"><span class="Apple-converted-space">                            </span>console.log('[autoSave] Gallery image uploaded:', result.url);</p>
<p class="p1"><span class="Apple-converted-space">                            </span>uploadedGalleryUrls.push(result.url);</p>
<p class="p1"><span class="Apple-converted-space">                        </span>}</p>
<p class="p1"><span class="Apple-converted-space">                    </span>}</p>
<p class="p1"><span class="Apple-converted-space">                    </span>// アップロード完了後、配列をクリア</p>
<p class="p1"><span class="Apple-converted-space">                    </span>galleryFilesToUpload = [];</p>
<p class="p1"><span class="Apple-converted-space">                </span>} catch (error) {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>console.error('[autoSave] Gallery upload error:', error);</p>
<p class="p1"><span class="Apple-converted-space">                </span>}</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>// 施工事例のアップロード処理</p>
<p class="p1"><span class="Apple-converted-space">            </span>if (constructionExamples &amp;&amp; constructionExamples.length &gt; 0) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>try {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>console.log('[autoSave] Uploading construction examples:', constructionExamples.length);</p>
<p class="p1"><span class="Apple-converted-space">                    </span>for (const example of constructionExamples) {</p>
<p class="p1"><span class="Apple-converted-space">                        </span>// 画像がある場合のみアップロード</p>
<p class="p1"><span class="Apple-converted-space">                        </span>if (example.beforeImage || example.afterImage) {</p>
<p class="p1"><span class="Apple-converted-space">                            </span>const response = await fetch(GAS_URL, {</p>
<p class="p1"><span class="Apple-converted-space">                                </span>method: 'POST',</p>
<p class="p1"><span class="Apple-converted-space">                                </span>headers: { 'Content-Type': 'text/plain' },</p>
<p class="p1"><span class="Apple-converted-space">                                </span>body: JSON.stringify({</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>action: 'saveConstructionExample',</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>merchantId: window.merchantId,</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>exampleData: {</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>title: example.title,</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>buildingAge: example.buildingAge,</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>price: example.price,</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>content: example.content,</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>beforeImage: example.beforeImage,</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>afterImage: example.afterImage</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>}</p>
<p class="p1"><span class="Apple-converted-space">                                </span>})</p>
<p class="p1"><span class="Apple-converted-space">                            </span>});</p>
<p class="p1"><span class="Apple-converted-space">                            </span>const result = await response.json();</p>
<p class="p1"><span class="Apple-converted-space">                            </span>if (result.success) {</p>
<p class="p1"><span class="Apple-converted-space">                                </span>console.log('[autoSave] Construction example saved:', result.exampleId);</p>
<p class="p1"><span class="Apple-converted-space">                            </span>} else {</p>
<p class="p1"><span class="Apple-converted-space">                                </span>console.error('[autoSave] Construction example save failed:', result.error);</p>
<p class="p1"><span class="Apple-converted-space">                            </span>}</p>
<p class="p1"><span class="Apple-converted-space">                        </span>}</p>
<p class="p1"><span class="Apple-converted-space">                    </span>}</p>
<p class="p1"><span class="Apple-converted-space">                </span>} catch (error) {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>console.error('[autoSave] Construction example upload error:', error);</p>
<p class="p1"><span class="Apple-converted-space">                </span>}</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>// フォームからデータを収集</p>
<p class="p1"><span class="Apple-converted-space">            </span>// ※スプレッドシートの列との対応:</p>
<p class="p1"><span class="Apple-converted-space">            </span>// C列: 会社名, D列: 会社名カナ, E列: 屋号, F列: 屋号カナ</p>
<p class="p1"><span class="Apple-converted-space">            </span>// G列: 代表者名, H列: 代表者名カナ, I列: 郵便番号, J列: 住所</p>
<p class="p1"><span class="Apple-converted-space">            </span>// K列: 電話番号, L列: ウェブサイトURL, M列: 設立年月, N列: PRテキスト</p>
<p class="p1"><span class="Apple-converted-space">            </span>// O列: 支店名, P列: 支店住所</p>
<p class="p1"><span class="Apple-converted-space">            </span>// V列: 請求用メールアドレス, W列: 営業用メールアドレス</p>
<p class="p1"><span class="Apple-converted-space">            </span>// X列: 営業担当者氏名, Y列: 営業担当者カナ</p>
<p class="p1"><span class="Apple-converted-space">            </span>// Z列: 従業員数, AA列: 売上規模</p>
<p class="p1"><span class="Apple-converted-space">            </span>// AR列: メインビジュアル, AS列: 写真ギャラリー</p>
<p class="p1"><span class="Apple-converted-space">            </span>// AT列: 保有資格, AU列: 加入保険</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>const formData = {</p>
<p class="p1"><span class="Apple-converted-space">                </span>// 基本情報</p>
<p class="p1"><span class="Apple-converted-space">                </span>companyName: document.getElementById('companyName')?.value || '', // C列: 会社名</p>
<p class="p1"><span class="Apple-converted-space">                </span>companyNameKana: document.getElementById('companyNameKana')?.value || '', // D列: 会社名カナ</p>
<p class="p1"><span class="Apple-converted-space">                </span>tradeName: document.getElementById('tradeName')?.value || '', // E列: 屋号</p>
<p class="p1"><span class="Apple-converted-space">                </span>tradeNameKana: document.getElementById('tradeNameKana')?.value || '', // F列: 屋号カナ</p>
<p class="p1"><span class="Apple-converted-space">                </span>representative: document.getElementById('representative')?.value || '', // G列: 代表者名</p>
<p class="p1"><span class="Apple-converted-space">                </span>representativeKana: document.getElementById('representativeKana')?.value || '', // H列: 代表者名カナ</p>
<p class="p1"><span class="Apple-converted-space">                </span>postalCode: document.getElementById('zipCode')?.value || '', // I列: 郵便番号</p>
<p class="p1"><span class="Apple-converted-space">                </span>address: document.getElementById('address')?.value || '', // J列: 住所</p>
<p class="p1"><span class="Apple-converted-space">                </span>phone: document.getElementById('phone')?.value || '', // K列: 電話番号</p>
<p class="p1"><span class="Apple-converted-space">                </span>website: document.getElementById('website')?.value || '', // L列: ウェブサイトURL</p>
<p class="p1"><span class="Apple-converted-space">                </span>established: document.getElementById('established')?.value || '', // M列: 設立年月</p>
<p class="p1"><span class="Apple-converted-space">                </span>prText: document.getElementById('prText')?.value || '', // N列: PRテキスト</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>// O列: 支店名, P列: 支店住所</p>
<p class="p1"><span class="Apple-converted-space">                </span>branchName: (window.branches || []).map(b =&gt; b.name).filter(v =&gt; v).join('、') || '',</p>
<p class="p1"><span class="Apple-converted-space">                </span>branchAddress: (window.branches || []).map(b =&gt; b.address).filter(v =&gt; v).join('、') || '',</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>// V列: 請求用メールアドレス, W列: 営業用メールアドレス</p>
<p class="p1"><span class="Apple-converted-space">                </span>// X列: 営業担当者氏名, Y列: 営業担当者カナ</p>
<p class="p1"><span class="Apple-converted-space">                </span>billingEmail: document.getElementById('billingEmail')?.value || '',</p>
<p class="p1"><span class="Apple-converted-space">                </span>salesEmail: document.getElementById('salesEmail')?.value || '',</p>
<p class="p1"><span class="Apple-converted-space">                </span>salesPersonName: document.getElementById('salesPersonName')?.value || '',</p>
<p class="p1"><span class="Apple-converted-space">                </span>salesPersonKana: document.getElementById('salesPersonKana')?.value || '',</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>// Z列: 従業員数, AA列: 売上規模</p>
<p class="p1"><span class="Apple-converted-space">                </span>employees: document.getElementById('employees')?.value || '',</p>
<p class="p1"><span class="Apple-converted-space">                </span>salesScale: document.getElementById('salesScale')?.value || '',</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>// AT列: 保有資格, AU列: 加入保険（カスタム項目も含める）</p>
<p class="p1"><span class="Apple-converted-space">                </span>qualifications: (() =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>const checked = Array.from(document.querySelectorAll('input[name="qualifications"]:checked')).map(cb =&gt; cb.value);</p>
<p class="p1"><span class="Apple-converted-space">                    </span>const custom = Array.from(document.querySelectorAll('#customQualificationsList &gt; div &gt; span')).map(el =&gt; el.textContent.trim());</p>
<p class="p1"><span class="Apple-converted-space">                    </span>return [...checked, ...custom].filter(v =&gt; v).join(',') || '';</p>
<p class="p1"><span class="Apple-converted-space">                </span>})(),</p>
<p class="p1"><span class="Apple-converted-space">                </span>insurance: (() =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>const checked = Array.from(document.querySelectorAll('input[name="insurance"]:checked')).map(cb =&gt; cb.value);</p>
<p class="p1"><span class="Apple-converted-space">                    </span>const custom = Array.from(document.querySelectorAll('#customInsuranceList &gt; div &gt; span')).map(el =&gt; el.textContent.trim());</p>
<p class="p1"><span class="Apple-converted-space">                    </span>return [...checked, ...custom].filter(v =&gt; v).join(',') || '';</p>
<p class="p1"><span class="Apple-converted-space">                </span>})()</p>
<p class="p1"><span class="Apple-converted-space">            </span>};</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>// 画像URLを追加（アップロード済みの場合）</p>
<p class="p1"><span class="Apple-converted-space">            </span>if (mainVisualUrl) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>formData['メインビジュアル'] = mainVisualUrl; // AR列: メインビジュアル</p>
<p class="p1"><span class="Apple-converted-space">                </span>console.log('[autoSave] Added main visual to formData:', mainVisualUrl);</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>// プレビュー設定をプレビューシートに保存</p>
<p class="p1"><span class="Apple-converted-space">            </span>try {</p>
<p class="p1"><span class="Apple-converted-space">                </span>const previewData = {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>imagePositionX: imagePositionX,</p>
<p class="p1"><span class="Apple-converted-space">                    </span>imagePositionY: imagePositionY,</p>
<p class="p1"><span class="Apple-converted-space">                    </span>imageZoom: currentZoom,</p>
<p class="p1"><span class="Apple-converted-space">                    </span>imageBrightness: document.getElementById('imageOpacity')?.value || 70,</p>
<p class="p1"><span class="Apple-converted-space">                    </span>textColor: currentTextColor</p>
<p class="p1"><span class="Apple-converted-space">                </span>};</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>const previewResponse = await fetch(GAS_URL, {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>method: 'POST',</p>
<p class="p1"><span class="Apple-converted-space">                    </span>headers: { 'Content-Type': 'text/plain' },</p>
<p class="p1"><span class="Apple-converted-space">                    </span>body: JSON.stringify({</p>
<p class="p1"><span class="Apple-converted-space">                        </span>action: 'savePreviewSettings',</p>
<p class="p1"><span class="Apple-converted-space">                        </span>merchantId: window.merchantId,</p>
<p class="p1"><span class="Apple-converted-space">                        </span>previewSettings: previewData</p>
<p class="p1"><span class="Apple-converted-space">                    </span>})</p>
<p class="p1"><span class="Apple-converted-space">                </span>});</p>
<p class="p1"><span class="Apple-converted-space">                </span>const previewResult = await previewResponse.json();</p>
<p class="p1"><span class="Apple-converted-space">                </span>console.log('[autoSave] Preview settings saved:', previewResult);</p>
<p class="p1"><span class="Apple-converted-space">            </span>} catch (error) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>console.error('[autoSave] Preview settings save error:', error);</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>// ギャラリーURLを追加（既存URLは保存時に最新を取得）</p>
<p class="p1"><span class="Apple-converted-space">            </span>if (uploadedGalleryUrls.length &gt; 0) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>try {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>// スプレッドシートから最新の写真ギャラリーURLを取得</p>
<p class="p1"><span class="Apple-converted-space">                    </span>const merchantDataResponse = await fetch(GAS_URL, {</p>
<p class="p1"><span class="Apple-converted-space">                        </span>method: 'POST',</p>
<p class="p1"><span class="Apple-converted-space">                        </span>headers: { 'Content-Type': 'text/plain' },</p>
<p class="p1"><span class="Apple-converted-space">                        </span>body: JSON.stringify({</p>
<p class="p1"><span class="Apple-converted-space">                            </span>action: 'getMerchantData',</p>
<p class="p1"><span class="Apple-converted-space">                            </span>merchantId: window.merchantId</p>
<p class="p1"><span class="Apple-converted-space">                        </span>})</p>
<p class="p1"><span class="Apple-converted-space">                    </span>});</p>
<p class="p1"><span class="Apple-converted-space">                    </span>const merchantDataResult = await merchantDataResponse.json();</p>
<p class="p1"><span class="Apple-converted-space">                    </span>const existingGalleryUrls = merchantDataResult.data?.['写真ギャラリー']</p>
<p class="p1"><span class="Apple-converted-space">                        </span>? merchantDataResult.data['写真ギャラリー'].split(',').map(url =&gt; url.trim()).filter(url =&gt; url)</p>
<p class="p1"><span class="Apple-converted-space">                        </span>: [];</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                    </span>const allGalleryUrls = [...existingGalleryUrls, ...uploadedGalleryUrls].slice(0, 20);</p>
<p class="p1"><span class="Apple-converted-space">                    </span>formData['写真ギャラリー'] = allGalleryUrls.join(','); // AS列: 写真ギャラリー</p>
<p class="p1"><span class="Apple-converted-space">                    </span>console.log('[autoSave] Added gallery to formData:', allGalleryUrls.length, 'images (', existingGalleryUrls.length, 'existing +', uploadedGalleryUrls.length, 'new)');</p>
<p class="p1"><span class="Apple-converted-space">                </span>} catch (error) {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>console.error('[autoSave] Failed to get existing gallery:', error);</p>
<p class="p1"><span class="Apple-converted-space">                    </span>// エラー時は新しいURLのみ保存</p>
<p class="p1"><span class="Apple-converted-space">                    </span>formData['写真ギャラリー'] = uploadedGalleryUrls.join(',');</p>
<p class="p1"><span class="Apple-converted-space">                </span>}</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>try {</p>
<p class="p1"><span class="Apple-converted-space">                </span>console.log('[保存] 送信データ:', formData);</p>
<p class="p1"><span class="Apple-converted-space">                </span>console.log('[保存] merchantId:', window.merchantId);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>// GASに保存リクエストを送信</p>
<p class="p1"><span class="Apple-converted-space">                </span>const response = await fetch(GAS_URL, {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>method: 'POST',</p>
<p class="p1"><span class="Apple-converted-space">                    </span>headers: {</p>
<p class="p1"><span class="Apple-converted-space">                        </span>'Content-Type': 'text/plain'</p>
<p class="p1"><span class="Apple-converted-space">                    </span>},</p>
<p class="p1"><span class="Apple-converted-space">                    </span>body: JSON.stringify({</p>
<p class="p1"><span class="Apple-converted-space">                        </span>action: 'updateMerchantData',</p>
<p class="p1"><span class="Apple-converted-space">                        </span>merchantId: window.merchantId,</p>
<p class="p1"><span class="Apple-converted-space">                        </span>data: formData</p>
<p class="p1"><span class="Apple-converted-space">                    </span>})</p>
<p class="p1"><span class="Apple-converted-space">                </span>});</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>const result = await response.json();</p>
<p class="p1"><span class="Apple-converted-space">                </span>console.log('[保存] GASレスポンス:', result);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>if (result.success) {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>console.log('✅ 保存完了');</p>
<p class="p1"><span class="Apple-converted-space">                    </span>console.log('保存した項目数:', Object.keys(formData).length);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                    </span>// 保存インジケーターを元に戻す</p>
<p class="p1"><span class="Apple-converted-space">                    </span>if (saveIndicator) {</p>
<p class="p1"><span class="Apple-converted-space">                        </span>setTimeout(() =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                            </span>saveIndicator.parentElement.parentElement.style.opacity = '1';</p>
<p class="p1"><span class="Apple-converted-space">                        </span>}, 500);</p>
<p class="p1"><span class="Apple-converted-space">                    </span>}</p>
<p class="p1"><span class="Apple-converted-space">                </span>} else {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>console.error('❌ 保存エラー:', result.error);</p>
<p class="p1"><span class="Apple-converted-space">                    </span>showNotification('エラー', '保存に失敗しました', 'error');</p>
<p class="p1"><span class="Apple-converted-space">                </span>}</p>
<p class="p1"><span class="Apple-converted-space">            </span>} catch (error) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>console.error('❌ 通信エラー:', error);</p>
<p class="p1"><span class="Apple-converted-space">                </span>// エラー時も見た目を元に戻す</p>
<p class="p1"><span class="Apple-converted-space">                </span>if (saveIndicator) {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>saveIndicator.parentElement.parentElement.style.opacity = '1';</p>
<p class="p1"><span class="Apple-converted-space">                </span>}</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// 会社情報の保存</p>
<p class="p1"><span class="Apple-converted-space">        </span>async function saveCompanyInfo() {</p>
<p class="p1"><span class="Apple-converted-space">            </span>console.log('[saveCompanyInfo] 保存開始');</p>
<p class="p1"><span class="Apple-converted-space">            </span>console.log('[saveCompanyInfo] GAS_URL:', GAS_URL);</p>
<p class="p1"><span class="Apple-converted-space">            </span>console.log('[saveCompanyInfo] window.merchantId:', window.merchantId);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>if (!window.merchantId) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>alert('エラー: merchantIdが設定されていません。ログインし直してください。');</p>
<p class="p1"><span class="Apple-converted-space">                </span>console.error('[saveCompanyInfo] merchantIdが未設定');</p>
<p class="p1"><span class="Apple-converted-space">                </span>return;</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>const saveButton = event.target.closest('button');</p>
<p class="p1"><span class="Apple-converted-space">            </span>if (!saveButton) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>console.error('[saveCompanyInfo] 保存ボタンが見つかりません');</p>
<p class="p1"><span class="Apple-converted-space">                </span>return;</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>saveButton.disabled = true;</p>
<p class="p1"><span class="Apple-converted-space">            </span>const originalHTML = saveButton.innerHTML;</p>
<p class="p1"><span class="Apple-converted-space">            </span>saveButton.innerHTML = '&lt;svg class="w-5 h-5 animate-spin" fill="none" stroke="currentColor" viewBox="0 0 24 24"&gt;&lt;path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"&gt;&lt;/path&gt;&lt;/svg&gt; 保存中...';</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>try {</p>
<p class="p1"><span class="Apple-converted-space">                </span>const result = await autoSave();</p>
<p class="p1"><span class="Apple-converted-space">                </span>console.log('[saveCompanyInfo] 保存結果:', result);</p>
<p class="p1"><span class="Apple-converted-space">                </span>showNotification('保存完了', '会社情報を保存しました');</p>
<p class="p1"><span class="Apple-converted-space">            </span>} catch (error) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>console.error('[saveCompanyInfo] エラー:', error);</p>
<p class="p1"><span class="Apple-converted-space">                </span>showNotification('エラー', '保存に失敗しました: ' + error.message, 'error');</p>
<p class="p1"><span class="Apple-converted-space">            </span>} finally {</p>
<p class="p1"><span class="Apple-converted-space">                </span>saveButton.disabled = false;</p>
<p class="p1"><span class="Apple-converted-space">                </span>saveButton.innerHTML = originalHTML;</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// 会社情報のリセット</p>
<p class="p1"><span class="Apple-converted-space">        </span>function resetCompanyInfo() {</p>
<p class="p1"><span class="Apple-converted-space">            </span>if (confirm('入力内容をリセットして、スプレッドシートから再読み込みしますか？')) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>if (window.merchantData) {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>loadMerchantData(window.merchantId, window.merchantData);</p>
<p class="p1"><span class="Apple-converted-space">                    </span>showNotification('リセット完了', '最新のデータを読み込みました');</p>
<p class="p1"><span class="Apple-converted-space">                </span>}</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// カスタム資格を追加</p>
<p class="p1"><span class="Apple-converted-space">        </span>function addCustomQualification() {</p>
<p class="p1"><span class="Apple-converted-space">            </span>const input = document.getElementById('customQualificationInput');</p>
<p class="p1"><span class="Apple-converted-space">            </span>const value = input.value.trim();</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>if (value) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>const list = document.getElementById('customQualificationsList');</p>
<p class="p1"><span class="Apple-converted-space">                </span>const tag = document.createElement('div');</p>
<p class="p1"><span class="Apple-converted-space">                </span>tag.className = 'inline-flex items-center bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-sm';</p>
<p class="p1"><span class="Apple-converted-space">                </span>tag.innerHTML = `</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;span&gt;${value}&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;button onclick="this.parentElement.remove()" class="ml-2 text-blue-600 hover:text-blue-800"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"&gt;&lt;/path&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/svg&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>`;</p>
<p class="p1"><span class="Apple-converted-space">                </span>list.appendChild(tag);</p>
<p class="p1"><span class="Apple-converted-space">                </span>input.value = '';</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// カスタム保険を追加</p>
<p class="p1"><span class="Apple-converted-space">        </span>function addCustomInsurance() {</p>
<p class="p1"><span class="Apple-converted-space">            </span>const input = document.getElementById('customInsuranceInput');</p>
<p class="p1"><span class="Apple-converted-space">            </span>const value = input.value.trim();</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>if (value) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>const list = document.getElementById('customInsuranceList');</p>
<p class="p1"><span class="Apple-converted-space">                </span>const tag = document.createElement('div');</p>
<p class="p1"><span class="Apple-converted-space">                </span>tag.className = 'inline-flex items-center bg-green-100 text-green-800 px-3 py-1 rounded-full text-sm';</p>
<p class="p1"><span class="Apple-converted-space">                </span>tag.innerHTML = `</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;span&gt;${value}&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;button onclick="this.parentElement.remove()" class="ml-2 text-green-600 hover:text-green-800"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"&gt;&lt;/path&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/svg&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>`;</p>
<p class="p1"><span class="Apple-converted-space">                </span>list.appendChild(tag);</p>
<p class="p1"><span class="Apple-converted-space">                </span>input.value = '';</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// 会社情報のプレビュー</p>
<p class="p1"><span class="Apple-converted-space">        </span>function previewCompanyInfo() {</p>
<p class="p1"><span class="Apple-converted-space">            </span>// 入力値を取得</p>
<p class="p1"><span class="Apple-converted-space">            </span>const companySection = document.getElementById('companySection');</p>
<p class="p1"><span class="Apple-converted-space">            </span>const companyName = companySection.querySelector('input[placeholder*="株式会社"]').value || '株式会社くらべる塗装';</p>
<p class="p1"><span class="Apple-converted-space">            </span>const tradeName = document.getElementById('tradeName').value;</p>
<p class="p1"><span class="Apple-converted-space">            </span>const displayOption = document.querySelector('input[name="tradeNameDisplay"]:checked')?.value || 'company';</p>
<p class="p1"><span class="Apple-converted-space">            </span>const representative = companySection.querySelector('input[placeholder="代表者名を入力"]')?.value || '-';</p>
<p class="p1"><span class="Apple-converted-space">            </span>const zipCode = companySection.querySelector('input[placeholder="123-4567"]')?.value || '';</p>
<p class="p1"><span class="Apple-converted-space">            </span>const address = companySection.querySelector('input[placeholder="東京都港区青山1-1-1"]')?.value ||</p>
<p class="p1"><span class="Apple-converted-space">                           </span>companySection.querySelector('label:has-text("住所") + input')?.value ||</p>
<p class="p1"><span class="Apple-converted-space">                           </span>companySection.querySelector('label:has-text("所在地") + input')?.value || '-';</p>
<p class="p1"><span class="Apple-converted-space">            </span>const established = companySection.querySelector('input[placeholder="2010年4月"]')?.value || '2010年4月';</p>
<p class="p1"><span class="Apple-converted-space">            </span>const prText = companySection.querySelector('textarea[placeholder*="PR文"]')?.value ||</p>
<p class="p1"><span class="Apple-converted-space">                          </span>companySection.querySelector('textarea[rows="4"]')?.value ||</p>
<p class="p1"><span class="Apple-converted-space">                          </span>'地域密着で15年以上、確かな技術と丁寧な仕事で皆様の大切な住まいを守ります。見積もりから施工まで自社一貫体制で、中間マージンなしの適正価格をご提供。アフターフォローも万全です。';</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>// 会社名の表示を決定</p>
<p class="p1"><span class="Apple-converted-space">            </span>let displayName = companyName;</p>
<p class="p1"><span class="Apple-converted-space">            </span>let displayHtml = companyName; // HTML用（サイズ調整含む）</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>if (tradeName &amp;&amp; tradeName.trim() !== '') {</p>
<p class="p1"><span class="Apple-converted-space">                </span>const reverseOrder = document.getElementById('reverseOrder')?.checked || false;</p>
<p class="p1"><span class="Apple-converted-space">                </span>const smallerSecond = document.getElementById('smallerSecond')?.checked || false;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>switch(displayOption) {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>case 'trade':</p>
<p class="p1"><span class="Apple-converted-space">                        </span>displayName = tradeName;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>displayHtml = tradeName;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>break;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>case 'both':</p>
<p class="p1"><span class="Apple-converted-space">                        </span>if (reverseOrder) {</p>
<p class="p1"><span class="Apple-converted-space">                            </span>displayName = `${tradeName}｜${companyName}`;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>if (smallerSecond) {</p>
<p class="p1"><span class="Apple-converted-space">                                </span>displayHtml = `${tradeName}｜&lt;span style="font-size:85%"&gt;${companyName}&lt;/span&gt;`;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>} else {</p>
<p class="p1"><span class="Apple-converted-space">                                </span>displayHtml = displayName;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>}</p>
<p class="p1"><span class="Apple-converted-space">                        </span>} else {</p>
<p class="p1"><span class="Apple-converted-space">                            </span>displayName = `${companyName}｜${tradeName}`;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>if (smallerSecond) {</p>
<p class="p1"><span class="Apple-converted-space">                                </span>displayHtml = `${companyName}｜&lt;span style="font-size:85%"&gt;${tradeName}&lt;/span&gt;`;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>} else {</p>
<p class="p1"><span class="Apple-converted-space">                                </span>displayHtml = displayName;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>}</p>
<p class="p1"><span class="Apple-converted-space">                        </span>}</p>
<p class="p1"><span class="Apple-converted-space">                        </span>break;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>case 'company':</p>
<p class="p1"><span class="Apple-converted-space">                    </span>default:</p>
<p class="p1"><span class="Apple-converted-space">                        </span>displayName = companyName;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>displayHtml = companyName;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>break;</p>
<p class="p1"><span class="Apple-converted-space">                </span>}</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>// プレビューに反映</p>
<p class="p1"><span class="Apple-converted-space">            </span>const setElementText = (id, text) =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                </span>const element = document.getElementById(id);</p>
<p class="p1"><span class="Apple-converted-space">                </span>if (element) element.textContent = text;</p>
<p class="p1"><span class="Apple-converted-space">            </span>};</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>const setElementHtml = (id, html) =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                </span>const element = document.getElementById(id);</p>
<p class="p1"><span class="Apple-converted-space">                </span>if (element) element.innerHTML = html;</p>
<p class="p1"><span class="Apple-converted-space">            </span>};</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>// 会社名はHTMLとして設定（フォントサイズ変更を反映するため）</p>
<p class="p1"><span class="Apple-converted-space">            </span>setElementHtml('previewCompanyName', displayHtml);</p>
<p class="p1"><span class="Apple-converted-space">            </span>setElementHtml('previewCompanyNameHero', displayHtml);</p>
<p class="p1"><span class="Apple-converted-space">            </span>setElementHtml('previewCompanyNameOverlay', displayHtml);</p>
<p class="p1"><span class="Apple-converted-space">            </span>setElementHtml('previewCompanyNameFull', displayHtml);</p>
<p class="p1"><span class="Apple-converted-space">            </span>setElementText('previewRepresentative', representative);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>// 所在地を表示（郵便番号も含める）</p>
<p class="p1"><span class="Apple-converted-space">            </span>const fullAddress = zipCode ? `〒${zipCode} ${address}` : address;</p>
<p class="p1"><span class="Apple-converted-space">            </span>setElementText('previewAddress', fullAddress);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>setElementText('previewEstablishedDate', established);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>// PR文を表示</p>
<p class="p1"><span class="Apple-converted-space">            </span>setElementText('previewPrText', prText);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>// キャッチフレーズをPR文の最初の一文から抽出（句点までで切る）</p>
<p class="p1"><span class="Apple-converted-space">            </span>const firstSentence = prText.split('。')[0];</p>
<p class="p1"><span class="Apple-converted-space">            </span>const tagline = firstSentence || '信頼と実績の外壁塗装専門店';</p>
<p class="p1"><span class="Apple-converted-space">            </span>setElementText('previewTagline', tagline || '信頼と実績の外壁塗装専門店');</p>
<p class="p1"><span class="Apple-converted-space">            </span>setElementText('previewTaglineHero', tagline || '信頼と実績の外壁塗装専門店');</p>
<p class="p1"><span class="Apple-converted-space">            </span>setElementText('previewTaglineOverlay', tagline || '信頼と実績の外壁塗装専門店');</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>setElementText('previewEstablishedHero', established);</p>
<p class="p1"><span class="Apple-converted-space">            </span>setElementText('previewEstablishedOverlay', established);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>// メインビジュアルがアップロードされている場合は表示</p>
<p class="p1"><span class="Apple-converted-space">            </span>if (mainVisualData || mainVisualUrl) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>document.getElementById('previewMainVisual').src = mainVisualData || mainVisualUrl;</p>
<p class="p1"><span class="Apple-converted-space">                </span>document.getElementById('mainVisualSection').style.display = 'block';</p>
<p class="p1"><span class="Apple-converted-space">                </span>document.getElementById('heroSection').style.display = 'none';</p>
<p class="p1"><span class="Apple-converted-space">            </span>} else {</p>
<p class="p1"><span class="Apple-converted-space">                </span>document.getElementById('mainVisualSection').style.display = 'none';</p>
<p class="p1"><span class="Apple-converted-space">                </span>document.getElementById('heroSection').style.display = 'block';</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>// 資格を表示</p>
<p class="p1"><span class="Apple-converted-space">            </span>const qualificationsList = document.getElementById('qualificationsList');</p>
<p class="p1"><span class="Apple-converted-space">            </span>if (qualificationsList) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>qualificationsList.innerHTML = '';</p>
<p class="p1"><span class="Apple-converted-space">                </span>// チェックされた資格を取得</p>
<p class="p1"><span class="Apple-converted-space">                </span>const checkedQualifications = companySection.querySelectorAll('input[name="qualifications"]:checked');</p>
<p class="p1"><span class="Apple-converted-space">                </span>checkedQualifications.forEach(qual =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>const div = document.createElement('div');</p>
<p class="p1"><span class="Apple-converted-space">                    </span>div.className = 'bg-purple-50 border border-purple-200 rounded-lg p-3 flex items-center';</p>
<p class="p1"><span class="Apple-converted-space">                    </span>div.innerHTML = `</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;span class="text-2xl mr-2"&gt;🎖️&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;span class="text-sm font-medium"&gt;${qual.value}&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>`;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>qualificationsList.appendChild(div);</p>
<p class="p1"><span class="Apple-converted-space">                </span>});</p>
<p class="p1"><span class="Apple-converted-space">                </span>// カスタム資格を追加</p>
<p class="p1"><span class="Apple-converted-space">                </span>const customQuals = document.querySelectorAll('#customQualificationsList &gt; div');</p>
<p class="p1"><span class="Apple-converted-space">                </span>customQuals.forEach(qual =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>const qualText = qual.querySelector('span').textContent;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>const div = document.createElement('div');</p>
<p class="p1"><span class="Apple-converted-space">                    </span>div.className = 'bg-purple-50 border border-purple-200 rounded-lg p-3 flex items-center';</p>
<p class="p1"><span class="Apple-converted-space">                    </span>div.innerHTML = `</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;span class="text-2xl mr-2"&gt;🎖️&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;span class="text-sm font-medium"&gt;${qualText}&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>`;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>qualificationsList.appendChild(div);</p>
<p class="p1"><span class="Apple-converted-space">                </span>});</p>
<p class="p1"><span class="Apple-converted-space">                </span>// 資格がある場合のみセクションを表示</p>
<p class="p1"><span class="Apple-converted-space">                </span>const qualSection = document.getElementById('preview-qualifications');</p>
<p class="p1"><span class="Apple-converted-space">                </span>if (qualSection) {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>qualSection.style.display = qualificationsList.children.length &gt; 0 ? 'block' : 'none';</p>
<p class="p1"><span class="Apple-converted-space">                </span>}</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>// 保険を表示</p>
<p class="p1"><span class="Apple-converted-space">            </span>const insuranceList = document.getElementById('insuranceList');</p>
<p class="p1"><span class="Apple-converted-space">            </span>if (insuranceList) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>insuranceList.innerHTML = '';</p>
<p class="p1"><span class="Apple-converted-space">                </span>// チェックされた保険を取得</p>
<p class="p1"><span class="Apple-converted-space">                </span>const checkedInsurance = companySection.querySelectorAll('input[name="insurance"]:checked');</p>
<p class="p1"><span class="Apple-converted-space">                </span>checkedInsurance.forEach(ins =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>const div = document.createElement('div');</p>
<p class="p1"><span class="Apple-converted-space">                    </span>div.className = 'bg-indigo-50 border border-indigo-200 rounded-lg p-3 flex items-center';</p>
<p class="p1"><span class="Apple-converted-space">                    </span>div.innerHTML = `</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;span class="text-2xl mr-2"&gt;🛡️&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;span class="text-sm font-medium"&gt;${ins.value}&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>`;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>insuranceList.appendChild(div);</p>
<p class="p1"><span class="Apple-converted-space">                </span>});</p>
<p class="p1"><span class="Apple-converted-space">                </span>// カスタム保険を追加</p>
<p class="p1"><span class="Apple-converted-space">                </span>const customInsurance = document.querySelectorAll('#customInsuranceList &gt; div');</p>
<p class="p1"><span class="Apple-converted-space">                </span>customInsurance.forEach(ins =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>const insText = ins.querySelector('span').textContent;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>const div = document.createElement('div');</p>
<p class="p1"><span class="Apple-converted-space">                    </span>div.className = 'bg-indigo-50 border border-indigo-200 rounded-lg p-3 flex items-center';</p>
<p class="p1"><span class="Apple-converted-space">                    </span>div.innerHTML = `</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;span class="text-2xl mr-2"&gt;🛡️&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;span class="text-sm font-medium"&gt;${insText}&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>`;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>insuranceList.appendChild(div);</p>
<p class="p1"><span class="Apple-converted-space">                </span>});</p>
<p class="p1"><span class="Apple-converted-space">                </span>// 保険がある場合のみセクションを表示</p>
<p class="p1"><span class="Apple-converted-space">                </span>const insSection = document.getElementById('preview-insurance');</p>
<p class="p1"><span class="Apple-converted-space">                </span>if (insSection) {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>insSection.style.display = insuranceList.children.length &gt; 0 ? 'block' : 'none';</p>
<p class="p1"><span class="Apple-converted-space">                </span>}</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>// 対応可能な工事を表示</p>
<p class="p1"><span class="Apple-converted-space">            </span>const previewServicesList = document.getElementById('previewServicesList');</p>
<p class="p1"><span class="Apple-converted-space">            </span>const serviceIconMap = {</p>
<p class="p1"><span class="Apple-converted-space">                </span>'外壁塗装': '🎨',</p>
<p class="p1"><span class="Apple-converted-space">                </span>'外壁カバー工法': '🏗️',</p>
<p class="p1"><span class="Apple-converted-space">                </span>'外壁張替え': '🔨',</p>
<p class="p1"><span class="Apple-converted-space">                </span>'屋根塗装（外壁工事含む）': '🏠',</p>
<p class="p1"><span class="Apple-converted-space">                </span>'屋上防水（外壁工事含む）': '💧',</p>
<p class="p1"><span class="Apple-converted-space">                </span>'屋根葺き替え・張り替え※スレート・ガルバリウム等': '🏚️',</p>
<p class="p1"><span class="Apple-converted-space">                </span>'屋根葺き替え・張り替え※瓦': '🏯',</p>
<p class="p1"><span class="Apple-converted-space">                </span>'屋根カバー工法': '📐',</p>
<p class="p1"><span class="Apple-converted-space">                </span>'外壁補修（外壁工事含む）': '🔧',</p>
<p class="p1"><span class="Apple-converted-space">                </span>'屋根補修（外壁工事含む）': '🛠️',</p>
<p class="p1"><span class="Apple-converted-space">                </span>'ベランダ防水（外壁工事含む）': '🌊'</p>
<p class="p1"><span class="Apple-converted-space">            </span>};</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>if (previewServicesList) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>previewServicesList.innerHTML = '';</p>
<p class="p1"><span class="Apple-converted-space">                </span>const checkedServices = document.querySelectorAll('input[name="constructionTypes"]:checked');</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>if (checkedServices.length &gt; 0) {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>checkedServices.forEach(service =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                        </span>const serviceName = service.value;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                        </span>// 単品項目（但し1社紹介時は定価）をプレビューから除外</p>
<p class="p1"><span class="Apple-converted-space">                        </span>if (serviceName.includes('（但し1社紹介時は定価）')) {</p>
<p class="p1"><span class="Apple-converted-space">                            </span>return;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                        </span>// 表示名から（外壁工事含む）を削除</p>
<p class="p1"><span class="Apple-converted-space">                        </span>const displayName = serviceName.replace('（外壁工事含む）', '');</p>
<p class="p1"><span class="Apple-converted-space">                        </span>const icon = serviceIconMap[serviceName] || '✓';</p>
<p class="p1"><span class="Apple-converted-space">                        </span>const div = document.createElement('div');</p>
<p class="p1"><span class="Apple-converted-space">                        </span>div.className = 'bg-white border border-green-200 rounded-lg p-3 flex items-center hover:shadow-md transition';</p>
<p class="p1"><span class="Apple-converted-space">                        </span>div.innerHTML = `</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;span class="text-2xl mr-2"&gt;${icon}&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;span class="text-sm font-medium text-gray-800"&gt;${displayName}&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>`;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>previewServicesList.appendChild(div);</p>
<p class="p1"><span class="Apple-converted-space">                    </span>});</p>
<p class="p1"><span class="Apple-converted-space">                    </span>document.getElementById('preview-services').style.display = 'block';</p>
<p class="p1"><span class="Apple-converted-space">                </span>} else {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>document.getElementById('preview-services').style.display = 'none';</p>
<p class="p1"><span class="Apple-converted-space">                </span>}</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>// 対応エリアを表示</p>
<p class="p1"><span class="Apple-converted-space">            </span>const previewCitiesContainer = document.getElementById('previewCitiesContainer');</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>if (previewCitiesContainer &amp;&amp; areaSelectionData &amp;&amp; areaSelectionData.prefectures) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>previewCitiesContainer.innerHTML = '';</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>areaSelectionData.prefectures.forEach((pref, index) =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>const cities = areaSelectionData.cities[pref];</p>
<p class="p1"><span class="Apple-converted-space">                    </span>if (cities &amp;&amp; cities.length &gt; 0) {</p>
<p class="p1"><span class="Apple-converted-space">                        </span>const prefDiv = document.createElement('div');</p>
<p class="p1"><span class="Apple-converted-space">                        </span>prefDiv.className = index &lt; areaSelectionData.prefectures.length - 1 ? 'mb-6 pb-6 border-b border-gray-200' : 'mb-0';</p>
<p class="p1"><span class="Apple-converted-space">                        </span>prefDiv.innerHTML = `</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div class="flex items-center mb-3"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;span class="text-base font-bold text-blue-600"&gt;${pref}&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div class="flex flex-wrap gap-2"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>${cities.map(city =&gt; `&lt;span class="px-3 py-1.5 bg-blue-50 hover:bg-blue-100 text-blue-700 rounded-lg text-sm transition"&gt;${city}&lt;/span&gt;`).join('')}</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>`;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>previewCitiesContainer.appendChild(prefDiv);</p>
<p class="p1"><span class="Apple-converted-space">                    </span>}</p>
<p class="p1"><span class="Apple-converted-space">                </span>});</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>// 対応エリアがある場合のみセクションを表示</p>
<p class="p1"><span class="Apple-converted-space">                </span>const areasSection = document.getElementById('preview-areas');</p>
<p class="p1"><span class="Apple-converted-space">                </span>if (areasSection) {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>areasSection.style.display = areaSelectionData.prefectures.length &gt; 0 ? 'block' : 'none';</p>
<p class="p1"><span class="Apple-converted-space">                </span>}</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>// 特殊対応項目を表示</p>
<p class="p1"><span class="Apple-converted-space">            </span>const previewFeaturesList = document.getElementById('previewFeaturesList');</p>
<p class="p1"><span class="Apple-converted-space">            </span>if (previewFeaturesList) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>previewFeaturesList.innerHTML = '';</p>
<p class="p1"><span class="Apple-converted-space">                </span>const checkedSpecialServices = document.querySelectorAll('input[name="specialServices"]:checked');</p>
<p class="p1"><span class="Apple-converted-space">                </span>const excludeItems = ['立ち会いなし・見積もり手渡し希望', '遠方につき立ち会いなし・見積もり郵送・電話で商談可'];</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>const colors = [</p>
<p class="p1"><span class="Apple-converted-space">                    </span>'from-blue-50 to-blue-100',</p>
<p class="p1"><span class="Apple-converted-space">                    </span>'from-purple-50 to-purple-100',</p>
<p class="p1"><span class="Apple-converted-space">                    </span>'from-green-50 to-green-100',</p>
<p class="p1"><span class="Apple-converted-space">                    </span>'from-pink-50 to-pink-100',</p>
<p class="p1"><span class="Apple-converted-space">                    </span>'from-yellow-50 to-yellow-100',</p>
<p class="p1"><span class="Apple-converted-space">                    </span>'from-indigo-50 to-indigo-100'</p>
<p class="p1"><span class="Apple-converted-space">                </span>];</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>let colorIndex = 0;</p>
<p class="p1"><span class="Apple-converted-space">                </span>checkedSpecialServices.forEach(service =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>const serviceText = service.value;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>// 除外項目をスキップ</p>
<p class="p1"><span class="Apple-converted-space">                    </span>if (excludeItems.some(item =&gt; serviceText.includes(item))) {</p>
<p class="p1"><span class="Apple-converted-space">                        </span>return;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                    </span>// 絵文字とテキストを分離</p>
<p class="p1"><span class="Apple-converted-space">                    </span>const parts = serviceText.split(' ');</p>
<p class="p1"><span class="Apple-converted-space">                    </span>const emoji = parts[0];</p>
<p class="p1"><span class="Apple-converted-space">                    </span>const text = parts.slice(1).join(' ');</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                    </span>const div = document.createElement('div');</p>
<p class="p1"><span class="Apple-converted-space">                    </span>div.className = `bg-gradient-to-br ${colors[colorIndex % colors.length]} rounded-xl p-4`;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>div.innerHTML = `</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="text-3xl mb-2"&gt;${emoji}&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;h4 class="font-semibold text-gray-900 mb-1"&gt;${text}&lt;/h4&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>`;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>previewFeaturesList.appendChild(div);</p>
<p class="p1"><span class="Apple-converted-space">                    </span>colorIndex++;</p>
<p class="p1"><span class="Apple-converted-space">                </span>});</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>// 強みがある場合のみセクションを表示</p>
<p class="p1"><span class="Apple-converted-space">                </span>const featuresSection = document.getElementById('preview-features');</p>
<p class="p1"><span class="Apple-converted-space">                </span>if (featuresSection) {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>featuresSection.style.display = previewFeaturesList.children.length &gt; 0 ? 'block' : 'none';</p>
<p class="p1"><span class="Apple-converted-space">                </span>}</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>// モーダルを表示</p>
<p class="p1"><span class="Apple-converted-space">            </span>document.getElementById('companyPreviewModal').classList.remove('hidden');</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>// ドラッグ機能を初期化</p>
<p class="p1"><span class="Apple-converted-space">            </span>setTimeout(initImageDrag, 100);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>// Googleマップを読み込み</p>
<p class="p1"><span class="Apple-converted-space">            </span>setTimeout(loadGoogleMap, 200);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>// 写真ギャラリーと施工事例の表示を更新</p>
<p class="p1"><span class="Apple-converted-space">            </span>updateGalleryDisplay();</p>
<p class="p1"><span class="Apple-converted-space">            </span>updateConstructionExamplesDisplay();</p>
<p class="p1"><span class="Apple-converted-space">            </span>updateReviewsList();</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// プレビューモーダルを閉じる</p>
<p class="p1"><span class="Apple-converted-space">        </span>function closePreviewModal() {</p>
<p class="p1"><span class="Apple-converted-space">            </span>document.getElementById('companyPreviewModal').classList.add('hidden');</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// プレビュー設定パネルの表示切り替え</p>
<p class="p1"><span class="Apple-converted-space">        </span>function togglePreviewSettings() {</p>
<p class="p1"><span class="Apple-converted-space">            </span>const settings = document.getElementById('previewSettings');</p>
<p class="p1"><span class="Apple-converted-space">            </span>settings.classList.toggle('hidden');</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// プレビューセクションの表示切り替え</p>
<p class="p1"><span class="Apple-converted-space">        </span>function togglePreviewSection(sectionName) {</p>
<p class="p1"><span class="Apple-converted-space">            </span>const section = document.getElementById('preview-' + sectionName);</p>
<p class="p1"><span class="Apple-converted-space">            </span>if (section) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>section.classList.toggle('hidden');</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>// 会社概要セクションの場合、詳細設定の表示も切り替え</p>
<p class="p1"><span class="Apple-converted-space">            </span>if (sectionName === 'basicInfo') {</p>
<p class="p1"><span class="Apple-converted-space">                </span>const detailSettings = document.getElementById('basicInfoDetailSettings');</p>
<p class="p1"><span class="Apple-converted-space">                </span>if (detailSettings) {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>if (section &amp;&amp; section.classList.contains('hidden')) {</p>
<p class="p1"><span class="Apple-converted-space">                        </span>detailSettings.style.display = 'none';</p>
<p class="p1"><span class="Apple-converted-space">                    </span>} else {</p>
<p class="p1"><span class="Apple-converted-space">                        </span>detailSettings.style.display = 'block';</p>
<p class="p1"><span class="Apple-converted-space">                    </span>}</p>
<p class="p1"><span class="Apple-converted-space">                </span>}</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// 会社概要の個別フィールドの表示切り替え</p>
<p class="p1"><span class="Apple-converted-space">        </span>function toggleBasicInfoField(fieldName) {</p>
<p class="p1"><span class="Apple-converted-space">            </span>const field = document.getElementById('basicInfo-' + fieldName);</p>
<p class="p1"><span class="Apple-converted-space">            </span>if (field) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>field.classList.toggle('hidden');</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// 築年数範囲の更新（会社情報用）</p>
<p class="p1"><span class="Apple-converted-space">        </span>function updateAgeRange() {</p>
<p class="p1"><span class="Apple-converted-space">            </span>const minSlider = document.querySelector('#companySection input[type="range"][min="0"][max="50"]');</p>
<p class="p1"><span class="Apple-converted-space">            </span>const maxSlider = document.querySelector('#companySection input[type="range"][min="0"][max="100"]');</p>
<p class="p1"><span class="Apple-converted-space">            </span>if (minSlider &amp;&amp; maxSlider) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>const minElement = document.getElementById('ageRangeMin');</p>
<p class="p1"><span class="Apple-converted-space">                </span>const maxElement = document.getElementById('ageRangeMax');</p>
<p class="p1"><span class="Apple-converted-space">                </span>if (minElement) minElement.textContent = minSlider.value;</p>
<p class="p1"><span class="Apple-converted-space">                </span>if (maxElement) maxElement.textContent = maxSlider.value;</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// 築年数範囲の更新（自動配信設定用）</p>
<p class="p1"><span class="Apple-converted-space">        </span>function updateAgeRangeAuto() {</p>
<p class="p1"><span class="Apple-converted-space">            </span>const minSlider = document.querySelector('#autodeliverySection input[type="range"][min="0"][max="50"]');</p>
<p class="p1"><span class="Apple-converted-space">            </span>const maxSlider = document.querySelector('#autodeliverySection input[type="range"][min="0"][max="100"]');</p>
<p class="p1"><span class="Apple-converted-space">            </span>if (minSlider &amp;&amp; maxSlider) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>const minValue = parseInt(minSlider.value);</p>
<p class="p1"><span class="Apple-converted-space">                </span>const maxValue = parseInt(maxSlider.value);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>// 下限が上限を超えた場合、上限を下限に合わせる</p>
<p class="p1"><span class="Apple-converted-space">                </span>if (minValue &gt; maxValue) {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>maxSlider.value = minValue;</p>
<p class="p1"><span class="Apple-converted-space">                </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>// 上限が下限を下回った場合、下限を上限に合わせる</p>
<p class="p1"><span class="Apple-converted-space">                </span>if (maxValue &lt; minValue) {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>minSlider.value = maxValue;</p>
<p class="p1"><span class="Apple-converted-space">                </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>const minElement = document.getElementById('ageRangeMinAuto');</p>
<p class="p1"><span class="Apple-converted-space">                </span>const maxElement = document.getElementById('ageRangeMaxAuto');</p>
<p class="p1"><span class="Apple-converted-space">                </span>if (minElement) minElement.textContent = minSlider.value;</p>
<p class="p1"><span class="Apple-converted-space">                </span>if (maxElement) maxElement.textContent = maxSlider.value;</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// サービスカードの切り替え</p>
<p class="p1"><span class="Apple-converted-space">        </span>function toggleServiceCard(element) {</p>
<p class="p1"><span class="Apple-converted-space">            </span>const checkbox = element.querySelector('input[type="checkbox"]');</p>
<p class="p1"><span class="Apple-converted-space">            </span>const card = element.querySelector('div');</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>if (checkbox.checked) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>checkbox.checked = false;</p>
<p class="p1"><span class="Apple-converted-space">                </span>card.classList.remove('border-blue-500', 'bg-blue-50');</p>
<p class="p1"><span class="Apple-converted-space">            </span>} else {</p>
<p class="p1"><span class="Apple-converted-space">                </span>checkbox.checked = true;</p>
<p class="p1"><span class="Apple-converted-space">                </span>card.classList.add('border-blue-500', 'bg-blue-50');</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// 戻るボタン</p>
<p class="p1"><span class="Apple-converted-space">        </span>function goBack() {</p>
<p class="p1"><span class="Apple-converted-space">            </span>showSection('dashboard');</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// 表示・非表示の切り替え</p>
<p class="p1"><span class="Apple-converted-space">        </span>function toggleVisibility(button) {</p>
<p class="p1"><span class="Apple-converted-space">            </span>const icon = button.querySelector('svg');</p>
<p class="p1"><span class="Apple-converted-space">            </span>const parent = button.closest('.border');</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>if (parent.classList.contains('opacity-50')) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>parent.classList.remove('opacity-50');</p>
<p class="p1"><span class="Apple-converted-space">                </span>icon.innerHTML = `</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"&gt;&lt;/path&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"&gt;&lt;/path&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>`;</p>
<p class="p1"><span class="Apple-converted-space">            </span>} else {</p>
<p class="p1"><span class="Apple-converted-space">                </span>parent.classList.add('opacity-50');</p>
<p class="p1"><span class="Apple-converted-space">                </span>icon.innerHTML = `</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"&gt;&lt;/path&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>`;</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// メインビジュアルアップロード処理（プレビューのみ、保存は後で）</p>
<p class="p1"><span class="Apple-converted-space">        </span>let mainVisualData = null;</p>
<p class="p1"><span class="Apple-converted-space">        </span>let mainVisualFileName = null;</p>
<p class="p1"><span class="Apple-converted-space">        </span>let mainVisualUrl = null;</p>
<p class="p1"><span class="Apple-converted-space">        </span>function handleMainVisualUpload(event) {</p>
<p class="p1"><span class="Apple-converted-space">            </span>const file = event.target.files[0];</p>
<p class="p1"><span class="Apple-converted-space">            </span>if (file) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>mainVisualFileName = file.name;</p>
<p class="p1"><span class="Apple-converted-space">                </span>const reader = new FileReader();</p>
<p class="p1"><span class="Apple-converted-space">                </span>reader.onload = function(e) {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>mainVisualData = e.target.result;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>// プレビュー表示のみ</p>
<p class="p1"><span class="Apple-converted-space">                    </span>document.getElementById('mainVisualImage').src = mainVisualData;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>document.getElementById('mainVisualPreview').classList.remove('hidden');</p>
<p class="p1"><span class="Apple-converted-space">                    </span>document.getElementById('mainVisualPlaceholder').classList.add('hidden');</p>
<p class="p1"><span class="Apple-converted-space">                    </span>console.log('[handleMainVisualUpload] Image ready for upload on save');</p>
<p class="p1"><span class="Apple-converted-space">                </span>};</p>
<p class="p1"><span class="Apple-converted-space">                </span>reader.readAsDataURL(file);</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// メインビジュアル削除</p>
<p class="p1"><span class="Apple-converted-space">        </span>function removeMainVisual() {</p>
<p class="p1"><span class="Apple-converted-space">            </span>mainVisualData = null;</p>
<p class="p1"><span class="Apple-converted-space">            </span>document.getElementById('mainVisualPreview').classList.add('hidden');</p>
<p class="p1"><span class="Apple-converted-space">            </span>document.getElementById('mainVisualPlaceholder').classList.remove('hidden');</p>
<p class="p1"><span class="Apple-converted-space">            </span>document.getElementById('mainVisualInput').value = '';</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// 画像位置調整</p>
<p class="p1"><span class="Apple-converted-space">        </span>let imagePositionX = 50;</p>
<p class="p1"><span class="Apple-converted-space">        </span>let imagePositionY = 50;</p>
<p class="p1"><span class="Apple-converted-space">        </span>let currentZoom = 100;</p>
<p class="p1"><span class="Apple-converted-space">        </span>let currentTextColor = 'white';</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>function adjustImagePosition(position) {</p>
<p class="p1"><span class="Apple-converted-space">            </span>const image = document.getElementById('previewMainVisual');</p>
<p class="p1"><span class="Apple-converted-space">            </span>if (image) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>const step = 5; // 5%ずつ移動</p>
<p class="p1"><span class="Apple-converted-space">                </span>switch(position) {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>case 'up':</p>
<p class="p1"><span class="Apple-converted-space">                        </span>imagePositionY = Math.max(0, imagePositionY - step);</p>
<p class="p1"><span class="Apple-converted-space">                        </span>break;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>case 'down':</p>
<p class="p1"><span class="Apple-converted-space">                        </span>imagePositionY = Math.min(100, imagePositionY + step);</p>
<p class="p1"><span class="Apple-converted-space">                        </span>break;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>case 'left':</p>
<p class="p1"><span class="Apple-converted-space">                        </span>imagePositionX = Math.max(0, imagePositionX - step);</p>
<p class="p1"><span class="Apple-converted-space">                        </span>break;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>case 'right':</p>
<p class="p1"><span class="Apple-converted-space">                        </span>imagePositionX = Math.min(100, imagePositionX + step);</p>
<p class="p1"><span class="Apple-converted-space">                        </span>break;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>case 'center':</p>
<p class="p1"><span class="Apple-converted-space">                        </span>imagePositionX = 50;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>imagePositionY = 50;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>break;</p>
<p class="p1"><span class="Apple-converted-space">                </span>}</p>
<p class="p1"><span class="Apple-converted-space">                </span>updateImagePosition();</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>function updateImagePosition() {</p>
<p class="p1"><span class="Apple-converted-space">            </span>const image = document.getElementById('previewMainVisual');</p>
<p class="p1"><span class="Apple-converted-space">            </span>if (image) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>image.style.objectPosition = `${imagePositionX}% ${imagePositionY}%`;</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// ドラッグで画像位置を調整</p>
<p class="p1"><span class="Apple-converted-space">        </span>let isDragging = false;</p>
<p class="p1"><span class="Apple-converted-space">        </span>let startX, startY;</p>
<p class="p1"><span class="Apple-converted-space">        </span>let startPosX, startPosY;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>function initImageDrag() {</p>
<p class="p1"><span class="Apple-converted-space">            </span>const container = document.getElementById('mainVisualContainer');</p>
<p class="p1"><span class="Apple-converted-space">            </span>const image = document.getElementById('previewMainVisual');</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>if (!container || !image) return;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>// 既存のイベントリスナーを削除</p>
<p class="p1"><span class="Apple-converted-space">            </span>const newContainer = container.cloneNode(true);</p>
<p class="p1"><span class="Apple-converted-space">            </span>container.parentNode.replaceChild(newContainer, container);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>newContainer.addEventListener('mousedown', (e) =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                </span>isDragging = true;</p>
<p class="p1"><span class="Apple-converted-space">                </span>startX = e.clientX;</p>
<p class="p1"><span class="Apple-converted-space">                </span>startY = e.clientY;</p>
<p class="p1"><span class="Apple-converted-space">                </span>startPosX = imagePositionX;</p>
<p class="p1"><span class="Apple-converted-space">                </span>startPosY = imagePositionY;</p>
<p class="p1"><span class="Apple-converted-space">                </span>newContainer.style.cursor = 'grabbing';</p>
<p class="p1"><span class="Apple-converted-space">                </span>e.preventDefault();</p>
<p class="p1"><span class="Apple-converted-space">            </span>});</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>// mousemoveとmouseupイベントは一度だけ追加</p>
<p class="p1"><span class="Apple-converted-space">            </span>if (!window.imageDragListenersAdded) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>window.imageDragListenersAdded = true;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>document.addEventListener('mousemove', (e) =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>if (!isDragging) return;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                    </span>const containerRect = document.getElementById('mainVisualContainer')?.getBoundingClientRect();</p>
<p class="p1"><span class="Apple-converted-space">                    </span>if (!containerRect) return;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                    </span>// マウスの移動量を計算</p>
<p class="p1"><span class="Apple-converted-space">                    </span>const deltaX = (e.clientX - startX) / containerRect.width * 100;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>const deltaY = (e.clientY - startY) / containerRect.height * 100;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                    </span>// 横方向の移動（感度を調整して移動しやすくする）</p>
<p class="p1"><span class="Apple-converted-space">                    </span>const sensitivityX = 1.0;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>imagePositionX = Math.max(0, Math.min(100, startPosX - deltaX * sensitivityX));</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                    </span>// 縦方向の移動</p>
<p class="p1"><span class="Apple-converted-space">                    </span>const sensitivityY = 1.0;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>imagePositionY = Math.max(0, Math.min(100, startPosY - deltaY * sensitivityY));</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                    </span>updateImagePosition();</p>
<p class="p1"><span class="Apple-converted-space">                </span>});</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>document.addEventListener('mouseup', () =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>if (isDragging) {</p>
<p class="p1"><span class="Apple-converted-space">                        </span>isDragging = false;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>const newContainer = document.getElementById('mainVisualContainer');</p>
<p class="p1"><span class="Apple-converted-space">                        </span>if (newContainer) newContainer.style.cursor = 'move';</p>
<p class="p1"><span class="Apple-converted-space">                    </span>}</p>
<p class="p1"><span class="Apple-converted-space">                </span>});</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// 画像ズーム調整</p>
<p class="p1"><span class="Apple-converted-space">        </span>function adjustImageZoom(value) {</p>
<p class="p1"><span class="Apple-converted-space">            </span>const image = document.getElementById('previewMainVisual');</p>
<p class="p1"><span class="Apple-converted-space">            </span>if (image) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>currentZoom = parseInt(value);</p>
<p class="p1"><span class="Apple-converted-space">                </span>const scale = currentZoom / 100;</p>
<p class="p1"><span class="Apple-converted-space">                </span>image.style.transform = `scale(${scale})`;</p>
<p class="p1"><span class="Apple-converted-space">                </span>// ズーム変更後も位置は維持</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// 画像明度調整</p>
<p class="p1"><span class="Apple-converted-space">        </span>function adjustImageOpacity(value) {</p>
<p class="p1"><span class="Apple-converted-space">            </span>const overlay = document.querySelector('#mainVisualSection .absolute.inset-0');</p>
<p class="p1"><span class="Apple-converted-space">            </span>if (overlay) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>const opacity = (100 - value) / 100;</p>
<p class="p1"><span class="Apple-converted-space">                </span>overlay.style.background = `linear-gradient(to bottom, transparent, transparent, rgba(0,0,0,${opacity * 0.5}))`;</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// 画像調整パネルの表示切り替え</p>
<p class="p1"><span class="Apple-converted-space">        </span>function toggleImageControls() {</p>
<p class="p1"><span class="Apple-converted-space">            </span>const controls = document.getElementById('visualControls');</p>
<p class="p1"><span class="Apple-converted-space">            </span>if (controls) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>controls.classList.toggle('hidden');</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// 文字色切り替え</p>
<p class="p1"><span class="Apple-converted-space">        </span>function adjustTextColor(color) {</p>
<p class="p1"><span class="Apple-converted-space">            </span>currentTextColor = color;</p>
<p class="p1"><span class="Apple-converted-space">            </span>const overlayTexts = document.querySelectorAll('#mainVisualSection .absolute.bottom-0 *');</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>overlayTexts.forEach(el =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                </span>if (color === 'black') {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>el.style.color = '#1f2937';</p>
<p class="p1"><span class="Apple-converted-space">                    </span>el.classList.remove('text-white');</p>
<p class="p1"><span class="Apple-converted-space">                    </span>el.classList.add('text-gray-800');</p>
<p class="p1"><span class="Apple-converted-space">                </span>} else {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>el.style.color = 'white';</p>
<p class="p1"><span class="Apple-converted-space">                    </span>el.classList.remove('text-gray-800');</p>
<p class="p1"><span class="Apple-converted-space">                    </span>el.classList.add('text-white');</p>
<p class="p1"><span class="Apple-converted-space">                </span>}</p>
<p class="p1"><span class="Apple-converted-space">            </span>});</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>// ボタンの見た目を更新</p>
<p class="p1"><span class="Apple-converted-space">            </span>const whiteBtn = document.getElementById('textColorWhite');</p>
<p class="p1"><span class="Apple-converted-space">            </span>const blackBtn = document.getElementById('textColorBlack');</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>if (color === 'white') {</p>
<p class="p1"><span class="Apple-converted-space">                </span>whiteBtn.classList.add('border-blue-500');</p>
<p class="p1"><span class="Apple-converted-space">                </span>whiteBtn.classList.remove('border-gray-800');</p>
<p class="p1"><span class="Apple-converted-space">                </span>blackBtn.classList.remove('border-blue-500');</p>
<p class="p1"><span class="Apple-converted-space">                </span>blackBtn.classList.add('border-gray-300');</p>
<p class="p1"><span class="Apple-converted-space">            </span>} else {</p>
<p class="p1"><span class="Apple-converted-space">                </span>blackBtn.classList.add('border-blue-500');</p>
<p class="p1"><span class="Apple-converted-space">                </span>blackBtn.classList.remove('border-gray-300');</p>
<p class="p1"><span class="Apple-converted-space">                </span>whiteBtn.classList.remove('border-blue-500');</p>
<p class="p1"><span class="Apple-converted-space">                </span>whiteBtn.classList.add('border-gray-800');</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// ギャラリー画像配列</p>
<p class="p1"><span class="Apple-converted-space">        </span>let galleryImages = [];</p>
<p class="p1"><span class="Apple-converted-space">        </span>let galleryFilesToUpload = []; // 保存ボタン押下時にアップロードするファイル</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// ドラッグ&amp;ドロップ設定</p>
<p class="p1"><span class="Apple-converted-space">        </span>function setupGalleryDragDrop() {</p>
<p class="p1"><span class="Apple-converted-space">            </span>const galleryList = document.getElementById('photoGalleryList');</p>
<p class="p1"><span class="Apple-converted-space">            </span>if (!galleryList) return;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>['dragenter', 'dragover', 'dragleave', 'drop'].forEach(eventName =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                </span>galleryList.addEventListener(eventName, preventDefaults, false);</p>
<p class="p1"><span class="Apple-converted-space">            </span>});</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>function preventDefaults(e) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>e.preventDefault();</p>
<p class="p1"><span class="Apple-converted-space">                </span>e.stopPropagation();</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>['dragenter', 'dragover'].forEach(eventName =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                </span>galleryList.addEventListener(eventName, () =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>galleryList.classList.add('border-blue-500', 'bg-blue-50');</p>
<p class="p1"><span class="Apple-converted-space">                </span>}, false);</p>
<p class="p1"><span class="Apple-converted-space">            </span>});</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>['dragleave', 'drop'].forEach(eventName =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                </span>galleryList.addEventListener(eventName, () =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>galleryList.classList.remove('border-blue-500', 'bg-blue-50');</p>
<p class="p1"><span class="Apple-converted-space">                </span>}, false);</p>
<p class="p1"><span class="Apple-converted-space">            </span>});</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>galleryList.addEventListener('drop', (e) =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                </span>const dt = e.dataTransfer;</p>
<p class="p1"><span class="Apple-converted-space">                </span>const files = dt.files;</p>
<p class="p1"><span class="Apple-converted-space">                </span>handleGalleryFiles(files);</p>
<p class="p1"><span class="Apple-converted-space">            </span>}, false);</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// ファイル処理を共通化</p>
<p class="p1"><span class="Apple-converted-space">        </span>function handleGalleryFiles(files) {</p>
<p class="p1"><span class="Apple-converted-space">            </span>const galleryList = document.getElementById('photoGalleryList');</p>
<p class="p1"><span class="Apple-converted-space">            </span>const currentImages = galleryList.querySelectorAll('.gallery-item').length;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>if (currentImages &gt;= 20) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>showNotification('写真ギャラリー上限', '写真ギャラリーは最大20枚までです。これ以上追加できません。', 'error');</p>
<p class="p1"><span class="Apple-converted-space">                </span>return;</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>const remainingSlots = 20 - currentImages;</p>
<p class="p1"><span class="Apple-converted-space">            </span>const filesToAdd = Array.from(files).slice(0, remainingSlots);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>if (files.length &gt; remainingSlots) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>showNotification('写真ギャラリー制限', `残り${remainingSlots}枚まで追加可能です。最初の${remainingSlots}枚のみ追加します。`, 'warning');</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>filesToAdd.forEach(file =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                </span>if (file &amp;&amp; file.type.startsWith('image/')) {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>const imageId = 'gallery_' + Date.now() + '_' + Math.random().toString(36).substr(2, 9);</p>
<p class="p1"><span class="Apple-converted-space">                    </span>const localUrl = URL.createObjectURL(file);</p>
<p class="p1"><span class="Apple-converted-space">                    </span>const addButton = galleryList.querySelector('.border-dashed');</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                    </span>const imageDiv = document.createElement('div');</p>
<p class="p1"><span class="Apple-converted-space">                    </span>imageDiv.className = 'relative group gallery-item';</p>
<p class="p1"><span class="Apple-converted-space">                    </span>imageDiv.id = imageId;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>imageDiv.innerHTML = `</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;img src="${localUrl}" class="w-full h-24 object-cover rounded-lg" alt="${file.name}"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;button type="button" onclick="removeGalleryImage('${imageId}')" class="absolute top-1 right-1 bg-red-500 text-white p-1 rounded opacity-0 group-hover:opacity-100 transition"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" /&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/svg&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>`;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                    </span>galleryList.insertBefore(imageDiv, addButton);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                    </span>const reader = new FileReader();</p>
<p class="p1"><span class="Apple-converted-space">                    </span>reader.onload = function(e) {</p>
<p class="p1"><span class="Apple-converted-space">                        </span>galleryFilesToUpload.push({</p>
<p class="p1"><span class="Apple-converted-space">                            </span>id: imageId,</p>
<p class="p1"><span class="Apple-converted-space">                            </span>base64Data: e.target.result,</p>
<p class="p1"><span class="Apple-converted-space">                            </span>fileName: file.name</p>
<p class="p1"><span class="Apple-converted-space">                        </span>});</p>
<p class="p1"><span class="Apple-converted-space">                        </span>console.log('[handleGalleryFiles] File ready for upload on save:', file.name);</p>
<p class="p1"><span class="Apple-converted-space">                    </span>};</p>
<p class="p1"><span class="Apple-converted-space">                    </span>reader.readAsDataURL(file);</p>
<p class="p1"><span class="Apple-converted-space">                </span>}</p>
<p class="p1"><span class="Apple-converted-space">            </span>});</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// ギャラリー画像追加（プレビューのみ、保存は後で）</p>
<p class="p1"><span class="Apple-converted-space">        </span>function handleGalleryUpload(event) {</p>
<p class="p1"><span class="Apple-converted-space">            </span>handleGalleryFiles(event.target.files);</p>
<p class="p1"><span class="Apple-converted-space">            </span>event.target.value = '';</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// ギャラリーデータを保存</p>
<p class="p1"><span class="Apple-converted-space">        </span>async function saveGalleryData() {</p>
<p class="p1"><span class="Apple-converted-space">            </span>try {</p>
<p class="p1"><span class="Apple-converted-space">                </span>const response = await fetch(GAS_URL, {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>method: 'POST',</p>
<p class="p1"><span class="Apple-converted-space">                    </span>headers: {</p>
<p class="p1"><span class="Apple-converted-space">                        </span>'Content-Type': 'text/plain'</p>
<p class="p1"><span class="Apple-converted-space">                    </span>},</p>
<p class="p1"><span class="Apple-converted-space">                    </span>body: JSON.stringify({</p>
<p class="p1"><span class="Apple-converted-space">                        </span>action: 'saveGalleryData',</p>
<p class="p1"><span class="Apple-converted-space">                        </span>merchantId: window.merchantId,</p>
<p class="p1"><span class="Apple-converted-space">                        </span>galleryData: galleryImages</p>
<p class="p1"><span class="Apple-converted-space">                    </span>})</p>
<p class="p1"><span class="Apple-converted-space">                </span>});</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>const result = await response.json();</p>
<p class="p1"><span class="Apple-converted-space">                </span>if (!result.success) {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>console.error('ギャラリー保存エラー:', result.error);</p>
<p class="p1"><span class="Apple-converted-space">                </span>}</p>
<p class="p1"><span class="Apple-converted-space">            </span>} catch (error) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>console.error('ギャラリー保存通信エラー:', error);</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// ギャラリー画像を削除</p>
<p class="p1"><span class="Apple-converted-space">        </span>function removeGalleryImage(imageId) {</p>
<p class="p1"><span class="Apple-converted-space">            </span>const element = document.getElementById(imageId);</p>
<p class="p1"><span class="Apple-converted-space">            </span>if (element) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>element.remove();</p>
<p class="p1"><span class="Apple-converted-space">                </span>galleryImages = galleryImages.filter(img =&gt; img.id !== imageId);</p>
<p class="p1"><span class="Apple-converted-space">                </span>showNotification('削除完了', 'ギャラリー画像を削除しました');</p>
<p class="p1"><span class="Apple-converted-space">                </span>updateGalleryPreview();</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// カルーセル管理変数</p>
<p class="p1"><span class="Apple-converted-space">        </span>let currentGalleryIndex = 0;</p>
<p class="p1"><span class="Apple-converted-space">        </span>let currentExampleIndex = 0;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// プレビューのギャラリーを更新（カルーセル式）</p>
<p class="p1"><span class="Apple-converted-space">        </span>function updateGalleryPreview() {</p>
<p class="p1"><span class="Apple-converted-space">            </span>const previewGalleryList = document.getElementById('previewGalleryList');</p>
<p class="p1"><span class="Apple-converted-space">            </span>const indicators = document.getElementById('galleryIndicators');</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>if (previewGalleryList &amp;&amp; galleryImages.length &gt; 0) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>// 無限ループ用に複製を作成</p>
<p class="p1"><span class="Apple-converted-space">                </span>const extendedImages = [...galleryImages, ...galleryImages, ...galleryImages];</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>previewGalleryList.innerHTML = extendedImages.map((img, index) =&gt; `</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="flex-shrink-0 w-72 aspect-square overflow-hidden rounded-lg cursor-pointer" onclick="openImageModal('${img.src}', '${img.name || 'ギャラリー画像'}')"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;img src="${img.src}" alt="${img.name}" class="w-full h-full object-cover hover:scale-110 transition-transform duration-300"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>`).join('');</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>// インジケーター生成</p>
<p class="p1"><span class="Apple-converted-space">                </span>if (indicators) {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>indicators.innerHTML = galleryImages.map((_, index) =&gt; `</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;button onclick="goToGalleryImage(${index})" class="w-2 h-2 rounded-full transition ${index === currentGalleryIndex % galleryImages.length ? 'bg-blue-600' : 'bg-gray-300'}"&gt;&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>`).join('');</p>
<p class="p1"><span class="Apple-converted-space">                </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>document.getElementById('preview-gallery').style.display = 'block';</p>
<p class="p1"><span class="Apple-converted-space">                </span>currentGalleryIndex = galleryImages.length; // 無限ループの中央から開始</p>
<p class="p1"><span class="Apple-converted-space">                </span>updateGalleryCarouselPosition();</p>
<p class="p1"><span class="Apple-converted-space">            </span>} else {</p>
<p class="p1"><span class="Apple-converted-space">                </span>document.getElementById('preview-gallery').style.display = 'none';</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// ギャラリーカルーセルスクロール</p>
<p class="p1"><span class="Apple-converted-space">        </span>function scrollGallery(direction) {</p>
<p class="p1"><span class="Apple-converted-space">            </span>if (galleryImages.length === 0) return;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>if (direction === 'left') {</p>
<p class="p1"><span class="Apple-converted-space">                </span>currentGalleryIndex--;</p>
<p class="p1"><span class="Apple-converted-space">            </span>} else {</p>
<p class="p1"><span class="Apple-converted-space">                </span>currentGalleryIndex++;</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>updateGalleryCarouselPosition();</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// 特定のギャラリー画像へ移動</p>
<p class="p1"><span class="Apple-converted-space">        </span>function goToGalleryImage(index) {</p>
<p class="p1"><span class="Apple-converted-space">            </span>currentGalleryIndex = index + galleryImages.length;</p>
<p class="p1"><span class="Apple-converted-space">            </span>updateGalleryCarouselPosition();</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// ギャラリーカルーセル位置更新</p>
<p class="p1"><span class="Apple-converted-space">        </span>function updateGalleryCarouselPosition() {</p>
<p class="p1"><span class="Apple-converted-space">            </span>const carousel = document.getElementById('previewGalleryList');</p>
<p class="p1"><span class="Apple-converted-space">            </span>const indicators = document.getElementById('galleryIndicators');</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>if (carousel &amp;&amp; galleryImages.length &gt; 0) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>const cardWidth = 288 + 16; // w-72 (18rem) + gap-4 (1rem)</p>
<p class="p1"><span class="Apple-converted-space">                </span>const offset = galleryImages.length * cardWidth;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>// 無限ループのための位置調整</p>
<p class="p1"><span class="Apple-converted-space">                </span>const position = -currentGalleryIndex * cardWidth - offset;</p>
<p class="p1"><span class="Apple-converted-space">                </span>carousel.style.transform = `translateX(${position}px)`;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>// スムーズな無限ループ</p>
<p class="p1"><span class="Apple-converted-space">                </span>if (currentGalleryIndex &lt; 0) {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>setTimeout(() =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                        </span>carousel.style.transition = 'none';</p>
<p class="p1"><span class="Apple-converted-space">                        </span>currentGalleryIndex = galleryImages.length - 1;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>const newPosition = -currentGalleryIndex * cardWidth - offset;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>carousel.style.transform = `translateX(${newPosition}px)`;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>setTimeout(() =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                            </span>carousel.style.transition = 'transform 300ms';</p>
<p class="p1"><span class="Apple-converted-space">                        </span>}, 50);</p>
<p class="p1"><span class="Apple-converted-space">                    </span>}, 300);</p>
<p class="p1"><span class="Apple-converted-space">                </span>} else if (currentGalleryIndex &gt;= galleryImages.length * 2) {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>setTimeout(() =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                        </span>carousel.style.transition = 'none';</p>
<p class="p1"><span class="Apple-converted-space">                        </span>currentGalleryIndex = galleryImages.length;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>const newPosition = -currentGalleryIndex * cardWidth - offset;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>carousel.style.transform = `translateX(${newPosition}px)`;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>setTimeout(() =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                            </span>carousel.style.transition = 'transform 300ms';</p>
<p class="p1"><span class="Apple-converted-space">                        </span>}, 50);</p>
<p class="p1"><span class="Apple-converted-space">                    </span>}, 300);</p>
<p class="p1"><span class="Apple-converted-space">                </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>// インジケーター更新</p>
<p class="p1"><span class="Apple-converted-space">                </span>if (indicators) {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>const actualIndex = ((currentGalleryIndex % galleryImages.length) + galleryImages.length) % galleryImages.length;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>indicators.querySelectorAll('button').forEach((btn, index) =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                        </span>btn.className = `w-2 h-2 rounded-full transition ${index === actualIndex ? 'bg-blue-600' : 'bg-gray-300'}`;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>});</p>
<p class="p1"><span class="Apple-converted-space">                </span>}</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// 施工事例配列</p>
<p class="p1"><span class="Apple-converted-space">        </span>let constructionExamples = [];</p>
<p class="p1"><span class="Apple-converted-space">        </span>let exampleIdCounter = 0;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// 施工事例を追加</p>
<p class="p1"><span class="Apple-converted-space">        </span>function addConstructionExample() {</p>
<p class="p1"><span class="Apple-converted-space">            </span>const exampleId = 'example_' + (++exampleIdCounter);</p>
<p class="p1"><span class="Apple-converted-space">            </span>const examplesList = document.getElementById('constructionExamplesList');</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>const newExample = {</p>
<p class="p1"><span class="Apple-converted-space">                </span>id: exampleId,</p>
<p class="p1"><span class="Apple-converted-space">                </span>title: '',</p>
<p class="p1"><span class="Apple-converted-space">                </span>buildingAge: '',</p>
<p class="p1"><span class="Apple-converted-space">                </span>content: '',</p>
<p class="p1"><span class="Apple-converted-space">                </span>price: '',</p>
<p class="p1"><span class="Apple-converted-space">                </span>beforeImage: null,</p>
<p class="p1"><span class="Apple-converted-space">                </span>afterImage: null</p>
<p class="p1"><span class="Apple-converted-space">            </span>};</p>
<p class="p1"><span class="Apple-converted-space">            </span>constructionExamples.push(newExample);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>const exampleDiv = document.createElement('div');</p>
<p class="p1"><span class="Apple-converted-space">            </span>exampleDiv.className = 'border rounded-lg p-4';</p>
<p class="p1"><span class="Apple-converted-space">            </span>exampleDiv.id = exampleId;</p>
<p class="p1"><span class="Apple-converted-space">            </span>exampleDiv.innerHTML = `</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;input type="text" class="w-full px-3 py-2 border rounded mb-2" placeholder="施工タイトル（例：戸建て外壁塗装）" onchange="updateConstructionExample('${exampleId}', 'title', this.value)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;div class="grid grid-cols-2 gap-2 mb-2"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;label class="text-xs text-gray-600 mb-1 block"&gt;築年数&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="flex items-center"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;input type="number" class="w-full px-3 py-2 border rounded" placeholder="15" min="0" max="100" onchange="updateConstructionExample('${exampleId}', 'buildingAge', this.value)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;span class="ml-2 text-sm text-gray-600"&gt;年&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;label class="text-xs text-gray-600 mb-1 block"&gt;施工金額（万円）&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="flex items-center"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;input type="number" class="w-full px-3 py-2 border rounded" placeholder="150" min="0" onchange="updateConstructionExample('${exampleId}', 'price', this.value)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;span class="ml-2 text-sm text-gray-600"&gt;万円&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;textarea class="w-full px-3 py-2 border rounded mb-2" rows="2" placeholder="施工内容（例：シリコン塗料による3回塗り、色褪せと汚れを解消）" onchange="updateConstructionExample('${exampleId}', 'content', this.value)"&gt;&lt;/textarea&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;!-- ビフォーアフター画像 --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;div class="grid grid-cols-2 gap-4 mb-2"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;label class="text-xs font-semibold text-gray-600 mb-1 block"&gt;施工前（Before）&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;input type="file" id="beforeImage_${exampleId}" accept="image/*" style="display: none;" onchange="handleExampleImage('${exampleId}', 'before', event)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div id="beforePreview_${exampleId}" class="border-2 border-dashed border-gray-300 rounded-lg p-4 text-center cursor-pointer hover:border-blue-500" onclick="document.getElementById('beforeImage_${exampleId}').click()"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;svg class="w-8 h-8 text-gray-400 mx-auto mb-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z" /&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/svg&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;span class="text-xs text-gray-500"&gt;クリックして画像を選択&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;label class="text-xs font-semibold text-gray-600 mb-1 block"&gt;施工後（After）&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;input type="file" id="afterImage_${exampleId}" accept="image/*" style="display: none;" onchange="handleExampleImage('${exampleId}', 'after', event)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div id="afterPreview_${exampleId}" class="border-2 border-dashed border-gray-300 rounded-lg p-4 text-center cursor-pointer hover:border-blue-500" onclick="document.getElementById('afterImage_${exampleId}').click()"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;svg class="w-8 h-8 text-gray-400 mx-auto mb-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z" /&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/svg&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;span class="text-xs text-gray-500"&gt;クリックして画像を選択&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;div class="flex justify-end"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;button onclick="removeConstructionExample('${exampleId}')" class="text-red-600 hover:text-red-800 text-sm"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;svg class="w-4 h-4 inline mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"&gt;&lt;/path&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/svg&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>この事例を削除</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>`;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>examplesList.appendChild(exampleDiv);</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// 施工事例を更新</p>
<p class="p1"><span class="Apple-converted-space">        </span>function updateConstructionExample(exampleId, field, value) {</p>
<p class="p1"><span class="Apple-converted-space">            </span>const example = constructionExamples.find(e =&gt; e.id === exampleId);</p>
<p class="p1"><span class="Apple-converted-space">            </span>if (example) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>example[field] = value;</p>
<p class="p1"><span class="Apple-converted-space">                </span>updateExamplesPreview();</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// 施工事例の画像を処理</p>
<p class="p1"><span class="Apple-converted-space">        </span>function handleExampleImage(exampleId, type, event) {</p>
<p class="p1"><span class="Apple-converted-space">            </span>const file = event.target.files[0];</p>
<p class="p1"><span class="Apple-converted-space">            </span>if (file) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>const reader = new FileReader();</p>
<p class="p1"><span class="Apple-converted-space">                </span>reader.onload = function(e) {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>const example = constructionExamples.find(ex =&gt; ex.id === exampleId);</p>
<p class="p1"><span class="Apple-converted-space">                    </span>if (example) {</p>
<p class="p1"><span class="Apple-converted-space">                        </span>if (type === 'before') {</p>
<p class="p1"><span class="Apple-converted-space">                            </span>example.beforeImage = e.target.result;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>// プレビューを画像に置き換え</p>
<p class="p1"><span class="Apple-converted-space">                            </span>const preview = document.getElementById(`beforePreview_${exampleId}`);</p>
<p class="p1"><span class="Apple-converted-space">                            </span>if (preview) {</p>
<p class="p1"><span class="Apple-converted-space">                                </span>preview.innerHTML = `&lt;img src="${e.target.result}" class="w-full h-32 object-cover rounded" alt="施工前"&gt;`;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>}</p>
<p class="p1"><span class="Apple-converted-space">                        </span>} else {</p>
<p class="p1"><span class="Apple-converted-space">                            </span>example.afterImage = e.target.result;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>// プレビューを画像に置き換え</p>
<p class="p1"><span class="Apple-converted-space">                            </span>const preview = document.getElementById(`afterPreview_${exampleId}`);</p>
<p class="p1"><span class="Apple-converted-space">                            </span>if (preview) {</p>
<p class="p1"><span class="Apple-converted-space">                                </span>preview.innerHTML = `&lt;img src="${e.target.result}" class="w-full h-32 object-cover rounded" alt="施工後"&gt;`;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>}</p>
<p class="p1"><span class="Apple-converted-space">                        </span>}</p>
<p class="p1"><span class="Apple-converted-space">                        </span>updateExamplesPreview();</p>
<p class="p1"><span class="Apple-converted-space">                    </span>}</p>
<p class="p1"><span class="Apple-converted-space">                </span>};</p>
<p class="p1"><span class="Apple-converted-space">                </span>reader.readAsDataURL(file);</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// 施工事例を削除</p>
<p class="p1"><span class="Apple-converted-space">        </span>function removeConstructionExample(exampleId) {</p>
<p class="p1"><span class="Apple-converted-space">            </span>const element = document.getElementById(exampleId);</p>
<p class="p1"><span class="Apple-converted-space">            </span>if (element) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>element.remove();</p>
<p class="p1"><span class="Apple-converted-space">                </span>constructionExamples = constructionExamples.filter(e =&gt; e.id !== exampleId);</p>
<p class="p1"><span class="Apple-converted-space">                </span>showNotification('削除完了', '施工事例を削除しました');</p>
<p class="p1"><span class="Apple-converted-space">                </span>updateExamplesPreview();</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// プレビューの施工事例を更新（カルーセル式）</p>
<p class="p1"><span class="Apple-converted-space">        </span>function updateExamplesPreview() {</p>
<p class="p1"><span class="Apple-converted-space">            </span>const previewExamplesList = document.getElementById('previewExamplesList');</p>
<p class="p1"><span class="Apple-converted-space">            </span>const indicators = document.getElementById('examplesIndicators');</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>if (previewExamplesList) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>const validExamples = constructionExamples.filter(e =&gt; (e.title || e.content) &amp;&amp; (e.beforeImage || e.afterImage));</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>if (validExamples.length &gt; 0) {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>// 無限ループ用に複製を作成</p>
<p class="p1"><span class="Apple-converted-space">                    </span>const extendedExamples = [...validExamples, ...validExamples, ...validExamples];</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                    </span>previewExamplesList.innerHTML = extendedExamples.map(example =&gt; `</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="flex-shrink-0 w-full md:w-96 bg-white rounded-lg shadow-lg border overflow-hidden"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div class="relative"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>${(example.beforeImage &amp;&amp; example.afterImage) ? `</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;!-- ビフォーアフター比較 --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;div class="grid grid-cols-2 relative"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;div class="relative cursor-pointer" onclick="openImageModal('${example.beforeImage}', '施工前')"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;img src="${example.beforeImage}" alt="施工前" class="w-full h-48 object-cover hover:opacity-90 transition"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;div class="absolute top-2 left-2 bg-black bg-opacity-60 text-white px-2 py-1 text-xs rounded"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                                </span>BEFORE</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;div class="relative cursor-pointer" onclick="openImageModal('${example.afterImage}', '施工後')"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;img src="${example.afterImage}" alt="施工後" class="w-full h-48 object-cover hover:opacity-90 transition"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;div class="absolute top-2 left-2 bg-blue-600 bg-opacity-90 text-white px-2 py-1 text-xs rounded"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                                </span>AFTER</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>` : (example.beforeImage || example.afterImage) ? `</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;!-- 片方のみの画像 --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;div class="relative cursor-pointer" onclick="openImageModal('${example.beforeImage || example.afterImage}', '${example.beforeImage ? '施工前' : '施工後'}')"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;img src="${example.beforeImage || example.afterImage}" alt="${example.beforeImage ? '施工前' : '施工後'}" class="w-full h-48 object-cover hover:opacity-90 transition"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>` : ''}</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div class="p-4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;div class="flex items-start justify-between mb-2"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;h4 class="font-semibold text-gray-900"&gt;${example.title ? `${example.buildingAge ? `築${example.buildingAge}年 ` : ''}${example.title}` : '施工事例'}&lt;/h4&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>${example.price ? `</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;div class="text-right"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;div class="text-xs font-medium text-gray-500"&gt;工事金額&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;span class="inline-block text-red-600 font-bold text-lg"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                                </span>${Number(example.price).toLocaleString()}万円</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>` : ''}</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;p class="text-sm text-gray-600"&gt;${example.content || '詳細情報'}&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>`).join('');</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                    </span>// インジケーター生成</p>
<p class="p1"><span class="Apple-converted-space">                    </span>if (indicators) {</p>
<p class="p1"><span class="Apple-converted-space">                        </span>indicators.innerHTML = validExamples.map((_, index) =&gt; `</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;button onclick="goToExample(${index})" class="w-2 h-2 rounded-full transition ${index === currentExampleIndex % validExamples.length ? 'bg-blue-600' : 'bg-gray-300'}"&gt;&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>`).join('');</p>
<p class="p1"><span class="Apple-converted-space">                    </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                    </span>document.getElementById('preview-examples').style.display = 'block';</p>
<p class="p1"><span class="Apple-converted-space">                    </span>currentExampleIndex = validExamples.length;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>updateExamplesCarouselPosition();</p>
<p class="p1"><span class="Apple-converted-space">                </span>} else {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>document.getElementById('preview-examples').style.display = 'none';</p>
<p class="p1"><span class="Apple-converted-space">                </span>}</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// 施工事例カルーセルスクロール</p>
<p class="p1"><span class="Apple-converted-space">        </span>function scrollExamples(direction) {</p>
<p class="p1"><span class="Apple-converted-space">            </span>const validExamples = constructionExamples.filter(e =&gt; (e.title || e.content) &amp;&amp; (e.beforeImage || e.afterImage));</p>
<p class="p1"><span class="Apple-converted-space">            </span>if (validExamples.length === 0) return;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>if (direction === 'left') {</p>
<p class="p1"><span class="Apple-converted-space">                </span>currentExampleIndex--;</p>
<p class="p1"><span class="Apple-converted-space">            </span>} else {</p>
<p class="p1"><span class="Apple-converted-space">                </span>currentExampleIndex++;</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>updateExamplesCarouselPosition();</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// 特定の施工事例へ移動</p>
<p class="p1"><span class="Apple-converted-space">        </span>function goToExample(index) {</p>
<p class="p1"><span class="Apple-converted-space">            </span>const validExamples = constructionExamples.filter(e =&gt; (e.title || e.content) &amp;&amp; (e.beforeImage || e.afterImage));</p>
<p class="p1"><span class="Apple-converted-space">            </span>currentExampleIndex = index + validExamples.length;</p>
<p class="p1"><span class="Apple-converted-space">            </span>updateExamplesCarouselPosition();</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// 施工事例カルーセル位置更新</p>
<p class="p1"><span class="Apple-converted-space">        </span>function updateExamplesCarouselPosition() {</p>
<p class="p1"><span class="Apple-converted-space">            </span>const carousel = document.getElementById('previewExamplesList');</p>
<p class="p1"><span class="Apple-converted-space">            </span>const indicators = document.getElementById('examplesIndicators');</p>
<p class="p1"><span class="Apple-converted-space">            </span>const validExamples = constructionExamples.filter(e =&gt; (e.title || e.content) &amp;&amp; (e.beforeImage || e.afterImage));</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>if (carousel &amp;&amp; validExamples.length &gt; 0) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>const cardWidth = carousel.firstElementChild ? carousel.firstElementChild.offsetWidth + 16 : 400;</p>
<p class="p1"><span class="Apple-converted-space">                </span>const offset = validExamples.length * cardWidth;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>// 無限ループのための位置調整</p>
<p class="p1"><span class="Apple-converted-space">                </span>const position = -currentExampleIndex * cardWidth - offset;</p>
<p class="p1"><span class="Apple-converted-space">                </span>carousel.style.transform = `translateX(${position}px)`;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>// スムーズな無限ループ</p>
<p class="p1"><span class="Apple-converted-space">                </span>if (currentExampleIndex &lt; 0) {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>setTimeout(() =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                        </span>carousel.style.transition = 'none';</p>
<p class="p1"><span class="Apple-converted-space">                        </span>currentExampleIndex = validExamples.length - 1;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>const newPosition = -currentExampleIndex * cardWidth - offset;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>carousel.style.transform = `translateX(${newPosition}px)`;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>setTimeout(() =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                            </span>carousel.style.transition = 'transform 300ms';</p>
<p class="p1"><span class="Apple-converted-space">                        </span>}, 50);</p>
<p class="p1"><span class="Apple-converted-space">                    </span>}, 300);</p>
<p class="p1"><span class="Apple-converted-space">                </span>} else if (currentExampleIndex &gt;= validExamples.length * 2) {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>setTimeout(() =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                        </span>carousel.style.transition = 'none';</p>
<p class="p1"><span class="Apple-converted-space">                        </span>currentExampleIndex = validExamples.length;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>const newPosition = -currentExampleIndex * cardWidth - offset;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>carousel.style.transform = `translateX(${newPosition}px)`;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>setTimeout(() =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                            </span>carousel.style.transition = 'transform 300ms';</p>
<p class="p1"><span class="Apple-converted-space">                        </span>}, 50);</p>
<p class="p1"><span class="Apple-converted-space">                    </span>}, 300);</p>
<p class="p1"><span class="Apple-converted-space">                </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>// インジケーター更新</p>
<p class="p1"><span class="Apple-converted-space">                </span>if (indicators) {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>const actualIndex = ((currentExampleIndex % validExamples.length) + validExamples.length) % validExamples.length;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>indicators.querySelectorAll('button').forEach((btn, index) =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                        </span>btn.className = `w-2 h-2 rounded-full transition ${index === actualIndex ? 'bg-blue-600' : 'bg-gray-300'}`;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>});</p>
<p class="p1"><span class="Apple-converted-space">                </span>}</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// エリア選択関連関数</p>
<p class="p1"><span class="Apple-converted-space">        </span>const areaSelectionData = {</p>
<p class="p1"><span class="Apple-converted-space">            </span>prefectures: [],</p>
<p class="p1"><span class="Apple-converted-space">            </span>cities: {},</p>
<p class="p1"><span class="Apple-converted-space">            </span>priorities: [],</p>
<p class="p1"><span class="Apple-converted-space">            </span>totalCount: 0</p>
<p class="p1"><span class="Apple-converted-space">        </span>};</p>
<p class="p1"><span class="Apple-converted-space">        </span>const maxPrefectures = 5;</p>
<p class="p1"><span class="Apple-converted-space">        </span>const maxPriorityAreas = 3;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// 都道府県リスト</p>
<p class="p1"><span class="Apple-converted-space">        </span>const allPrefectures = [</p>
<p class="p1"><span class="Apple-converted-space">            </span>'北海道', '青森県', '岩手県', '宮城県', '秋田県', '山形県', '福島県',</p>
<p class="p1"><span class="Apple-converted-space">            </span>'茨城県', '栃木県', '群馬県', '埼玉県', '千葉県', '東京都', '神奈川県',</p>
<p class="p1"><span class="Apple-converted-space">            </span>'新潟県', '富山県', '石川県', '福井県', '山梨県', '長野県', '岐阜県',</p>
<p class="p1"><span class="Apple-converted-space">            </span>'静岡県', '愛知県', '三重県', '滋賀県', '京都府', '大阪府', '兵庫県',</p>
<p class="p1"><span class="Apple-converted-space">            </span>'奈良県', '和歌山県', '鳥取県', '島根県', '岡山県', '広島県', '山口県',</p>
<p class="p1"><span class="Apple-converted-space">            </span>'徳島県', '香川県', '愛媛県', '高知県', '福岡県', '佐賀県', '長崎県',</p>
<p class="p1"><span class="Apple-converted-space">            </span>'熊本県', '大分県', '宮崎県', '鹿児島県', '沖縄県'</p>
<p class="p1"><span class="Apple-converted-space">        </span>];</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// 市区町村データベース</p>
<p class="p1"><span class="Apple-converted-space">        </span>// 市区町村データベース（主要11都府県の完全データ）</p>
<p class="p1"><span class="Apple-converted-space">        </span>const cityDatabase = {</p>
<p class="p1"><span class="Apple-converted-space">            </span>'東京都': [</p>
<p class="p1"><span class="Apple-converted-space">                </span>'千代田区', '中央区', '港区', '新宿区', '文京区', '台東区',</p>
<p class="p1"><span class="Apple-converted-space">                </span>'墨田区', '江東区', '品川区', '目黒区', '大田区', '世田谷区',</p>
<p class="p1"><span class="Apple-converted-space">                </span>'渋谷区', '中野区', '杉並区', '豊島区', '北区', '荒川区',</p>
<p class="p1"><span class="Apple-converted-space">                </span>'板橋区', '練馬区', '足立区', '葛飾区', '江戸川区',</p>
<p class="p1"><span class="Apple-converted-space">                </span>'八王子市', '立川市', '武蔵野市', '三鷹市', '青梅市', '府中市',</p>
<p class="p1"><span class="Apple-converted-space">                </span>'昭島市', '調布市', '町田市', '小金井市', '小平市', '日野市',</p>
<p class="p1"><span class="Apple-converted-space">                </span>'東村山市', '国分寺市', '国立市', '福生市', '狛江市', '東大和市',</p>
<p class="p1"><span class="Apple-converted-space">                </span>'清瀬市', '東久留米市', '武蔵村山市', '多摩市', '稲城市', '羽村市',</p>
<p class="p1"><span class="Apple-converted-space">                </span>'あきる野市', '西東京市', '瑞穂町', '日の出町', '檜原村', '奥多摩町'</p>
<p class="p1"><span class="Apple-converted-space">            </span>],</p>
<p class="p1"><span class="Apple-converted-space">            </span>'神奈川県': [</p>
<p class="p1"><span class="Apple-converted-space">                </span>'横浜市鶴見区', '横浜市神奈川区', '横浜市西区', '横浜市中区',</p>
<p class="p1"><span class="Apple-converted-space">                </span>'横浜市南区', '横浜市保土ケ谷区', '横浜市磯子区', '横浜市金沢区',</p>
<p class="p1"><span class="Apple-converted-space">                </span>'横浜市港北区', '横浜市戸塚区', '横浜市港南区', '横浜市旭区',</p>
<p class="p1"><span class="Apple-converted-space">                </span>'横浜市緑区', '横浜市瀬谷区', '横浜市栄区', '横浜市泉区',</p>
<p class="p1"><span class="Apple-converted-space">                </span>'横浜市青葉区', '横浜市都筑区', '川崎市川崎区', '川崎市幸区',</p>
<p class="p1"><span class="Apple-converted-space">                </span>'川崎市中原区', '川崎市高津区', '川崎市多摩区', '川崎市宮前区',</p>
<p class="p1"><span class="Apple-converted-space">                </span>'川崎市麻生区', '相模原市緑区', '相模原市中央区', '相模原市南区',</p>
<p class="p1"><span class="Apple-converted-space">                </span>'横須賀市', '平塚市', '鎌倉市', '藤沢市', '小田原市', '茅ヶ崎市',</p>
<p class="p1"><span class="Apple-converted-space">                </span>'逗子市', '三浦市', '秦野市', '厚木市', '大和市', '伊勢原市',</p>
<p class="p1"><span class="Apple-converted-space">                </span>'海老名市', '座間市', '南足柄市', '綾瀬市'</p>
<p class="p1"><span class="Apple-converted-space">            </span>],</p>
<p class="p1"><span class="Apple-converted-space">            </span>'埼玉県': [</p>
<p class="p1"><span class="Apple-converted-space">                </span>'さいたま市西区', 'さいたま市北区', 'さいたま市大宮区', 'さいたま市見沼区',</p>
<p class="p1"><span class="Apple-converted-space">                </span>'さいたま市中央区', 'さいたま市桜区', 'さいたま市浦和区', 'さいたま市南区',</p>
<p class="p1"><span class="Apple-converted-space">                </span>'さいたま市緑区', 'さいたま市岩槻区', '川越市', '熊谷市', '川口市',</p>
<p class="p1"><span class="Apple-converted-space">                </span>'行田市', '秩父市', '所沢市', '飯能市', '加須市', '本庄市',</p>
<p class="p1"><span class="Apple-converted-space">                </span>'東松山市', '春日部市', '狭山市', '羽生市', '鴻巣市', '深谷市',</p>
<p class="p1"><span class="Apple-converted-space">                </span>'上尾市', '草加市', '越谷市', '蕨市', '戸田市', '入間市',</p>
<p class="p1"><span class="Apple-converted-space">                </span>'朝霞市', '志木市', '和光市', '新座市', '桶川市', '久喜市',</p>
<p class="p1"><span class="Apple-converted-space">                </span>'北本市', '八潮市', '富士見市', '三郷市', '蓮田市', '坂戸市',</p>
<p class="p1"><span class="Apple-converted-space">                </span>'幸手市', '鶴ヶ島市', '日高市', '吉川市', 'ふじみ野市', '白岡市'</p>
<p class="p1"><span class="Apple-converted-space">            </span>],</p>
<p class="p1"><span class="Apple-converted-space">            </span>'千葉県': [</p>
<p class="p1"><span class="Apple-converted-space">                </span>'千葉市中央区', '千葉市花見川区', '千葉市稲毛区', '千葉市若葉区',</p>
<p class="p1"><span class="Apple-converted-space">                </span>'千葉市緑区', '千葉市美浜区', '銚子市', '市川市', '船橋市',</p>
<p class="p1"><span class="Apple-converted-space">                </span>'館山市', '木更津市', '松戸市', '野田市', '茂原市', '成田市',</p>
<p class="p1"><span class="Apple-converted-space">                </span>'佐倉市', '東金市', '旭市', '習志野市', '柏市', '勝浦市',</p>
<p class="p1"><span class="Apple-converted-space">                </span>'市原市', '流山市', '八千代市', '我孫子市', '鴨川市', '鎌ケ谷市',</p>
<p class="p1"><span class="Apple-converted-space">                </span>'君津市', '富津市', '浦安市', '四街道市', '袖ケ浦市', '八街市',</p>
<p class="p1"><span class="Apple-converted-space">                </span>'印西市', '白井市', '富里市', '南房総市', '匝瑳市', '香取市',</p>
<p class="p1"><span class="Apple-converted-space">                </span>'山武市', 'いすみ市', '大網白里市'</p>
<p class="p1"><span class="Apple-converted-space">            </span>],</p>
<p class="p1"><span class="Apple-converted-space">            </span>'岐阜県': [</p>
<p class="p1"><span class="Apple-converted-space">                </span>'岐阜市', '大垣市', '高山市', '多治見市', '関市', '中津川市',</p>
<p class="p1"><span class="Apple-converted-space">                </span>'美濃市', '瑞浪市', '羽島市', '恵那市', '美濃加茂市', '土岐市',</p>
<p class="p1"><span class="Apple-converted-space">                </span>'各務原市', '可児市', '山県市', '瑞穂市', '飛騨市', '本巣市',</p>
<p class="p1"><span class="Apple-converted-space">                </span>'郡上市', '下呂市', '海津市'</p>
<p class="p1"><span class="Apple-converted-space">            </span>],</p>
<p class="p1"><span class="Apple-converted-space">            </span>'愛知県': [</p>
<p class="p1"><span class="Apple-converted-space">                </span>'名古屋市千種区', '名古屋市東区', '名古屋市北区', '名古屋市西区',</p>
<p class="p1"><span class="Apple-converted-space">                </span>'名古屋市中村区', '名古屋市中区', '名古屋市昭和区', '名古屋市瑞穂区',</p>
<p class="p1"><span class="Apple-converted-space">                </span>'名古屋市熱田区', '名古屋市中川区', '名古屋市港区', '名古屋市南区',</p>
<p class="p1"><span class="Apple-converted-space">                </span>'名古屋市守山区', '名古屋市緑区', '名古屋市名東区', '名古屋市天白区',</p>
<p class="p1"><span class="Apple-converted-space">                </span>'豊橋市', '岡崎市', '一宮市', '瀬戸市', '半田市', '春日井市',</p>
<p class="p1"><span class="Apple-converted-space">                </span>'豊川市', '津島市', '碧南市', '刈谷市', '豊田市', '安城市',</p>
<p class="p1"><span class="Apple-converted-space">                </span>'西尾市', '蒲郡市', '犬山市', '常滑市', '江南市', '小牧市',</p>
<p class="p1"><span class="Apple-converted-space">                </span>'稲沢市', '新城市', '東海市', '大府市', '知多市', '知立市',</p>
<p class="p1"><span class="Apple-converted-space">                </span>'尾張旭市', '高浜市', '岩倉市', '豊明市', '日進市', '田原市',</p>
<p class="p1"><span class="Apple-converted-space">                </span>'愛西市', '清須市', '北名古屋市', '弥富市', 'みよし市', 'あま市',</p>
<p class="p1"><span class="Apple-converted-space">                </span>'長久手市'</p>
<p class="p1"><span class="Apple-converted-space">            </span>],</p>
<p class="p1"><span class="Apple-converted-space">            </span>'大阪府': [</p>
<p class="p1"><span class="Apple-converted-space">                </span>'大阪市都島区', '大阪市福島区', '大阪市此花区', '大阪市西区',</p>
<p class="p1"><span class="Apple-converted-space">                </span>'大阪市港区', '大阪市大正区', '大阪市天王寺区', '大阪市浪速区',</p>
<p class="p1"><span class="Apple-converted-space">                </span>'大阪市西淀川区', '大阪市東淀川区', '大阪市東成区', '大阪市生野区',</p>
<p class="p1"><span class="Apple-converted-space">                </span>'大阪市旭区', '大阪市城東区', '大阪市阿倍野区', '大阪市住吉区',</p>
<p class="p1"><span class="Apple-converted-space">                </span>'大阪市東住吉区', '大阪市西成区', '大阪市淀川区', '大阪市鶴見区',</p>
<p class="p1"><span class="Apple-converted-space">                </span>'大阪市住之江区', '大阪市平野区', '大阪市北区', '大阪市中央区',</p>
<p class="p1"><span class="Apple-converted-space">                </span>'堺市堺区', '堺市中区', '堺市東区', '堺市西区', '堺市南区',</p>
<p class="p1"><span class="Apple-converted-space">                </span>'堺市北区', '堺市美原区', '岸和田市', '豊中市', '池田市',</p>
<p class="p1"><span class="Apple-converted-space">                </span>'吹田市', '泉大津市', '高槻市', '貝塚市', '守口市', '枚方市',</p>
<p class="p1"><span class="Apple-converted-space">                </span>'茨木市', '八尾市', '泉佐野市', '富田林市', '寝屋川市', '河内長野市',</p>
<p class="p1"><span class="Apple-converted-space">                </span>'松原市', '大東市', '和泉市', '箕面市', '柏原市', '羽曳野市',</p>
<p class="p1"><span class="Apple-converted-space">                </span>'門真市', '摂津市', '高石市', '藤井寺市', '東大阪市', '泉南市',</p>
<p class="p1"><span class="Apple-converted-space">                </span>'四條畷市', '交野市', '大阪狭山市', '阪南市'</p>
<p class="p1"><span class="Apple-converted-space">            </span>],</p>
<p class="p1"><span class="Apple-converted-space">            </span>'京都府': [</p>
<p class="p1"><span class="Apple-converted-space">                </span>'京都市北区', '京都市上京区', '京都市左京区', '京都市中京区',</p>
<p class="p1"><span class="Apple-converted-space">                </span>'京都市東山区', '京都市下京区', '京都市南区', '京都市右京区',</p>
<p class="p1"><span class="Apple-converted-space">                </span>'京都市伏見区', '京都市山科区', '京都市西京区', '福知山市',</p>
<p class="p1"><span class="Apple-converted-space">                </span>'舞鶴市', '綾部市', '宇治市', '宮津市', '亀岡市', '城陽市',</p>
<p class="p1"><span class="Apple-converted-space">                </span>'向日市', '長岡京市', '八幡市', '京田辺市', '京丹後市', '南丹市',</p>
<p class="p1"><span class="Apple-converted-space">                </span>'木津川市'</p>
<p class="p1"><span class="Apple-converted-space">            </span>],</p>
<p class="p1"><span class="Apple-converted-space">            </span>'兵庫県': [</p>
<p class="p1"><span class="Apple-converted-space">                </span>'神戸市東灘区', '神戸市灘区', '神戸市兵庫区', '神戸市長田区',</p>
<p class="p1"><span class="Apple-converted-space">                </span>'神戸市須磨区', '神戸市垂水区', '神戸市北区', '神戸市中央区',</p>
<p class="p1"><span class="Apple-converted-space">                </span>'神戸市西区', '姫路市', '尼崎市', '明石市', '西宮市', '洲本市',</p>
<p class="p1"><span class="Apple-converted-space">                </span>'芦屋市', '伊丹市', '相生市', '豊岡市', '加古川市', '赤穂市',</p>
<p class="p1"><span class="Apple-converted-space">                </span>'西脇市', '宝塚市', '三木市', '高砂市', '川西市', '小野市',</p>
<p class="p1"><span class="Apple-converted-space">                </span>'三田市', '加西市', '丹波篠山市', '養父市', '丹波市', '南あわじ市',</p>
<p class="p1"><span class="Apple-converted-space">                </span>'朝来市', '淡路市', '宍粟市', '加東市', 'たつの市'</p>
<p class="p1"><span class="Apple-converted-space">            </span>],</p>
<p class="p1"><span class="Apple-converted-space">            </span>'奈良県': [</p>
<p class="p1"><span class="Apple-converted-space">                </span>'奈良市', '大和高田市', '大和郡山市', '天理市', '橿原市', '桜井市',</p>
<p class="p1"><span class="Apple-converted-space">                </span>'五條市', '御所市', '生駒市', '香芝市', '葛城市', '宇陀市'</p>
<p class="p1"><span class="Apple-converted-space">            </span>],</p>
<p class="p1"><span class="Apple-converted-space">            </span>'愛媛県': [</p>
<p class="p1"><span class="Apple-converted-space">                </span>'松山市', '今治市', '宇和島市', '八幡浜市', '新居浜市', '西条市',</p>
<p class="p1"><span class="Apple-converted-space">                </span>'大洲市', '伊予市', '四国中央市', '西予市', '東温市'</p>
<p class="p1"><span class="Apple-converted-space">            </span>]</p>
<p class="p1"><span class="Apple-converted-space">        </span>};</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// デフォルトの市区町村リスト（主要10市）- 加盟店登録システムと同期</p>
<p class="p1"><span class="Apple-converted-space">        </span>const defaultCities = {</p>
<p class="p1"><span class="Apple-converted-space">            </span>'北海道': ['札幌市', '函館市', '小樽市', '旭川市', '室蘭市', '釧路市', '帯広市', '北見市', '夕張市', '岩見沢市'],</p>
<p class="p1"><span class="Apple-converted-space">            </span>'青森県': ['青森市', '弘前市', '八戸市', '黒石市', '五所川原市', '十和田市', '三沢市', 'むつ市', 'つがる市', '平川市'],</p>
<p class="p1"><span class="Apple-converted-space">            </span>'岩手県': ['盛岡市', '宮古市', '大船渡市', '花巻市', '北上市', '久慈市', '遠野市', '一関市', '陸前高田市', '釜石市'],</p>
<p class="p1"><span class="Apple-converted-space">            </span>'宮城県': ['仙台市青葉区', '仙台市宮城野区', '仙台市若林区', '仙台市太白区', '仙台市泉区', '石巻市', '塩竈市', '気仙沼市', '白石市', '名取市'],</p>
<p class="p1"><span class="Apple-converted-space">            </span>'秋田県': ['秋田市', '能代市', '横手市', '大館市', '男鹿市', '湯沢市', '鹿角市', '由利本荘市', '潟上市', '大仙市'],</p>
<p class="p1"><span class="Apple-converted-space">            </span>'山形県': ['山形市', '米沢市', '鶴岡市', '酒田市', '新庄市', '寒河江市', '上山市', '村山市', '長井市', '天童市'],</p>
<p class="p1"><span class="Apple-converted-space">            </span>'福島県': ['福島市', '会津若松市', '郡山市', 'いわき市', '白河市', '須賀川市', '喜多方市', '相馬市', '二本松市', '田村市']</p>
<p class="p1"><span class="Apple-converted-space">        </span>};</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// 市区町村の取得（加盟店登録システムと同じロジック）</p>
<p class="p1"><span class="Apple-converted-space">        </span>function getCitiesForPrefecture(prefecture) {</p>
<p class="p1"><span class="Apple-converted-space">            </span>// まず完全データを確認</p>
<p class="p1"><span class="Apple-converted-space">            </span>if (cityDatabase[prefecture]) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>return cityDatabase[prefecture];</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p1"><span class="Apple-converted-space">            </span>// デフォルトの主要10市を返す</p>
<p class="p1"><span class="Apple-converted-space">            </span>if (defaultCities[prefecture]) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>return defaultCities[prefecture];</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p1"><span class="Apple-converted-space">            </span>// 該当なしの場合は「全域」</p>
<p class="p1"><span class="Apple-converted-space">            </span>return ['全域'];</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// ページ読み込み時に都道府県ボタンを生成</p>
<p class="p1"><span class="Apple-converted-space">        </span>document.addEventListener('DOMContentLoaded', function() {</p>
<p class="p1"><span class="Apple-converted-space">            </span>initializeAreaSelection();</p>
<p class="p1"><span class="Apple-converted-space">        </span>});</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// エリア選択を初期化</p>
<p class="p1"><span class="Apple-converted-space">        </span>function initializeAreaSelection() {</p>
<p class="p1"><span class="Apple-converted-space">            </span>const grid = document.getElementById('allPrefecturesGrid');</p>
<p class="p1"><span class="Apple-converted-space">            </span>if (!grid) return;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>grid.innerHTML = allPrefectures.map(pref =&gt; `</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;button class="area-item p-2 bg-white border rounded-lg cursor-pointer hover:bg-blue-50 transition-colors text-sm"</p>
<p class="p1"><span class="Apple-converted-space">                        </span>data-prefecture="${pref}"</p>
<p class="p1"><span class="Apple-converted-space">                        </span>onclick="togglePrefecture('${pref}')"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>${pref}</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>`).join('');</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// 都道府県選択トグル</p>
<p class="p1"><span class="Apple-converted-space">        </span>function togglePrefecture(prefecture) {</p>
<p class="p1"><span class="Apple-converted-space">            </span>const button = document.querySelector(`[data-prefecture="${prefecture}"]`);</p>
<p class="p1"><span class="Apple-converted-space">            </span>const isSelected = button.classList.contains('selected');</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>if (isSelected) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>// 選択解除</p>
<p class="p1"><span class="Apple-converted-space">                </span>button.classList.remove('selected', 'bg-blue-500', 'text-white');</p>
<p class="p1"><span class="Apple-converted-space">                </span>button.classList.add('bg-white');</p>
<p class="p1"><span class="Apple-converted-space">                </span>areaSelectionData.prefectures = areaSelectionData.prefectures.filter(p =&gt; p !== prefecture);</p>
<p class="p1"><span class="Apple-converted-space">                </span>delete areaSelectionData.cities[prefecture];</p>
<p class="p1"><span class="Apple-converted-space">                </span>areaSelectionData.priorities = areaSelectionData.priorities.filter(p =&gt; !p.startsWith(prefecture));</p>
<p class="p1"><span class="Apple-converted-space">            </span>} else {</p>
<p class="p1"><span class="Apple-converted-space">                </span>// 選択上限チェック</p>
<p class="p1"><span class="Apple-converted-space">                </span>if (areaSelectionData.prefectures.length &gt;= maxPrefectures) {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>showNotification('上限を超えました', `都道府県は最大${maxPrefectures}つまで選択可能です`);</p>
<p class="p1"><span class="Apple-converted-space">                    </span>return;</p>
<p class="p1"><span class="Apple-converted-space">                </span>}</p>
<p class="p1"><span class="Apple-converted-space">                </span>// 選択追加</p>
<p class="p1"><span class="Apple-converted-space">                </span>button.classList.add('selected', 'bg-blue-500', 'text-white');</p>
<p class="p1"><span class="Apple-converted-space">                </span>button.classList.remove('bg-white');</p>
<p class="p1"><span class="Apple-converted-space">                </span>areaSelectionData.prefectures.push(prefecture);</p>
<p class="p1"><span class="Apple-converted-space">                </span>// デフォルトで全市区町村を選択</p>
<p class="p1"><span class="Apple-converted-space">                </span>areaSelectionData.cities[prefecture] = getCitiesForPrefecture(prefecture);</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>updateAreaSelectionUI();</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// エリア選択UI更新</p>
<p class="p1"><span class="Apple-converted-space">        </span>function updateAreaSelectionUI() {</p>
<p class="p1"><span class="Apple-converted-space">            </span>// カウント更新</p>
<p class="p1"><span class="Apple-converted-space">            </span>const prefCountEl = document.getElementById('selectedPrefCount');</p>
<p class="p1"><span class="Apple-converted-space">            </span>const cityCountEl = document.getElementById('selectedCityCount');</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>if (prefCountEl) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>prefCountEl.textContent = areaSelectionData.prefectures.length;</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>const totalCities = Object.values(areaSelectionData.cities).reduce((sum, cities) =&gt; sum + cities.length, 0);</p>
<p class="p1"><span class="Apple-converted-space">            </span>if (cityCountEl) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>cityCountEl.textContent = totalCities;</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p1"><span class="Apple-converted-space">            </span>areaSelectionData.totalCount = totalCities;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>// 市区町村選択エリアの表示/非表示</p>
<p class="p1"><span class="Apple-converted-space">            </span>const cityArea = document.getElementById('citySelectionArea');</p>
<p class="p1"><span class="Apple-converted-space">            </span>if (cityArea) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>if (areaSelectionData.prefectures.length &gt; 0) {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>cityArea.classList.remove('hidden');</p>
<p class="p1"><span class="Apple-converted-space">                    </span>updateCitySelectionArea();</p>
<p class="p1"><span class="Apple-converted-space">                </span>} else {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>cityArea.classList.add('hidden');</p>
<p class="p1"><span class="Apple-converted-space">                </span>}</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>// 優先エリア設定の表示/非表示</p>
<p class="p1"><span class="Apple-converted-space">            </span>const priorityArea = document.getElementById('priorityArea');</p>
<p class="p1"><span class="Apple-converted-space">            </span>if (priorityArea) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>if (totalCities &gt; 0) {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>priorityArea.classList.remove('hidden');</p>
<p class="p1"><span class="Apple-converted-space">                    </span>updatePriorityArea();</p>
<p class="p1"><span class="Apple-converted-space">                </span>} else {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>priorityArea.classList.add('hidden');</p>
<p class="p1"><span class="Apple-converted-space">                </span>}</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>// 確認ボタンの有効/無効</p>
<p class="p1"><span class="Apple-converted-space">            </span>const confirmBtn = document.getElementById('areaConfirmBtn');</p>
<p class="p1"><span class="Apple-converted-space">            </span>if (confirmBtn) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>confirmBtn.disabled = areaSelectionData.prefectures.length === 0;</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// 市区町村選択エリア更新</p>
<p class="p1"><span class="Apple-converted-space">        </span>function updateCitySelectionArea() {</p>
<p class="p1"><span class="Apple-converted-space">            </span>const cityContainer = document.getElementById('cityListContainer');</p>
<p class="p1"><span class="Apple-converted-space">            </span>if (!cityContainer) return;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>cityContainer.innerHTML = areaSelectionData.prefectures.map(prefecture =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                </span>const allCities = getCitiesForPrefecture(prefecture);</p>
<p class="p1"><span class="Apple-converted-space">                </span>const selectedCities = areaSelectionData.cities[prefecture] || [];</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>return `</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="border rounded-lg p-4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="mb-3"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div class="flex justify-between items-center mb-2"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;h5 class="font-medium text-lg"&gt;${prefecture}&lt;/h5&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;span class="text-sm text-gray-600"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>${selectedCities.length} / ${allCities.length} 選択中</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;label class="flex items-center cursor-pointer hover:bg-gray-50 p-1 rounded"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;input type="checkbox"</p>
<p class="p1"><span class="Apple-converted-space">                                       </span>${selectedCities.length === allCities.length ? 'checked' : ''}</p>
<p class="p1"><span class="Apple-converted-space">                                       </span>onchange="toggleAllCities('${prefecture}', this.checked)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;span class="ml-2 text-sm font-medium"&gt;すべて選択&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-2"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>${allCities.map(city =&gt; `</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center p-2 hover:bg-gray-50 rounded cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="checkbox"</p>
<p class="p1"><span class="Apple-converted-space">                                           </span>value="${city}"</p>
<p class="p1"><span class="Apple-converted-space">                                           </span>${selectedCities.includes(city) ? 'checked' : ''}</p>
<p class="p1"><span class="Apple-converted-space">                                           </span>onchange="toggleCity('${prefecture}', '${city}', this.checked)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="ml-2 text-sm"&gt;${city}&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>`).join('')}</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>`;</p>
<p class="p1"><span class="Apple-converted-space">            </span>}).join('');</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// 市区町村選択トグル</p>
<p class="p1"><span class="Apple-converted-space">        </span>function toggleCity(prefecture, city, checked) {</p>
<p class="p1"><span class="Apple-converted-space">            </span>if (!areaSelectionData.cities[prefecture]) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>areaSelectionData.cities[prefecture] = [];</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>if (checked) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>if (!areaSelectionData.cities[prefecture].includes(city)) {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>areaSelectionData.cities[prefecture].push(city);</p>
<p class="p1"><span class="Apple-converted-space">                </span>}</p>
<p class="p1"><span class="Apple-converted-space">            </span>} else {</p>
<p class="p1"><span class="Apple-converted-space">                </span>areaSelectionData.cities[prefecture] = areaSelectionData.cities[prefecture].filter(c =&gt; c !== city);</p>
<p class="p1"><span class="Apple-converted-space">                </span>// 優先エリアからも削除</p>
<p class="p1"><span class="Apple-converted-space">                </span>const priorityKey = `${prefecture}_${city}`;</p>
<p class="p1"><span class="Apple-converted-space">                </span>areaSelectionData.priorities = areaSelectionData.priorities.filter(p =&gt; p !== priorityKey);</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>updateAreaSelectionUI();</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// 全市区町村選択切り替え</p>
<p class="p1"><span class="Apple-converted-space">        </span>function toggleAllCities(prefecture, checked) {</p>
<p class="p1"><span class="Apple-converted-space">            </span>const allCities = getCitiesForPrefecture(prefecture);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>if (checked) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>areaSelectionData.cities[prefecture] = [...allCities];</p>
<p class="p1"><span class="Apple-converted-space">            </span>} else {</p>
<p class="p1"><span class="Apple-converted-space">                </span>areaSelectionData.cities[prefecture] = [];</p>
<p class="p1"><span class="Apple-converted-space">                </span>// 優先エリアからも削除</p>
<p class="p1"><span class="Apple-converted-space">                </span>areaSelectionData.priorities = areaSelectionData.priorities.filter(</p>
<p class="p1"><span class="Apple-converted-space">                    </span>p =&gt; !p.startsWith(prefecture + '_')</p>
<p class="p1"><span class="Apple-converted-space">                </span>);</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>updateCitySelectionArea();</p>
<p class="p1"><span class="Apple-converted-space">            </span>updateAreaSelectionUI();</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// 優先エリア更新</p>
<p class="p1"><span class="Apple-converted-space">        </span>function updatePriorityArea() {</p>
<p class="p1"><span class="Apple-converted-space">            </span>const listContainer = document.getElementById('prioritySelectionList');</p>
<p class="p1"><span class="Apple-converted-space">            </span>if (!listContainer) return;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>// カウンター更新はtogglePriorityArea内で行うのでここでは不要</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>// 都道府県ごとにグループ化</p>
<p class="p1"><span class="Apple-converted-space">            </span>const groupedByPref = {};</p>
<p class="p1"><span class="Apple-converted-space">            </span>Object.keys(areaSelectionData.cities).forEach(pref =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                </span>if (!groupedByPref[pref]) {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>groupedByPref[pref] = [];</p>
<p class="p1"><span class="Apple-converted-space">                </span>}</p>
<p class="p1"><span class="Apple-converted-space">                </span>areaSelectionData.cities[pref].forEach(city =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>groupedByPref[pref].push({</p>
<p class="p1"><span class="Apple-converted-space">                        </span>key: `${pref}_${city}`,</p>
<p class="p1"><span class="Apple-converted-space">                        </span>city: city</p>
<p class="p1"><span class="Apple-converted-space">                    </span>});</p>
<p class="p1"><span class="Apple-converted-space">                </span>});</p>
<p class="p1"><span class="Apple-converted-space">            </span>});</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>if (Object.keys(groupedByPref).length === 0) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>listContainer.innerHTML = '&lt;p class="text-gray-500 text-sm"&gt;市区町村を選択すると、優先エリアの設定が可能になります&lt;/p&gt;';</p>
<p class="p1"><span class="Apple-converted-space">                </span>return;</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>// 県ごとにカード形式で表示（モバイル対応）</p>
<p class="p1"><span class="Apple-converted-space">            </span>listContainer.innerHTML = `</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;div class="border border-gray-200 rounded-lg bg-white p-3 sm:p-4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;h5 class="font-semibold text-sm sm:text-base mb-3 flex items-center"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;span class="text-red-500 mr-2"&gt;📍&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;span class="flex-1"&gt;選択可能なエリア&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;span class="text-xs sm:text-sm text-gray-600"&gt;全${Object.values(groupedByPref).reduce((sum, cities) =&gt; sum + cities.length, 0)}エリア&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/h5&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="space-y-3 sm:space-y-4 max-h-96 overflow-y-auto"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>${Object.entries(groupedByPref).map(([pref, cities]) =&gt; `</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div class="bg-gray-50 rounded-lg p-2 sm:p-3"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;h6 class="font-medium text-xs sm:text-sm mb-2 flex items-center text-gray-700"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="text-red-500 mr-1 sm:mr-2"&gt;📍&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>${pref}</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/h6&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-1.5 sm:gap-2 ml-0 sm:ml-6"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>${cities.map(city =&gt; `</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;label class="flex items-center p-1.5 sm:p-2 bg-white hover:bg-yellow-50 rounded cursor-pointer text-xs sm:text-sm transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;input type="checkbox"</p>
<p class="p1"><span class="Apple-converted-space">                                                   </span>class="w-4 h-4 sm:w-auto sm:h-auto"</p>
<p class="p1"><span class="Apple-converted-space">                                                   </span>value="${city.key}"</p>
<p class="p1"><span class="Apple-converted-space">                                                   </span>${areaSelectionData.priorities.includes(city.key) ? 'checked' : ''}</p>
<p class="p1"><span class="Apple-converted-space">                                                   </span>onchange="togglePriorityArea('${city.key}', this.checked)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;span class="ml-1.5 sm:ml-2 leading-tight"&gt;${city.city}&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>`).join('')}</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>`).join('')}</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>`;</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// 優先エリアトグル</p>
<p class="p1"><span class="Apple-converted-space">        </span>function togglePriorityArea(areaKey, checked) {</p>
<p class="p1"><span class="Apple-converted-space">            </span>console.log('togglePriorityArea called:', areaKey, checked, 'current priorities:', areaSelectionData.priorities.length);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>if (checked) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>// 3つ以上選択されている場合は選択を防ぐ</p>
<p class="p1"><span class="Apple-converted-space">                </span>if (areaSelectionData.priorities.length &gt;= 3) {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>showNotification('上限を超えました', '優先エリアは最大3つまで選択可能です');</p>
<p class="p1"><span class="Apple-converted-space">                    </span>// チェックボックスを元に戻す</p>
<p class="p1"><span class="Apple-converted-space">                    </span>setTimeout(() =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                        </span>const checkbox = document.querySelector(`input[value="${areaKey}"]`);</p>
<p class="p1"><span class="Apple-converted-space">                        </span>if (checkbox) {</p>
<p class="p1"><span class="Apple-converted-space">                            </span>checkbox.checked = false;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>}</p>
<p class="p1"><span class="Apple-converted-space">                    </span>}, 0);</p>
<p class="p1"><span class="Apple-converted-space">                    </span>return;</p>
<p class="p1"><span class="Apple-converted-space">                </span>}</p>
<p class="p1"><span class="Apple-converted-space">                </span>if (!areaSelectionData.priorities.includes(areaKey)) {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>areaSelectionData.priorities.push(areaKey);</p>
<p class="p1"><span class="Apple-converted-space">                </span>}</p>
<p class="p1"><span class="Apple-converted-space">            </span>} else {</p>
<p class="p1"><span class="Apple-converted-space">                </span>areaSelectionData.priorities = areaSelectionData.priorities.filter(p =&gt; p !== areaKey);</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>console.log('After update, priorities:', areaSelectionData.priorities.length, areaSelectionData.priorities);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>// 優先エリアカウンターを更新</p>
<p class="p1"><span class="Apple-converted-space">            </span>const selectedCount = document.getElementById('selectedPriorityCount');</p>
<p class="p1"><span class="Apple-converted-space">            </span>if (selectedCount) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>selectedCount.textContent = areaSelectionData.priorities.length;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>// カウンターの見た目も更新（選択数に応じて色を変更）</p>
<p class="p1"><span class="Apple-converted-space">                </span>const countContainer = selectedCount.parentElement;</p>
<p class="p1"><span class="Apple-converted-space">                </span>if (countContainer) {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>if (areaSelectionData.priorities.length &gt;= 3) {</p>
<p class="p1"><span class="Apple-converted-space">                        </span>countContainer.classList.add('text-red-600');</p>
<p class="p1"><span class="Apple-converted-space">                        </span>countContainer.classList.remove('text-orange-500');</p>
<p class="p1"><span class="Apple-converted-space">                    </span>} else if (areaSelectionData.priorities.length &gt; 0) {</p>
<p class="p1"><span class="Apple-converted-space">                        </span>countContainer.classList.add('text-orange-500');</p>
<p class="p1"><span class="Apple-converted-space">                        </span>countContainer.classList.remove('text-red-600');</p>
<p class="p1"><span class="Apple-converted-space">                    </span>} else {</p>
<p class="p1"><span class="Apple-converted-space">                        </span>countContainer.classList.remove('text-red-600', 'text-orange-500');</p>
<p class="p1"><span class="Apple-converted-space">                    </span>}</p>
<p class="p1"><span class="Apple-converted-space">                </span>}</p>
<p class="p1"><span class="Apple-converted-space">            </span>} else {</p>
<p class="p1"><span class="Apple-converted-space">                </span>console.error('selectedPriorityCount element not found!');</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>// リストを再描画（チェックボックスの状態を反映）</p>
<p class="p1"><span class="Apple-converted-space">            </span>updatePriorityArea();</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// エリア選択をリセット</p>
<p class="p1"><span class="Apple-converted-space">        </span>function resetAreaSelection() {</p>
<p class="p1"><span class="Apple-converted-space">            </span>areaSelectionData.prefectures = [];</p>
<p class="p1"><span class="Apple-converted-space">            </span>areaSelectionData.cities = {};</p>
<p class="p1"><span class="Apple-converted-space">            </span>areaSelectionData.priorities = [];</p>
<p class="p1"><span class="Apple-converted-space">            </span>areaSelectionData.totalCount = 0;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>// ボタンの状態をリセット</p>
<p class="p1"><span class="Apple-converted-space">            </span>document.querySelectorAll('[data-prefecture]').forEach(button =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                </span>button.classList.remove('selected', 'bg-blue-500', 'text-white');</p>
<p class="p1"><span class="Apple-converted-space">                </span>button.classList.add('bg-white');</p>
<p class="p1"><span class="Apple-converted-space">            </span>});</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>// 優先エリアカウンターもリセット</p>
<p class="p1"><span class="Apple-converted-space">            </span>const selectedCount = document.getElementById('selectedPriorityCount');</p>
<p class="p1"><span class="Apple-converted-space">            </span>if (selectedCount) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>selectedCount.textContent = '0';</p>
<p class="p1"><span class="Apple-converted-space">                </span>const countContainer = selectedCount.parentElement;</p>
<p class="p1"><span class="Apple-converted-space">                </span>if (countContainer) {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>countContainer.classList.remove('text-red-600', 'text-orange-500');</p>
<p class="p1"><span class="Apple-converted-space">                </span>}</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>updateAreaSelectionUI();</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// エリア選択を確定</p>
<p class="p1"><span class="Apple-converted-space">        </span>function confirmAreaSelection() {</p>
<p class="p1"><span class="Apple-converted-space">            </span>showNotification('成功', `${areaSelectionData.prefectures.length}都道府県、${areaSelectionData.totalCount}市区町村を選択しました`);</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// 市区町村リストを更新</p>
<p class="p1"><span class="Apple-converted-space">        </span>function updateCityList() {</p>
<p class="p1"><span class="Apple-converted-space">            </span>const cityListElement = document.getElementById('cityList');</p>
<p class="p1"><span class="Apple-converted-space">            </span>let html = '';</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>selectedPrefectures.forEach(pref =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                </span>if (cityData[pref]) {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>cityData[pref].forEach(city =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                        </span>html += `</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;label class="flex items-center p-2 bg-white border rounded hover:bg-gray-50 cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;input type="checkbox" data-city="${city}" name="manual-city" value="${city}" class="mr-2" onchange="updateCompanyAreaDisplay();"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;span class="text-sm"&gt;${city}&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>`;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>});</p>
<p class="p1"><span class="Apple-converted-space">                </span>}</p>
<p class="p1"><span class="Apple-converted-space">            </span>});</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>cityListElement.innerHTML = html || '&lt;p class="text-gray-500 text-center py-4"&gt;都道府県を選択してください&lt;/p&gt;';</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// 優先エリアの切り替え</p>
<p class="p1"><span class="Apple-converted-space">        </span>// 古いtogglePriorityArea関数は削除（新しいバージョンを上で定義済み）</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// updatePriorityAreasDisplay関数は削除</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// 全都道府県を表示</p>
<p class="p1"><span class="Apple-converted-space">        </span>function showAllPrefectures() {</p>
<p class="p1"><span class="Apple-converted-space">            </span>const container = event.target.parentElement.querySelector('.grid');</p>
<p class="p1"><span class="Apple-converted-space">            </span>container.innerHTML = allPrefectures.map(pref =&gt; `</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;label class="flex items-center p-2 bg-white border rounded cursor-pointer hover:bg-blue-50"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;input type="checkbox" name="prefecture" value="${pref}" class="mr-2" onchange="updateSelectedAreas()"</p>
<p class="p1"><span class="Apple-converted-space">                           </span>${selectedPrefectures.includes(pref) ? 'checked' : ''}&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;span class="text-sm"&gt;${pref}&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>`).join('');</p>
<p class="p1"><span class="Apple-converted-space">            </span>event.target.textContent = '閉じる';</p>
<p class="p1"><span class="Apple-converted-space">            </span>event.target.onclick = () =&gt; location.reload();</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// 市区町村検索</p>
<p class="p1"><span class="Apple-converted-space">        </span>function searchCities(query) {</p>
<p class="p1"><span class="Apple-converted-space">            </span>const cityListElement = document.getElementById('cityList');</p>
<p class="p1"><span class="Apple-converted-space">            </span>const allButtons = cityListElement.querySelectorAll('button');</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>allButtons.forEach(button =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                </span>const cityName = button.textContent.replace('⭐ ', '');</p>
<p class="p1"><span class="Apple-converted-space">                </span>if (cityName.toLowerCase().includes(query.toLowerCase())) {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>button.style.display = '';</p>
<p class="p1"><span class="Apple-converted-space">                </span>} else {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>button.style.display = 'none';</p>
<p class="p1"><span class="Apple-converted-space">                </span>}</p>
<p class="p1"><span class="Apple-converted-space">            </span>});</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// 会社情報のエリア表示を更新</p>
<p class="p1"><span class="Apple-converted-space">        </span>function updateCompanyAreaDisplay() {</p>
<p class="p1"><span class="Apple-converted-space">            </span>const displayElement = document.getElementById('companyAreaDisplay');</p>
<p class="p1"><span class="Apple-converted-space">            </span>if (!displayElement) return;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>let html = '';</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>// 都道府県</p>
<p class="p1"><span class="Apple-converted-space">            </span>if (selectedPrefectures.length &gt; 0) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>html += `</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;p class="text-sm font-medium text-gray-700 mb-2"&gt;対応都道府県&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="flex flex-wrap gap-2"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>${selectedPrefectures.map(pref =&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>`&lt;span class="px-3 py-1 bg-blue-100 text-blue-700 rounded-full text-sm"&gt;${pref}&lt;/span&gt;`</p>
<p class="p1"><span class="Apple-converted-space">                            </span>).join('')}</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>`;</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>// 選択された市区町村を表示（手動設定の場合）</p>
<p class="p1"><span class="Apple-converted-space">            </span>const manualCities = document.querySelectorAll('input[name="manual-city"]:checked');</p>
<p class="p1"><span class="Apple-converted-space">            </span>if (manualCities.length &gt; 0) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>html += `</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;p class="text-sm font-medium text-gray-700 mb-2"&gt;対応市区町村&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="flex flex-wrap gap-2"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>${Array.from(manualCities).map(checkbox =&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>`&lt;span class="px-3 py-1 bg-green-100 text-green-700 rounded-full text-sm"&gt;${checkbox.value}&lt;/span&gt;`</p>
<p class="p1"><span class="Apple-converted-space">                            </span>).join('')}</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>`;</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>displayElement.innerHTML = html || '&lt;p class="text-gray-500"&gt;エリアが選択されていません&lt;/p&gt;';</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// 自動配信設定を保存</p>
<p class="p1"><span class="Apple-converted-space">        </span>// エリア設定の同期切り替え</p>
<p class="p1"><span class="Apple-converted-space">        </span>function toggleAreaSync() {</p>
<p class="p1"><span class="Apple-converted-space">            </span>const isSync = document.getElementById('syncAreaSettings').checked;</p>
<p class="p1"><span class="Apple-converted-space">            </span>const autoDiv = document.getElementById('companyAreaAuto');</p>
<p class="p1"><span class="Apple-converted-space">            </span>const manualDiv = document.getElementById('companyAreaManual');</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>if (isSync) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>autoDiv.classList.remove('hidden');</p>
<p class="p1"><span class="Apple-converted-space">                </span>manualDiv.classList.add('hidden');</p>
<p class="p1"><span class="Apple-converted-space">            </span>} else {</p>
<p class="p1"><span class="Apple-converted-space">                </span>autoDiv.classList.add('hidden');</p>
<p class="p1"><span class="Apple-converted-space">                </span>manualDiv.classList.remove('hidden');</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// 工事内容設定の同期切り替え</p>
<p class="p1"><span class="Apple-converted-space">        </span>function toggleConstructionSync() {</p>
<p class="p1"><span class="Apple-converted-space">            </span>const isSync = document.getElementById('syncConstructionSettings').checked;</p>
<p class="p1"><span class="Apple-converted-space">            </span>const autoDiv = document.getElementById('companyConstructionAuto');</p>
<p class="p1"><span class="Apple-converted-space">            </span>const manualDiv = document.getElementById('companyConstructionManual');</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>if (isSync) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>autoDiv.classList.remove('hidden');</p>
<p class="p1"><span class="Apple-converted-space">                </span>manualDiv.classList.add('hidden');</p>
<p class="p1"><span class="Apple-converted-space">            </span>} else {</p>
<p class="p1"><span class="Apple-converted-space">                </span>autoDiv.classList.add('hidden');</p>
<p class="p1"><span class="Apple-converted-space">                </span>manualDiv.classList.remove('hidden');</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// 会社情報用の全都道府県表示</p>
<p class="p1"><span class="Apple-converted-space">        </span>function showAllCompanyPrefectures() {</p>
<p class="p1"><span class="Apple-converted-space">            </span>const container = event.target.parentElement.querySelector('.grid');</p>
<p class="p1"><span class="Apple-converted-space">            </span>container.innerHTML = allPrefectures.map(pref =&gt; `</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;label class="flex items-center p-2 bg-white border rounded cursor-pointer hover:bg-blue-50"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;input type="checkbox" name="company-prefecture" value="${pref}" class="mr-2"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;span class="text-sm"&gt;${pref}&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>`).join('');</p>
<p class="p1"><span class="Apple-converted-space">            </span>event.target.textContent = '閉じる';</p>
<p class="p1"><span class="Apple-converted-space">            </span>event.target.onclick = () =&gt; location.reload();</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// クチコミ管理関数</p>
<p class="p1"><span class="Apple-converted-space">        </span>let collectedReviews = [</p>
<p class="p1"><span class="Apple-converted-space">            </span>{</p>
<p class="p1"><span class="Apple-converted-space">                </span>id: 1,</p>
<p class="p1"><span class="Apple-converted-space">                </span>rating: 5,</p>
<p class="p1"><span class="Apple-converted-space">                </span>source: '自社',</p>
<p class="p1"><span class="Apple-converted-space">                </span>content: '丁寧な対応で安心してお任せできました。見積もりも明確で、追加料金なく予定通りに完成しました。',</p>
<p class="p1"><span class="Apple-converted-space">                </span>customer: '東京都 Y様',</p>
<p class="p1"><span class="Apple-converted-space">                </span>date: '2024年1月',</p>
<p class="p1"><span class="Apple-converted-space">                </span>collectedDate: '2024/01/15',</p>
<p class="p1"><span class="Apple-converted-space">                </span>visible: true,</p>
<p class="p1"><span class="Apple-converted-space">                </span>image: null</p>
<p class="p1"><span class="Apple-converted-space">            </span>},</p>
<p class="p1"><span class="Apple-converted-space">            </span>{</p>
<p class="p1"><span class="Apple-converted-space">                </span>id: 2,</p>
<p class="p1"><span class="Apple-converted-space">                </span>rating: 4,</p>
<p class="p1"><span class="Apple-converted-space">                </span>source: '自社',</p>
<p class="p1"><span class="Apple-converted-space">                </span>content: '職人さんの技術が高く、仕上がりに満足しています。近隣への配慮もしっかりしていました。',</p>
<p class="p1"><span class="Apple-converted-space">                </span>customer: '神奈川県 T様',</p>
<p class="p1"><span class="Apple-converted-space">                </span>date: '2024年2月',</p>
<p class="p1"><span class="Apple-converted-space">                </span>collectedDate: '2024/02/01',</p>
<p class="p1"><span class="Apple-converted-space">                </span>visible: true,</p>
<p class="p1"><span class="Apple-converted-space">                </span>image: 'data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" width="150" height="100"%3E%3Crect width="100%25" height="100%25" fill="%23ddd"/%3E%3Ctext x="50%25" y="50%25" font-family="Arial" font-size="14" fill="%23999" text-anchor="middle" dy=".3em"%3E150x100%3C/text%3E%3C/svg%3E'</p>
<p class="p1"><span class="Apple-converted-space">            </span>},</p>
<p class="p1"><span class="Apple-converted-space">            </span>{</p>
<p class="p1"><span class="Apple-converted-space">                </span>id: 3,</p>
<p class="p1"><span class="Apple-converted-space">                </span>rating: 5,</p>
<p class="p1"><span class="Apple-converted-space">                </span>source: '自社',</p>
<p class="p1"><span class="Apple-converted-space">                </span>content: '15年前に建てた家の外壁が色褪せてきたので依頼しました。複数社から見積もりを取りましたが、説明が一番丁寧で安心感がありました。',</p>
<p class="p1"><span class="Apple-converted-space">                </span>customer: '千葉県 M様',</p>
<p class="p1"><span class="Apple-converted-space">                </span>date: '2024年2月',</p>
<p class="p1"><span class="Apple-converted-space">                </span>collectedDate: '2024/02/10',</p>
<p class="p1"><span class="Apple-converted-space">                </span>visible: true,</p>
<p class="p1"><span class="Apple-converted-space">                </span>image: null</p>
<p class="p1"><span class="Apple-converted-space">            </span>},</p>
<p class="p1"><span class="Apple-converted-space">            </span>{</p>
<p class="p1"><span class="Apple-converted-space">                </span>id: 4,</p>
<p class="p1"><span class="Apple-converted-space">                </span>rating: 5,</p>
<p class="p1"><span class="Apple-converted-space">                </span>source: '自社',</p>
<p class="p1"><span class="Apple-converted-space">                </span>content: '職人さんの挨拶から始まり、毎日の作業報告、近隣への配慮など、すべてにおいて満足でした。',</p>
<p class="p1"><span class="Apple-converted-space">                </span>customer: '埼玉県 K様',</p>
<p class="p1"><span class="Apple-converted-space">                </span>date: '2024年3月',</p>
<p class="p1"><span class="Apple-converted-space">                </span>collectedDate: '2024/03/05',</p>
<p class="p1"><span class="Apple-converted-space">                </span>visible: true,</p>
<p class="p1"><span class="Apple-converted-space">                </span>image: null</p>
<p class="p1"><span class="Apple-converted-space">            </span>},</p>
<p class="p1"><span class="Apple-converted-space">            </span>{</p>
<p class="p1"><span class="Apple-converted-space">                </span>id: 5,</p>
<p class="p1"><span class="Apple-converted-space">                </span>rating: 4,</p>
<p class="p1"><span class="Apple-converted-space">                </span>source: '自社',</p>
<p class="p1"><span class="Apple-converted-space">                </span>content: '見積もりが明確で、追加料金もなく予定通りに終わりました。仕上がりも期待以上です。',</p>
<p class="p1"><span class="Apple-converted-space">                </span>customer: '東京都 S様',</p>
<p class="p1"><span class="Apple-converted-space">                </span>date: '2024年3月',</p>
<p class="p1"><span class="Apple-converted-space">                </span>collectedDate: '2024/03/10',</p>
<p class="p1"><span class="Apple-converted-space">                </span>visible: true,</p>
<p class="p1"><span class="Apple-converted-space">                </span>image: null</p>
<p class="p1"><span class="Apple-converted-space">            </span>},</p>
<p class="p1"><span class="Apple-converted-space">            </span>{</p>
<p class="p1"><span class="Apple-converted-space">                </span>id: 6,</p>
<p class="p1"><span class="Apple-converted-space">                </span>rating: 5,</p>
<p class="p1"><span class="Apple-converted-space">                </span>source: '自社',</p>
<p class="p1"><span class="Apple-converted-space">                </span>content: '屋根と外壁の同時施工をお願いしました。工期も短縮でき、仕上がりも大変満足しています。',</p>
<p class="p1"><span class="Apple-converted-space">                </span>customer: '神奈川県 A様',</p>
<p class="p1"><span class="Apple-converted-space">                </span>date: '2024年3月',</p>
<p class="p1"><span class="Apple-converted-space">                </span>collectedDate: '2024/03/15',</p>
<p class="p1"><span class="Apple-converted-space">                </span>visible: false,</p>
<p class="p1"><span class="Apple-converted-space">                </span>image: null</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>];</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// カルーセル管理</p>
<p class="p1"><span class="Apple-converted-space">        </span>let currentReviewIndex = 0;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// クチコミリストを更新</p>
<p class="p1"><span class="Apple-converted-space">        </span>function updateReviewsList() {</p>
<p class="p1"><span class="Apple-converted-space">            </span>const reviewsList = document.getElementById('reviewsList');</p>
<p class="p1"><span class="Apple-converted-space">            </span>if (reviewsList) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>reviewsList.innerHTML = collectedReviews.map(review =&gt; `</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="border rounded-lg p-4 bg-white" data-review-id="${review.id}"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="flex justify-between items-start mb-2"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div class="flex items-center"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;div class="flex text-yellow-400 mr-2"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>${Array(5).fill(0).map((_, i) =&gt; `</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;svg class="w-4 h-4 ${i &lt; review.rating ? 'fill-current' : 'text-gray-300'}" viewBox="0 0 20 20"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;path d="M10 15l-5.878 3.09 1.123-6.545L.489 6.91l6.572-.955L10 0l2.939 5.955 6.572.955-4.756 4.635 1.123 6.545z"/&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;/svg&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>`).join('')}</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;span class="text-sm text-gray-600"&gt;${review.rating}.0&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div class="flex items-center gap-2"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;span class="text-xs bg-gray-100 px-2 py-1 rounded"&gt;${review.source === '自社' ? '自社' : review.source + '参照'}&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="checkbox" ${review.visible ? 'checked' : ''} onchange="toggleReviewVisibility(${review.id})" class="mr-1"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="text-xs text-gray-600"&gt;表示&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;p class="text-sm text-gray-800 mb-2"&gt;${review.content}&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>${review.image ? `</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div class="mb-2"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;img src="${review.image}" class="h-20 rounded object-cover" alt="施工写真"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>` : ''}</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="flex justify-between items-center text-xs text-gray-500"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;span&gt;${review.customer} / ${review.date}&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;span&gt;収集日: ${review.collectedDate}&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>`).join('');</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>// 表示件数を更新</p>
<p class="p1"><span class="Apple-converted-space">                </span>const visibleCount = collectedReviews.filter(r =&gt; r.visible).length;</p>
<p class="p1"><span class="Apple-converted-space">                </span>const countElement = document.getElementById('visibleReviewCount');</p>
<p class="p1"><span class="Apple-converted-space">                </span>if (countElement) countElement.textContent = visibleCount;</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p1"><span class="Apple-converted-space">            </span>updatePreviewReviews();</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// クチコミの表示/非表示切り替え</p>
<p class="p1"><span class="Apple-converted-space">        </span>function toggleReviewVisibility(reviewId) {</p>
<p class="p1"><span class="Apple-converted-space">            </span>const review = collectedReviews.find(r =&gt; r.id === reviewId);</p>
<p class="p1"><span class="Apple-converted-space">            </span>if (review) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>review.visible = !review.visible;</p>
<p class="p1"><span class="Apple-converted-space">                </span>updateReviewsList();</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// プレビューのクチコミを更新（1枚ずつ中央表示）</p>
<p class="p1"><span class="Apple-converted-space">        </span>function updatePreviewReviews() {</p>
<p class="p1"><span class="Apple-converted-space">            </span>const previewReviewsList = document.getElementById('previewReviewsList');</p>
<p class="p1"><span class="Apple-converted-space">            </span>const indicators = document.getElementById('reviewIndicators');</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>if (previewReviewsList) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>const visibleReviews = collectedReviews.filter(r =&gt; r.visible);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>if (visibleReviews.length &gt; 0) {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>// カルーセルカードを生成（1枚ずつ全幅で表示）</p>
<p class="p1"><span class="Apple-converted-space">                    </span>previewReviewsList.innerHTML = visibleReviews.map((review, index) =&gt; `</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="flex-shrink-0 w-full bg-white rounded-xl shadow-xl border-2 border-purple-100 p-8"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div class="flex items-center justify-center mb-4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;div class="flex text-yellow-400 mr-2"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>${Array(5).fill(0).map((_, i) =&gt; `</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;svg class="w-6 h-6 ${i &lt; review.rating ? 'fill-current' : 'text-gray-300'}" viewBox="0 0 20 20"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;path d="M10 15l-5.878 3.09 1.123-6.545L.489 6.91l6.572-.955L10 0l2.939 5.955 6.572.955-4.756 4.635 1.123 6.545z"/&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;/svg&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>`).join('')}</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;span class="text-lg text-gray-700 font-bold ml-2"&gt;${review.rating}.0&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;p class="text-gray-800 text-base leading-relaxed mb-6 text-center"&gt;${review.content}&lt;/p&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                            </span>${review.image ? `</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;div class="mb-6 flex justify-center"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;img src="${review.image}" class="h-32 rounded-lg object-cover shadow-md" alt="施工写真"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>` : ''}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div class="border-t-2 border-purple-100 pt-4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;div class="flex justify-between items-center"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;div class="text-sm text-gray-600"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;div class="font-semibold text-base text-gray-800"&gt;${review.customer}&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;div class="text-xs text-gray-500 mt-1"&gt;${review.date}&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="text-xs bg-purple-50 text-purple-700 px-3 py-1.5 rounded-full font-medium"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>${review.source === '自社' ? '直接いただいた声' : review.source + 'より'}</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>`).join('');</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                    </span>// インジケーターを生成</p>
<p class="p1"><span class="Apple-converted-space">                    </span>if (indicators) {</p>
<p class="p1"><span class="Apple-converted-space">                        </span>indicators.innerHTML = visibleReviews.map((_, index) =&gt; `</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;button onclick="goToReview(${index})" class="w-3 h-3 rounded-full transition ${index === 0 ? 'bg-blue-600 scale-125' : 'bg-gray-300'}"&gt;&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>`).join('');</p>
<p class="p1"><span class="Apple-converted-space">                    </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                    </span>document.getElementById('preview-reviews').style.display = 'block';</p>
<p class="p1"><span class="Apple-converted-space">                    </span>currentReviewIndex = 0; // 最初のレビューから開始</p>
<p class="p1"><span class="Apple-converted-space">                    </span>updateCarouselPosition();</p>
<p class="p1"><span class="Apple-converted-space">                </span>} else {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>document.getElementById('preview-reviews').style.display = 'none';</p>
<p class="p1"><span class="Apple-converted-space">                </span>}</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// カルーセルスクロール（無限ループ）</p>
<p class="p1"><span class="Apple-converted-space">        </span>function scrollReviews(direction) {</p>
<p class="p1"><span class="Apple-converted-space">            </span>const visibleReviews = collectedReviews.filter(r =&gt; r.visible);</p>
<p class="p1"><span class="Apple-converted-space">            </span>if (visibleReviews.length === 0) return;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>if (direction === 'left') {</p>
<p class="p1"><span class="Apple-converted-space">                </span>currentReviewIndex--;</p>
<p class="p1"><span class="Apple-converted-space">            </span>} else {</p>
<p class="p1"><span class="Apple-converted-space">                </span>currentReviewIndex++;</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>updateCarouselPosition();</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// 特定のクチコミへ移動</p>
<p class="p1"><span class="Apple-converted-space">        </span>function goToReview(index) {</p>
<p class="p1"><span class="Apple-converted-space">            </span>const visibleReviews = collectedReviews.filter(r =&gt; r.visible);</p>
<p class="p1"><span class="Apple-converted-space">            </span>currentReviewIndex = index + visibleReviews.length;</p>
<p class="p1"><span class="Apple-converted-space">            </span>updateCarouselPosition();</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// カルーセル位置を更新（1枚ずつ中央表示）</p>
<p class="p1"><span class="Apple-converted-space">        </span>function updateCarouselPosition() {</p>
<p class="p1"><span class="Apple-converted-space">            </span>const carousel = document.getElementById('previewReviewsList');</p>
<p class="p1"><span class="Apple-converted-space">            </span>const indicators = document.getElementById('reviewIndicators');</p>
<p class="p1"><span class="Apple-converted-space">            </span>const visibleReviews = collectedReviews.filter(r =&gt; r.visible);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>if (carousel &amp;&amp; visibleReviews.length &gt; 0) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>// 実際のインデックスを計算</p>
<p class="p1"><span class="Apple-converted-space">                </span>const actualIndex = ((currentReviewIndex % visibleReviews.length) + visibleReviews.length) % visibleReviews.length;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>// カルーセル全体の幅を取得</p>
<p class="p1"><span class="Apple-converted-space">                </span>const carouselWidth = carousel.parentElement.offsetWidth;</p>
<p class="p1"><span class="Apple-converted-space">                </span>const cardWidth = carousel.firstElementChild ? carousel.firstElementChild.offsetWidth : carouselWidth;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>// 中央に配置するための位置を計算</p>
<p class="p1"><span class="Apple-converted-space">                </span>const position = -(actualIndex * cardWidth);</p>
<p class="p1"><span class="Apple-converted-space">                </span>carousel.style.transform = `translateX(${position}px)`;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>// インジケーター更新</p>
<p class="p1"><span class="Apple-converted-space">                </span>if (indicators) {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>indicators.querySelectorAll('button').forEach((btn, index) =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                        </span>btn.className = `w-3 h-3 rounded-full transition ${index === actualIndex ? 'bg-blue-600 scale-125' : 'bg-gray-300'}`;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>});</p>
<p class="p1"><span class="Apple-converted-space">                </span>}</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// 初期化時にクチコミリストを表示</p>
<p class="p1"><span class="Apple-converted-space">        </span>setTimeout(() =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">            </span>updateReviewsList();</p>
<p class="p1"><span class="Apple-converted-space">        </span>}, 100);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// 会社情報セクションの初期化（保存ボタン方式に変更）</p>
<p class="p1"><span class="Apple-converted-space">        </span>document.addEventListener('DOMContentLoaded', () =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">            </span>const companySection = document.getElementById('companySection');</p>
<p class="p1"><span class="Apple-converted-space">            </span>if (companySection) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>console.log('[会社情報] セクション初期化完了 - 保存ボタン方式を使用');</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>// カスタム資格入力のEnterキー対応</p>
<p class="p1"><span class="Apple-converted-space">                </span>const customQualInput = document.getElementById('customQualificationInput');</p>
<p class="p1"><span class="Apple-converted-space">                </span>if (customQualInput) {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>customQualInput.addEventListener('keypress', (e) =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                        </span>if (e.key === 'Enter') {</p>
<p class="p1"><span class="Apple-converted-space">                            </span>e.preventDefault();</p>
<p class="p1"><span class="Apple-converted-space">                            </span>addCustomQualification();</p>
<p class="p1"><span class="Apple-converted-space">                        </span>}</p>
<p class="p1"><span class="Apple-converted-space">                    </span>});</p>
<p class="p1"><span class="Apple-converted-space">                </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>// カスタム保険入力のEnterキー対応</p>
<p class="p1"><span class="Apple-converted-space">                </span>const customInsInput = document.getElementById('customInsuranceInput');</p>
<p class="p1"><span class="Apple-converted-space">                </span>if (customInsInput) {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>customInsInput.addEventListener('keypress', (e) =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                        </span>if (e.key === 'Enter') {</p>
<p class="p1"><span class="Apple-converted-space">                            </span>e.preventDefault();</p>
<p class="p1"><span class="Apple-converted-space">                            </span>addCustomInsurance();</p>
<p class="p1"><span class="Apple-converted-space">                        </span>}</p>
<p class="p1"><span class="Apple-converted-space">                    </span>});</p>
<p class="p1"><span class="Apple-converted-space">                </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>// PR文の文字数カウンター</p>
<p class="p1"><span class="Apple-converted-space">                </span>const prTextArea = document.getElementById('prText');</p>
<p class="p1"><span class="Apple-converted-space">                </span>const prTextCharCount = document.getElementById('prTextCharCount');</p>
<p class="p1"><span class="Apple-converted-space">                </span>if (prTextArea &amp;&amp; prTextCharCount) {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>// 初期表示</p>
<p class="p1"><span class="Apple-converted-space">                    </span>prTextCharCount.textContent = prTextArea.value.length;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                    </span>// 入力時のカウント更新とテキストエリアの高さ自動調整</p>
<p class="p1"><span class="Apple-converted-space">                    </span>prTextArea.addEventListener('input', (e) =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                        </span>const length = e.target.value.length;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>prTextCharCount.textContent = length;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                        </span>// テキストエリアの高さを内容に合わせて自動調整</p>
<p class="p1"><span class="Apple-converted-space">                        </span>e.target.style.height = 'auto';</p>
<p class="p1"><span class="Apple-converted-space">                        </span>e.target.style.height = Math.max(200, e.target.scrollHeight) + 'px';</p>
<p class="p1"><span class="Apple-converted-space">                    </span>});</p>
<p class="p1"><span class="Apple-converted-space">                </span>}</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>});</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// サービスカードのトグル機能</p>
<p class="p1"><span class="Apple-converted-space">        </span>function toggleServiceCard(element) {</p>
<p class="p1"><span class="Apple-converted-space">            </span>const checkbox = element.querySelector('input[type="checkbox"]');</p>
<p class="p1"><span class="Apple-converted-space">            </span>const card = element.querySelector('div');</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>checkbox.checked = !checkbox.checked;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>if (checkbox.checked) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>card.classList.add('bg-blue-50', 'border-blue-500');</p>
<p class="p1"><span class="Apple-converted-space">                </span>card.classList.remove('bg-white');</p>
<p class="p1"><span class="Apple-converted-space">            </span>} else {</p>
<p class="p1"><span class="Apple-converted-space">                </span>card.classList.remove('bg-blue-50', 'border-blue-500');</p>
<p class="p1"><span class="Apple-converted-space">                </span>card.classList.add('bg-white');</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// Googleマップを埋め込み</p>
<p class="p1"><span class="Apple-converted-space">        </span>function loadGoogleMap() {</p>
<p class="p1"><span class="Apple-converted-space">            </span>const mapContainer = document.getElementById('googleMapContainer');</p>
<p class="p1"><span class="Apple-converted-space">            </span>const address = document.getElementById('previewAddress')?.textContent || '';</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>if (!mapContainer) return;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>if (address &amp;&amp; address !== '-') {</p>
<p class="p1"><span class="Apple-converted-space">                </span>const encodedAddress = encodeURIComponent(address);</p>
<p class="p1"><span class="Apple-converted-space">                </span>// Google Maps Embed APIを使用（通常はAPIキーが必要ですが、シンプルなiframe埋め込みを使用）</p>
<p class="p1"><span class="Apple-converted-space">                </span>const mapHtml = `</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;iframe</p>
<p class="p1"><span class="Apple-converted-space">                        </span>width="100%"</p>
<p class="p1"><span class="Apple-converted-space">                        </span>height="100%"</p>
<p class="p1"><span class="Apple-converted-space">                        </span>frameborder="0"</p>
<p class="p1"><span class="Apple-converted-space">                        </span>style="border:0"</p>
<p class="p1"><span class="Apple-converted-space">                        </span>src="https://www.google.com/maps?q=${encodedAddress}&amp;output=embed"</p>
<p class="p1"><span class="Apple-converted-space">                        </span>allowfullscreen&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/iframe&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>`;</p>
<p class="p1"><span class="Apple-converted-space">                </span>mapContainer.innerHTML = mapHtml;</p>
<p class="p1"><span class="Apple-converted-space">            </span>} else {</p>
<p class="p1"><span class="Apple-converted-space">                </span>mapContainer.innerHTML = `</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="w-full h-full flex items-center justify-center text-gray-500 bg-gray-100"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="text-center"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;svg class="w-12 h-12 mx-auto mb-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"&gt;&lt;/path&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"&gt;&lt;/path&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/svg&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;p class="text-sm"&gt;所在地情報が設定されていません&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>`;</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// 通知表示</p>
<p class="p1"><span class="Apple-converted-space">        </span>function showNotification(title, body, type = 'info') {</p>
<p class="p1"><span class="Apple-converted-space">            </span>// ブラウザ通知</p>
<p class="p1"><span class="Apple-converted-space">            </span>if (Notification.permission === 'granted') {</p>
<p class="p1"><span class="Apple-converted-space">                </span>new Notification(title, {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>body: body,</p>
<p class="p1"><span class="Apple-converted-space">                    </span>icon: '/favicon.ico',</p>
<p class="p1"><span class="Apple-converted-space">                    </span>badge: '/favicon.ico'</p>
<p class="p1"><span class="Apple-converted-space">                </span>});</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>// インアプリ通知も表示</p>
<p class="p1"><span class="Apple-converted-space">            </span>showInAppNotification(title, body, type);</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// インアプリ通知</p>
<p class="p1"><span class="Apple-converted-space">        </span>function showInAppNotification(title, body, type = 'info') {</p>
<p class="p1"><span class="Apple-converted-space">            </span>const colors = {</p>
<p class="p1"><span class="Apple-converted-space">                </span>'info': 'bg-blue-500',</p>
<p class="p1"><span class="Apple-converted-space">                </span>'success': 'bg-green-500',</p>
<p class="p1"><span class="Apple-converted-space">                </span>'warning': 'bg-yellow-500',</p>
<p class="p1"><span class="Apple-converted-space">                </span>'error': 'bg-red-500'</p>
<p class="p1"><span class="Apple-converted-space">            </span>};</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>const notification = document.createElement('div');</p>
<p class="p1"><span class="Apple-converted-space">            </span>notification.className = `fixed top-20 right-4 ${colors[type]} text-white px-6 py-4 rounded-lg shadow-lg z-[60] animate-slide-in`;</p>
<p class="p1"><span class="Apple-converted-space">            </span>notification.innerHTML = `</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;div class="flex items-start gap-3"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="flex-1"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="font-semibold"&gt;${title}&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="text-sm opacity-90"&gt;${body}&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;button onclick="this.closest('div').remove()" class="hover:opacity-70"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"&gt;&lt;/path&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/svg&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>`;</p>
<p class="p1"><span class="Apple-converted-space">            </span>document.body.appendChild(notification);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>// 5秒後に自動で消去</p>
<p class="p1"><span class="Apple-converted-space">            </span>setTimeout(() =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                </span>if (notification.parentElement) {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>notification.classList.add('animate-slide-out');</p>
<p class="p1"><span class="Apple-converted-space">                    </span>setTimeout(() =&gt; notification.remove(), 300);</p>
<p class="p1"><span class="Apple-converted-space">                </span>}</p>
<p class="p1"><span class="Apple-converted-space">            </span>}, 5000);</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// アラートパネルの表示/非表示</p>
<p class="p1"><span class="Apple-converted-space">        </span>function toggleAlertPanel() {</p>
<p class="p1"><span class="Apple-converted-space">            </span>const panel = document.getElementById('alertPanel');</p>
<p class="p1"><span class="Apple-converted-space">            </span>if (panel.classList.contains('hidden')) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>panel.classList.remove('hidden');</p>
<p class="p1"><span class="Apple-converted-space">                </span>loadAlerts();</p>
<p class="p1"><span class="Apple-converted-space">                </span>updateTotalBadgeCount();</p>
<p class="p1"><span class="Apple-converted-space">            </span>} else {</p>
<p class="p1"><span class="Apple-converted-space">                </span>panel.classList.add('hidden');</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// 本部からの通知パネル切り替え</p>
<p class="p1"><span class="Apple-converted-space">        </span>function toggleNotificationPanel() {</p>
<p class="p1"><span class="Apple-converted-space">            </span>const panel = document.getElementById('notificationPanel');</p>
<p class="p1"><span class="Apple-converted-space">            </span>if (panel.classList.contains('hidden')) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>panel.classList.remove('hidden');</p>
<p class="p1"><span class="Apple-converted-space">                </span>loadNotifications();</p>
<p class="p1"><span class="Apple-converted-space">            </span>} else {</p>
<p class="p1"><span class="Apple-converted-space">                </span>panel.classList.add('hidden');</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// 本部からの通知を読み込む（今後実装）</p>
<p class="p1"><span class="Apple-converted-space">        </span>function loadNotifications() {</p>
<p class="p1"><span class="Apple-converted-space">            </span>// TODO: GASから本部通知を取得</p>
<p class="p1"><span class="Apple-converted-space">            </span>console.log('Loading notifications from headquarters...');</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// 加盟店ステータス更新</p>
<p class="p1"><span class="Apple-converted-space">        </span>// updateMerchantStatus関数は削除（ステータスは読み取り専用、スプレッドシートから動的取得）</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// バッジカウントを統合更新</p>
<p class="p1"><span class="Apple-converted-space">        </span>function updateTotalBadgeCount() {</p>
<p class="p1"><span class="Apple-converted-space">            </span>// 未割当案件数を取得</p>
<p class="p1"><span class="Apple-converted-space">            </span>const unassignedBadge = document.getElementById('unassignedBadge');</p>
<p class="p1"><span class="Apple-converted-space">            </span>const unassignedCount = unassignedBadge &amp;&amp; !unassignedBadge.classList.contains('hidden')</p>
<p class="p1"><span class="Apple-converted-space">                </span>? parseInt(unassignedBadge.textContent) || 0</p>
<p class="p1"><span class="Apple-converted-space">                </span>: 0;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>// アラート数を取得</p>
<p class="p1"><span class="Apple-converted-space">            </span>const alertItems = document.querySelectorAll('#todayAlerts .alert-item').length || 0;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>// 合計をベルマークに表示</p>
<p class="p1"><span class="Apple-converted-space">            </span>const totalCount = unassignedCount + alertItems;</p>
<p class="p1"><span class="Apple-converted-space">            </span>const alertCountBadge = document.getElementById('alertCount');</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>if (totalCount &gt; 0) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>alertCountBadge.textContent = totalCount;</p>
<p class="p1"><span class="Apple-converted-space">                </span>alertCountBadge.classList.remove('hidden');</p>
<p class="p1"><span class="Apple-converted-space">            </span>} else {</p>
<p class="p1"><span class="Apple-converted-space">                </span>alertCountBadge.classList.add('hidden');</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// アラート読み込み</p>
<p class="p1"><span class="Apple-converted-space">        </span>function loadAlerts() {</p>
<p class="p1"><span class="Apple-converted-space">            </span>const today = new Date();</p>
<p class="p1"><span class="Apple-converted-space">            </span>const tomorrow = new Date(today);</p>
<p class="p1"><span class="Apple-converted-space">            </span>tomorrow.setDate(tomorrow.getDate() + 1);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>// 今日のタスク</p>
<p class="p1"><span class="Apple-converted-space">            </span>const todayTasks = [</p>
<p class="p1"><span class="Apple-converted-space">                </span>{ time: '10:00', text: '田中様へ架電', type: 'call', caseId: 1 },</p>
<p class="p1"><span class="Apple-converted-space">                </span>{ time: '14:00', text: '佐藤様 現地調査', type: 'appointment', caseId: 2 },</p>
<p class="p1"><span class="Apple-converted-space">                </span>{ time: '16:00', text: '鈴木様 見積書提出期限', type: 'estimate', caseId: 3 }</p>
<p class="p1"><span class="Apple-converted-space">            </span>];</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>const todayTasksHtml = todayTasks.map(task =&gt; `</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;div class="flex items-center justify-between p-2 bg-red-50 rounded-lg hover:bg-red-100 cursor-pointer"</p>
<p class="p1"><span class="Apple-converted-space">                     </span>onclick="handleAlertClick(${task.caseId}, '${task.type}')"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="flex items-center gap-2"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;span class="text-xs font-medium text-red-600"&gt;${task.time}&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;span class="text-sm"&gt;${task.text}&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;svg class="w-4 h-4 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"&gt;&lt;/path&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/svg&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>`).join('');</p>
<p class="p1"><span class="Apple-converted-space">            </span>document.getElementById('todayTasks').innerHTML = todayTasksHtml || '&lt;div class="text-sm text-gray-500"&gt;タスクなし&lt;/div&gt;';</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>// 明日の予定</p>
<p class="p1"><span class="Apple-converted-space">            </span>const tomorrowTasks = [</p>
<p class="p1"><span class="Apple-converted-space">                </span>{ time: '11:00', text: '山田様 アポイント', type: 'appointment', caseId: 4 },</p>
<p class="p1"><span class="Apple-converted-space">                </span>{ time: '15:00', text: '高橋様 フォローアップ', type: 'followup', caseId: 5 }</p>
<p class="p1"><span class="Apple-converted-space">            </span>];</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>const tomorrowTasksHtml = tomorrowTasks.map(task =&gt; `</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;div class="flex items-center justify-between p-2 bg-yellow-50 rounded-lg hover:bg-yellow-100 cursor-pointer"</p>
<p class="p1"><span class="Apple-converted-space">                     </span>onclick="handleAlertClick(${task.caseId}, '${task.type}')"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="flex items-center gap-2"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;span class="text-xs font-medium text-yellow-600"&gt;${task.time}&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;span class="text-sm"&gt;${task.text}&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;svg class="w-4 h-4 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"&gt;&lt;/path&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/svg&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>`).join('');</p>
<p class="p1"><span class="Apple-converted-space">            </span>document.getElementById('tomorrowTasks').innerHTML = tomorrowTasksHtml || '&lt;div class="text-sm text-gray-500"&gt;予定なし&lt;/div&gt;';</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>// 自動アラート</p>
<p class="p1"><span class="Apple-converted-space">            </span>const autoAlerts = [</p>
<p class="p1"><span class="Apple-converted-space">                </span>{ text: '未対応案件3件あります', type: 'warning' },</p>
<p class="p1"><span class="Apple-converted-space">                </span>{ text: '見積提出後7日経過: 2件', type: 'info' },</p>
<p class="p1"><span class="Apple-converted-space">                </span>{ text: '入金予定日: 田中様', type: 'payment' }</p>
<p class="p1"><span class="Apple-converted-space">            </span>];</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>const autoAlertsHtml = autoAlerts.map(alert =&gt; `</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;div class="flex items-center justify-between p-2 bg-blue-50 rounded-lg"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;span class="text-sm"&gt;${alert.text}&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;button onclick="dismissAlert(this)" class="text-gray-400 hover:text-gray-600"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"&gt;&lt;/path&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/svg&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>`).join('');</p>
<p class="p1"><span class="Apple-converted-space">            </span>document.getElementById('autoAlerts').innerHTML = autoAlertsHtml || '&lt;div class="text-sm text-gray-500"&gt;アラートなし&lt;/div&gt;';</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// アラートクリック処理</p>
<p class="p1"><span class="Apple-converted-space">        </span>function handleAlertClick(caseId, type) {</p>
<p class="p1"><span class="Apple-converted-space">            </span>toggleAlertPanel();</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>if (type === 'call') {</p>
<p class="p1"><span class="Apple-converted-space">                </span>// 電話発信</p>
<p class="p1"><span class="Apple-converted-space">                </span>const caseData = casesData.find(c =&gt; c.id === caseId);</p>
<p class="p1"><span class="Apple-converted-space">                </span>if (caseData &amp;&amp; caseData.phone) {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>callCustomer(caseData.phone);</p>
<p class="p1"><span class="Apple-converted-space">                </span>}</p>
<p class="p1"><span class="Apple-converted-space">            </span>} else if (type === 'appointment' || type === 'estimate') {</p>
<p class="p1"><span class="Apple-converted-space">                </span>// 案件詳細を表示</p>
<p class="p1"><span class="Apple-converted-space">                </span>showSection('cases');</p>
<p class="p1"><span class="Apple-converted-space">                </span>setTimeout(() =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>const caseCard = document.querySelector(`[data-case-id="${caseId}"]`);</p>
<p class="p1"><span class="Apple-converted-space">                    </span>if (caseCard) {</p>
<p class="p1"><span class="Apple-converted-space">                        </span>caseCard.scrollIntoView({ behavior: 'smooth', block: 'center' });</p>
<p class="p1"><span class="Apple-converted-space">                        </span>caseCard.classList.add('ring-2', 'ring-yellow-400');</p>
<p class="p1"><span class="Apple-converted-space">                        </span>setTimeout(() =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                            </span>caseCard.classList.remove('ring-2', 'ring-yellow-400');</p>
<p class="p1"><span class="Apple-converted-space">                        </span>}, 3000);</p>
<p class="p1"><span class="Apple-converted-space">                    </span>}</p>
<p class="p1"><span class="Apple-converted-space">                </span>}, 100);</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// アラート消去</p>
<p class="p1"><span class="Apple-converted-space">        </span>function dismissAlert(button) {</p>
<p class="p1"><span class="Apple-converted-space">            </span>button.closest('div').remove();</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// アラート設定更新（設定メニューとアラートパネルの同期）</p>
<p class="p1"><span class="Apple-converted-space">        </span>function updateAlertSetting(settingName, enabled) {</p>
<p class="p1"><span class="Apple-converted-space">            </span>// localStorage に保存</p>
<p class="p1"><span class="Apple-converted-space">            </span>let alertSettings = JSON.parse(localStorage.getItem('alertSettings') || '{}');</p>
<p class="p1"><span class="Apple-converted-space">            </span>alertSettings[settingName] = enabled;</p>
<p class="p1"><span class="Apple-converted-space">            </span>localStorage.setItem('alertSettings', JSON.stringify(alertSettings));</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>// 対応する設定メニューのチェックボックスを同期</p>
<p class="p1"><span class="Apple-converted-space">            </span>const idMap = {</p>
<p class="p1"><span class="Apple-converted-space">                </span>'appointment_reminder': 'appointmentReminder',</p>
<p class="p1"><span class="Apple-converted-space">                </span>'call_reminder': 'callReminder',</p>
<p class="p1"><span class="Apple-converted-space">                </span>'estimate_followup': 'estimateFollowup',</p>
<p class="p1"><span class="Apple-converted-space">                </span>'payment_alert': 'paymentAlert'</p>
<p class="p1"><span class="Apple-converted-space">            </span>};</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>const checkboxId = idMap[settingName];</p>
<p class="p1"><span class="Apple-converted-space">            </span>if (checkboxId) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>const checkbox = document.getElementById(checkboxId);</p>
<p class="p1"><span class="Apple-converted-space">                </span>if (checkbox &amp;&amp; checkbox.checked !== enabled) {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>checkbox.checked = enabled;</p>
<p class="p1"><span class="Apple-converted-space">                </span>}</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// カレンダーの自動同期（案件データから自動的にカレンダーイベントを生成）</p>
<p class="p1"><span class="Apple-converted-space">        </span>function autoSyncToCalendar() {</p>
<p class="p1"><span class="Apple-converted-space">            </span>// 既存の案件由来イベントをクリア</p>
<p class="p1"><span class="Apple-converted-space">            </span>calendarEvents = calendarEvents.filter(event =&gt; !event.fromCase);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>// 全案件からネクストステップを取得してカレンダーに追加</p>
<p class="p1"><span class="Apple-converted-space">            </span>const allCases = getCasesData();</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>allCases.forEach(caseItem =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                </span>// ネクストステップがある場合</p>
<p class="p1"><span class="Apple-converted-space">                </span>if (caseItem.nextAction) {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>const today = new Date();</p>
<p class="p1"><span class="Apple-converted-space">                    </span>const eventDate = new Date(today.getFullYear(), today.getMonth(), today.getDate() + Math.floor(Math.random() * 7));</p>
<p class="p1"><span class="Apple-converted-space">                    </span>const eventTitle = `${caseItem.nextAction}: ${caseItem.customer}様`;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                    </span>// イベントタイプを判定</p>
<p class="p1"><span class="Apple-converted-space">                    </span>let eventType = 'todo';</p>
<p class="p1"><span class="Apple-converted-space">                    </span>let eventColor = '#6b7280';</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                    </span>if (caseItem.nextAction.includes('現調') || caseItem.nextAction.includes('アポ')) {</p>
<p class="p1"><span class="Apple-converted-space">                        </span>eventType = 'meeting';</p>
<p class="p1"><span class="Apple-converted-space">                        </span>eventColor = '#3b82f6';</p>
<p class="p1"><span class="Apple-converted-space">                    </span>} else if (caseItem.nextAction.includes('架電') || caseItem.nextAction.includes('電話')) {</p>
<p class="p1"><span class="Apple-converted-space">                        </span>eventType = 'call';</p>
<p class="p1"><span class="Apple-converted-space">                        </span>eventColor = '#10b981';</p>
<p class="p1"><span class="Apple-converted-space">                    </span>} else if (caseItem.nextAction.includes('見積')) {</p>
<p class="p1"><span class="Apple-converted-space">                        </span>eventType = 'estimate';</p>
<p class="p1"><span class="Apple-converted-space">                        </span>eventColor = '#f59e0b';</p>
<p class="p1"><span class="Apple-converted-space">                    </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                    </span>calendarEvents.push({</p>
<p class="p1"><span class="Apple-converted-space">                        </span>id: `case-${caseItem.id}`,</p>
<p class="p1"><span class="Apple-converted-space">                        </span>title: eventTitle,</p>
<p class="p1"><span class="Apple-converted-space">                        </span>date: eventDate.toISOString().split('T')[0],</p>
<p class="p1"><span class="Apple-converted-space">                        </span>time: '10:00',</p>
<p class="p1"><span class="Apple-converted-space">                        </span>type: eventType,</p>
<p class="p1"><span class="Apple-converted-space">                        </span>color: eventColor,</p>
<p class="p1"><span class="Apple-converted-space">                        </span>fromCase: true,<span class="Apple-converted-space">  </span>// 案件由来のイベントマーク</p>
<p class="p1"><span class="Apple-converted-space">                        </span>caseId: caseItem.id</p>
<p class="p1"><span class="Apple-converted-space">                    </span>});</p>
<p class="p1"><span class="Apple-converted-space">                </span>}</p>
<p class="p1"><span class="Apple-converted-space">            </span>});</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>// カレンダーを再描画</p>
<p class="p1"><span class="Apple-converted-space">            </span>if (typeof renderCalendar !== 'undefined') {</p>
<p class="p1"><span class="Apple-converted-space">                </span>renderCalendar();</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p1"><span class="Apple-converted-space">            </span>if (typeof renderMiniCalendar !== 'undefined') {</p>
<p class="p1"><span class="Apple-converted-space">                </span>renderMiniCalendar();</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// 案件データ更新時に自動的にカレンダーを同期</p>
<p class="p1"><span class="Apple-converted-space">        </span>function onCaseUpdate() {</p>
<p class="p1"><span class="Apple-converted-space">            </span>autoSyncToCalendar();</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// Googleカレンダー同期（将来的に実装）</p>
<p class="p1"><span class="Apple-converted-space">        </span>function syncWithGoogleCalendar() {</p>
<p class="p1"><span class="Apple-converted-space">            </span>// Google Calendar APIを使用した同期</p>
<p class="p1"><span class="Apple-converted-space">            </span>showNotification('機能開発中', 'Googleカレンダー同期は次回アップデートで提供予定', 'info');</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// ステータス変更時の自動アラート設定</p>
<p class="p1"><span class="Apple-converted-space">        </span>function scheduleStatusAlert(caseId, newStatus) {</p>
<p class="p1"><span class="Apple-converted-space">            </span>const alertTiming = {</p>
<p class="p1"><span class="Apple-converted-space">                </span>'アポ済': { delay: 86400000, message: '明日の現地調査予定' }, // 1日前</p>
<p class="p1"><span class="Apple-converted-space">                </span>'現調済': { delay: 3600000, message: '見積書作成を開始' }, // 1時間後</p>
<p class="p1"><span class="Apple-converted-space">                </span>'見積提出済': { delay: 604800000, message: 'フォローアップが必要' }, // 7日後</p>
<p class="p1"><span class="Apple-converted-space">                </span>'入金予定': { delay: 86400000, message: '入金確認をお願いします' } // 1日後</p>
<p class="p1"><span class="Apple-converted-space">            </span>};</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>if (alertTiming[newStatus]) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>const alert = alertTiming[newStatus];</p>
<p class="p1"><span class="Apple-converted-space">                </span>setTimeout(() =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>showNotification('リマインダー', alert.message, 'warning');</p>
<p class="p1"><span class="Apple-converted-space">                    </span>// アラートカウントを増やす</p>
<p class="p1"><span class="Apple-converted-space">                    </span>const countBadge = document.getElementById('alertCount');</p>
<p class="p1"><span class="Apple-converted-space">                    </span>const currentCount = parseInt(countBadge.textContent) || 0;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>countBadge.textContent = currentCount + 1;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>countBadge.classList.remove('hidden');</p>
<p class="p1"><span class="Apple-converted-space">                </span>}, alert.delay);</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// メニュートグル</p>
<p class="p1"><span class="Apple-converted-space">        </span>window.toggleMenu = function() {</p>
<p class="p1"><span class="Apple-converted-space">            </span>const sideMenu = document.getElementById('sideMenu');</p>
<p class="p1"><span class="Apple-converted-space">            </span>const isOpen = !sideMenu.classList.contains('-translate-x-full');</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>if (isOpen) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>// メニューを閉じる</p>
<p class="p1"><span class="Apple-converted-space">                </span>sideMenu.classList.add('-translate-x-full');</p>
<p class="p1"><span class="Apple-converted-space">                </span>document.removeEventListener('click', handleOutsideClick);</p>
<p class="p1"><span class="Apple-converted-space">            </span>} else {</p>
<p class="p1"><span class="Apple-converted-space">                </span>// メニューを開く</p>
<p class="p1"><span class="Apple-converted-space">                </span>sideMenu.classList.remove('-translate-x-full');</p>
<p class="p1"><span class="Apple-converted-space">                </span>// 次のフレームでイベントリスナーを追加（toggleMenuのクリックを無視するため）</p>
<p class="p1"><span class="Apple-converted-space">                </span>setTimeout(() =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>document.addEventListener('click', handleOutsideClick);</p>
<p class="p1"><span class="Apple-converted-space">                </span>}, 0);</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// メニュー外クリックでメニューを閉じる</p>
<p class="p1"><span class="Apple-converted-space">        </span>function handleOutsideClick(event) {</p>
<p class="p1"><span class="Apple-converted-space">            </span>const sideMenu = document.getElementById('sideMenu');</p>
<p class="p1"><span class="Apple-converted-space">            </span>const menuButton = event.target.closest('button[onclick*="toggleMenu"]');</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>// メニューボタンをクリックした場合は無視</p>
<p class="p1"><span class="Apple-converted-space">            </span>if (menuButton) return;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>// メニュー内をクリックした場合は無視</p>
<p class="p1"><span class="Apple-converted-space">            </span>if (sideMenu.contains(event.target)) return;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>// メニュー外をクリックした場合は閉じる</p>
<p class="p1"><span class="Apple-converted-space">            </span>sideMenu.classList.add('-translate-x-full');</p>
<p class="p1"><span class="Apple-converted-space">            </span>document.removeEventListener('click', handleOutsideClick);</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><span class="Apple-converted-space">        </span></p>
<p class="p1"><span class="Apple-converted-space">        </span>// アクティブメニューの更新</p>
<p class="p1"><span class="Apple-converted-space">        </span>window.updateActiveMenu = function(sectionName) {</p>
<p class="p1"><span class="Apple-converted-space">            </span>// すべてのメニューアイテムからアクティブスタイルを削除</p>
<p class="p1"><span class="Apple-converted-space">            </span>document.querySelectorAll('#sideMenu a').forEach(link =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                </span>link.classList.remove('bg-gradient-to-r', 'from-blue-600', 'to-blue-500', 'text-gray-100');</p>
<p class="p1"><span class="Apple-converted-space">                </span>link.classList.add('text-gray-400', 'hover:bg-gray-800', 'hover:text-gray-100');</p>
<p class="p1"><span class="Apple-converted-space">            </span>});</p>
<p class="p2"><span class="Apple-converted-space">            </span></p>
<p class="p1"><span class="Apple-converted-space">            </span>// 対応するメニューアイテムにアクティブスタイルを追加</p>
<p class="p1"><span class="Apple-converted-space">            </span>const activeLink = document.querySelector(`#sideMenu a[onclick*="showSection('${sectionName}')"]`);</p>
<p class="p1"><span class="Apple-converted-space">            </span>if (activeLink) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>activeLink.classList.remove('text-gray-400', 'hover:bg-gray-800', 'hover:text-gray-100');</p>
<p class="p1"><span class="Apple-converted-space">                </span>activeLink.classList.add('bg-gradient-to-r', 'from-blue-600', 'to-blue-500', 'text-gray-100');</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><span class="Apple-converted-space">        </span></p>
<p class="p1"><span class="Apple-converted-space">        </span>// セクション切り替え</p>
<p class="p1"><span class="Apple-converted-space">        </span>// 自動配信設定の変更検知用フラグ</p>
<p class="p1"><span class="Apple-converted-space">        </span>let autodeliverySettingsChanged = false;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// 自動配信設定の変更を検知</p>
<p class="p1"><span class="Apple-converted-space">        </span>function markAutodeliveryChanged() {</p>
<p class="p1"><span class="Apple-converted-space">            </span>autodeliverySettingsChanged = true;</p>
<p class="p1"><span class="Apple-converted-space">            </span>console.log('[Autodelivery] Settings changed, not saved yet');</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// 自動配信設定の変更をリセット</p>
<p class="p1"><span class="Apple-converted-space">        </span>function resetAutodeliveryChanged() {</p>
<p class="p1"><span class="Apple-converted-space">            </span>autodeliverySettingsChanged = false;</p>
<p class="p1"><span class="Apple-converted-space">            </span>console.log('[Autodelivery] Settings saved, change flag reset');</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>window.showSection = function(sectionName) {</p>
<p class="p1"><span class="Apple-converted-space">            </span>// 自動配信設定セクションから他のセクションに移動する場合、未保存チェック</p>
<p class="p1"><span class="Apple-converted-space">            </span>const currentSection = document.querySelector('.section[style*="display: block"]');</p>
<p class="p1"><span class="Apple-converted-space">            </span>if (currentSection &amp;&amp; currentSection.id === 'autodeliverySection' &amp;&amp; sectionName !== 'autodelivery') {</p>
<p class="p1"><span class="Apple-converted-space">                </span>if (autodeliverySettingsChanged) {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>if (!confirm('自動配信設定に保存されていない変更があります。\n\n保存せずに移動しますか？')) {</p>
<p class="p1"><span class="Apple-converted-space">                        </span>return; // 移動をキャンセル</p>
<p class="p1"><span class="Apple-converted-space">                    </span>}</p>
<p class="p1"><span class="Apple-converted-space">                    </span>// 移動を許可した場合、フラグをリセット</p>
<p class="p1"><span class="Apple-converted-space">                    </span>autodeliverySettingsChanged = false;</p>
<p class="p1"><span class="Apple-converted-space">                </span>}</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>// すべてのセクションを非表示</p>
<p class="p1"><span class="Apple-converted-space">            </span>document.querySelectorAll('.section').forEach(section =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                </span>section.style.display = 'none';</p>
<p class="p1"><span class="Apple-converted-space">            </span>});</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>// 選択されたセクションを表示</p>
<p class="p1"><span class="Apple-converted-space">            </span>const targetSection = document.getElementById(sectionName + 'Section');</p>
<p class="p1"><span class="Apple-converted-space">            </span>if (targetSection) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>targetSection.style.display = 'block';</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>// メニューのアクティブ状態を更新</p>
<p class="p1"><span class="Apple-converted-space">                </span>updateActiveMenu(sectionName);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>// カレンダーセクションの場合は初期化</p>
<p class="p1"><span class="Apple-converted-space">                </span>if (sectionName === 'calendar') {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>setTimeout(() =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                        </span>renderCalendar();</p>
<p class="p1"><span class="Apple-converted-space">                        </span>renderMiniCalendar();</p>
<p class="p1"><span class="Apple-converted-space">                    </span>}, 10);</p>
<p class="p1"><span class="Apple-converted-space">                </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>// 会社情報セクションの場合、加盟店データを読み込み</p>
<p class="p1"><span class="Apple-converted-space">                </span>if (sectionName === 'company') {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>console.log('==== COMPANY SECTION OPENED ====');</p>
<p class="p1"><span class="Apple-converted-space">                    </span>if (window.merchantId) {</p>
<p class="p1"><span class="Apple-converted-space">                        </span>console.log('Loading merchant data for:', window.merchantId);</p>
<p class="p1"><span class="Apple-converted-space">                        </span>setTimeout(() =&gt; loadMerchantData(window.merchantId), 100);</p>
<p class="p1"><span class="Apple-converted-space">                    </span>} else {</p>
<p class="p1"><span class="Apple-converted-space">                        </span>console.log('No merchantId available for data loading');</p>
<p class="p1"><span class="Apple-converted-space">                    </span>}</p>
<p class="p1"><span class="Apple-converted-space">                </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>// 自動配信設定セクションの場合、加盟店データを読み込み</p>
<p class="p1"><span class="Apple-converted-space">                </span>if (sectionName === 'autodelivery') {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>console.log('==== AUTODELIVERY SECTION OPENED ====');</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                    </span>// merchantIdの取得を試みる（複数のソースから）</p>
<p class="p1"><span class="Apple-converted-space">                    </span>const merchantId = window.merchantId || sessionStorage.getItem('currentUser');</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                    </span>if (merchantId) {</p>
<p class="p1"><span class="Apple-converted-space">                        </span>console.log('Loading merchant data for autodelivery:', merchantId);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                        </span>// merchantDataが既にあればそれを使用、なければ再取得</p>
<p class="p1"><span class="Apple-converted-space">                        </span>if (window.merchantData) {</p>
<p class="p1"><span class="Apple-converted-space">                            </span>console.log('Using existing merchantData');</p>
<p class="p1"><span class="Apple-converted-space">                            </span>loadAutodeliverySettings(window.merchantData);</p>
<p class="p1"><span class="Apple-converted-space">                        </span>} else {</p>
<p class="p1"><span class="Apple-converted-space">                            </span>console.log('Fetching fresh merchantData');</p>
<p class="p1"><span class="Apple-converted-space">                            </span>// 直接データを再取得</p>
<p class="p1"><span class="Apple-converted-space">                            </span>fetchMerchantDataForAutodelivery(merchantId);</p>
<p class="p1"><span class="Apple-converted-space">                        </span>}</p>
<p class="p1"><span class="Apple-converted-space">                    </span>} else {</p>
<p class="p1"><span class="Apple-converted-space">                        </span>console.log('No merchantId available for autodelivery');</p>
<p class="p1"><span class="Apple-converted-space">                        </span>console.log('Trying to get from sessionStorage...');</p>
<p class="p1"><span class="Apple-converted-space">                        </span>const savedUser = sessionStorage.getItem('currentUser');</p>
<p class="p1"><span class="Apple-converted-space">                        </span>if (savedUser) {</p>
<p class="p1"><span class="Apple-converted-space">                            </span>window.merchantId = savedUser;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>fetchMerchantDataForAutodelivery(savedUser);</p>
<p class="p1"><span class="Apple-converted-space">                        </span>}</p>
<p class="p1"><span class="Apple-converted-space">                    </span>}</p>
<p class="p1"><span class="Apple-converted-space">                </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>// 会社情報セクションの場合は支店マップを更新</p>
<p class="p1"><span class="Apple-converted-space">                </span>if (sectionName === 'company') {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>setTimeout(() =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                        </span>updateBranchMaps();</p>
<p class="p1"><span class="Apple-converted-space">                        </span>loadGoogleMap();</p>
<p class="p1"><span class="Apple-converted-space">                    </span>}, 100);</p>
<p class="p1"><span class="Apple-converted-space">                </span>}</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>// メニューを閉じる</p>
<p class="p1"><span class="Apple-converted-space">            </span>document.getElementById('sideMenu').classList.add('-translate-x-full');</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// 権限モーダル</p>
<p class="p1"><span class="Apple-converted-space">        </span>function openPermissionModal(name = null, isNew = true) {</p>
<p class="p1"><span class="Apple-converted-space">            </span>const modal = document.getElementById('permissionModal');</p>
<p class="p1"><span class="Apple-converted-space">            </span>const modalTitle = document.getElementById('modalTitle');</p>
<p class="p1"><span class="Apple-converted-space">            </span>const newSalesFields = document.getElementById('newSalesFields');</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>if (isNew) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>// 新規追加モード</p>
<p class="p1"><span class="Apple-converted-space">                </span>modalTitle.textContent = '新規営業担当者追加';</p>
<p class="p1"><span class="Apple-converted-space">                </span>newSalesFields.classList.remove('hidden');</p>
<p class="p1"><span class="Apple-converted-space">                </span>// フォームをクリア</p>
<p class="p1"><span class="Apple-converted-space">                </span>document.getElementById('newSalesName').value = '';</p>
<p class="p1"><span class="Apple-converted-space">                </span>document.getElementById('newSalesEmail').value = '';</p>
<p class="p1"><span class="Apple-converted-space">                </span>document.getElementById('newSalesPhone').value = '';</p>
<p class="p1"><span class="Apple-converted-space">                </span>document.getElementById('newSalesRole').value = '一般営業';</p>
<p class="p1"><span class="Apple-converted-space">                </span>// 全権限チェックボックスをクリア</p>
<p class="p1"><span class="Apple-converted-space">                </span>document.querySelectorAll('.permission-checkbox').forEach(cb =&gt; cb.checked = false);</p>
<p class="p1"><span class="Apple-converted-space">            </span>} else {</p>
<p class="p1"><span class="Apple-converted-space">                </span>// 編集モード</p>
<p class="p1"><span class="Apple-converted-space">                </span>modalTitle.textContent = `${name}の権限設定`;</p>
<p class="p1"><span class="Apple-converted-space">                </span>newSalesFields.classList.add('hidden');</p>
<p class="p1"><span class="Apple-converted-space">                </span>// 既存の権限を読み込む（デモ用にランダムに設定）</p>
<p class="p1"><span class="Apple-converted-space">                </span>loadExistingPermissions(name);</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>modal.classList.remove('hidden');</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>function closePermissionModal() {</p>
<p class="p1"><span class="Apple-converted-space">            </span>document.getElementById('permissionModal').classList.add('hidden');</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>function editPermissions(name) {</p>
<p class="p1"><span class="Apple-converted-space">            </span>openPermissionModal(name, false);</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// 既存の権限を読み込む</p>
<p class="p1"><span class="Apple-converted-space">        </span>function loadExistingPermissions(name) {</p>
<p class="p1"><span class="Apple-converted-space">            </span>// デモ用：ランダムに権限を設定</p>
<p class="p1"><span class="Apple-converted-space">            </span>document.querySelectorAll('.permission-checkbox').forEach(cb =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                </span>cb.checked = Math.random() &gt; 0.5;</p>
<p class="p1"><span class="Apple-converted-space">            </span>});</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// 営業担当者削除確認</p>
<p class="p1"><span class="Apple-converted-space">        </span>function confirmDeleteSales(name) {</p>
<p class="p1"><span class="Apple-converted-space">            </span>// 削除確認モーダルを作成</p>
<p class="p1"><span class="Apple-converted-space">            </span>const modal = document.createElement('div');</p>
<p class="p1"><span class="Apple-converted-space">            </span>modal.className = 'fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50';</p>
<p class="p1"><span class="Apple-converted-space">            </span>modal.id = 'deleteConfirmModal';</p>
<p class="p1"><span class="Apple-converted-space">            </span>modal.innerHTML = `</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;div class="bg-white rounded-lg p-6 w-full max-w-md"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="flex items-center mb-4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;svg class="w-6 h-6 text-red-600 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"&gt;&lt;/path&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/svg&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;h3 class="text-lg font-bold text-gray-900"&gt;営業担当者の削除確認&lt;/h3&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;p class="text-gray-600 mb-4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;span class="font-semibold"&gt;${name}&lt;/span&gt;さんを削除してもよろしいですか？</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="bg-yellow-50 border border-yellow-300 rounded-lg p-3 mb-4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;p class="text-sm text-yellow-800"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;strong&gt;注意：&lt;/strong&gt;この操作は取り消せません。&lt;br&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>削除すると以下の情報が失われます：</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;ul class="mt-2 text-sm text-yellow-700 list-disc list-inside"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;li&gt;営業担当者の基本情報&lt;/li&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;li&gt;権限設定&lt;/li&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;li&gt;過去の活動履歴&lt;/li&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;li&gt;担当案件の割り当て（再割り当てが必要）&lt;/li&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/ul&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="flex items-center mb-4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;input type="checkbox" id="reassignCases" class="rounded mr-2"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;label for="reassignCases" class="text-sm text-gray-700"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>担当案件を他の営業に引き継ぐ</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div id="reassignSection" class="hidden mb-4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;label class="block text-sm font-medium text-gray-700 mb-1"&gt;引き継ぎ先&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;select id="reassignTo" class="w-full px-3 py-2 border rounded-lg"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;option value=""&gt;選択してください&lt;/option&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;option value="田中太郎"&gt;田中太郎（リーダー）&lt;/option&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;option value="佐藤花子"&gt;佐藤花子（一般営業）&lt;/option&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;option value="鈴木次郎"&gt;鈴木次郎（新人営業）&lt;/option&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/select&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="flex justify-end space-x-3"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;button onclick="closeDeleteModal()" class="px-4 py-2 bg-gray-200 text-gray-800 rounded-lg hover:bg-gray-300"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>キャンセル</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;button onclick="deleteSales('${name}')" class="px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>削除する</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>`;</p>
<p class="p1"><span class="Apple-converted-space">            </span>document.body.appendChild(modal);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>// 引き継ぎチェックボックスのイベント</p>
<p class="p1"><span class="Apple-converted-space">            </span>document.getElementById('reassignCases').addEventListener('change', function(e) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>const reassignSection = document.getElementById('reassignSection');</p>
<p class="p1"><span class="Apple-converted-space">                </span>if (e.target.checked) {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>reassignSection.classList.remove('hidden');</p>
<p class="p1"><span class="Apple-converted-space">                </span>} else {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>reassignSection.classList.add('hidden');</p>
<p class="p1"><span class="Apple-converted-space">                </span>}</p>
<p class="p1"><span class="Apple-converted-space">            </span>});</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>// 削除対象を選択肢から除外</p>
<p class="p1"><span class="Apple-converted-space">            </span>const reassignSelect = document.getElementById('reassignTo');</p>
<p class="p1"><span class="Apple-converted-space">            </span>Array.from(reassignSelect.options).forEach(option =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                </span>if (option.value === name) {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>option.remove();</p>
<p class="p1"><span class="Apple-converted-space">                </span>}</p>
<p class="p1"><span class="Apple-converted-space">            </span>});</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// 削除モーダルを閉じる</p>
<p class="p1"><span class="Apple-converted-space">        </span>function closeDeleteModal() {</p>
<p class="p1"><span class="Apple-converted-space">            </span>const modal = document.getElementById('deleteConfirmModal');</p>
<p class="p1"><span class="Apple-converted-space">            </span>if (modal) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>modal.remove();</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// 営業担当者を削除</p>
<p class="p1"><span class="Apple-converted-space">        </span>function deleteSales(name) {</p>
<p class="p1"><span class="Apple-converted-space">            </span>const reassignCases = document.getElementById('reassignCases').checked;</p>
<p class="p1"><span class="Apple-converted-space">            </span>const reassignTo = document.getElementById('reassignTo').value;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>if (reassignCases &amp;&amp; !reassignTo) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>alert('引き継ぎ先を選択してください');</p>
<p class="p1"><span class="Apple-converted-space">                </span>return;</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>// 削除処理（実際にはAPIを呼ぶ）</p>
<p class="p1"><span class="Apple-converted-space">            </span>if (reassignCases) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>showNotification('削除完了', `${name}さんを削除し、案件を${reassignTo}さんに引き継ぎました`);</p>
<p class="p1"><span class="Apple-converted-space">            </span>} else {</p>
<p class="p1"><span class="Apple-converted-space">                </span>showNotification('削除完了', `${name}さんを削除しました`);</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>// モーダルを閉じる</p>
<p class="p1"><span class="Apple-converted-space">            </span>closeDeleteModal();</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>// テーブルから行を削除（デモ用）</p>
<p class="p1"><span class="Apple-converted-space">            </span>const rows = document.querySelectorAll('#salesSection tbody tr');</p>
<p class="p1"><span class="Apple-converted-space">            </span>rows.forEach(row =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                </span>if (row.textContent.includes(name)) {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>row.style.transition = 'opacity 0.3s';</p>
<p class="p1"><span class="Apple-converted-space">                    </span>row.style.opacity = '0';</p>
<p class="p1"><span class="Apple-converted-space">                    </span>setTimeout(() =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                        </span>row.remove();</p>
<p class="p1"><span class="Apple-converted-space">                    </span>}, 300);</p>
<p class="p1"><span class="Apple-converted-space">                </span>}</p>
<p class="p1"><span class="Apple-converted-space">            </span>});</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// 権限プリセット設定</p>
<p class="p1"><span class="Apple-converted-space">        </span>function setPreset(preset) {</p>
<p class="p1"><span class="Apple-converted-space">            </span>const presets = {</p>
<p class="p1"><span class="Apple-converted-space">                </span>office: ['case.cancel', 'case.contract', 'automail.view', 'report.self', 'company.view'],</p>
<p class="p1"><span class="Apple-converted-space">                </span>standard: ['case.cancel', 'case.contract', 'automail.view', 'report.self', 'company.view'],</p>
<p class="p1"><span class="Apple-converted-space">                </span>leader: ['case.view.all', 'case.edit', 'case.hide', 'case.delete', 'case.cancel', 'case.contract', 'finance.view', 'automail.view', 'automail.edit', 'report.self', 'report.all', 'report.export', 'company.view'],</p>
<p class="p1"><span class="Apple-converted-space">                </span>admin: ['case.view.all', 'case.edit', 'case.hide', 'case.delete', 'case.cancel', 'case.contract', 'automail.view', 'automail.edit', 'finance.view', 'finance.export', 'report.self', 'report.all', 'report.export', 'sales.manage', 'company.view', 'company.edit']</p>
<p class="p1"><span class="Apple-converted-space">            </span>};</p>
<p class="p2"><span class="Apple-converted-space">            </span></p>
<p class="p1"><span class="Apple-converted-space">            </span>// すべてのチェックボックスをクリア</p>
<p class="p1"><span class="Apple-converted-space">            </span>document.querySelectorAll('.permission-checkbox').forEach(cb =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                </span>cb.checked = false;</p>
<p class="p1"><span class="Apple-converted-space">            </span>});</p>
<p class="p2"><span class="Apple-converted-space">            </span></p>
<p class="p1"><span class="Apple-converted-space">            </span>// プリセットに基づいてチェック</p>
<p class="p1"><span class="Apple-converted-space">            </span>if (presets[preset]) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>presets[preset].forEach(permission =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>const checkbox = document.querySelector(`[data-permission="${permission}"]`);</p>
<p class="p1"><span class="Apple-converted-space">                    </span>if (checkbox) checkbox.checked = true;</p>
<p class="p1"><span class="Apple-converted-space">                </span>});</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p2"><span class="Apple-converted-space">            </span></p>
<p class="p1"><span class="Apple-converted-space">            </span>// ボタンのアクティブ状態を更新</p>
<p class="p1"><span class="Apple-converted-space">            </span>document.querySelectorAll('.preset-btn').forEach(btn =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                </span>btn.classList.remove('bg-blue-600', 'text-white');</p>
<p class="p1"><span class="Apple-converted-space">            </span>});</p>
<p class="p1"><span class="Apple-converted-space">            </span>event.target.classList.add('bg-blue-600', 'text-white');</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>function savePermissions() {</p>
<p class="p1"><span class="Apple-converted-space">            </span>const modalTitle = document.getElementById('modalTitle').textContent;</p>
<p class="p1"><span class="Apple-converted-space">            </span>const isNewSales = modalTitle.includes('新規');</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>if (isNewSales) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>// 新規追加の場合</p>
<p class="p1"><span class="Apple-converted-space">                </span>const name = document.getElementById('newSalesName').value;</p>
<p class="p1"><span class="Apple-converted-space">                </span>const email = document.getElementById('newSalesEmail').value;</p>
<p class="p1"><span class="Apple-converted-space">                </span>const phone = document.getElementById('newSalesPhone').value;</p>
<p class="p1"><span class="Apple-converted-space">                </span>const role = document.getElementById('newSalesRole').value;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>// バリデーション</p>
<p class="p1"><span class="Apple-converted-space">                </span>if (!name || !email) {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>alert('氏名とメールアドレスは必須項目です');</p>
<p class="p1"><span class="Apple-converted-space">                    </span>return;</p>
<p class="p1"><span class="Apple-converted-space">                </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>// テーブルに新しい行を追加</p>
<p class="p1"><span class="Apple-converted-space">                </span>addSalesPersonToTable(name, role, email, phone);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>showNotification('追加完了', `${name}さんを営業担当者として追加しました`);</p>
<p class="p1"><span class="Apple-converted-space">            </span>} else {</p>
<p class="p1"><span class="Apple-converted-space">                </span>// 編集の場合</p>
<p class="p1"><span class="Apple-converted-space">                </span>showNotification('更新完了', '権限設定を更新しました');</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>closePermissionModal();</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// テーブルに営業担当者を追加</p>
<p class="p1"><span class="Apple-converted-space">        </span>function addSalesPersonToTable(name, role, email, phone) {</p>
<p class="p1"><span class="Apple-converted-space">            </span>const tbody = document.querySelector('#salesSection tbody');</p>
<p class="p1"><span class="Apple-converted-space">            </span>const newRow = document.createElement('tr');</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>// ロールに応じた色を設定</p>
<p class="p1"><span class="Apple-converted-space">            </span>let roleColor = 'green';</p>
<p class="p1"><span class="Apple-converted-space">            </span>let statsDisplay = ['0', '0%'];</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>if (role === 'リーダー') {</p>
<p class="p1"><span class="Apple-converted-space">                </span>roleColor = 'purple';</p>
<p class="p1"><span class="Apple-converted-space">            </span>} else if (role === '一般営業') {</p>
<p class="p1"><span class="Apple-converted-space">                </span>roleColor = 'blue';</p>
<p class="p1"><span class="Apple-converted-space">            </span>} else if (role === '一般事務') {</p>
<p class="p1"><span class="Apple-converted-space">                </span>roleColor = 'green';</p>
<p class="p1"><span class="Apple-converted-space">                </span>statsDisplay = ['-', '-'];<span class="Apple-converted-space">  </span>// 事務は成約数・成約率なし</p>
<p class="p1"><span class="Apple-converted-space">            </span>} else if (role === '現場監督') {</p>
<p class="p1"><span class="Apple-converted-space">                </span>roleColor = 'yellow';</p>
<p class="p1"><span class="Apple-converted-space">                </span>statsDisplay = ['-', '-'];<span class="Apple-converted-space">  </span>// 現場監督も成約数・成約率なし</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>newRow.innerHTML = `</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900"&gt;${name}&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;td class="px-6 py-4 whitespace-nowrap"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-${roleColor}-100 text-${roleColor}-800"&gt;${role}&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500"&gt;${statsDisplay[0]}&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500"&gt;${statsDisplay[1]}&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;td class="px-6 py-4 whitespace-nowrap text-sm"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;button onclick="editPermissions('${name}')" class="text-blue-600 hover:text-blue-900 mr-3"&gt;権限編集&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;button onclick="confirmDeleteSales('${name}')" class="text-red-600 hover:text-red-900"&gt;削除&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>`;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>tbody.appendChild(newRow);</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// ログアウト</p>
<p class="p1"><span class="Apple-converted-space">        </span>window.logout = function() {</p>
<p class="p1"><span class="Apple-converted-space">            </span>// 両方のストレージをクリア</p>
<p class="p1"><span class="Apple-converted-space">            </span>localStorage.removeItem('franchiseUser');</p>
<p class="p1"><span class="Apple-converted-space">            </span>localStorage.removeItem('franchiseRole');</p>
<p class="p1"><span class="Apple-converted-space">            </span>localStorage.removeItem('loginTime');</p>
<p class="p1"><span class="Apple-converted-space">            </span>localStorage.removeItem('rememberLogin');</p>
<p class="p1"><span class="Apple-converted-space">            </span>sessionStorage.clear();</p>
<p class="p1"><span class="Apple-converted-space">            </span>location.reload();</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// パスワード忘れ処理</p>
<p class="p1"><span class="Apple-converted-space">        </span>function showForgotPassword() {</p>
<p class="p1"><span class="Apple-converted-space">            </span>const email = prompt('登録されているメールアドレスを入力してください:');</p>
<p class="p1"><span class="Apple-converted-space">            </span>if (email) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>alert(`パスワードリセットリンクを ${email} に送信しました。\n（デモ版のため実際には送信されません）`);</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><span class="Apple-converted-space">        </span></p>
<p class="p1"><span class="Apple-converted-space">        </span>// ページ読み込み時の処理</p>
<p class="p1"><span class="Apple-converted-space">        </span>window.addEventListener('DOMContentLoaded', function() {</p>
<p class="p1"><span class="Apple-converted-space">            </span>// ローカルストレージまたはセッションストレージから復元</p>
<p class="p1"><span class="Apple-converted-space">            </span>let savedUser = localStorage.getItem('franchiseUser') || sessionStorage.getItem('franchiseUser');</p>
<p class="p1"><span class="Apple-converted-space">            </span>let savedRole = localStorage.getItem('franchiseRole') || sessionStorage.getItem('franchiseRole');</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>if (savedUser &amp;&amp; savedRole) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>// ログイン時間をチェック（24時間で自動ログアウト）</p>
<p class="p1"><span class="Apple-converted-space">                </span>const loginTime = localStorage.getItem('loginTime') || sessionStorage.getItem('loginTime');</p>
<p class="p1"><span class="Apple-converted-space">                </span>if (loginTime) {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>const hoursSinceLogin = (new Date() - new Date(loginTime)) / (1000 * 60 * 60);</p>
<p class="p1"><span class="Apple-converted-space">                    </span>if (hoursSinceLogin &gt; 24) {</p>
<p class="p1"><span class="Apple-converted-space">                        </span>// セッション期限切れ - ログインページへ</p>
<p class="p1"><span class="Apple-converted-space">                        </span>localStorage.removeItem('franchiseUser');</p>
<p class="p1"><span class="Apple-converted-space">                        </span>localStorage.removeItem('franchiseRole');</p>
<p class="p1"><span class="Apple-converted-space">                        </span>localStorage.removeItem('loginTime');</p>
<p class="p1"><span class="Apple-converted-space">                        </span>sessionStorage.removeItem('franchiseUser');</p>
<p class="p1"><span class="Apple-converted-space">                        </span>sessionStorage.removeItem('franchiseRole');</p>
<p class="p1"><span class="Apple-converted-space">                        </span>sessionStorage.removeItem('loginTime');</p>
<p class="p1"><span class="Apple-converted-space">                        </span>window.location.href = 'merchant-portal/login.html';</p>
<p class="p1"><span class="Apple-converted-space">                        </span>return;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>}</p>
<p class="p1"><span class="Apple-converted-space">                </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>// ログイン状態有効 - ダッシュボード表示</p>
<p class="p1"><span class="Apple-converted-space">                </span>currentUser = savedUser;</p>
<p class="p1"><span class="Apple-converted-space">                </span>userRole = savedRole;</p>
<p class="p1"><span class="Apple-converted-space">                </span>document.getElementById('mainApp').classList.remove('hidden');</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>// 加盟店データとステータスを取得してから表示を更新</p>
<p class="p1"><span class="Apple-converted-space">                </span>Promise.all([</p>
<p class="p1"><span class="Apple-converted-space">                    </span>fetchMerchantData(savedUser),</p>
<p class="p1"><span class="Apple-converted-space">                    </span>loadMerchantStatus(savedUser)</p>
<p class="p1"><span class="Apple-converted-space">                </span>]).then(() =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>updateRoleDisplay();</p>
<p class="p1"><span class="Apple-converted-space">                    </span>showSection('dashboard');</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                    </span>// 初回ログイン時の初期設定（データ取得後に実行）</p>
<p class="p1"><span class="Apple-converted-space">                    </span>console.log('[DOMContentLoaded] merchantData loaded, calling initializeFirstLoginSettings');</p>
<p class="p1"><span class="Apple-converted-space">                    </span>console.log('[DOMContentLoaded] window.merchantData:', window.merchantData ? 'exists' : 'null');</p>
<p class="p1"><span class="Apple-converted-space">                    </span>initializeFirstLoginSettings();</p>
<p class="p1"><span class="Apple-converted-space">                </span>}).catch(error =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>console.error('Failed to fetch merchant data or status:', error);</p>
<p class="p1"><span class="Apple-converted-space">                    </span>updateRoleDisplay();</p>
<p class="p1"><span class="Apple-converted-space">                    </span>showSection('dashboard');</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                    </span>// エラー時でも初期設定を実行</p>
<p class="p1"><span class="Apple-converted-space">                    </span>console.log('[DOMContentLoaded] Error occurred, calling initializeFirstLoginSettings anyway');</p>
<p class="p1"><span class="Apple-converted-space">                    </span>initializeFirstLoginSettings();</p>
<p class="p1"><span class="Apple-converted-space">                </span>});</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>// 案件カードを初期化</p>
<p class="p1"><span class="Apple-converted-space">                </span>setTimeout(() =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>renderCaseCards();</p>
<p class="p1"><span class="Apple-converted-space">                    </span>updateCaseCounts();</p>
<p class="p1"><span class="Apple-converted-space">                </span>}, 50);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>// カレンダーを初期化</p>
<p class="p1"><span class="Apple-converted-space">                </span>setTimeout(() =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>initCalendar();</p>
<p class="p1"><span class="Apple-converted-space">                </span>}, 100);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>// 自動配信設定の保存ボタンにイベントリスナーを追加（スマホ対応）</p>
<p class="p1"><span class="Apple-converted-space">                </span>setTimeout(() =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>const saveBtn = document.getElementById('saveAutodeliveryBtn');</p>
<p class="p1"><span class="Apple-converted-space">                    </span>if (saveBtn) {</p>
<p class="p1"><span class="Apple-converted-space">                        </span>const handleSave = async function(e) {</p>
<p class="p1"><span class="Apple-converted-space">                            </span>e.preventDefault();</p>
<p class="p1"><span class="Apple-converted-space">                            </span>e.stopPropagation();</p>
<p class="p1"><span class="Apple-converted-space">                            </span>console.log('Save button event triggered');</p>
<p class="p1"><span class="Apple-converted-space">                            </span>try {</p>
<p class="p1"><span class="Apple-converted-space">                                </span>await saveAutoDeliverySettings();</p>
<p class="p1"><span class="Apple-converted-space">                            </span>} catch (error) {</p>
<p class="p1"><span class="Apple-converted-space">                                </span>console.error('Error in saveAutoDeliverySettings:', error);</p>
<p class="p1"><span class="Apple-converted-space">                                </span>alert('エラー: ' + error.message);</p>
<p class="p1"><span class="Apple-converted-space">                            </span>}</p>
<p class="p1"><span class="Apple-converted-space">                        </span>};</p>
<p class="p1"><span class="Apple-converted-space">                        </span>saveBtn.addEventListener('click', handleSave);</p>
<p class="p1"><span class="Apple-converted-space">                        </span>saveBtn.addEventListener('touchend', handleSave);</p>
<p class="p1"><span class="Apple-converted-space">                        </span>console.log('Save button event listeners attached');</p>
<p class="p1"><span class="Apple-converted-space">                    </span>} else {</p>
<p class="p1"><span class="Apple-converted-space">                        </span>console.error('Save button not found!');</p>
<p class="p1"><span class="Apple-converted-space">                    </span>}</p>
<p class="p1"><span class="Apple-converted-space">                </span>}, 200);</p>
<p class="p1"><span class="Apple-converted-space">            </span>} else {</p>
<p class="p1"><span class="Apple-converted-space">                </span>// 未ログイン - ログインページへリダイレクト</p>
<p class="p1"><span class="Apple-converted-space">                </span>window.location.href = 'merchant-portal/login.html';</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>});</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// 統合設定保存</p>
<p class="p1"><span class="Apple-converted-space">        </span>function saveAllSettings() {</p>
<p class="p1"><span class="Apple-converted-space">            </span>// プロフィール保存</p>
<p class="p1"><span class="Apple-converted-space">            </span>saveProfile();</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>// 通知設定保存</p>
<p class="p1"><span class="Apple-converted-space">            </span>saveNotificationSettings();</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>showNotification('設定保存', 'すべての設定を保存しました', 'success');</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><span class="Apple-converted-space">        </span></p>
<p class="p1"><span class="Apple-converted-space">        </span>// 通知テスト</p>
<p class="p1"><span class="Apple-converted-space">        </span>function testNotification(type) {</p>
<p class="p1"><span class="Apple-converted-space">            </span>const messages = {</p>
<p class="p1"><span class="Apple-converted-space">                </span>'email': 'テストメールを送信しました',</p>
<p class="p1"><span class="Apple-converted-space">                </span>'sms': 'テストSMSを送信しました',</p>
<p class="p1"><span class="Apple-converted-space">                </span>'line': 'テストLINEメッセージを送信しました',</p>
<p class="p1"><span class="Apple-converted-space">                </span>'browser': 'ブラウザ通知のテスト'</p>
<p class="p1"><span class="Apple-converted-space">            </span>};</p>
<p class="p2"><span class="Apple-converted-space">            </span></p>
<p class="p1"><span class="Apple-converted-space">            </span>if (type === 'browser') {</p>
<p class="p1"><span class="Apple-converted-space">                </span>showNotification('通知テスト', messages[type]);</p>
<p class="p1"><span class="Apple-converted-space">            </span>} else {</p>
<p class="p1"><span class="Apple-converted-space">                </span>alert(messages[type] + '\n（デモ版のため実際には送信されません）');</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><span class="Apple-converted-space">        </span></p>
<p class="p1"><span class="Apple-converted-space">        </span>// 通知時間設定の表示/非表示</p>
<p class="p1"><span class="Apple-converted-space">        </span>function toggleQuietHours() {</p>
<p class="p1"><span class="Apple-converted-space">            </span>const enabled = document.getElementById('enableQuietHours').checked;</p>
<p class="p1"><span class="Apple-converted-space">            </span>const settings = document.getElementById('quietHoursSettings');</p>
<p class="p1"><span class="Apple-converted-space">            </span>settings.classList.toggle('hidden', !enabled);</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// 休日設定の表示/非表示切り替え</p>
<p class="p1"><span class="Apple-converted-space">        </span>function toggleHolidaySettings() {</p>
<p class="p1"><span class="Apple-converted-space">            </span>const enabled = document.getElementById('enableHolidays').checked;</p>
<p class="p1"><span class="Apple-converted-space">            </span>const settings = document.getElementById('holidaySettings');</p>
<p class="p1"><span class="Apple-converted-space">            </span>settings.classList.toggle('hidden', !enabled);</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><span class="Apple-converted-space">        </span></p>
<p class="p1"><span class="Apple-converted-space">        </span>// プロフィール保存</p>
<p class="p1"><span class="Apple-converted-space">        </span>function saveProfile() {</p>
<p class="p1"><span class="Apple-converted-space">            </span>const profile = {</p>
<p class="p1"><span class="Apple-converted-space">                </span>name: document.getElementById('profileName').value,</p>
<p class="p1"><span class="Apple-converted-space">                </span>phone: document.getElementById('profilePhone').value,</p>
<p class="p1"><span class="Apple-converted-space">                </span>email: document.getElementById('profileEmail').value,</p>
<p class="p1"><span class="Apple-converted-space">                </span>lineId: document.getElementById('profileLineId').value</p>
<p class="p1"><span class="Apple-converted-space">            </span>};</p>
<p class="p1"><span class="Apple-converted-space">            </span>localStorage.setItem('userProfile', JSON.stringify(profile));</p>
<p class="p1"><span class="Apple-converted-space">            </span>alert('プロフィールを保存しました');</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><span class="Apple-converted-space">        </span></p>
<p class="p1"><span class="Apple-converted-space">        </span>// 通知設定保存</p>
<p class="p1"><span class="Apple-converted-space">        </span>function saveNotificationSettings() {</p>
<p class="p1"><span class="Apple-converted-space">            </span>const settings = {</p>
<p class="p1"><span class="Apple-converted-space">                </span>email: document.getElementById('notifyEmail').checked,</p>
<p class="p1"><span class="Apple-converted-space">                </span>sms: document.getElementById('notifySms').checked,</p>
<p class="p1"><span class="Apple-converted-space">                </span>line: document.getElementById('notifyLine').checked,</p>
<p class="p1"><span class="Apple-converted-space">                </span>browser: document.getElementById('notifyBrowser').checked,</p>
<p class="p1"><span class="Apple-converted-space">                </span>alerts: {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>appointment_reminder: {</p>
<p class="p1"><span class="Apple-converted-space">                        </span>enabled: document.getElementById('appointmentReminder').checked,</p>
<p class="p1"><span class="Apple-converted-space">                        </span>time: document.getElementById('appointmentAlertTime').value</p>
<p class="p1"><span class="Apple-converted-space">                    </span>},</p>
<p class="p1"><span class="Apple-converted-space">                    </span>call_reminder: {</p>
<p class="p1"><span class="Apple-converted-space">                        </span>enabled: document.getElementById('callReminder').checked,</p>
<p class="p1"><span class="Apple-converted-space">                        </span>time: document.getElementById('callAlertTime').value</p>
<p class="p1"><span class="Apple-converted-space">                    </span>},</p>
<p class="p1"><span class="Apple-converted-space">                    </span>estimate_followup: {</p>
<p class="p1"><span class="Apple-converted-space">                        </span>enabled: document.getElementById('estimateFollowup').checked,</p>
<p class="p1"><span class="Apple-converted-space">                        </span>days: document.getElementById('followupDays').value</p>
<p class="p1"><span class="Apple-converted-space">                    </span>},</p>
<p class="p1"><span class="Apple-converted-space">                    </span>payment_alert: {</p>
<p class="p1"><span class="Apple-converted-space">                        </span>enabled: document.getElementById('paymentAlert').checked</p>
<p class="p1"><span class="Apple-converted-space">                    </span>}</p>
<p class="p1"><span class="Apple-converted-space">                </span>},</p>
<p class="p1"><span class="Apple-converted-space">                </span>holidays: {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>enabled: document.getElementById('enableHolidays').checked,</p>
<p class="p1"><span class="Apple-converted-space">                    </span>mon: document.getElementById('holidayMon').checked,</p>
<p class="p1"><span class="Apple-converted-space">                    </span>tue: document.getElementById('holidayTue').checked,</p>
<p class="p1"><span class="Apple-converted-space">                    </span>wed: document.getElementById('holidayWed').checked,</p>
<p class="p1"><span class="Apple-converted-space">                    </span>thu: document.getElementById('holidayThu').checked,</p>
<p class="p1"><span class="Apple-converted-space">                    </span>fri: document.getElementById('holidayFri').checked,</p>
<p class="p1"><span class="Apple-converted-space">                    </span>sat: document.getElementById('holidaySat').checked,</p>
<p class="p1"><span class="Apple-converted-space">                    </span>sun: document.getElementById('holidaySun').checked</p>
<p class="p1"><span class="Apple-converted-space">                </span>},</p>
<p class="p1"><span class="Apple-converted-space">                </span>quietHours: {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>enabled: document.getElementById('enableQuietHours').checked,</p>
<p class="p1"><span class="Apple-converted-space">                    </span>start: document.getElementById('quietStart').value,</p>
<p class="p1"><span class="Apple-converted-space">                    </span>end: document.getElementById('quietEnd').value</p>
<p class="p1"><span class="Apple-converted-space">                </span>}</p>
<p class="p1"><span class="Apple-converted-space">            </span>};</p>
<p class="p1"><span class="Apple-converted-space">            </span>localStorage.setItem('notificationSettings', JSON.stringify(settings));</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><span class="Apple-converted-space">        </span></p>
<p class="p1"><span class="Apple-converted-space">        </span>// 表示設定保存</p>
<p class="p1"><span class="Apple-converted-space">        </span>function saveDisplaySettings() {</p>
<p class="p1"><span class="Apple-converted-space">            </span>alert('表示設定を保存しました');</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><span class="Apple-converted-space">        </span></p>
<p class="p1"><span class="Apple-converted-space">        </span>// カレンダー機能</p>
<p class="p1"><span class="Apple-converted-space">        </span>let currentDate = new Date();</p>
<p class="p1"><span class="Apple-converted-space">        </span>let currentView = 'month';</p>
<p class="p2"><span class="Apple-converted-space">        </span></p>
<p class="p1"><span class="Apple-converted-space">        </span>// 日本の祝日データ（2024年・2025年）</p>
<p class="p1"><span class="Apple-converted-space">        </span>const japaneseHolidays = {</p>
<p class="p1"><span class="Apple-converted-space">            </span>'2024-01-01': '元日',</p>
<p class="p1"><span class="Apple-converted-space">            </span>'2024-01-08': '成人の日',</p>
<p class="p1"><span class="Apple-converted-space">            </span>'2024-02-11': '建国記念の日',</p>
<p class="p1"><span class="Apple-converted-space">            </span>'2024-02-12': '振替休日',</p>
<p class="p1"><span class="Apple-converted-space">            </span>'2024-02-23': '天皇誕生日',</p>
<p class="p1"><span class="Apple-converted-space">            </span>'2024-03-20': '春分の日',</p>
<p class="p1"><span class="Apple-converted-space">            </span>'2024-04-29': '昭和の日',</p>
<p class="p1"><span class="Apple-converted-space">            </span>'2024-05-03': '憲法記念日',</p>
<p class="p1"><span class="Apple-converted-space">            </span>'2024-05-04': 'みどりの日',</p>
<p class="p1"><span class="Apple-converted-space">            </span>'2024-05-05': 'こどもの日',</p>
<p class="p1"><span class="Apple-converted-space">            </span>'2024-05-06': '振替休日',</p>
<p class="p1"><span class="Apple-converted-space">            </span>'2024-07-15': '海の日',</p>
<p class="p1"><span class="Apple-converted-space">            </span>'2024-08-11': '山の日',</p>
<p class="p1"><span class="Apple-converted-space">            </span>'2024-08-12': '振替休日',</p>
<p class="p1"><span class="Apple-converted-space">            </span>'2024-09-16': '敬老の日',</p>
<p class="p1"><span class="Apple-converted-space">            </span>'2024-09-22': '秋分の日',</p>
<p class="p1"><span class="Apple-converted-space">            </span>'2024-09-23': '振替休日',</p>
<p class="p1"><span class="Apple-converted-space">            </span>'2024-10-14': 'スポーツの日',</p>
<p class="p1"><span class="Apple-converted-space">            </span>'2024-11-03': '文化の日',</p>
<p class="p1"><span class="Apple-converted-space">            </span>'2024-11-04': '振替休日',</p>
<p class="p1"><span class="Apple-converted-space">            </span>'2024-11-23': '勤労感謝の日',</p>
<p class="p1"><span class="Apple-converted-space">            </span>'2025-01-01': '元日',</p>
<p class="p1"><span class="Apple-converted-space">            </span>'2025-01-13': '成人の日',</p>
<p class="p1"><span class="Apple-converted-space">            </span>'2025-02-11': '建国記念の日',</p>
<p class="p1"><span class="Apple-converted-space">            </span>'2025-02-23': '天皇誕生日',</p>
<p class="p1"><span class="Apple-converted-space">            </span>'2025-02-24': '振替休日',</p>
<p class="p1"><span class="Apple-converted-space">            </span>'2025-03-20': '春分の日',</p>
<p class="p1"><span class="Apple-converted-space">            </span>'2025-04-29': '昭和の日',</p>
<p class="p1"><span class="Apple-converted-space">            </span>'2025-05-03': '憲法記念日',</p>
<p class="p1"><span class="Apple-converted-space">            </span>'2025-05-04': 'みどりの日',</p>
<p class="p1"><span class="Apple-converted-space">            </span>'2025-05-05': 'こどもの日',</p>
<p class="p1"><span class="Apple-converted-space">            </span>'2025-05-06': '振替休日',</p>
<p class="p1"><span class="Apple-converted-space">            </span>'2025-07-21': '海の日',</p>
<p class="p1"><span class="Apple-converted-space">            </span>'2025-08-11': '山の日',</p>
<p class="p1"><span class="Apple-converted-space">            </span>'2025-09-15': '敬老の日',</p>
<p class="p1"><span class="Apple-converted-space">            </span>'2025-09-23': '秋分の日',</p>
<p class="p1"><span class="Apple-converted-space">            </span>'2025-10-13': 'スポーツの日',</p>
<p class="p1"><span class="Apple-converted-space">            </span>'2025-11-03': '文化の日',</p>
<p class="p1"><span class="Apple-converted-space">            </span>'2025-11-23': '勤労感謝の日',</p>
<p class="p1"><span class="Apple-converted-space">            </span>'2025-11-24': '振替休日'</p>
<p class="p1"><span class="Apple-converted-space">        </span>};</p>
<p class="p2"><span class="Apple-converted-space">        </span></p>
<p class="p1"><span class="Apple-converted-space">        </span>let calendarEvents = [</p>
<p class="p1"><span class="Apple-converted-space">            </span>{</p>
<p class="p1"><span class="Apple-converted-space">                </span>id: 1,</p>
<p class="p1"><span class="Apple-converted-space">                </span>title: '田中様 現地調査',</p>
<p class="p1"><span class="Apple-converted-space">                </span>date: '2024-01-15',</p>
<p class="p1"><span class="Apple-converted-space">                </span>time: '14:00',</p>
<p class="p1"><span class="Apple-converted-space">                </span>type: 'hearing',</p>
<p class="p1"><span class="Apple-converted-space">                </span>color: 'blue'</p>
<p class="p1"><span class="Apple-converted-space">            </span>},</p>
<p class="p1"><span class="Apple-converted-space">            </span>{</p>
<p class="p1"><span class="Apple-converted-space">                </span>id: 2,</p>
<p class="p1"><span class="Apple-converted-space">                </span>title: '佐藤様 工事開始',</p>
<p class="p1"><span class="Apple-converted-space">                </span>date: '2024-01-20',</p>
<p class="p1"><span class="Apple-converted-space">                </span>time: '09:00',</p>
<p class="p1"><span class="Apple-converted-space">                </span>type: 'construction',</p>
<p class="p1"><span class="Apple-converted-space">                </span>color: 'green'</p>
<p class="p1"><span class="Apple-converted-space">            </span>},</p>
<p class="p1"><span class="Apple-converted-space">            </span>{</p>
<p class="p1"><span class="Apple-converted-space">                </span>id: 3,</p>
<p class="p1"><span class="Apple-converted-space">                </span>title: '鈴木様 見積もり提出',</p>
<p class="p1"><span class="Apple-converted-space">                </span>date: '2024-01-25',</p>
<p class="p1"><span class="Apple-converted-space">                </span>time: '16:00',</p>
<p class="p1"><span class="Apple-converted-space">                </span>type: 'estimate',</p>
<p class="p1"><span class="Apple-converted-space">                </span>color: 'yellow'</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>];</p>
<p class="p2"><span class="Apple-converted-space">        </span></p>
<p class="p1"><span class="Apple-converted-space">        </span>// カレンダー初期化</p>
<p class="p1"><span class="Apple-converted-space">        </span>function initCalendar() {</p>
<p class="p1"><span class="Apple-converted-space">            </span>renderCalendar();</p>
<p class="p1"><span class="Apple-converted-space">            </span>renderMiniCalendar();</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><span class="Apple-converted-space">        </span></p>
<p class="p1"><span class="Apple-converted-space">        </span>// カレンダー描画</p>
<p class="p1"><span class="Apple-converted-space">        </span>function renderCalendar() {</p>
<p class="p1"><span class="Apple-converted-space">            </span>const year = currentDate.getFullYear();</p>
<p class="p1"><span class="Apple-converted-space">            </span>const month = currentDate.getMonth();</p>
<p class="p2"><span class="Apple-converted-space">            </span></p>
<p class="p1"><span class="Apple-converted-space">            </span>// 月表示を更新</p>
<p class="p1"><span class="Apple-converted-space">            </span>const monthNames = ['1月', '2月', '3月', '4月', '5月', '6月', '7月', '8月', '9月', '10月', '11月', '12月'];</p>
<p class="p1"><span class="Apple-converted-space">            </span>const monthElement = document.getElementById('currentMonth');</p>
<p class="p1"><span class="Apple-converted-space">            </span>if (monthElement) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>monthElement.textContent = `${year}年${monthNames[month]}`;</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p2"><span class="Apple-converted-space">            </span></p>
<p class="p1"><span class="Apple-converted-space">            </span>// カレンダーグリッドを生成</p>
<p class="p1"><span class="Apple-converted-space">            </span>const firstDay = new Date(year, month, 1).getDay();</p>
<p class="p1"><span class="Apple-converted-space">            </span>const lastDate = new Date(year, month + 1, 0).getDate();</p>
<p class="p1"><span class="Apple-converted-space">            </span>const prevLastDate = new Date(year, month, 0).getDate();</p>
<p class="p2"><span class="Apple-converted-space">            </span></p>
<p class="p1"><span class="Apple-converted-space">            </span>let html = '';</p>
<p class="p1"><span class="Apple-converted-space">            </span>let date = 1;</p>
<p class="p2"><span class="Apple-converted-space">            </span></p>
<p class="p1"><span class="Apple-converted-space">            </span>// 6週間分のグリッドを生成</p>
<p class="p1"><span class="Apple-converted-space">            </span>for (let week = 0; week &lt; 6; week++) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>let weekHasDate = false;</p>
<p class="p1"><span class="Apple-converted-space">                </span>for (let day = 0; day &lt; 7; day++) {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>let cellDate = '';</p>
<p class="p1"><span class="Apple-converted-space">                    </span>let cellStyle = 'border: 1px solid #e5e7eb; padding: 8px; min-height: 100px; position: relative; background: white;';</p>
<p class="p1"><span class="Apple-converted-space">                    </span>let cellContent = '';</p>
<p class="p2"><span class="Apple-converted-space">                    </span></p>
<p class="p1"><span class="Apple-converted-space">                    </span>if (week === 0 &amp;&amp; day &lt; firstDay) {</p>
<p class="p1"><span class="Apple-converted-space">                        </span>// 前月の日付</p>
<p class="p1"><span class="Apple-converted-space">                        </span>cellDate = prevLastDate - firstDay + day + 1;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>cellStyle += ' color: #9ca3af; background: #f9fafb;';</p>
<p class="p1"><span class="Apple-converted-space">                        </span>html += `</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div style="${cellStyle}" data-date="${cellDate}"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;div style="font-weight: 500; font-size: 14px;"&gt;${cellDate}&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>`;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>} else if (date &gt; lastDate) {</p>
<p class="p1"><span class="Apple-converted-space">                        </span>// 次月の日付</p>
<p class="p1"><span class="Apple-converted-space">                        </span>cellDate = date - lastDate;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>cellStyle += ' color: #9ca3af; background: #f9fafb;';</p>
<p class="p1"><span class="Apple-converted-space">                        </span>html += `</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div style="${cellStyle}" data-date="${cellDate}"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;div style="font-weight: 500; font-size: 14px;"&gt;${cellDate}&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>`;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>date++;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>} else {</p>
<p class="p1"><span class="Apple-converted-space">                        </span>weekHasDate = true;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>// 当月の日付</p>
<p class="p1"><span class="Apple-converted-space">                        </span>cellDate = date;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>const dateStr = `${year}-${String(month + 1).padStart(2, '0')}-${String(date).padStart(2, '0')}`;</p>
<p class="p2"><span class="Apple-converted-space">                        </span></p>
<p class="p1"><span class="Apple-converted-space">                        </span>// 週末と祝日の背景色設定</p>
<p class="p1"><span class="Apple-converted-space">                        </span>const isHoliday = japaneseHolidays[dateStr];</p>
<p class="p1"><span class="Apple-converted-space">                        </span>if (day === 0 || isHoliday) {</p>
<p class="p1"><span class="Apple-converted-space">                            </span>// 日曜日または祝日は薄い赤</p>
<p class="p1"><span class="Apple-converted-space">                            </span>cellStyle += ' background: #fee2e2;';</p>
<p class="p1"><span class="Apple-converted-space">                        </span>} else if (day === 6) {</p>
<p class="p1"><span class="Apple-converted-space">                            </span>// 土曜日は薄い水色</p>
<p class="p1"><span class="Apple-converted-space">                            </span>cellStyle += ' background: #e0f2fe;';</p>
<p class="p1"><span class="Apple-converted-space">                        </span>}</p>
<p class="p2"><span class="Apple-converted-space">                        </span></p>
<p class="p1"><span class="Apple-converted-space">                        </span>// 今日の日付を強調</p>
<p class="p1"><span class="Apple-converted-space">                        </span>const today = new Date();</p>
<p class="p1"><span class="Apple-converted-space">                        </span>const isToday = year === today.getFullYear() &amp;&amp; month === today.getMonth() &amp;&amp; date === today.getDate();</p>
<p class="p1"><span class="Apple-converted-space">                        </span>if (isToday) {</p>
<p class="p1"><span class="Apple-converted-space">                            </span>cellStyle = cellStyle.replace(/background:[^;]+;/, 'background: #eff6ff;');</p>
<p class="p1"><span class="Apple-converted-space">                            </span>cellStyle += ' border: 2px solid #3b82f6;';</p>
<p class="p1"><span class="Apple-converted-space">                        </span>}</p>
<p class="p2"><span class="Apple-converted-space">                        </span></p>
<p class="p1"><span class="Apple-converted-space">                        </span>// イベントを表示</p>
<p class="p1"><span class="Apple-converted-space">                        </span>const dayEvents = calendarEvents.filter(e =&gt; e.date === dateStr);</p>
<p class="p1"><span class="Apple-converted-space">                        </span>if (dayEvents.length &gt; 0) {</p>
<p class="p1"><span class="Apple-converted-space">                            </span>cellContent = '&lt;div class="mt-1 space-y-1"&gt;';</p>
<p class="p1"><span class="Apple-converted-space">                            </span>dayEvents.forEach(event =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                                </span>const bgColor = {</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>'blue': 'bg-blue-500',</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>'green': 'bg-green-500',</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>'yellow': 'bg-yellow-500',</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>'purple': 'bg-purple-500',</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>'red': 'bg-red-500'</p>
<p class="p1"><span class="Apple-converted-space">                                </span>}[event.color] || 'bg-gray-500';</p>
<p class="p2"><span class="Apple-converted-space">                                </span></p>
<p class="p1"><span class="Apple-converted-space">                                </span>cellContent += `</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;div class="text-xs p-1 ${bgColor} text-white rounded truncate cursor-pointer hover:opacity-80 event-item"<span class="Apple-converted-space"> </span></p>
<p class="p1"><span class="Apple-converted-space">                                         </span>draggable="true"</p>
<p class="p1"><span class="Apple-converted-space">                                         </span>data-event-id="${event.id}"</p>
<p class="p1"><span class="Apple-converted-space">                                         </span>onclick="showEventDetail(${event.id})"<span class="Apple-converted-space"> </span></p>
<p class="p1"><span class="Apple-converted-space">                                         </span>oncontextmenu="showEventMenu(event, ${event.id})"</p>
<p class="p1"><span class="Apple-converted-space">                                         </span>ondragstart="handleDragStart(event, ${event.id})"</p>
<p class="p1"><span class="Apple-converted-space">                                         </span>title="${event.title}"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>${event.time ? event.time + ' ' : ''}${event.title}</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>`;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>});</p>
<p class="p1"><span class="Apple-converted-space">                            </span>cellContent += '&lt;/div&gt;';</p>
<p class="p1"><span class="Apple-converted-space">                        </span>}</p>
<p class="p2"><span class="Apple-converted-space">                        </span></p>
<p class="p1"><span class="Apple-converted-space">                        </span>// 祝日名を追加</p>
<p class="p1"><span class="Apple-converted-space">                        </span>let holidayLabel = '';</p>
<p class="p1"><span class="Apple-converted-space">                        </span>if (isHoliday) {</p>
<p class="p1"><span class="Apple-converted-space">                            </span>holidayLabel = `&lt;div style="font-size: 10px; color: #dc2626; font-weight: 500;"&gt;${isHoliday}&lt;/div&gt;`;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>}</p>
<p class="p2"><span class="Apple-converted-space">                        </span></p>
<p class="p1"><span class="Apple-converted-space">                        </span>// htmlに追加</p>
<p class="p1"><span class="Apple-converted-space">                        </span>const originalBg = isToday ? '#eff6ff' : (day === 0 || isHoliday ? '#fee2e2' : day === 6 ? '#e0f2fe' : 'white');</p>
<p class="p1"><span class="Apple-converted-space">                        </span>const hoverBg = isToday ? '#dbeafe' : (day === 0 || isHoliday ? '#fecaca' : day === 6 ? '#bae6fd' : '#f9fafb');</p>
<p class="p2"><span class="Apple-converted-space">                        </span></p>
<p class="p1"><span class="Apple-converted-space">                        </span>html += `</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div style="${cellStyle}"<span class="Apple-converted-space"> </span></p>
<p class="p1"><span class="Apple-converted-space">                                 </span>data-date="${cellDate}"</p>
<p class="p1"><span class="Apple-converted-space">                                 </span>data-full-date="${dateStr}"</p>
<p class="p1"><span class="Apple-converted-space">                                 </span>ondrop="handleDrop(event)"</p>
<p class="p1"><span class="Apple-converted-space">                                 </span>ondragover="handleDragOver(event)"</p>
<p class="p1"><span class="Apple-converted-space">                                 </span>ondragleave="handleDragLeave(event)"</p>
<p class="p1"><span class="Apple-converted-space">                                 </span>onclick="handleCellClick(event)"</p>
<p class="p1"><span class="Apple-converted-space">                                 </span>onmouseover="this.style.background='${hoverBg}'"</p>
<p class="p1"><span class="Apple-converted-space">                                 </span>onmouseout="this.style.background='${originalBg}'"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;div style="font-weight: 500; font-size: 14px; ${day === 0 || isHoliday ? 'color: #dc2626;' : day === 6 ? 'color: #0284c7;' : ''}"&gt;${cellDate}&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>${holidayLabel}</p>
<p class="p1"><span class="Apple-converted-space">                                </span>${cellContent}</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>`;</p>
<p class="p2"><span class="Apple-converted-space">                        </span></p>
<p class="p1"><span class="Apple-converted-space">                        </span>date++;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>}</p>
<p class="p1"><span class="Apple-converted-space">                </span>}</p>
<p class="p2"><span class="Apple-converted-space">                </span></p>
<p class="p1"><span class="Apple-converted-space">                </span>// 週に日付がない場合は終了</p>
<p class="p1"><span class="Apple-converted-space">                </span>if (!weekHasDate &amp;&amp; date &gt; lastDate) break;</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p2"><span class="Apple-converted-space">            </span></p>
<p class="p1"><span class="Apple-converted-space">            </span>const calendarGrid = document.getElementById('calendarGrid');</p>
<p class="p1"><span class="Apple-converted-space">            </span>if (calendarGrid) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>calendarGrid.innerHTML = html;</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><span class="Apple-converted-space">        </span></p>
<p class="p1"><span class="Apple-converted-space">        </span>// ミニカレンダー描画</p>
<p class="p1"><span class="Apple-converted-space">        </span>function renderMiniCalendar() {</p>
<p class="p1"><span class="Apple-converted-space">            </span>const year = currentDate.getFullYear();</p>
<p class="p1"><span class="Apple-converted-space">            </span>const month = currentDate.getMonth();</p>
<p class="p1"><span class="Apple-converted-space">            </span>const today = new Date();</p>
<p class="p1"><span class="Apple-converted-space">            </span>const firstDay = new Date(year, month, 1).getDay();</p>
<p class="p1"><span class="Apple-converted-space">            </span>const lastDate = new Date(year, month + 1, 0).getDate();</p>
<p class="p2"><span class="Apple-converted-space">            </span></p>
<p class="p1"><span class="Apple-converted-space">            </span>let html = '&lt;div class="grid grid-cols-7 gap-1 text-xs"&gt;';</p>
<p class="p2"><span class="Apple-converted-space">            </span></p>
<p class="p1"><span class="Apple-converted-space">            </span>// 曜日ヘッダー</p>
<p class="p1"><span class="Apple-converted-space">            </span>const weekDays = ['日', '月', '火', '水', '木', '金', '土'];</p>
<p class="p1"><span class="Apple-converted-space">            </span>weekDays.forEach(day =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                </span>html += `&lt;div class="text-center font-medium text-gray-500 py-1"&gt;${day}&lt;/div&gt;`;</p>
<p class="p1"><span class="Apple-converted-space">            </span>});</p>
<p class="p2"><span class="Apple-converted-space">            </span></p>
<p class="p1"><span class="Apple-converted-space">            </span>// 空白セル</p>
<p class="p1"><span class="Apple-converted-space">            </span>for (let i = 0; i &lt; firstDay; i++) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>html += '&lt;div&gt;&lt;/div&gt;';</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p2"><span class="Apple-converted-space">            </span></p>
<p class="p1"><span class="Apple-converted-space">            </span>// 日付セル</p>
<p class="p1"><span class="Apple-converted-space">            </span>for (let date = 1; date &lt;= lastDate; date++) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>const dateStr = `${year}-${String(month + 1).padStart(2, '0')}-${String(date).padStart(2, '0')}`;</p>
<p class="p1"><span class="Apple-converted-space">                </span>const hasEvent = calendarEvents.some(e =&gt; e.date === dateStr);</p>
<p class="p1"><span class="Apple-converted-space">                </span>const isToday = year === today.getFullYear() &amp;&amp; month === today.getMonth() &amp;&amp; date === today.getDate();</p>
<p class="p2"><span class="Apple-converted-space">                </span></p>
<p class="p1"><span class="Apple-converted-space">                </span>let cellClass = 'text-center py-1 cursor-pointer hover:bg-gray-100 rounded';</p>
<p class="p1"><span class="Apple-converted-space">                </span>if (isToday) cellClass += ' bg-blue-500 text-white hover:bg-blue-600';</p>
<p class="p1"><span class="Apple-converted-space">                </span>else if (hasEvent) cellClass += ' font-bold text-blue-600';</p>
<p class="p2"><span class="Apple-converted-space">                </span></p>
<p class="p1"><span class="Apple-converted-space">                </span>html += `&lt;div class="${cellClass}" onclick="goToDate('${dateStr}')"&gt;${date}&lt;/div&gt;`;</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p2"><span class="Apple-converted-space">            </span></p>
<p class="p1"><span class="Apple-converted-space">            </span>html += '&lt;/div&gt;';</p>
<p class="p2"><span class="Apple-converted-space">            </span></p>
<p class="p1"><span class="Apple-converted-space">            </span>const miniCalendar = document.getElementById('miniCalendar');</p>
<p class="p1"><span class="Apple-converted-space">            </span>if (miniCalendar) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>miniCalendar.innerHTML = html;</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><span class="Apple-converted-space">        </span></p>
<p class="p1"><span class="Apple-converted-space">        </span>// カレンダービュー切り替え</p>
<p class="p1"><span class="Apple-converted-space">        </span>function changeCalendarView(view) {</p>
<p class="p1"><span class="Apple-converted-space">            </span>currentView = view;</p>
<p class="p2"><span class="Apple-converted-space">            </span></p>
<p class="p1"><span class="Apple-converted-space">            </span>// ボタンのスタイルを更新</p>
<p class="p1"><span class="Apple-converted-space">            </span>document.querySelectorAll('.calendar-view-btn').forEach(btn =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                </span>btn.classList.remove('text-blue-600', 'bg-blue-50');</p>
<p class="p1"><span class="Apple-converted-space">                </span>btn.classList.add('text-gray-600');</p>
<p class="p1"><span class="Apple-converted-space">            </span>});</p>
<p class="p2"><span class="Apple-converted-space">            </span></p>
<p class="p1"><span class="Apple-converted-space">            </span>// クリックされたボタンのスタイルを更新</p>
<p class="p1"><span class="Apple-converted-space">            </span>if (event &amp;&amp; event.target) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>event.target.classList.remove('text-gray-600');</p>
<p class="p1"><span class="Apple-converted-space">                </span>event.target.classList.add('text-blue-600', 'bg-blue-50');</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p2"><span class="Apple-converted-space">            </span></p>
<p class="p1"><span class="Apple-converted-space">            </span>// ビューを切り替え</p>
<p class="p1"><span class="Apple-converted-space">            </span>document.getElementById('calendarMonthView').classList.toggle('hidden', view !== 'month');</p>
<p class="p1"><span class="Apple-converted-space">            </span>document.getElementById('calendarWeekView').classList.toggle('hidden', view !== 'week');</p>
<p class="p1"><span class="Apple-converted-space">            </span>document.getElementById('calendarDayView').classList.toggle('hidden', view !== 'day');</p>
<p class="p2"><span class="Apple-converted-space">            </span></p>
<p class="p1"><span class="Apple-converted-space">            </span>// 対応するビューを描画</p>
<p class="p1"><span class="Apple-converted-space">            </span>if (view === 'month') {</p>
<p class="p1"><span class="Apple-converted-space">                </span>renderCalendar();</p>
<p class="p1"><span class="Apple-converted-space">            </span>} else if (view === 'week') {</p>
<p class="p1"><span class="Apple-converted-space">                </span>renderWeekView();</p>
<p class="p1"><span class="Apple-converted-space">            </span>} else if (view === 'day') {</p>
<p class="p1"><span class="Apple-converted-space">                </span>renderDayView();</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// 週表示を描画</p>
<p class="p1"><span class="Apple-converted-space">        </span>function renderWeekView() {</p>
<p class="p1"><span class="Apple-converted-space">            </span>const year = currentDate.getFullYear();</p>
<p class="p1"><span class="Apple-converted-space">            </span>const month = currentDate.getMonth();</p>
<p class="p1"><span class="Apple-converted-space">            </span>const date = currentDate.getDate();</p>
<p class="p2"><span class="Apple-converted-space">            </span></p>
<p class="p1"><span class="Apple-converted-space">            </span>// 今週の日曜日を計算</p>
<p class="p1"><span class="Apple-converted-space">            </span>const today = new Date(year, month, date);</p>
<p class="p1"><span class="Apple-converted-space">            </span>const dayOfWeek = today.getDay();</p>
<p class="p1"><span class="Apple-converted-space">            </span>const weekStart = new Date(today);</p>
<p class="p1"><span class="Apple-converted-space">            </span>weekStart.setDate(date - dayOfWeek);</p>
<p class="p2"><span class="Apple-converted-space">            </span></p>
<p class="p1"><span class="Apple-converted-space">            </span>// 週表示のヘッダー</p>
<p class="p1"><span class="Apple-converted-space">            </span>let html = '';</p>
<p class="p2"><span class="Apple-converted-space">            </span></p>
<p class="p1"><span class="Apple-converted-space">            </span>// 時間軸ヘッダー</p>
<p class="p1"><span class="Apple-converted-space">            </span>html += '&lt;div class="border-b border-r p-2 bg-gray-50 font-medium text-center"&gt;時間&lt;/div&gt;';</p>
<p class="p2"><span class="Apple-converted-space">            </span></p>
<p class="p1"><span class="Apple-converted-space">            </span>// 曜日ヘッダー</p>
<p class="p1"><span class="Apple-converted-space">            </span>const weekDays = ['日', '月', '火', '水', '木', '金', '土'];</p>
<p class="p1"><span class="Apple-converted-space">            </span>for (let i = 0; i &lt; 7; i++) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>const dayDate = new Date(weekStart);</p>
<p class="p1"><span class="Apple-converted-space">                </span>dayDate.setDate(weekStart.getDate() + i);</p>
<p class="p1"><span class="Apple-converted-space">                </span>const dayStr = `${dayDate.getMonth() + 1}/${dayDate.getDate()}`;</p>
<p class="p1"><span class="Apple-converted-space">                </span>const isToday = dayDate.toDateString() === new Date().toDateString();</p>
<p class="p2"><span class="Apple-converted-space">                </span></p>
<p class="p1"><span class="Apple-converted-space">                </span>html += `&lt;div class="border-b border-r p-2 bg-gray-50 text-center ${isToday ? 'bg-blue-50 text-blue-600 font-bold' : ''}"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="text-xs text-gray-500"&gt;${weekDays[i]}&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="font-medium"&gt;${dayStr}&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/div&gt;`;</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p2"><span class="Apple-converted-space">            </span></p>
<p class="p1"><span class="Apple-converted-space">            </span>// 時間スロット（8:00-20:00）</p>
<p class="p1"><span class="Apple-converted-space">            </span>for (let hour = 8; hour &lt;= 20; hour++) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>// 時間ラベル</p>
<p class="p1"><span class="Apple-converted-space">                </span>html += `&lt;div class="border-b border-r p-2 bg-gray-50 text-xs text-center"&gt;${String(hour).padStart(2, '0')}:00&lt;/div&gt;`;</p>
<p class="p2"><span class="Apple-converted-space">                </span></p>
<p class="p1"><span class="Apple-converted-space">                </span>// 各曜日のセル</p>
<p class="p1"><span class="Apple-converted-space">                </span>for (let i = 0; i &lt; 7; i++) {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>const dayDate = new Date(weekStart);</p>
<p class="p1"><span class="Apple-converted-space">                    </span>dayDate.setDate(weekStart.getDate() + i);</p>
<p class="p1"><span class="Apple-converted-space">                    </span>const dateStr = dayDate.toISOString().split('T')[0];</p>
<p class="p2"><span class="Apple-converted-space">                    </span></p>
<p class="p1"><span class="Apple-converted-space">                    </span>// その時間帯のイベントを取得</p>
<p class="p1"><span class="Apple-converted-space">                    </span>const hourEvents = calendarEvents.filter(e =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                        </span>if (e.date !== dateStr || !e.time) return false;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>const eventHour = parseInt(e.time.split(':')[0]);</p>
<p class="p1"><span class="Apple-converted-space">                        </span>return eventHour === hour;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>});</p>
<p class="p2"><span class="Apple-converted-space">                    </span></p>
<p class="p1"><span class="Apple-converted-space">                    </span>let cellContent = '';</p>
<p class="p1"><span class="Apple-converted-space">                    </span>if (hourEvents.length &gt; 0) {</p>
<p class="p1"><span class="Apple-converted-space">                        </span>hourEvents.forEach(event =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                            </span>const bgColor = {</p>
<p class="p1"><span class="Apple-converted-space">                                </span>'blue': 'bg-blue-500',</p>
<p class="p1"><span class="Apple-converted-space">                                </span>'green': 'bg-green-500',</p>
<p class="p1"><span class="Apple-converted-space">                                </span>'yellow': 'bg-yellow-500',</p>
<p class="p1"><span class="Apple-converted-space">                                </span>'purple': 'bg-purple-500',</p>
<p class="p1"><span class="Apple-converted-space">                                </span>'red': 'bg-red-500'</p>
<p class="p1"><span class="Apple-converted-space">                            </span>}[event.color] || 'bg-gray-500';</p>
<p class="p2"><span class="Apple-converted-space">                            </span></p>
<p class="p1"><span class="Apple-converted-space">                            </span>cellContent += `&lt;div class="text-xs p-1 ${bgColor} text-white rounded mb-1 cursor-pointer hover:opacity-80"<span class="Apple-converted-space"> </span></p>
<p class="p1"><span class="Apple-converted-space">                                </span>onclick="showEventDetail(${event.id})" title="${event.title}"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>${event.time} ${event.title}</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;`;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>});</p>
<p class="p1"><span class="Apple-converted-space">                    </span>}</p>
<p class="p2"><span class="Apple-converted-space">                    </span></p>
<p class="p1"><span class="Apple-converted-space">                    </span>html += `&lt;div class="border-b border-r p-1 h-12 hover:bg-gray-50 cursor-pointer"<span class="Apple-converted-space"> </span></p>
<p class="p1"><span class="Apple-converted-space">                        </span>data-date="${dateStr}" data-hour="${hour}" onclick="createEventAtTime('${dateStr}', ${hour})"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>${cellContent}</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;`;</p>
<p class="p1"><span class="Apple-converted-space">                </span>}</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p2"><span class="Apple-converted-space">            </span></p>
<p class="p1"><span class="Apple-converted-space">            </span>document.getElementById('weekGrid').innerHTML = html;</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// 日表示を描画</p>
<p class="p1"><span class="Apple-converted-space">        </span>function renderDayView() {</p>
<p class="p1"><span class="Apple-converted-space">            </span>const year = currentDate.getFullYear();</p>
<p class="p1"><span class="Apple-converted-space">            </span>const month = currentDate.getMonth();</p>
<p class="p1"><span class="Apple-converted-space">            </span>const date = currentDate.getDate();</p>
<p class="p2"><span class="Apple-converted-space">            </span></p>
<p class="p1"><span class="Apple-converted-space">            </span>const dayDate = new Date(year, month, date);</p>
<p class="p1"><span class="Apple-converted-space">            </span>const dateStr = dayDate.toISOString().split('T')[0];</p>
<p class="p1"><span class="Apple-converted-space">            </span>const weekDays = ['日', '月', '火', '水', '木', '金', '土'];</p>
<p class="p1"><span class="Apple-converted-space">            </span>const dayOfWeek = dayDate.getDay();</p>
<p class="p2"><span class="Apple-converted-space">            </span></p>
<p class="p1"><span class="Apple-converted-space">            </span>// 日付表示を更新</p>
<p class="p1"><span class="Apple-converted-space">            </span>document.getElementById('dayViewDate').textContent =<span class="Apple-converted-space"> </span></p>
<p class="p1"><span class="Apple-converted-space">                </span>`${year}年${month + 1}月${date}日（${weekDays[dayOfWeek]}）`;</p>
<p class="p2"><span class="Apple-converted-space">            </span></p>
<p class="p1"><span class="Apple-converted-space">            </span>// 時間スロットを生成</p>
<p class="p1"><span class="Apple-converted-space">            </span>let html = '';</p>
<p class="p1"><span class="Apple-converted-space">            </span>for (let hour = 6; hour &lt;= 22; hour++) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>const hourEvents = calendarEvents.filter(e =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>if (e.date !== dateStr || !e.time) return false;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>const eventHour = parseInt(e.time.split(':')[0]);</p>
<p class="p1"><span class="Apple-converted-space">                    </span>return eventHour === hour;</p>
<p class="p1"><span class="Apple-converted-space">                </span>});</p>
<p class="p2"><span class="Apple-converted-space">                </span></p>
<p class="p1"><span class="Apple-converted-space">                </span>let eventContent = '';</p>
<p class="p1"><span class="Apple-converted-space">                </span>if (hourEvents.length &gt; 0) {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>hourEvents.forEach(event =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                        </span>const bgColor = {</p>
<p class="p1"><span class="Apple-converted-space">                            </span>'blue': 'bg-blue-500',</p>
<p class="p1"><span class="Apple-converted-space">                            </span>'green': 'bg-green-500',</p>
<p class="p1"><span class="Apple-converted-space">                            </span>'yellow': 'bg-yellow-500',</p>
<p class="p1"><span class="Apple-converted-space">                            </span>'purple': 'bg-purple-500',</p>
<p class="p1"><span class="Apple-converted-space">                            </span>'red': 'bg-red-500'</p>
<p class="p1"><span class="Apple-converted-space">                        </span>}[event.color] || 'bg-gray-500';</p>
<p class="p2"><span class="Apple-converted-space">                        </span></p>
<p class="p1"><span class="Apple-converted-space">                        </span>eventContent += `&lt;div class="p-2 ${bgColor} text-white rounded mb-2 cursor-pointer hover:opacity-80"<span class="Apple-converted-space"> </span></p>
<p class="p1"><span class="Apple-converted-space">                            </span>onclick="showEventDetail(${event.id})"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div class="font-medium"&gt;${event.time} ${event.title}&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div class="text-sm opacity-90"&gt;${event.type}&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;`;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>});</p>
<p class="p1"><span class="Apple-converted-space">                </span>}</p>
<p class="p2"><span class="Apple-converted-space">                </span></p>
<p class="p1"><span class="Apple-converted-space">                </span>html += `</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="flex border-b hover:bg-gray-50"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="w-20 p-3 bg-gray-50 text-sm font-medium text-center border-r"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>${String(hour).padStart(2, '0')}:00</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="flex-1 p-3 min-h-16 cursor-pointer"<span class="Apple-converted-space"> </span></p>
<p class="p1"><span class="Apple-converted-space">                             </span>data-date="${dateStr}" data-hour="${hour}"<span class="Apple-converted-space"> </span></p>
<p class="p1"><span class="Apple-converted-space">                             </span>onclick="createEventAtTime('${dateStr}', ${hour})"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>${eventContent}</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>`;</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p2"><span class="Apple-converted-space">            </span></p>
<p class="p1"><span class="Apple-converted-space">            </span>document.getElementById('dayTimeSlots').innerHTML = html;</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// 特定の時間に新規イベントを作成</p>
<p class="p1"><span class="Apple-converted-space">        </span>function createEventAtTime(date, hour) {</p>
<p class="p1"><span class="Apple-converted-space">            </span>const time = `${String(hour).padStart(2, '0')}:00`;</p>
<p class="p1"><span class="Apple-converted-space">            </span>showEventModal(null, date, time);</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><span class="Apple-converted-space">        </span></p>
<p class="p1"><span class="Apple-converted-space">        </span>// 前月へ</p>
<p class="p1"><span class="Apple-converted-space">        </span>function previousMonth() {</p>
<p class="p1"><span class="Apple-converted-space">            </span>currentDate.setMonth(currentDate.getMonth() - 1);</p>
<p class="p1"><span class="Apple-converted-space">            </span>renderCalendar();</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><span class="Apple-converted-space">        </span></p>
<p class="p1"><span class="Apple-converted-space">        </span>// 次月へ</p>
<p class="p1"><span class="Apple-converted-space">        </span>function nextMonth() {</p>
<p class="p1"><span class="Apple-converted-space">            </span>currentDate.setMonth(currentDate.getMonth() + 1);</p>
<p class="p1"><span class="Apple-converted-space">            </span>renderCalendar();</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><span class="Apple-converted-space">        </span></p>
<p class="p1"><span class="Apple-converted-space">        </span>// 特定の日付へジャンプ</p>
<p class="p1"><span class="Apple-converted-space">        </span>function goToDate(dateStr) {</p>
<p class="p1"><span class="Apple-converted-space">            </span>const [year, month, day] = dateStr.split('-').map(Number);</p>
<p class="p1"><span class="Apple-converted-space">            </span>currentDate = new Date(year, month - 1, day);</p>
<p class="p1"><span class="Apple-converted-space">            </span>showSection('calendar');</p>
<p class="p1"><span class="Apple-converted-space">            </span>renderCalendar();</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><span class="Apple-converted-space">        </span></p>
<p class="p1"><span class="Apple-converted-space">        </span>// イベント詳細表示</p>
<p class="p1"><span class="Apple-converted-space">        </span>function showEventDetail(eventId) {</p>
<p class="p1"><span class="Apple-converted-space">            </span>const event = calendarEvents.find(e =&gt; e.id === eventId);</p>
<p class="p1"><span class="Apple-converted-space">            </span>if (event) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>alert(`${event.title}\n日時: ${event.date} ${event.time || ''}\n種別: ${event.type}`);</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><span class="Apple-converted-space">        </span></p>
<p class="p1"><span class="Apple-converted-space">        </span>// ドラッグ &amp; ドロップ機能</p>
<p class="p1"><span class="Apple-converted-space">        </span>let draggedEventId = null;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>function handleDragStart(e, eventId) {</p>
<p class="p1"><span class="Apple-converted-space">            </span>draggedEventId = eventId;</p>
<p class="p1"><span class="Apple-converted-space">            </span>e.dataTransfer.effectAllowed = 'move';</p>
<p class="p1"><span class="Apple-converted-space">            </span>e.dataTransfer.setData('text/html', e.target.outerHTML);</p>
<p class="p1"><span class="Apple-converted-space">            </span>e.target.classList.add('opacity-50');</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>function handleDragOver(e) {</p>
<p class="p1"><span class="Apple-converted-space">            </span>e.preventDefault();</p>
<p class="p1"><span class="Apple-converted-space">            </span>e.dataTransfer.dropEffect = 'move';</p>
<p class="p1"><span class="Apple-converted-space">            </span>const cell = e.currentTarget;</p>
<p class="p1"><span class="Apple-converted-space">            </span>if (cell.dataset.fullDate) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>cell.classList.add('bg-blue-100', 'border-2', 'border-blue-400');</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>function handleDragLeave(e) {</p>
<p class="p1"><span class="Apple-converted-space">            </span>const cell = e.currentTarget;</p>
<p class="p1"><span class="Apple-converted-space">            </span>cell.classList.remove('bg-blue-100', 'border-2', 'border-blue-400');</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>function handleDrop(e) {</p>
<p class="p1"><span class="Apple-converted-space">            </span>e.preventDefault();</p>
<p class="p1"><span class="Apple-converted-space">            </span>const cell = e.currentTarget;</p>
<p class="p1"><span class="Apple-converted-space">            </span>cell.classList.remove('bg-blue-100', 'border-2', 'border-blue-400');</p>
<p class="p2"><span class="Apple-converted-space">            </span></p>
<p class="p1"><span class="Apple-converted-space">            </span>const newDate = cell.dataset.fullDate;</p>
<p class="p1"><span class="Apple-converted-space">            </span>if (newDate &amp;&amp; draggedEventId) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>// イベントの日付を更新</p>
<p class="p1"><span class="Apple-converted-space">                </span>const eventIndex = calendarEvents.findIndex(event =&gt; event.id === draggedEventId);</p>
<p class="p1"><span class="Apple-converted-space">                </span>if (eventIndex !== -1) {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>calendarEvents[eventIndex].date = newDate;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>renderCalendar();</p>
<p class="p1"><span class="Apple-converted-space">                    </span>renderMiniCalendar();</p>
<p class="p1"><span class="Apple-converted-space">                    </span>showNotification('予定移動', `予定を${newDate}に移動しました`);</p>
<p class="p1"><span class="Apple-converted-space">                </span>}</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p1"><span class="Apple-converted-space">            </span>draggedEventId = null;</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// セルクリック（新規イベント作成）</p>
<p class="p1"><span class="Apple-converted-space">        </span>function handleCellClick(e) {</p>
<p class="p1"><span class="Apple-converted-space">            </span>if (e.target.classList.contains('event-item')) return; // イベントをクリックした場合は無視</p>
<p class="p2"><span class="Apple-converted-space">            </span></p>
<p class="p1"><span class="Apple-converted-space">            </span>const cell = e.currentTarget;</p>
<p class="p1"><span class="Apple-converted-space">            </span>const date = cell.dataset.fullDate;</p>
<p class="p1"><span class="Apple-converted-space">            </span>if (date) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>showEventModal(null, date);</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// イベント右クリックメニュー</p>
<p class="p1"><span class="Apple-converted-space">        </span>function showEventMenu(e, eventId) {</p>
<p class="p1"><span class="Apple-converted-space">            </span>e.preventDefault();</p>
<p class="p1"><span class="Apple-converted-space">            </span>if (confirm('この予定を編集しますか？')) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>const event = calendarEvents.find(ev =&gt; ev.id === eventId);</p>
<p class="p1"><span class="Apple-converted-space">                </span>if (event) {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>showEventModal(event);</p>
<p class="p1"><span class="Apple-converted-space">                </span>}</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// イベントモーダル表示</p>
<p class="p1"><span class="Apple-converted-space">        </span>function showEventModal(event = null, date = null, time = '') {</p>
<p class="p1"><span class="Apple-converted-space">            </span>const isEdit = !!event;</p>
<p class="p1"><span class="Apple-converted-space">            </span>const modalTitle = isEdit ? '予定を編集' : '新規予定を追加';</p>
<p class="p2"><span class="Apple-converted-space">            </span></p>
<p class="p1"><span class="Apple-converted-space">            </span>const title = isEdit ? event.title : '';</p>
<p class="p1"><span class="Apple-converted-space">            </span>const eventDate = isEdit ? event.date : (date || new Date().toISOString().split('T')[0]);</p>
<p class="p1"><span class="Apple-converted-space">            </span>const eventTime = isEdit ? (event.time || '') : time;</p>
<p class="p1"><span class="Apple-converted-space">            </span>const type = isEdit ? event.type : 'custom';</p>
<p class="p1"><span class="Apple-converted-space">            </span>const color = isEdit ? event.color : 'blue';</p>
<p class="p2"><span class="Apple-converted-space">            </span></p>
<p class="p1"><span class="Apple-converted-space">            </span>const modal = `</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;div id="eventModal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="bg-white rounded-lg p-6 w-96 max-w-full mx-4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;h3 class="text-lg font-semibold mb-4"&gt;${modalTitle}&lt;/h3&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;form id="eventForm" onsubmit="saveEvent(event, ${isEdit ? event.id : 'null'})"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div class="space-y-4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;label class="block text-sm font-medium text-gray-700 mb-1"&gt;タイトル&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="text" id="eventTitle" value="${title}" class="w-full px-3 py-2 border rounded-md" required&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;label class="block text-sm font-medium text-gray-700 mb-1"&gt;日付&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="date" id="eventDate" value="${eventDate}" class="w-full px-3 py-2 border rounded-md" required&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;label class="block text-sm font-medium text-gray-700 mb-1"&gt;時間&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="time" id="eventTime" value="${eventTime}" class="w-full px-3 py-2 border rounded-md"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;label class="block text-sm font-medium text-gray-700 mb-1"&gt;種別&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;select id="eventType" class="w-full px-3 py-2 border rounded-md"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;option value="hearing" ${type === 'hearing' ? 'selected' : ''}&gt;現地調査&lt;/option&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;option value="construction" ${type === 'construction' ? 'selected' : ''}&gt;工事&lt;/option&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;option value="estimate" ${type === 'estimate' ? 'selected' : ''}&gt;見積もり&lt;/option&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;option value="meeting" ${type === 'meeting' ? 'selected' : ''}&gt;打ち合わせ&lt;/option&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;option value="custom" ${type === 'custom' ? 'selected' : ''}&gt;その他&lt;/option&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;/select&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;label class="block text-sm font-medium text-gray-700 mb-1"&gt;色&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;div class="flex space-x-2"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;button type="button" onclick="selectColor('blue')" class="w-8 h-8 rounded-full bg-blue-500 ${color === 'blue' ? 'ring-2 ring-offset-2 ring-blue-400' : ''}"&gt;&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;button type="button" onclick="selectColor('green')" class="w-8 h-8 rounded-full bg-green-500 ${color === 'green' ? 'ring-2 ring-offset-2 ring-green-400' : ''}"&gt;&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;button type="button" onclick="selectColor('yellow')" class="w-8 h-8 rounded-full bg-yellow-500 ${color === 'yellow' ? 'ring-2 ring-offset-2 ring-yellow-400' : ''}"&gt;&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;button type="button" onclick="selectColor('purple')" class="w-8 h-8 rounded-full bg-purple-500 ${color === 'purple' ? 'ring-2 ring-offset-2 ring-purple-400' : ''}"&gt;&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;button type="button" onclick="selectColor('red')" class="w-8 h-8 rounded-full bg-red-500 ${color === 'red' ? 'ring-2 ring-offset-2 ring-red-400' : ''}"&gt;&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="hidden" id="eventColor" value="${color}"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div class="flex justify-end space-x-3 mt-6"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>${isEdit ? '&lt;button type="button" onclick="deleteEvent(' + event.id + ')" class="px-4 py-2 text-red-600 hover:bg-red-50 rounded-md"&gt;削除&lt;/button&gt;' : ''}</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;button type="button" onclick="closeEventModal()" class="px-4 py-2 bg-gray-300 text-gray-700 rounded-md hover:bg-gray-400"&gt;キャンセル&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;button type="submit" class="px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700"&gt;保存&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/form&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>`;</p>
<p class="p2"><span class="Apple-converted-space">            </span></p>
<p class="p1"><span class="Apple-converted-space">            </span>document.body.insertAdjacentHTML('beforeend', modal);</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// 色選択</p>
<p class="p1"><span class="Apple-converted-space">        </span>let selectedColor = 'blue';</p>
<p class="p1"><span class="Apple-converted-space">        </span>function selectColor(color) {</p>
<p class="p1"><span class="Apple-converted-space">            </span>selectedColor = color;</p>
<p class="p1"><span class="Apple-converted-space">            </span>document.getElementById('eventColor').value = color;</p>
<p class="p2"><span class="Apple-converted-space">            </span></p>
<p class="p1"><span class="Apple-converted-space">            </span>// ボタンのスタイルを更新</p>
<p class="p1"><span class="Apple-converted-space">            </span>document.querySelectorAll('#eventModal button[onclick^="selectColor"]').forEach(btn =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                </span>btn.classList.remove('ring-2', 'ring-offset-2');</p>
<p class="p1"><span class="Apple-converted-space">            </span>});</p>
<p class="p1"><span class="Apple-converted-space">            </span>event.target.classList.add('ring-2', 'ring-offset-2');</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// イベント保存</p>
<p class="p1"><span class="Apple-converted-space">        </span>function saveEvent(e, eventId) {</p>
<p class="p1"><span class="Apple-converted-space">            </span>e.preventDefault();</p>
<p class="p2"><span class="Apple-converted-space">            </span></p>
<p class="p1"><span class="Apple-converted-space">            </span>const title = document.getElementById('eventTitle').value;</p>
<p class="p1"><span class="Apple-converted-space">            </span>const date = document.getElementById('eventDate').value;</p>
<p class="p1"><span class="Apple-converted-space">            </span>const time = document.getElementById('eventTime').value;</p>
<p class="p1"><span class="Apple-converted-space">            </span>const type = document.getElementById('eventType').value;</p>
<p class="p1"><span class="Apple-converted-space">            </span>const color = document.getElementById('eventColor').value;</p>
<p class="p2"><span class="Apple-converted-space">            </span></p>
<p class="p1"><span class="Apple-converted-space">            </span>if (eventId) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>// 編集</p>
<p class="p1"><span class="Apple-converted-space">                </span>const eventIndex = calendarEvents.findIndex(event =&gt; event.id === eventId);</p>
<p class="p1"><span class="Apple-converted-space">                </span>if (eventIndex !== -1) {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>calendarEvents[eventIndex] = {</p>
<p class="p1"><span class="Apple-converted-space">                        </span>...calendarEvents[eventIndex],</p>
<p class="p1"><span class="Apple-converted-space">                        </span>title, date, time, type, color</p>
<p class="p1"><span class="Apple-converted-space">                    </span>};</p>
<p class="p1"><span class="Apple-converted-space">                </span>}</p>
<p class="p1"><span class="Apple-converted-space">            </span>} else {</p>
<p class="p1"><span class="Apple-converted-space">                </span>// 新規作成</p>
<p class="p1"><span class="Apple-converted-space">                </span>const newEvent = {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>id: Math.max(...calendarEvents.map(e =&gt; e.id), 0) + 1,</p>
<p class="p1"><span class="Apple-converted-space">                    </span>title, date, time, type, color</p>
<p class="p1"><span class="Apple-converted-space">                </span>};</p>
<p class="p1"><span class="Apple-converted-space">                </span>calendarEvents.push(newEvent);</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p2"><span class="Apple-converted-space">            </span></p>
<p class="p1"><span class="Apple-converted-space">            </span>renderCalendar();</p>
<p class="p1"><span class="Apple-converted-space">            </span>renderMiniCalendar();</p>
<p class="p1"><span class="Apple-converted-space">            </span>closeEventModal();</p>
<p class="p1"><span class="Apple-converted-space">            </span>showNotification('予定保存', eventId ? '予定を更新しました' : '新しい予定を追加しました');</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// イベント削除</p>
<p class="p1"><span class="Apple-converted-space">        </span>function deleteEvent(eventId) {</p>
<p class="p1"><span class="Apple-converted-space">            </span>if (confirm('この予定を削除しますか？')) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>const eventIndex = calendarEvents.findIndex(event =&gt; event.id === eventId);</p>
<p class="p1"><span class="Apple-converted-space">                </span>if (eventIndex !== -1) {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>calendarEvents.splice(eventIndex, 1);</p>
<p class="p1"><span class="Apple-converted-space">                    </span>renderCalendar();</p>
<p class="p1"><span class="Apple-converted-space">                    </span>renderMiniCalendar();</p>
<p class="p1"><span class="Apple-converted-space">                    </span>closeEventModal();</p>
<p class="p1"><span class="Apple-converted-space">                    </span>showNotification('予定削除', '予定を削除しました');</p>
<p class="p1"><span class="Apple-converted-space">                </span>}</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// モーダルを閉じる</p>
<p class="p1"><span class="Apple-converted-space">        </span>function closeEventModal() {</p>
<p class="p1"><span class="Apple-converted-space">            </span>const modal = document.getElementById('eventModal');</p>
<p class="p1"><span class="Apple-converted-space">            </span>if (modal) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>modal.remove();</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// 新規イベント追加（ボタンから）</p>
<p class="p1"><span class="Apple-converted-space">        </span>function addNewEvent() {</p>
<p class="p1"><span class="Apple-converted-space">            </span>const today = new Date().toISOString().split('T')[0];</p>
<p class="p1"><span class="Apple-converted-space">            </span>showEventModal(null, today);</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><span class="Apple-converted-space">        </span></p>
<p class="p1"><span class="Apple-converted-space">        </span>// ========== 請求管理機能 ==========</p>
<p class="p2"><span class="Apple-converted-space">        </span></p>
<p class="p1"><span class="Apple-converted-space">        </span>// 請求管理タブ切り替え</p>
<p class="p1"><span class="Apple-converted-space">        </span>function showBillingTab(tabName) {</p>
<p class="p1"><span class="Apple-converted-space">            </span>// 全タブコンテンツを非表示</p>
<p class="p1"><span class="Apple-converted-space">            </span>document.querySelectorAll('.billing-tab-content').forEach(content =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                </span>content.style.display = 'none';</p>
<p class="p1"><span class="Apple-converted-space">            </span>});</p>
<p class="p2"><span class="Apple-converted-space">            </span></p>
<p class="p1"><span class="Apple-converted-space">            </span>// 全タブボタンのアクティブ状態を解除</p>
<p class="p1"><span class="Apple-converted-space">            </span>document.querySelectorAll('.billing-tab').forEach(tab =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                </span>tab.classList.remove('billing-tab-active', 'text-blue-600', 'border-blue-600');</p>
<p class="p1"><span class="Apple-converted-space">                </span>tab.classList.add('text-gray-500', 'border-transparent');</p>
<p class="p1"><span class="Apple-converted-space">            </span>});</p>
<p class="p2"><span class="Apple-converted-space">            </span></p>
<p class="p1"><span class="Apple-converted-space">            </span>// タブ名のマッピング（新しいタブ名に対応）</p>
<p class="p1"><span class="Apple-converted-space">            </span>const tabMapping = {</p>
<p class="p1"><span class="Apple-converted-space">                </span>'purchase': 'purchaseTab',</p>
<p class="p1"><span class="Apple-converted-space">                </span>'commission': 'commissionTab',</p>
<p class="p1"><span class="Apple-converted-space">                </span>'payment': 'paymentTab',</p>
<p class="p1"><span class="Apple-converted-space">                </span>'analysis': 'analysisTab',</p>
<p class="p1"><span class="Apple-converted-space">                </span>// 互換性のため古いタブ名も残す</p>
<p class="p1"><span class="Apple-converted-space">                </span>'referral': 'purchaseTab',</p>
<p class="p1"><span class="Apple-converted-space">                </span>'success': 'commissionTab',</p>
<p class="p1"><span class="Apple-converted-space">                </span>'invoices': 'paymentTab',</p>
<p class="p1"><span class="Apple-converted-space">                </span>'schedule': 'analysisTab'</p>
<p class="p1"><span class="Apple-converted-space">            </span>};</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>// 選択されたタブを表示</p>
<p class="p1"><span class="Apple-converted-space">            </span>const tabId = tabMapping[tabName] || (tabName + 'Tab');</p>
<p class="p1"><span class="Apple-converted-space">            </span>const selectedContent = document.getElementById(tabId);</p>
<p class="p1"><span class="Apple-converted-space">            </span>if (selectedContent) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>selectedContent.style.display = 'block';</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p2"><span class="Apple-converted-space">            </span></p>
<p class="p1"><span class="Apple-converted-space">            </span>// 選択されたタブボタンをアクティブに</p>
<p class="p1"><span class="Apple-converted-space">            </span>const selectedTab = document.querySelector(`[data-tab="${tabName}"]`);</p>
<p class="p1"><span class="Apple-converted-space">            </span>if (selectedTab) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>selectedTab.classList.remove('text-gray-500', 'border-transparent');</p>
<p class="p1"><span class="Apple-converted-space">                </span>selectedTab.classList.add('billing-tab-active', 'text-blue-600', 'border-blue-600');</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// 財務データ更新関数</p>
<p class="p1"><span class="Apple-converted-space">        </span>function updateFinancialData(month) {</p>
<p class="p1"><span class="Apple-converted-space">            </span>const date = new Date(month + '-01');</p>
<p class="p1"><span class="Apple-converted-space">            </span>const monthNum = date.getMonth() + 1;</p>
<p class="p1"><span class="Apple-converted-space">            </span>const year = date.getFullYear();</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>// サマリーカードを更新</p>
<p class="p1"><span class="Apple-converted-space">            </span>const referralFeeMonth = document.getElementById('referralFeeMonth');</p>
<p class="p1"><span class="Apple-converted-space">            </span>if (referralFeeMonth) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>referralFeeMonth.textContent = `${monthNum}月紹介料`;</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p1"><span class="Apple-converted-space">            </span>const commissionMonth = document.getElementById('commissionMonth');</p>
<p class="p1"><span class="Apple-converted-space">            </span>if (commissionMonth) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>commissionMonth.textContent = `${monthNum}月成約手数料`;</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p1"><span class="Apple-converted-space">            </span>const roiLabel = document.getElementById('roiLabel');</p>
<p class="p1"><span class="Apple-converted-space">            </span>if (roiLabel) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>roiLabel.textContent = `${monthNum}月ROI`;</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>// テーブルデータをフィルタリング（実際にはサーバーから取得）</p>
<p class="p1"><span class="Apple-converted-space">            </span>const tbody = document.getElementById('referralFeeTableBody');</p>
<p class="p1"><span class="Apple-converted-space">            </span>if (tbody) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>const rows = tbody.getElementsByTagName('tr');</p>
<p class="p1"><span class="Apple-converted-space">                </span>for (let row of rows) {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>const dateCell = row.cells[0];</p>
<p class="p1"><span class="Apple-converted-space">                    </span>if (dateCell) {</p>
<p class="p1"><span class="Apple-converted-space">                        </span>const rowDate = new Date(dateCell.textContent);</p>
<p class="p1"><span class="Apple-converted-space">                        </span>const rowMonth = rowDate.getMonth() + 1;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>const rowYear = rowDate.getFullYear();</p>
<p class="p1"><span class="Apple-converted-space">                        </span>if (rowMonth === monthNum &amp;&amp; rowYear === year) {</p>
<p class="p1"><span class="Apple-converted-space">                            </span>row.style.display = '';</p>
<p class="p1"><span class="Apple-converted-space">                        </span>} else {</p>
<p class="p1"><span class="Apple-converted-space">                            </span>row.style.display = 'none';</p>
<p class="p1"><span class="Apple-converted-space">                        </span>}</p>
<p class="p1"><span class="Apple-converted-space">                    </span>}</p>
<p class="p1"><span class="Apple-converted-space">                </span>}</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>// 各タブのデータも更新</p>
<p class="p1"><span class="Apple-converted-space">            </span>updateAllFinancialTabs(month);</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// デポジット管理関数</p>
<p class="p1"><span class="Apple-converted-space">        </span>function showDepositModal() {</p>
<p class="p1"><span class="Apple-converted-space">            </span>const quantity = prompt('購入するデポジット数（件数）を入力してください:', '10');</p>
<p class="p1"><span class="Apple-converted-space">            </span>if (quantity &amp;&amp; !isNaN(quantity) &amp;&amp; quantity &gt; 0) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>const total = parseInt(quantity) * 22000;</p>
<p class="p1"><span class="Apple-converted-space">                </span>const today = new Date();</p>
<p class="p1"><span class="Apple-converted-space">                </span>const dueDate = new Date(today.getFullYear(), today.getMonth(), today.getDate() + 7);</p>
<p class="p1"><span class="Apple-converted-space">                </span>const message = `</p>
<p class="p1">デポジット${quantity}件分（¥${total.toLocaleString()}）の請求書を発行します。</p>
<p class="p2"><br></p>
<p class="p1">【請求内容】</p>
<p class="p1">・デポジット：${quantity}件 × ¥22,000 = ¥${total.toLocaleString()}</p>
<p class="p1">・支払期限：${dueDate.getFullYear()}年${dueDate.getMonth() + 1}月${dueDate.getDate()}日</p>
<p class="p1">・有効期限：入金確認の翌々月末まで</p>
<p class="p2"><br></p>
<p class="p1">【ご注意事項】</p>
<p class="p1">・入金確認後にデポジットが反映されます</p>
<p class="p1">・反映後、ランキングが1ランクUPします</p>
<p class="p1">・返金時の振込手数料はお客様負担となります</p>
<p class="p2"><br></p>
<p class="p1">請求書を発行してよろしいでしょうか？`;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>if (confirm(message)) {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>// 請求書発行の処理</p>
<p class="p1"><span class="Apple-converted-space">                    </span>const invoiceNo = 'INV-' + Date.now().toString().slice(-8);</p>
<p class="p1"><span class="Apple-converted-space">                    </span>alert(`請求書を発行しました。\n\n請求書番号：${invoiceNo}\nデポジット数：${quantity}件\n請求金額：¥${total.toLocaleString()}\n\n入金確認後、1営業日以内にデポジットが反映されます。`);</p>
<p class="p1"><span class="Apple-converted-space">                    </span>// 購入申請履歴に追加（実際はサーバー側で処理）</p>
<p class="p1"><span class="Apple-converted-space">                    </span>location.reload();</p>
<p class="p1"><span class="Apple-converted-space">                </span>}</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>function updateDepositSetting() {</p>
<p class="p1"><span class="Apple-converted-space">            </span>const selectedValue = document.querySelector('input[name="depositHandling"]:checked').value;</p>
<p class="p1"><span class="Apple-converted-space">            </span>const message = selectedValue === 'rollover'</p>
<p class="p1"><span class="Apple-converted-space">                </span>? '繰越設定に変更しました。期限切れ後も継続して利用できます。'</p>
<p class="p1"><span class="Apple-converted-space">                </span>: '返金設定に変更しました。期限切れ時に未使用分が返金されます。';</p>
<p class="p1"><span class="Apple-converted-space">            </span>alert(message);</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// 請求書ダウンロード機能</p>
<p class="p1"><span class="Apple-converted-space">        </span>function downloadInvoice(invoiceNo) {</p>
<p class="p1"><span class="Apple-converted-space">            </span>alert(`請求書（${invoiceNo}）のダウンロードを開始します。\n\n※実際の実装では、サーバーから請求書PDFを取得してダウンロードします。`);</p>
<p class="p1"><span class="Apple-converted-space">            </span>// 実際の実装では以下のような処理を行う</p>
<p class="p1"><span class="Apple-converted-space">            </span>// window.location.href = `/api/invoices/${invoiceNo}/download`;</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// デポジット履歴フィルター機能</p>
<p class="p1"><span class="Apple-converted-space">        </span>function filterDepositHistory() {</p>
<p class="p1"><span class="Apple-converted-space">            </span>const typeFilter = document.getElementById('depositTypeFilter').value;</p>
<p class="p1"><span class="Apple-converted-space">            </span>const monthFilter = document.getElementById('depositMonthFilter').value;</p>
<p class="p1"><span class="Apple-converted-space">            </span>const rows = document.querySelectorAll('.deposit-row');</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>rows.forEach(row =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                </span>const rowType = row.getAttribute('data-type');</p>
<p class="p1"><span class="Apple-converted-space">                </span>const rowDate = row.getAttribute('data-date');</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>let showRow = true;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>// 種別フィルター</p>
<p class="p1"><span class="Apple-converted-space">                </span>if (typeFilter !== 'all' &amp;&amp; rowType !== typeFilter) {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>showRow = false;</p>
<p class="p1"><span class="Apple-converted-space">                </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>// 月フィルター</p>
<p class="p1"><span class="Apple-converted-space">                </span>if (monthFilter &amp;&amp; rowDate !== monthFilter) {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>showRow = false;</p>
<p class="p1"><span class="Apple-converted-space">                </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>// 表示/非表示</p>
<p class="p1"><span class="Apple-converted-space">                </span>row.style.display = showRow ? '' : 'none';</p>
<p class="p1"><span class="Apple-converted-space">            </span>});</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// デポジット金額計算</p>
<p class="p1"><span class="Apple-converted-space">        </span>document.addEventListener('DOMContentLoaded', function() {</p>
<p class="p1"><span class="Apple-converted-space">            </span>const depositInput = document.getElementById('depositAmount');</p>
<p class="p1"><span class="Apple-converted-space">            </span>const depositTotal = document.getElementById('depositTotal');</p>
<p class="p1"><span class="Apple-converted-space">            </span>if (depositInput &amp;&amp; depositTotal) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>depositInput.addEventListener('input', function() {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>const amount = parseInt(this.value) || 0;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>const total = amount * 22000;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>depositTotal.textContent = '¥' + total.toLocaleString();</p>
<p class="p1"><span class="Apple-converted-space">                </span>});</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>})</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// 全財務タブのデータ更新</p>
<p class="p1"><span class="Apple-converted-space">        </span>function updateAllFinancialTabs(month) {</p>
<p class="p1"><span class="Apple-converted-space">            </span>// 成約手数料、支払履歴、収支分析タブも更新</p>
<p class="p1"><span class="Apple-converted-space">            </span>console.log('全財務タブを' + month + 'に更新');</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// 紹介料計算</p>
<p class="p1"><span class="Apple-converted-space">        </span>function calculateReferralFee(projectType, buildingType, floors, competitors) {</p>
<p class="p1"><span class="Apple-converted-space">            </span>let baseFee = 0;</p>
<p class="p1"><span class="Apple-converted-space">            </span>const TAX_RATE = 0.10;</p>
<p class="p2"><span class="Apple-converted-space">            </span></p>
<p class="p1"><span class="Apple-converted-space">            </span>// アパート・マンション3階以上の特別料金</p>
<p class="p1"><span class="Apple-converted-space">            </span>if (buildingType === 'apartment' &amp;&amp; floors &gt;= 3) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>if (projectType.includes('外壁')) {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>baseFee = 30000;</p>
<p class="p1"><span class="Apple-converted-space">                </span>}</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p1"><span class="Apple-converted-space">            </span>// 単品項目（相見積もり）</p>
<p class="p1"><span class="Apple-converted-space">            </span>else if (competitors &gt; 1) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>if (projectType === '屋根塗装' || projectType === '屋上防水') {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>baseFee = 10000;</p>
<p class="p1"><span class="Apple-converted-space">                </span>} else if (projectType === '外壁補修' || projectType === '屋根補修' || projectType === 'ベランダ防水') {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>baseFee = 5000;</p>
<p class="p1"><span class="Apple-converted-space">                </span>}</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p1"><span class="Apple-converted-space">            </span>// 基本項目</p>
<p class="p1"><span class="Apple-converted-space">            </span>else {</p>
<p class="p1"><span class="Apple-converted-space">                </span>baseFee = 20000;</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p2"><span class="Apple-converted-space">            </span></p>
<p class="p1"><span class="Apple-converted-space">            </span>const tax = Math.floor(baseFee * TAX_RATE);</p>
<p class="p1"><span class="Apple-converted-space">            </span>return {</p>
<p class="p1"><span class="Apple-converted-space">                </span>base: baseFee,</p>
<p class="p1"><span class="Apple-converted-space">                </span>tax: tax,</p>
<p class="p1"><span class="Apple-converted-space">                </span>total: baseFee + tax</p>
<p class="p1"><span class="Apple-converted-space">            </span>};</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><span class="Apple-converted-space">        </span></p>
<p class="p1"><span class="Apple-converted-space">        </span>// 成約手数料計算</p>
<p class="p1"><span class="Apple-converted-space">        </span>function calculateSuccessFee(contractAmount, rate = 0.10) {</p>
<p class="p1"><span class="Apple-converted-space">            </span>const TAX_RATE = 0.10;</p>
<p class="p1"><span class="Apple-converted-space">            </span>const baseFee = Math.floor(contractAmount * rate);</p>
<p class="p1"><span class="Apple-converted-space">            </span>const tax = Math.floor(baseFee * TAX_RATE);</p>
<p class="p2"><span class="Apple-converted-space">            </span></p>
<p class="p1"><span class="Apple-converted-space">            </span>return {</p>
<p class="p1"><span class="Apple-converted-space">                </span>base: baseFee,</p>
<p class="p1"><span class="Apple-converted-space">                </span>tax: tax,</p>
<p class="p1"><span class="Apple-converted-space">                </span>total: baseFee + tax,</p>
<p class="p1"><span class="Apple-converted-space">                </span>rate: rate</p>
<p class="p1"><span class="Apple-converted-space">            </span>};</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><span class="Apple-converted-space">        </span></p>
<p class="p1"><span class="Apple-converted-space">        </span>// 支払予定日計算（土日祝日の後ろ倒し）</p>
<p class="p1"><span class="Apple-converted-space">        </span>function calculatePaymentDate(paymentMethod) {</p>
<p class="p1"><span class="Apple-converted-space">            </span>const today = new Date();</p>
<p class="p1"><span class="Apple-converted-space">            </span>const nextMonth = new Date(today.getFullYear(), today.getMonth() + 1, 1);</p>
<p class="p1"><span class="Apple-converted-space">            </span>let paymentDate;</p>
<p class="p2"><span class="Apple-converted-space">            </span></p>
<p class="p1"><span class="Apple-converted-space">            </span>if (paymentMethod === 'BANK_TRANSFER') {</p>
<p class="p1"><span class="Apple-converted-space">                </span>// 翌月15日</p>
<p class="p1"><span class="Apple-converted-space">                </span>paymentDate = new Date(nextMonth.getFullYear(), nextMonth.getMonth(), 15);</p>
<p class="p1"><span class="Apple-converted-space">            </span>} else {</p>
<p class="p1"><span class="Apple-converted-space">                </span>// 翌月27日（口座振替）</p>
<p class="p1"><span class="Apple-converted-space">                </span>paymentDate = new Date(nextMonth.getFullYear(), nextMonth.getMonth(), 27);</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p2"><span class="Apple-converted-space">            </span></p>
<p class="p1"><span class="Apple-converted-space">            </span>// 土日祝日チェック（簡易版）</p>
<p class="p1"><span class="Apple-converted-space">            </span>while (paymentDate.getDay() === 0 || paymentDate.getDay() === 6) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>paymentDate.setDate(paymentDate.getDate() + 1);</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p2"><span class="Apple-converted-space">            </span></p>
<p class="p1"><span class="Apple-converted-space">            </span>// 祝日チェック</p>
<p class="p1"><span class="Apple-converted-space">            </span>const holidayStr = paymentDate.toISOString().split('T')[0];</p>
<p class="p1"><span class="Apple-converted-space">            </span>if (japaneseHolidays[holidayStr]) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>paymentDate.setDate(paymentDate.getDate() + 1);</p>
<p class="p1"><span class="Apple-converted-space">                </span>// 再度土日チェック</p>
<p class="p1"><span class="Apple-converted-space">                </span>while (paymentDate.getDay() === 0 || paymentDate.getDay() === 6) {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>paymentDate.setDate(paymentDate.getDate() + 1);</p>
<p class="p1"><span class="Apple-converted-space">                </span>}</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p2"><span class="Apple-converted-space">            </span></p>
<p class="p1"><span class="Apple-converted-space">            </span>return paymentDate;</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><span class="Apple-converted-space">        </span></p>
<p class="p1"><span class="Apple-converted-space">        </span>// 請求書発行</p>
<p class="p1"><span class="Apple-converted-space">        </span>function issueInvoice(invoiceId) {</p>
<p class="p1"><span class="Apple-converted-space">            </span>if (confirm('請求書を発行しますか？')) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>// ステータスを更新（デモ）</p>
<p class="p1"><span class="Apple-converted-space">                </span>const statusCell = document.querySelector(`[value="${invoiceId}"]`).closest('tr').querySelector('.bg-yellow-100');</p>
<p class="p1"><span class="Apple-converted-space">                </span>if (statusCell) {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>statusCell.classList.remove('bg-yellow-100', 'text-yellow-800');</p>
<p class="p1"><span class="Apple-converted-space">                    </span>statusCell.classList.add('bg-green-100', 'text-green-800');</p>
<p class="p1"><span class="Apple-converted-space">                    </span>statusCell.textContent = '発行済';</p>
<p class="p1"><span class="Apple-converted-space">                </span>}</p>
<p class="p2"><span class="Apple-converted-space">                </span></p>
<p class="p1"><span class="Apple-converted-space">                </span>showNotification('請求書発行', `請求書 ${invoiceId} を発行しました`);</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><span class="Apple-converted-space">        </span></p>
<p class="p1"><span class="Apple-converted-space">        </span>// 成約手数料請求書発行</p>
<p class="p1"><span class="Apple-converted-space">        </span>function issueSuccessFee(feeId) {</p>
<p class="p1"><span class="Apple-converted-space">            </span>if (confirm('成約手数料の請求書を発行しますか？')) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>showNotification('成約手数料請求', `請求書を発行しました（${feeId}）`);</p>
<p class="p2"><span class="Apple-converted-space">                </span></p>
<p class="p1"><span class="Apple-converted-space">                </span>// 行を非表示に（デモ）</p>
<p class="p1"><span class="Apple-converted-space">                </span>const row = document.querySelector(`button[onclick="issueSuccessFee('${feeId}')"]`).closest('tr');</p>
<p class="p1"><span class="Apple-converted-space">                </span>if (row) {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>row.style.opacity = '0.5';</p>
<p class="p1"><span class="Apple-converted-space">                    </span>setTimeout(() =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                        </span>row.style.display = 'none';</p>
<p class="p1"><span class="Apple-converted-space">                    </span>}, 500);</p>
<p class="p1"><span class="Apple-converted-space">                </span>}</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><span class="Apple-converted-space">        </span></p>
<p class="p1"><span class="Apple-converted-space">        </span>// 手動発行</p>
<p class="p1"><span class="Apple-converted-space">        </span>function manualIssueSuccessFee(feeId) {</p>
<p class="p1"><span class="Apple-converted-space">            </span>const reason = prompt('手動発行の理由を入力してください：');</p>
<p class="p1"><span class="Apple-converted-space">            </span>if (reason) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>issueSuccessFee(feeId);</p>
<p class="p1"><span class="Apple-converted-space">                </span>console.log('手動発行理由:', reason);</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><span class="Apple-converted-space">        </span></p>
<p class="p1"><span class="Apple-converted-space">        </span>// 月次請求書一括発行</p>
<p class="p1"><span class="Apple-converted-space">        </span>function generateMonthlyInvoices() {</p>
<p class="p1"><span class="Apple-converted-space">            </span>const checkedBoxes = document.querySelectorAll('.invoice-checkbox:checked');</p>
<p class="p1"><span class="Apple-converted-space">            </span>if (checkedBoxes.length === 0) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>alert('発行する請求書を選択してください');</p>
<p class="p1"><span class="Apple-converted-space">                </span>return;</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p2"><span class="Apple-converted-space">            </span></p>
<p class="p1"><span class="Apple-converted-space">            </span>if (confirm(`${checkedBoxes.length}件の請求書を一括発行しますか？`)) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>checkedBoxes.forEach(checkbox =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>issueInvoice(checkbox.value);</p>
<p class="p1"><span class="Apple-converted-space">                </span>});</p>
<p class="p1"><span class="Apple-converted-space">                </span>showNotification('一括発行完了', `${checkedBoxes.length}件の請求書を発行しました`);</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><span class="Apple-converted-space">        </span></p>
<p class="p1"><span class="Apple-converted-space">        </span>// 全選択</p>
<p class="p1"><span class="Apple-converted-space">        </span>function selectAllInvoices(checkbox) {</p>
<p class="p1"><span class="Apple-converted-space">            </span>document.querySelectorAll('.invoice-checkbox').forEach(cb =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                </span>cb.checked = checkbox.checked;</p>
<p class="p1"><span class="Apple-converted-space">            </span>});</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><span class="Apple-converted-space">        </span></p>
<p class="p1"><span class="Apple-converted-space">        </span>// 請求書詳細表示</p>
<p class="p1"><span class="Apple-converted-space">        </span>function showInvoiceDetail(invoiceId) {</p>
<p class="p1"><span class="Apple-converted-space">            </span>alert(`請求書詳細: ${invoiceId}\n\n実装予定：\n- 明細表示\n- 編集機能\n- メール送信`);</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><span class="Apple-converted-space">        </span></p>
<p class="p1"><span class="Apple-converted-space">        </span>// PDF出力</p>
<p class="p1"><span class="Apple-converted-space">        </span>function downloadPDF(invoiceId) {</p>
<p class="p1"><span class="Apple-converted-space">            </span>showNotification('PDF出力', `${invoiceId}.pdf をダウンロードしました`);</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><span class="Apple-converted-space">        </span></p>
<p class="p1"><span class="Apple-converted-space">        </span>// 財務レポート CSV出力</p>
<p class="p1"><span class="Apple-converted-space">        </span>function exportFinancialReport() {</p>
<p class="p1"><span class="Apple-converted-space">            </span>const data = [</p>
<p class="p1"><span class="Apple-converted-space">                </span>['購入日', '案件ID', '顧客名', 'エリア', '購入金額', '成約金額', '手数料', 'ROI'],</p>
<p class="p1"><span class="Apple-converted-space">                </span>['2025-01-15', 'C2025-001', '田中様', '東京都渋谷区', '85000', '', '', ''],</p>
<p class="p1"><span class="Apple-converted-space">                </span>['2025-01-10', 'C2025-002', '佐藤様', '神奈川県川崎市', '22000', '1200000', '132000', '475%'],</p>
<p class="p1"><span class="Apple-converted-space">                </span>['2025-01-08', 'C2025-003', '鈴木様', '埼玉県越谷市', '80000', '800000', '80000', '100%']</p>
<p class="p1"><span class="Apple-converted-space">            </span>];</p>
<p class="p2"><span class="Apple-converted-space">            </span></p>
<p class="p1"><span class="Apple-converted-space">            </span>const csv = data.map(row =&gt; row.join(',')).join('\n');</p>
<p class="p1"><span class="Apple-converted-space">            </span>const blob = new Blob([csv], { type: 'text/csv' });</p>
<p class="p1"><span class="Apple-converted-space">            </span>const url = URL.createObjectURL(blob);</p>
<p class="p1"><span class="Apple-converted-space">            </span>const a = document.createElement('a');</p>
<p class="p1"><span class="Apple-converted-space">            </span>a.href = url;</p>
<p class="p1"><span class="Apple-converted-space">            </span>a.download = `invoices_${new Date().toISOString().split('T')[0]}.csv`;</p>
<p class="p1"><span class="Apple-converted-space">            </span>a.click();</p>
<p class="p2"><span class="Apple-converted-space">            </span></p>
<p class="p1"><span class="Apple-converted-space">            </span>showNotification('CSV出力', '請求書一覧をCSVで出力しました');</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// レポート用のグラフ初期化</p>
<p class="p1"><span class="Apple-converted-space">        </span>let salesChart = null;</p>
<p class="p1"><span class="Apple-converted-space">        </span>let conversionChart = null;</p>
<p class="p1"><span class="Apple-converted-space">        </span>let leadTimeChart = null;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// レポート更新関数</p>
<p class="p1"><span class="Apple-converted-space">        </span>function updateReports() {</p>
<p class="p1"><span class="Apple-converted-space">            </span>const period = document.getElementById('reportPeriod').value;</p>
<p class="p1"><span class="Apple-converted-space">            </span>// 期間に応じたデータ取得と更新処理</p>
<p class="p1"><span class="Apple-converted-space">            </span>renderCharts();</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// グラフ描画関数</p>
<p class="p1"><span class="Apple-converted-space">        </span>function renderCharts() {</p>
<p class="p1"><span class="Apple-converted-space">            </span>// 売上推移グラフ</p>
<p class="p1"><span class="Apple-converted-space">            </span>const salesCtx = document.getElementById('salesChart');</p>
<p class="p1"><span class="Apple-converted-space">            </span>if (salesCtx) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>if (salesChart) {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>salesChart.destroy();</p>
<p class="p1"><span class="Apple-converted-space">                </span>}</p>
<p class="p1"><span class="Apple-converted-space">                </span>salesChart = new Chart(salesCtx, {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>type: 'line',</p>
<p class="p1"><span class="Apple-converted-space">                    </span>data: {</p>
<p class="p1"><span class="Apple-converted-space">                        </span>labels: ['1月', '2月', '3月', '4月', '5月', '6月'],</p>
<p class="p1"><span class="Apple-converted-space">                        </span>datasets: [{</p>
<p class="p1"><span class="Apple-converted-space">                            </span>label: '売上（千円）',</p>
<p class="p1"><span class="Apple-converted-space">                            </span>data: [6200, 7500, 6800, 8450, 7900, 8450],</p>
<p class="p1"><span class="Apple-converted-space">                            </span>borderColor: 'rgb(59, 130, 246)',</p>
<p class="p1"><span class="Apple-converted-space">                            </span>backgroundColor: 'rgba(59, 130, 246, 0.1)',</p>
<p class="p1"><span class="Apple-converted-space">                            </span>tension: 0.3</p>
<p class="p1"><span class="Apple-converted-space">                        </span>}]</p>
<p class="p1"><span class="Apple-converted-space">                    </span>},</p>
<p class="p1"><span class="Apple-converted-space">                    </span>options: {</p>
<p class="p1"><span class="Apple-converted-space">                        </span>responsive: true,</p>
<p class="p1"><span class="Apple-converted-space">                        </span>maintainAspectRatio: false,</p>
<p class="p1"><span class="Apple-converted-space">                        </span>plugins: {</p>
<p class="p1"><span class="Apple-converted-space">                            </span>legend: {</p>
<p class="p1"><span class="Apple-converted-space">                                </span>display: false</p>
<p class="p1"><span class="Apple-converted-space">                            </span>}</p>
<p class="p1"><span class="Apple-converted-space">                        </span>},</p>
<p class="p1"><span class="Apple-converted-space">                        </span>scales: {</p>
<p class="p1"><span class="Apple-converted-space">                            </span>y: {</p>
<p class="p1"><span class="Apple-converted-space">                                </span>beginAtZero: true,</p>
<p class="p1"><span class="Apple-converted-space">                                </span>ticks: {</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>callback: function(value) {</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>return '¥' + value.toLocaleString();</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>}</p>
<p class="p1"><span class="Apple-converted-space">                                </span>}</p>
<p class="p1"><span class="Apple-converted-space">                            </span>}</p>
<p class="p1"><span class="Apple-converted-space">                        </span>}</p>
<p class="p1"><span class="Apple-converted-space">                    </span>}</p>
<p class="p1"><span class="Apple-converted-space">                </span>});</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>// 成約率推移グラフ</p>
<p class="p1"><span class="Apple-converted-space">            </span>const conversionCtx = document.getElementById('conversionChart');</p>
<p class="p1"><span class="Apple-converted-space">            </span>if (conversionCtx) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>if (conversionChart) {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>conversionChart.destroy();</p>
<p class="p1"><span class="Apple-converted-space">                </span>}</p>
<p class="p1"><span class="Apple-converted-space">                </span>conversionChart = new Chart(conversionCtx, {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>type: 'bar',</p>
<p class="p1"><span class="Apple-converted-space">                    </span>data: {</p>
<p class="p1"><span class="Apple-converted-space">                        </span>labels: ['1月', '2月', '3月', '4月', '5月', '6月'],</p>
<p class="p1"><span class="Apple-converted-space">                        </span>datasets: [{</p>
<p class="p1"><span class="Apple-converted-space">                            </span>label: '成約率（%）',</p>
<p class="p1"><span class="Apple-converted-space">                            </span>data: [65, 62, 68, 70, 67, 68.5],</p>
<p class="p1"><span class="Apple-converted-space">                            </span>backgroundColor: [</p>
<p class="p1"><span class="Apple-converted-space">                                </span>'rgba(34, 197, 94, 0.8)',</p>
<p class="p1"><span class="Apple-converted-space">                                </span>'rgba(34, 197, 94, 0.8)',</p>
<p class="p1"><span class="Apple-converted-space">                                </span>'rgba(34, 197, 94, 0.8)',</p>
<p class="p1"><span class="Apple-converted-space">                                </span>'rgba(34, 197, 94, 0.8)',</p>
<p class="p1"><span class="Apple-converted-space">                                </span>'rgba(34, 197, 94, 0.8)',</p>
<p class="p1"><span class="Apple-converted-space">                                </span>'rgba(34, 197, 94, 0.8)'</p>
<p class="p1"><span class="Apple-converted-space">                            </span>]</p>
<p class="p1"><span class="Apple-converted-space">                        </span>}]</p>
<p class="p1"><span class="Apple-converted-space">                    </span>},</p>
<p class="p1"><span class="Apple-converted-space">                    </span>options: {</p>
<p class="p1"><span class="Apple-converted-space">                        </span>responsive: true,</p>
<p class="p1"><span class="Apple-converted-space">                        </span>maintainAspectRatio: false,</p>
<p class="p1"><span class="Apple-converted-space">                        </span>plugins: {</p>
<p class="p1"><span class="Apple-converted-space">                            </span>legend: {</p>
<p class="p1"><span class="Apple-converted-space">                                </span>display: false</p>
<p class="p1"><span class="Apple-converted-space">                            </span>}</p>
<p class="p1"><span class="Apple-converted-space">                        </span>},</p>
<p class="p1"><span class="Apple-converted-space">                        </span>scales: {</p>
<p class="p1"><span class="Apple-converted-space">                            </span>y: {</p>
<p class="p1"><span class="Apple-converted-space">                                </span>beginAtZero: true,</p>
<p class="p1"><span class="Apple-converted-space">                                </span>max: 100,</p>
<p class="p1"><span class="Apple-converted-space">                                </span>ticks: {</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>callback: function(value) {</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>return value + '%';</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>}</p>
<p class="p1"><span class="Apple-converted-space">                                </span>}</p>
<p class="p1"><span class="Apple-converted-space">                            </span>}</p>
<p class="p1"><span class="Apple-converted-space">                        </span>}</p>
<p class="p1"><span class="Apple-converted-space">                    </span>}</p>
<p class="p1"><span class="Apple-converted-space">                </span>});</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>// リードタイムチャート</p>
<p class="p1"><span class="Apple-converted-space">            </span>const leadTimeCtx = document.getElementById('leadTimeChart');</p>
<p class="p1"><span class="Apple-converted-space">            </span>if (leadTimeCtx) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>if (leadTimeChart) {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>leadTimeChart.destroy();</p>
<p class="p1"><span class="Apple-converted-space">                </span>}</p>
<p class="p1"><span class="Apple-converted-space">                </span>leadTimeChart = new Chart(leadTimeCtx, {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>type: 'line',</p>
<p class="p1"><span class="Apple-converted-space">                    </span>data: {</p>
<p class="p1"><span class="Apple-converted-space">                        </span>labels: ['1月', '2月', '3月', '4月', '5月', '6月'],</p>
<p class="p1"><span class="Apple-converted-space">                        </span>datasets: [</p>
<p class="p1"><span class="Apple-converted-space">                            </span>{</p>
<p class="p1"><span class="Apple-converted-space">                                </span>label: '問合せ→調査',</p>
<p class="p1"><span class="Apple-converted-space">                                </span>data: [3.5, 3.8, 3.2, 3.0, 3.1, 3.2],</p>
<p class="p1"><span class="Apple-converted-space">                                </span>borderColor: 'rgb(59, 130, 246)',</p>
<p class="p1"><span class="Apple-converted-space">                                </span>backgroundColor: 'rgba(59, 130, 246, 0.1)',</p>
<p class="p1"><span class="Apple-converted-space">                                </span>tension: 0.3</p>
<p class="p1"><span class="Apple-converted-space">                            </span>},</p>
<p class="p1"><span class="Apple-converted-space">                            </span>{</p>
<p class="p1"><span class="Apple-converted-space">                                </span>label: '調査→見積',</p>
<p class="p1"><span class="Apple-converted-space">                                </span>data: [3.0, 2.9, 3.1, 2.7, 2.8, 2.8],</p>
<p class="p1"><span class="Apple-converted-space">                                </span>borderColor: 'rgb(34, 197, 94)',</p>
<p class="p1"><span class="Apple-converted-space">                                </span>backgroundColor: 'rgba(34, 197, 94, 0.1)',</p>
<p class="p1"><span class="Apple-converted-space">                                </span>tension: 0.3</p>
<p class="p1"><span class="Apple-converted-space">                            </span>},</p>
<p class="p1"><span class="Apple-converted-space">                            </span>{</p>
<p class="p1"><span class="Apple-converted-space">                                </span>label: '見積→成約',</p>
<p class="p1"><span class="Apple-converted-space">                                </span>data: [6.0, 5.8, 5.5, 5.2, 5.3, 5.5],</p>
<p class="p1"><span class="Apple-converted-space">                                </span>borderColor: 'rgb(168, 85, 247)',</p>
<p class="p1"><span class="Apple-converted-space">                                </span>backgroundColor: 'rgba(168, 85, 247, 0.1)',</p>
<p class="p1"><span class="Apple-converted-space">                                </span>tension: 0.3</p>
<p class="p1"><span class="Apple-converted-space">                            </span>}</p>
<p class="p1"><span class="Apple-converted-space">                        </span>]</p>
<p class="p1"><span class="Apple-converted-space">                    </span>},</p>
<p class="p1"><span class="Apple-converted-space">                    </span>options: {</p>
<p class="p1"><span class="Apple-converted-space">                        </span>responsive: true,</p>
<p class="p1"><span class="Apple-converted-space">                        </span>maintainAspectRatio: false,</p>
<p class="p1"><span class="Apple-converted-space">                        </span>plugins: {</p>
<p class="p1"><span class="Apple-converted-space">                            </span>legend: {</p>
<p class="p1"><span class="Apple-converted-space">                                </span>position: 'bottom',</p>
<p class="p1"><span class="Apple-converted-space">                                </span>labels: {</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>font: {</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>size: 10</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>}</p>
<p class="p1"><span class="Apple-converted-space">                                </span>}</p>
<p class="p1"><span class="Apple-converted-space">                            </span>},</p>
<p class="p1"><span class="Apple-converted-space">                            </span>tooltip: {</p>
<p class="p1"><span class="Apple-converted-space">                                </span>callbacks: {</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>label: function(context) {</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>return context.dataset.label + ': ' + context.parsed.y + '日';</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>}</p>
<p class="p1"><span class="Apple-converted-space">                                </span>}</p>
<p class="p1"><span class="Apple-converted-space">                            </span>}</p>
<p class="p1"><span class="Apple-converted-space">                        </span>},</p>
<p class="p1"><span class="Apple-converted-space">                        </span>scales: {</p>
<p class="p1"><span class="Apple-converted-space">                            </span>y: {</p>
<p class="p1"><span class="Apple-converted-space">                                </span>beginAtZero: true,</p>
<p class="p1"><span class="Apple-converted-space">                                </span>ticks: {</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>callback: function(value) {</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>return value + '日';</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>}</p>
<p class="p1"><span class="Apple-converted-space">                                </span>}</p>
<p class="p1"><span class="Apple-converted-space">                            </span>}</p>
<p class="p1"><span class="Apple-converted-space">                        </span>}</p>
<p class="p1"><span class="Apple-converted-space">                    </span>}</p>
<p class="p1"><span class="Apple-converted-space">                </span>});</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// リードタイム表示切替（平均/中央値）</p>
<p class="p1"><span class="Apple-converted-space">        </span>function updateLeadTimeDisplay() {</p>
<p class="p1"><span class="Apple-converted-space">            </span>const showMedian = document.getElementById('showMedian').checked;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>if (showMedian) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>document.getElementById('leadTime1').textContent = '3.0日';</p>
<p class="p1"><span class="Apple-converted-space">                </span>document.getElementById('leadTime2').textContent = '2.5日';</p>
<p class="p1"><span class="Apple-converted-space">                </span>document.getElementById('leadTime3').textContent = '5.0日';</p>
<p class="p1"><span class="Apple-converted-space">            </span>} else {</p>
<p class="p1"><span class="Apple-converted-space">                </span>document.getElementById('leadTime1').textContent = '3.2日';</p>
<p class="p1"><span class="Apple-converted-space">                </span>document.getElementById('leadTime2').textContent = '2.8日';</p>
<p class="p1"><span class="Apple-converted-space">                </span>document.getElementById('leadTime3').textContent = '5.5日';</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// レポートエクスポート関数</p>
<p class="p1"><span class="Apple-converted-space">        </span>function exportReport() {</p>
<p class="p1"><span class="Apple-converted-space">            </span>const period = document.getElementById('reportPeriod').value;</p>
<p class="p1"><span class="Apple-converted-space">            </span>const periodText = document.getElementById('reportPeriod').options[document.getElementById('reportPeriod').selectedIndex].text;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>// CSV形式でデータを生成</p>
<p class="p1"><span class="Apple-converted-space">            </span>let csvContent = "data:text/csv;charset=utf-8,";</p>
<p class="p1"><span class="Apple-converted-space">            </span>csvContent += "加盟店管理システム レポート - " + periodText + "\n\n";</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>// KPIサマリー</p>
<p class="p1"><span class="Apple-converted-space">            </span>csvContent += "KPIサマリー\n";</p>
<p class="p1"><span class="Apple-converted-space">            </span>csvContent += "項目,数値,前月比\n";</p>
<p class="p1"><span class="Apple-converted-space">            </span>csvContent += "総売上,¥8450000,+12%\n";</p>
<p class="p1"><span class="Apple-converted-space">            </span>csvContent += "成約率,68.5%,+5.2%\n";</p>
<p class="p1"><span class="Apple-converted-space">            </span>csvContent += "平均単価,¥952000,-3%\n";</p>
<p class="p1"><span class="Apple-converted-space">            </span>csvContent += "新規案件,42件,+8件\n\n";</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>// 営業別成績</p>
<p class="p1"><span class="Apple-converted-space">            </span>csvContent += "営業別成績\n";</p>
<p class="p1"><span class="Apple-converted-space">            </span>csvContent += "営業名,成約数,成約率,売上\n";</p>
<p class="p1"><span class="Apple-converted-space">            </span>csvContent += "田中太郎,12,75%,¥3200000\n";</p>
<p class="p1"><span class="Apple-converted-space">            </span>csvContent += "佐藤花子,8,62%,¥2100000\n";</p>
<p class="p1"><span class="Apple-converted-space">            </span>csvContent += "鈴木次郎,5,45%,¥1450000\n\n";</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>// エリア別成績</p>
<p class="p1"><span class="Apple-converted-space">            </span>csvContent += "エリア別成績\n";</p>
<p class="p1"><span class="Apple-converted-space">            </span>csvContent += "エリア,案件数,成約率,売上\n";</p>
<p class="p1"><span class="Apple-converted-space">            </span>csvContent += "東京都,18,72%,¥4200000\n";</p>
<p class="p1"><span class="Apple-converted-space">            </span>csvContent += "神奈川県,12,65%,¥2800000\n";</p>
<p class="p1"><span class="Apple-converted-space">            </span>csvContent += "埼玉県,8,58%,¥1450000\n";</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>// ダウンロード実行</p>
<p class="p1"><span class="Apple-converted-space">            </span>const encodedUri = encodeURI(csvContent);</p>
<p class="p1"><span class="Apple-converted-space">            </span>const link = document.createElement("a");</p>
<p class="p1"><span class="Apple-converted-space">            </span>link.setAttribute("href", encodedUri);</p>
<p class="p1"><span class="Apple-converted-space">            </span>link.setAttribute("download", "report_" + new Date().toISOString().split('T')[0] + ".csv");</p>
<p class="p1"><span class="Apple-converted-space">            </span>document.body.appendChild(link);</p>
<p class="p1"><span class="Apple-converted-space">            </span>link.click();</p>
<p class="p1"><span class="Apple-converted-space">            </span>document.body.removeChild(link);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>showNotification('レポート出力', 'CSVファイルをダウンロードしました');</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// セクション表示時にグラフを初期化</p>
<p class="p1"><span class="Apple-converted-space">        </span>const originalShowSection = showSection;</p>
<p class="p1"><span class="Apple-converted-space">        </span>showSection = function(section) {</p>
<p class="p1"><span class="Apple-converted-space">            </span>originalShowSection(section);</p>
<p class="p1"><span class="Apple-converted-space">            </span>if (section === 'reports') {</p>
<p class="p1"><span class="Apple-converted-space">                </span>setTimeout(() =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>renderCharts();</p>
<p class="p1"><span class="Apple-converted-space">                </span>}, 100);</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// 案件管理機能</p>
<p class="p1"><span class="Apple-converted-space">        </span>let currentCaseView = 'card'; // 'card' or 'list'</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// 案件データ（サンプル）</p>
<p class="p1"><span class="Apple-converted-space">        </span>const casesData = [</p>
<p class="p1"><span class="Apple-converted-space">            </span>{ id: 1, name: '山田太郎', location: '東京都世田谷区', propertyType: '戸建て・築15年', phone: '03-1234-5678', status: '未対応', assignee: '田中太郎', area: '東京都世田谷区', temperature: 4, lastContact: '2024/01/15 初回問い合わせ', nextAction: '2024/01/18 14:00 電話フォロー', age: 15 },</p>
<p class="p1"><span class="Apple-converted-space">            </span>{ id: 2, name: '鈴木花子', location: '神奈川県横浜市', propertyType: '戸建て・築10年', phone: '045-9876-5432', status: 'アポ済', assignee: '佐藤花子', area: '神奈川県横浜市', temperature: 3, lastContact: '2024/01/16 電話でアポ取得', nextAction: '2024/01/20 14:00 現地調査', age: 10 },</p>
<p class="p1"><span class="Apple-converted-space">            </span>{ id: 3, name: '佐藤一郎', location: '埼玉県さいたま市', propertyType: 'アパート・築20年', phone: '048-1111-2222', status: '見積提出済', assignee: '田中太郎', area: '埼玉県さいたま市', temperature: 5, lastContact: '2024/01/14 見積書メール送付', nextAction: '2024/01/22 10:00 見積説明訪問', age: 20 },</p>
<p class="p1"><span class="Apple-converted-space">            </span>{ id: 4, name: '田中美咲', location: '千葉県千葉市', propertyType: '戸建て・築25年', phone: '043-3333-4444', status: '現調済', assignee: '佐藤花子', area: '千葉県千葉市', temperature: 2, lastContact: '2024/01/10 現地調査実施', nextAction: '見積作成中', age: 25 },</p>
<p class="p1"><span class="Apple-converted-space">            </span>{ id: 5, name: '高橋健太', location: '東京都新宿区', propertyType: 'マンション・築8年', phone: '03-5555-6666', status: '成約', assignee: '田中太郎', area: '東京都新宿区', temperature: 5, lastContact: '2024/01/17 契約締結', nextAction: '2024/01/25 工事開始', age: 8 },</p>
<p class="p1"><span class="Apple-converted-space">            </span>// 未振り分け案件</p>
<p class="p1"><span class="Apple-converted-space">            </span>{ id: 101, name: '新規顧客A', location: '東京都渋谷区', propertyType: '戸建て・築12年', phone: '03-0000-0000', status: '未対応', assignee: null, area: '東京都渋谷区', temperature: 4, source: 'くらべる', registeredDate: '2025-01-15 10:30' },</p>
<p class="p1"><span class="Apple-converted-space">            </span>{ id: 102, name: '新規顧客B', location: '神奈川県川崎市', propertyType: 'マンション・築5年', phone: '044-0000-0000', status: '未対応', assignee: null, area: '神奈川県川崎市', temperature: 3, source: 'くらべる', registeredDate: '2025-01-15 11:45' },</p>
<p class="p1"><span class="Apple-converted-space">            </span>{ id: 103, name: '新規顧客C', location: '埼玉県越谷市', propertyType: '戸建て・築20年', phone: '048-0000-0000', status: '未対応', assignee: null, area: '埼玉県越谷市', temperature: 5, source: 'くらべる', registeredDate: '2025-01-15 14:00' }</p>
<p class="p1"><span class="Apple-converted-space">        </span>];</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// 案件データを取得する関数</p>
<p class="p1"><span class="Apple-converted-space">        </span>function getCasesData() {</p>
<p class="p1"><span class="Apple-converted-space">            </span>return casesData;</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// 加盟店データをフォームに自動入力する関数</p>
<p class="p1"><span class="Apple-converted-space">        </span>function loadMerchantData(merchantId, merchantData = null) {</p>
<p class="p1"><span class="Apple-converted-space">            </span>console.log('===== loadMerchantData START =====');</p>
<p class="p1"><span class="Apple-converted-space">            </span>console.log('merchantId:', merchantId);</p>
<p class="p1"><span class="Apple-converted-space">            </span>console.log('merchantData from login:', merchantData || window.merchantData);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>const data = merchantData || window.merchantData;</p>
<p class="p1"><span class="Apple-converted-space">            </span>if (!data) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>console.log('No merchant data available');</p>
<p class="p1"><span class="Apple-converted-space">                </span>return;</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>console.log('=== APPLYING MERCHANT DATA TO FORMS ===');</p>
<p class="p1"><span class="Apple-converted-space">            </span>console.log('Data keys:', Object.keys(data));</p>
<p class="p1"><span class="Apple-converted-space">            </span>console.log('Full data:', data);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>console.log('==== POPULATING FORM FIELDS ====');</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>// 設立年月とPRテキストの直接取得（スプレッドシートの列名で取得）</p>
<p class="p1"><span class="Apple-converted-space">            </span>if (data['設立年月']) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>const establishedEl = document.getElementById('established');</p>
<p class="p1"><span class="Apple-converted-space">                </span>if (establishedEl) {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>establishedEl.value = data['設立年月'];</p>
<p class="p1"><span class="Apple-converted-space">                    </span>console.log(`✓ 設立年月を設定: ${data['設立年月']}`);</p>
<p class="p1"><span class="Apple-converted-space">                </span>}</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>if (data['PRテキスト']) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>const prTextEl = document.getElementById('prText');</p>
<p class="p1"><span class="Apple-converted-space">                </span>if (prTextEl) {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>prTextEl.value = data['PRテキスト'];</p>
<p class="p1"><span class="Apple-converted-space">                    </span>console.log(`✓ PR文を設定: [${data['PRテキスト'].length}文字]`);</p>
<p class="p1"><span class="Apple-converted-space">                    </span>console.log(`<span class="Apple-converted-space">  </span>完全なPR文: ${data['PRテキスト']}`);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                    </span>// テキストエリアの高さを自動調整</p>
<p class="p1"><span class="Apple-converted-space">                    </span>prTextEl.style.height = 'auto';</p>
<p class="p1"><span class="Apple-converted-space">                    </span>prTextEl.style.height = Math.max(200, prTextEl.scrollHeight) + 'px';</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                    </span>// 文字数カウンター更新</p>
<p class="p1"><span class="Apple-converted-space">                    </span>const charCount = document.getElementById('prTextCharCount');</p>
<p class="p1"><span class="Apple-converted-space">                    </span>if (charCount) {</p>
<p class="p1"><span class="Apple-converted-space">                        </span>charCount.textContent = data['PRテキスト'].length;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                    </span>// プレビューにも反映</p>
<p class="p1"><span class="Apple-converted-space">                    </span>const previewPrTextEl = document.getElementById('previewPrText');</p>
<p class="p1"><span class="Apple-converted-space">                    </span>if (previewPrTextEl) {</p>
<p class="p1"><span class="Apple-converted-space">                        </span>previewPrTextEl.textContent = data['PRテキスト'];</p>
<p class="p1"><span class="Apple-converted-space">                        </span>console.log('✓ PR文をプレビューに反映');</p>
<p class="p1"><span class="Apple-converted-space">                    </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                    </span>// キャッチフレーズをPR文の最初の一文から抽出</p>
<p class="p1"><span class="Apple-converted-space">                    </span>const firstSentence = data['PRテキスト'].split('。')[0];</p>
<p class="p1"><span class="Apple-converted-space">                    </span>const tagline = firstSentence || '信頼と実績の外壁塗装専門店';</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                    </span>const taglineElements = ['previewTagline', 'previewTaglineHero', 'previewTaglineOverlay'];</p>
<p class="p1"><span class="Apple-converted-space">                    </span>taglineElements.forEach(id =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                        </span>const el = document.getElementById(id);</p>
<p class="p1"><span class="Apple-converted-space">                        </span>if (el) el.textContent = tagline;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>});</p>
<p class="p1"><span class="Apple-converted-space">                    </span>console.log('✓ キャッチフレーズをプレビューに反映:', tagline.substring(0, 30));</p>
<p class="p1"><span class="Apple-converted-space">                </span>}</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>// 会社情報フォームフィールドのマッピング（スプレッドシートの列名に完全対応）</p>
<p class="p1"><span class="Apple-converted-space">            </span>const fieldMappings = {</p>
<p class="p1"><span class="Apple-converted-space">                </span>companyName: ['会社名', 'companyName', 'company_name'],</p>
<p class="p1"><span class="Apple-converted-space">                </span>companyNameKana: ['会社名カナ', 'companyNameKana', 'company_name_kana'],</p>
<p class="p1"><span class="Apple-converted-space">                </span>tradeName: ['屋号', 'tradeName', 'trade_name'],</p>
<p class="p1"><span class="Apple-converted-space">                </span>tradeNameKana: ['屋号カナ', 'tradeNameKana', 'trade_name_kana'],</p>
<p class="p1"><span class="Apple-converted-space">                </span>representative: ['代表者名', 'representative', 'representative_name'],</p>
<p class="p1"><span class="Apple-converted-space">                </span>representativeKana: ['代表者名カナ', 'representativeKana', 'representative_kana'],</p>
<p class="p1"><span class="Apple-converted-space">                </span>zipCode: ['郵便番号', 'postalCode', 'zipCode', 'postal_code'],</p>
<p class="p1"><span class="Apple-converted-space">                </span>address: ['住所', 'address'],</p>
<p class="p1"><span class="Apple-converted-space">                </span>phone: ['電話番号', 'phone', 'tel'],</p>
<p class="p1"><span class="Apple-converted-space">                </span>website: ['ウェブサイトURL', 'website', 'url'],</p>
<p class="p1"><span class="Apple-converted-space">                </span>established: ['設立年月', 'established', 'establishment_date'],</p>
<p class="p1"><span class="Apple-converted-space">                </span>prText: ['PRテキスト', 'prText', 'pr_text'],</p>
<p class="p1"><span class="Apple-converted-space">                </span>billingEmail: ['請求用メールアドレス', 'billingEmail', 'billing_email'],</p>
<p class="p1"><span class="Apple-converted-space">                </span>salesEmail: ['営業用メールアドレス', 'salesEmail', 'sales_email'],</p>
<p class="p1"><span class="Apple-converted-space">                </span>salesPersonName: ['営業担当者氏名', 'salesPersonName', 'sales_person_name'],</p>
<p class="p1"><span class="Apple-converted-space">                </span>salesPersonKana: ['営業担当者カナ', 'salesPersonKana', 'sales_person_kana'],</p>
<p class="p1"><span class="Apple-converted-space">                </span>employees: ['従業員数', 'employees', 'employee_count'],</p>
<p class="p1"><span class="Apple-converted-space">                </span>salesScale: ['売上規模', 'salesScale', 'sales_scale'],</p>
<p class="p1"><span class="Apple-converted-space">                </span>maxFloors: ['最大対応階数', 'maxFloors', 'max_floors'],</p>
<p class="p1"><span class="Apple-converted-space">                </span>buildingAge: ['築年数対応範囲', 'buildingAge', 'building_age'],</p>
<p class="p1"><span class="Apple-converted-space">                </span>specialItems: ['特殊対応項目', 'specialItems', 'special_items'],</p>
<p class="p1"><span class="Apple-converted-space">                </span>cities: ['対応市区町村', 'cities', 'service_areas'],</p>
<p class="p1"><span class="Apple-converted-space">                </span>priorityAreas: ['優先エリア', 'priorityAreas', 'priority_areas']</p>
<p class="p1"><span class="Apple-converted-space">            </span>};</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>// フィールドに値を設定</p>
<p class="p1"><span class="Apple-converted-space">            </span>Object.keys(fieldMappings).forEach(fieldId =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                </span>const possibleKeys = fieldMappings[fieldId];</p>
<p class="p1"><span class="Apple-converted-space">                </span>let value = null;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>// データから値を検索</p>
<p class="p1"><span class="Apple-converted-space">                </span>for (const key of possibleKeys) {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>if (data[key] !== undefined &amp;&amp; data[key] !== null &amp;&amp; data[key] !== '') {</p>
<p class="p1"><span class="Apple-converted-space">                        </span>value = data[key];</p>
<p class="p1"><span class="Apple-converted-space">                        </span>break;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>}</p>
<p class="p1"><span class="Apple-converted-space">                </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>const element = document.getElementById(fieldId) ||</p>
<p class="p1"><span class="Apple-converted-space">                               </span>document.querySelector(`input[placeholder*="${fieldId}"]`) ||</p>
<p class="p1"><span class="Apple-converted-space">                               </span>document.querySelector(`input[name="${fieldId}"]`);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>if (element &amp;&amp; value) {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>// PR文の特別な処理（省略された部分も含めて完全に取得）</p>
<p class="p1"><span class="Apple-converted-space">                    </span>if (fieldId === 'prText') {</p>
<p class="p1"><span class="Apple-converted-space">                        </span>// スプレッドシートで省略されている場合、完全なテキストを取得</p>
<p class="p1"><span class="Apple-converted-space">                        </span>let fullText = value;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                        </span>// "..."で終わっている場合、完全なテキストがあるはずなので探す</p>
<p class="p1"><span class="Apple-converted-space">                        </span>if (value &amp;&amp; value.endsWith('...')) {</p>
<p class="p1"><span class="Apple-converted-space">                            </span>// PRテキスト列の完全なデータを取得</p>
<p class="p1"><span class="Apple-converted-space">                            </span>const fullPrText = data['PRテキスト'] || data.prText || data.pr_text;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>if (fullPrText) {</p>
<p class="p1"><span class="Apple-converted-space">                                </span>fullText = fullPrText;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>console.log('✓ PR文の完全版を取得しました');</p>
<p class="p1"><span class="Apple-converted-space">                            </span>}</p>
<p class="p1"><span class="Apple-converted-space">                        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                        </span>element.value = fullText;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>console.log(`✓ Set ${fieldId} = [${fullText.length}文字]`);</p>
<p class="p1"><span class="Apple-converted-space">                        </span>console.log(`<span class="Apple-converted-space">  </span>完全なPR文: ${fullText}`);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                        </span>// テキストエリアの高さを自動調整</p>
<p class="p1"><span class="Apple-converted-space">                        </span>element.style.height = 'auto';</p>
<p class="p1"><span class="Apple-converted-space">                        </span>element.style.height = Math.max(200, element.scrollHeight) + 'px';</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                        </span>// 文字数カウンターも更新</p>
<p class="p1"><span class="Apple-converted-space">                        </span>const charCount = document.getElementById('prTextCharCount');</p>
<p class="p1"><span class="Apple-converted-space">                        </span>if (charCount) {</p>
<p class="p1"><span class="Apple-converted-space">                            </span>charCount.textContent = fullText.length;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>}</p>
<p class="p1"><span class="Apple-converted-space">                    </span>} else if (fieldId === 'established') {</p>
<p class="p1"><span class="Apple-converted-space">                        </span>// 設立年月を取得</p>
<p class="p1"><span class="Apple-converted-space">                        </span>const establishedData = data['設立年月'] || data.established || data['establishment_date'];</p>
<p class="p1"><span class="Apple-converted-space">                        </span>if (establishedData) {</p>
<p class="p1"><span class="Apple-converted-space">                            </span>// ISO形式の日付をYYYY年M月形式に変換</p>
<p class="p1"><span class="Apple-converted-space">                            </span>let formattedDate = establishedData;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>if (establishedData.includes('T') || establishedData.includes('Z')) {</p>
<p class="p1"><span class="Apple-converted-space">                                </span>// ISO形式の場合（例: 2000-03-31T15:00:00.000Z）</p>
<p class="p1"><span class="Apple-converted-space">                                </span>const date = new Date(establishedData);</p>
<p class="p1"><span class="Apple-converted-space">                                </span>const year = date.getFullYear();</p>
<p class="p1"><span class="Apple-converted-space">                                </span>const month = date.getMonth() + 1; // 0-indexed</p>
<p class="p1"><span class="Apple-converted-space">                                </span>formattedDate = `${year}年${month}月`;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>console.log(`✓ Converted ISO date to Japanese format: ${establishedData} → ${formattedDate}`);</p>
<p class="p1"><span class="Apple-converted-space">                            </span>}</p>
<p class="p1"><span class="Apple-converted-space">                            </span>element.value = formattedDate;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>console.log(`✓ Set ${fieldId} = ${formattedDate}`);</p>
<p class="p1"><span class="Apple-converted-space">                        </span>} else if (value) {</p>
<p class="p1"><span class="Apple-converted-space">                            </span>// valueもISO形式の可能性があるのでチェック</p>
<p class="p1"><span class="Apple-converted-space">                            </span>let formattedValue = value;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>if (value.includes('T') || value.includes('Z')) {</p>
<p class="p1"><span class="Apple-converted-space">                                </span>const date = new Date(value);</p>
<p class="p1"><span class="Apple-converted-space">                                </span>const year = date.getFullYear();</p>
<p class="p1"><span class="Apple-converted-space">                                </span>const month = date.getMonth() + 1;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>formattedValue = `${year}年${month}月`;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>console.log(`✓ Converted ISO date to Japanese format: ${value} → ${formattedValue}`);</p>
<p class="p1"><span class="Apple-converted-space">                            </span>}</p>
<p class="p1"><span class="Apple-converted-space">                            </span>element.value = formattedValue;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>console.log(`✓ Set ${fieldId} = ${formattedValue}`);</p>
<p class="p1"><span class="Apple-converted-space">                        </span>}</p>
<p class="p1"><span class="Apple-converted-space">                    </span>} else if (fieldId === 'employees' || fieldId === 'salesScale') {</p>
<p class="p1"><span class="Apple-converted-space">                        </span>// select要素の場合は、optionを選択</p>
<p class="p1"><span class="Apple-converted-space">                        </span>if (element.tagName === 'SELECT') {</p>
<p class="p1"><span class="Apple-converted-space">                            </span>// 値を正規化（前後の空白を削除、全角英数字を半角に変換）</p>
<p class="p1"><span class="Apple-converted-space">                            </span>let normalizedValue = String(value).trim();</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                            </span>// 従業員数がISO日付形式で来た場合（例: 2025-03-04T15:00:00.000Z → 3-4）</p>
<p class="p1"><span class="Apple-converted-space">                            </span>if (fieldId === 'employees' &amp;&amp; (normalizedValue.includes('T') || normalizedValue.includes('Z'))) {</p>
<p class="p1"><span class="Apple-converted-space">                                </span>const date = new Date(normalizedValue);</p>
<p class="p1"><span class="Apple-converted-space">                                </span>const month = date.getMonth() + 1; // 0-indexed</p>
<p class="p1"><span class="Apple-converted-space">                                </span>const day = date.getDate();</p>
<p class="p1"><span class="Apple-converted-space">                                </span>normalizedValue = `${month}-${day}`;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                            </span>// 全角英数字を半角に変換</p>
<p class="p1"><span class="Apple-converted-space">                            </span>normalizedValue = normalizedValue.replace(/[Ａ-Ｚａ-ｚ０-９]/g, function(s) {</p>
<p class="p1"><span class="Apple-converted-space">                                </span>return String.fromCharCode(s.charCodeAt(0) - 0xFEE0);</p>
<p class="p1"><span class="Apple-converted-space">                            </span>});</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                            </span>// まず正規化した値で直接設定してみる</p>
<p class="p1"><span class="Apple-converted-space">                            </span>element.value = normalizedValue;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                            </span>// 直接マッチしなかった場合</p>
<p class="p1"><span class="Apple-converted-space">                            </span>if (!element.value &amp;&amp; normalizedValue) {</p>
<p class="p1"><span class="Apple-converted-space">                                </span>const options = Array.from(element.options);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                                </span>// より柔軟なマッチング</p>
<p class="p1"><span class="Apple-converted-space">                                </span>const matchedOption = options.find(opt =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>// option value と完全一致</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>if (opt.value === normalizedValue) return true;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                                    </span>// option value の正規化版と一致</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>const normalizedOptValue = opt.value.trim().toLowerCase();</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>const normalizedSearchValue = normalizedValue.toLowerCase();</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>if (normalizedOptValue === normalizedSearchValue) return true;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                                    </span>// option text に含まれる</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>const optText = opt.text.replace(/\s/g, '').toLowerCase();</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>const valueText = normalizedValue.replace(/\s/g, '').toLowerCase();</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>if (optText.includes(valueText) || valueText.includes(optText)) return true;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                                    </span>return false;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>});</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                                </span>if (matchedOption) {</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>element.value = matchedOption.value;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>}</p>
<p class="p1"><span class="Apple-converted-space">                            </span>}</p>
<p class="p1"><span class="Apple-converted-space">                        </span>} else {</p>
<p class="p1"><span class="Apple-converted-space">                            </span>element.value = value;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>}</p>
<p class="p1"><span class="Apple-converted-space">                    </span>} else {</p>
<p class="p1"><span class="Apple-converted-space">                        </span>element.value = value;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>console.log(`✓ Set ${fieldId} = ${value}`);</p>
<p class="p1"><span class="Apple-converted-space">                    </span>}</p>
<p class="p1"><span class="Apple-converted-space">                </span>} else if (element) {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>console.log(`⚪ Empty data for ${fieldId}`);</p>
<p class="p1"><span class="Apple-converted-space">                </span>} else {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>console.log(`❌ Element not found for ${fieldId}`);</p>
<p class="p1"><span class="Apple-converted-space">                </span>}</p>
<p class="p1"><span class="Apple-converted-space">            </span>});</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>console.log('=== AUTO-POPULATING DELIVERY SETTINGS ===');</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>// 自動配信設定のマッピング</p>
<p class="p1"><span class="Apple-converted-space">            </span>if (data.deliverySettings || data.delivery_settings) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>const deliveryData = data.deliverySettings || data.delivery_settings;</p>
<p class="p1"><span class="Apple-converted-space">                </span>console.log('Auto delivery settings:', deliveryData);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>// 年齢範囲</p>
<p class="p1"><span class="Apple-converted-space">                </span>if (deliveryData.ageMin !== undefined) {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>const ageMinEl = document.getElementById('ageMin');</p>
<p class="p1"><span class="Apple-converted-space">                    </span>if (ageMinEl) {</p>
<p class="p1"><span class="Apple-converted-space">                        </span>ageMinEl.value = deliveryData.ageMin;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>console.log(`✓ Set age range min: ${deliveryData.ageMin}`);</p>
<p class="p1"><span class="Apple-converted-space">                    </span>}</p>
<p class="p1"><span class="Apple-converted-space">                </span>}</p>
<p class="p1"><span class="Apple-converted-space">                </span>if (deliveryData.ageMax !== undefined) {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>const ageMaxEl = document.getElementById('ageMax');</p>
<p class="p1"><span class="Apple-converted-space">                    </span>if (ageMaxEl) {</p>
<p class="p1"><span class="Apple-converted-space">                        </span>ageMaxEl.value = deliveryData.ageMax;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>console.log(`✓ Set age range max: ${deliveryData.ageMax}`);</p>
<p class="p1"><span class="Apple-converted-space">                    </span>}</p>
<p class="p1"><span class="Apple-converted-space">                </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>// その他の自動配信設定...</p>
<p class="p1"><span class="Apple-converted-space">            </span>} else {</p>
<p class="p1"><span class="Apple-converted-space">                </span>// デフォルト値設定</p>
<p class="p1"><span class="Apple-converted-space">                </span>const ageMinEl = document.getElementById('ageMin');</p>
<p class="p1"><span class="Apple-converted-space">                </span>const ageMaxEl = document.getElementById('ageMax');</p>
<p class="p1"><span class="Apple-converted-space">                </span>if (ageMinEl &amp;&amp; !ageMinEl.value) {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>ageMinEl.value = '10';</p>
<p class="p1"><span class="Apple-converted-space">                    </span>console.log('✓ Set age range min: 10');</p>
<p class="p1"><span class="Apple-converted-space">                </span>}</p>
<p class="p1"><span class="Apple-converted-space">                </span>if (ageMaxEl &amp;&amp; !ageMaxEl.value) {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>ageMaxEl.value = '100';</p>
<p class="p1"><span class="Apple-converted-space">                    </span>console.log('✓ Set age range max: 100');</p>
<p class="p1"><span class="Apple-converted-space">                </span>}</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>console.log('=== UPDATING COMPANY DISPLAYS ===');</p>
<p class="p1"><span class="Apple-converted-space">            </span>// 会社名表示の更新</p>
<p class="p1"><span class="Apple-converted-space">            </span>if (data.companyName || data.company_name) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>const companyDisplays = document.querySelectorAll('.company-name-display');</p>
<p class="p1"><span class="Apple-converted-space">                </span>companyDisplays.forEach(el =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>el.textContent = data.companyName || data.company_name;</p>
<p class="p1"><span class="Apple-converted-space">                </span>});</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>console.log('=== LOADING BRANCH DATA ===');</p>
<p class="p1"><span class="Apple-converted-space">            </span>// スプレッドシートのO列（支店名）とP列（支店住所）から支店情報を取得</p>
<p class="p1"><span class="Apple-converted-space">            </span>const branchNameRaw = data['支店名'] || data.branchName || data.branch_name || '';</p>
<p class="p1"><span class="Apple-converted-space">            </span>const branchAddressRaw = data['支店住所'] || data.branchAddress || data.branch_address || '';</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>console.log('Branch name from spreadsheet:', branchNameRaw);</p>
<p class="p1"><span class="Apple-converted-space">            </span>console.log('Branch address from spreadsheet:', branchAddressRaw);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>// 支店名または支店住所が存在する場合</p>
<p class="p1"><span class="Apple-converted-space">            </span>if (branchNameRaw || branchAddressRaw) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>// 全角カンマ『、』で分割（複数の支店に対応）</p>
<p class="p1"><span class="Apple-converted-space">                </span>const branchNames = branchNameRaw ? branchNameRaw.split('、').map(s =&gt; s.trim()).filter(s =&gt; s) : [];</p>
<p class="p1"><span class="Apple-converted-space">                </span>const branchAddresses = branchAddressRaw ? branchAddressRaw.split('、').map(s =&gt; s.trim()).filter(s =&gt; s) : [];</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>console.log('Split branch names:', branchNames);</p>
<p class="p1"><span class="Apple-converted-space">                </span>console.log('Split branch addresses:', branchAddresses);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>// 支店の数を決定（名前と住所の多い方を基準にする）</p>
<p class="p1"><span class="Apple-converted-space">                </span>const branchCount = Math.max(branchNames.length, branchAddresses.length);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>if (branchCount &gt; 0) {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>// 既存の支店をクリア</p>
<p class="p1"><span class="Apple-converted-space">                    </span>window.branches = [];</p>
<p class="p1"><span class="Apple-converted-space">                    </span>branchIdCounter = 0;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>const branchList = document.getElementById('branchList');</p>
<p class="p1"><span class="Apple-converted-space">                    </span>if (branchList) {</p>
<p class="p1"><span class="Apple-converted-space">                        </span>branchList.innerHTML = '';</p>
<p class="p1"><span class="Apple-converted-space">                    </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                    </span>// 各支店を追加</p>
<p class="p1"><span class="Apple-converted-space">                    </span>for (let i = 0; i &lt; branchCount; i++) {</p>
<p class="p1"><span class="Apple-converted-space">                        </span>const branchId = ++branchIdCounter;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>const branchInfo = {</p>
<p class="p1"><span class="Apple-converted-space">                            </span>id: branchId,</p>
<p class="p1"><span class="Apple-converted-space">                            </span>name: branchNames[i] || '',</p>
<p class="p1"><span class="Apple-converted-space">                            </span>address: branchAddresses[i] || ''</p>
<p class="p1"><span class="Apple-converted-space">                        </span>};</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                        </span>window.branches.push(branchInfo);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                        </span>const branchDiv = document.createElement('div');</p>
<p class="p1"><span class="Apple-converted-space">                        </span>branchDiv.id = `branch-${branchId}`;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>branchDiv.className = 'border rounded-lg p-4 mb-3 bg-gray-50';</p>
<p class="p1"><span class="Apple-converted-space">                        </span>branchDiv.innerHTML = `</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div class="flex justify-between items-start mb-3"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;h4 class="font-medium text-gray-700"&gt;支店 ${i + 1}&lt;/h4&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;button onclick="removeBranch(${branchId})" class="text-red-600 hover:text-red-800"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"&gt;&lt;/path&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;/svg&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div class="space-y-3"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;label class="block text-sm font-medium text-gray-700 mb-1"&gt;支店名&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="text" class="w-full px-3 py-2 border rounded-lg" placeholder="例: 横浜支店"</p>
<p class="p1"><span class="Apple-converted-space">                                           </span>value="${branchInfo.name}"</p>
<p class="p1"><span class="Apple-converted-space">                                           </span>onchange="updateBranch(${branchId}, 'name', this.value)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;label class="block text-sm font-medium text-gray-700 mb-1"&gt;支店住所&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="text" class="w-full px-3 py-2 border rounded-lg" placeholder="例: 神奈川県横浜市..."</p>
<p class="p1"><span class="Apple-converted-space">                                           </span>value="${branchInfo.address}"</p>
<p class="p1"><span class="Apple-converted-space">                                           </span>onchange="updateBranch(${branchId}, 'address', this.value)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>`;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                        </span>if (branchList) {</p>
<p class="p1"><span class="Apple-converted-space">                            </span>branchList.appendChild(branchDiv);</p>
<p class="p1"><span class="Apple-converted-space">                        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                        </span>console.log(`✓ Loaded branch ${i + 1}: ${branchInfo.name} - ${branchInfo.address}`);</p>
<p class="p1"><span class="Apple-converted-space">                    </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                    </span>// 支店マップを更新</p>
<p class="p1"><span class="Apple-converted-space">                    </span>setTimeout(() =&gt; updateBranchMaps(), 100);</p>
<p class="p1"><span class="Apple-converted-space">                </span>} else {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>console.log('No valid branch data after splitting');</p>
<p class="p1"><span class="Apple-converted-space">                </span>}</p>
<p class="p1"><span class="Apple-converted-space">            </span>} else {</p>
<p class="p1"><span class="Apple-converted-space">                </span>console.log('No branch data found in spreadsheet');</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>console.log('=== LOADING AREA DATA ===');</p>
<p class="p1"><span class="Apple-converted-space">            </span>// 対応都道府県（AG列）、対応市区町村（AH列）、優先エリア（AI列）を取得</p>
<p class="p1"><span class="Apple-converted-space">            </span>const prefecturesRaw = data['対応都道府県'] || data.prefectures || '';</p>
<p class="p1"><span class="Apple-converted-space">            </span>const citiesRaw = data['対応市区町村'] || data.cities || '';</p>
<p class="p1"><span class="Apple-converted-space">            </span>const prioritiesRaw = data['優先エリア'] || data.priorities || data.priority_areas || '';</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>console.log('Prefectures from spreadsheet:', prefecturesRaw);</p>
<p class="p1"><span class="Apple-converted-space">            </span>console.log('Cities from spreadsheet:', citiesRaw);</p>
<p class="p1"><span class="Apple-converted-space">            </span>console.log('Priorities from spreadsheet:', prioritiesRaw);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>// 都道府県を表示</p>
<p class="p1"><span class="Apple-converted-space">            </span>const prefecturesDisplay = document.getElementById('companyPrefecturesDisplay');</p>
<p class="p1"><span class="Apple-converted-space">            </span>if (prefecturesDisplay) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>if (prefecturesRaw) {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>const prefectures = prefecturesRaw.split(',').map(s =&gt; s.trim()).filter(s =&gt; s);</p>
<p class="p1"><span class="Apple-converted-space">                    </span>prefecturesDisplay.innerHTML = prefectures.map(pref =&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>`&lt;span class="inline-flex items-center px-4 py-2 bg-gradient-to-r from-blue-500 to-blue-600 text-white rounded-lg text-sm font-medium shadow-sm hover:shadow-md transition-shadow"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>${pref}</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/span&gt;`</p>
<p class="p1"><span class="Apple-converted-space">                    </span>).join('');</p>
<p class="p1"><span class="Apple-converted-space">                    </span>console.log(`✓ Loaded ${prefectures.length} prefectures`);</p>
<p class="p1"><span class="Apple-converted-space">                </span>} else {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>prefecturesDisplay.innerHTML = '&lt;span class="text-sm text-gray-400 italic"&gt;未設定&lt;/span&gt;';</p>
<p class="p1"><span class="Apple-converted-space">                </span>}</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>// 市区町村を表示</p>
<p class="p1"><span class="Apple-converted-space">            </span>const citiesDisplay = document.getElementById('companyCitiesDisplay');</p>
<p class="p1"><span class="Apple-converted-space">            </span>if (citiesDisplay) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>if (citiesRaw) {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>// JSON形式の場合とカンマ区切りの場合に対応</p>
<p class="p1"><span class="Apple-converted-space">                    </span>let cities = [];</p>
<p class="p1"><span class="Apple-converted-space">                    </span>try {</p>
<p class="p1"><span class="Apple-converted-space">                        </span>const parsed = JSON.parse(citiesRaw);</p>
<p class="p1"><span class="Apple-converted-space">                        </span>if (parsed.type === 'compressed' &amp;&amp; parsed.full) {</p>
<p class="p1"><span class="Apple-converted-space">                            </span>cities = parsed.full.split(',').map(s =&gt; s.trim()).filter(s =&gt; s);</p>
<p class="p1"><span class="Apple-converted-space">                        </span>} else if (parsed.type === 'compressed' &amp;&amp; parsed.preview) {</p>
<p class="p1"><span class="Apple-converted-space">                            </span>cities = parsed.preview.split(',').map(s =&gt; s.trim()).filter(s =&gt; s);</p>
<p class="p1"><span class="Apple-converted-space">                        </span>}</p>
<p class="p1"><span class="Apple-converted-space">                    </span>} catch (e) {</p>
<p class="p1"><span class="Apple-converted-space">                        </span>// JSON形式でない場合、カンマ区切りとして処理</p>
<p class="p1"><span class="Apple-converted-space">                        </span>cities = citiesRaw.split(',').map(s =&gt; s.trim()).filter(s =&gt; s);</p>
<p class="p1"><span class="Apple-converted-space">                    </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                    </span>citiesDisplay.innerHTML = cities.map(city =&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>`&lt;span class="inline-block px-2.5 py-1 bg-green-50 text-green-700 border border-green-200 rounded text-xs font-medium hover:bg-green-100 transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>${city}</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/span&gt;`</p>
<p class="p1"><span class="Apple-converted-space">                    </span>).join('');</p>
<p class="p1"><span class="Apple-converted-space">                    </span>console.log(`✓ Loaded ${cities.length} cities`);</p>
<p class="p1"><span class="Apple-converted-space">                </span>} else {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>citiesDisplay.innerHTML = '&lt;span class="text-sm text-gray-400 italic"&gt;未設定&lt;/span&gt;';</p>
<p class="p1"><span class="Apple-converted-space">                </span>}</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>// 優先エリアを表示</p>
<p class="p1"><span class="Apple-converted-space">            </span>const prioritiesDisplay = document.getElementById('companyPrioritiesDisplay');</p>
<p class="p1"><span class="Apple-converted-space">            </span>if (prioritiesDisplay) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>if (prioritiesRaw) {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>const priorities = prioritiesRaw.split(',').map(s =&gt; s.trim()).filter(s =&gt; s);</p>
<p class="p1"><span class="Apple-converted-space">                    </span>prioritiesDisplay.innerHTML = priorities.map(priority =&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>`&lt;span class="inline-flex items-center gap-1 px-4 py-2 bg-gradient-to-r from-amber-400 to-yellow-400 text-amber-900 rounded-lg text-sm font-semibold shadow-sm hover:shadow-md transition-shadow"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"/&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/svg&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>${priority}</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/span&gt;`</p>
<p class="p1"><span class="Apple-converted-space">                    </span>).join('');</p>
<p class="p1"><span class="Apple-converted-space">                    </span>console.log(`✓ Loaded ${priorities.length} priority areas`);</p>
<p class="p1"><span class="Apple-converted-space">                </span>} else {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>prioritiesDisplay.innerHTML = '&lt;span class="text-sm text-gray-400 italic"&gt;未設定&lt;/span&gt;';</p>
<p class="p1"><span class="Apple-converted-space">                </span>}</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>console.log('=== LOADING CONSTRUCTION DATA ===');</p>
<p class="p1"><span class="Apple-converted-space">            </span>// 施工箇所データを取得（AE列）</p>
<p class="p1"><span class="Apple-converted-space">            </span>const constructionRaw = data['施工箇所'] || data.construction_types || '';</p>
<p class="p1"><span class="Apple-converted-space">            </span>console.log('Construction types from spreadsheet:', constructionRaw);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>// 施工箇所アイコンマッピング</p>
<p class="p1"><span class="Apple-converted-space">            </span>const constructionIcons = {</p>
<p class="p1"><span class="Apple-converted-space">                </span>'外壁塗装': '🎨',</p>
<p class="p1"><span class="Apple-converted-space">                </span>'外壁カバー工法': '🏗️',</p>
<p class="p1"><span class="Apple-converted-space">                </span>'外壁張替え': '🔨',</p>
<p class="p1"><span class="Apple-converted-space">                </span>'屋根塗装（外壁工事含む）': '🏠',</p>
<p class="p1"><span class="Apple-converted-space">                </span>'屋上防水（外壁工事含む）': '☔',</p>
<p class="p1"><span class="Apple-converted-space">                </span>'屋根葺き替え・張り替え※スレート・ガルバリウム等': '🔧',</p>
<p class="p1"><span class="Apple-converted-space">                </span>'屋根葺き替え・張り替え※瓦': '🏯',</p>
<p class="p1"><span class="Apple-converted-space">                </span>'屋根カバー工法': '🛠️',</p>
<p class="p1"><span class="Apple-converted-space">                </span>'外壁補修（外壁工事含む）': '🔧',</p>
<p class="p1"><span class="Apple-converted-space">                </span>'屋根補修（外壁工事含む）': '🛠️',</p>
<p class="p1"><span class="Apple-converted-space">                </span>'ベランダ防水（外壁工事含む）': '💧',</p>
<p class="p1"><span class="Apple-converted-space">                </span>'内装水回り（バス・キッチン・トイレ）（外壁工事含む）': '🚿',</p>
<p class="p1"><span class="Apple-converted-space">                </span>'内装（フローリングや畳などの床・クロス等）（外壁工事含む）': '🏡',</p>
<p class="p1"><span class="Apple-converted-space">                </span>'外壁雨漏り修繕（外壁工事含む）': '☔',</p>
<p class="p1"><span class="Apple-converted-space">                </span>'屋根雨漏り修繕（屋根工事含む）': '🌧️',</p>
<p class="p1"><span class="Apple-converted-space">                </span>'屋根塗装単品': '🏠',</p>
<p class="p1"><span class="Apple-converted-space">                </span>'屋上防水単品': '☔',</p>
<p class="p1"><span class="Apple-converted-space">                </span>'外壁補修単品': '🔧',</p>
<p class="p1"><span class="Apple-converted-space">                </span>'屋根補修単品': '🛠️',</p>
<p class="p1"><span class="Apple-converted-space">                </span>'ベランダ防水単品': '💧',</p>
<p class="p1"><span class="Apple-converted-space">                </span>'外壁雨漏り修繕単品': '☔',</p>
<p class="p1"><span class="Apple-converted-space">                </span>'屋根雨漏り修繕単品': '🌧️'</p>
<p class="p1"><span class="Apple-converted-space">            </span>};</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>const constructionDisplay = document.getElementById('companyConstructionDisplay');</p>
<p class="p1"><span class="Apple-converted-space">            </span>if (constructionDisplay) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>if (constructionRaw) {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>const constructions = constructionRaw.split(',').map(s =&gt; s.trim()).filter(s =&gt; s);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                    </span>// 重複を削除するため、正規化後のテキストでユニーク化</p>
<p class="p1"><span class="Apple-converted-space">                    </span>const uniqueConstructions = [];</p>
<p class="p1"><span class="Apple-converted-space">                    </span>const seenTexts = new Set();</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                    </span>constructions.forEach(construction =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                        </span>// 簡略表示用に文字列を短縮</p>
<p class="p1"><span class="Apple-converted-space">                        </span>let displayText = construction</p>
<p class="p1"><span class="Apple-converted-space">                            </span>.replace('（外壁工事含む）', '')</p>
<p class="p1"><span class="Apple-converted-space">                            </span>.replace('（屋根工事含む）', '')</p>
<p class="p1"><span class="Apple-converted-space">                            </span>.replace('（但し1社紹介時は定価）', '')</p>
<p class="p1"><span class="Apple-converted-space">                            </span>.replace('単品', '')</p>
<p class="p1"><span class="Apple-converted-space">                            </span>.trim();</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                        </span>// まだ見ていないテキストの場合のみ追加</p>
<p class="p1"><span class="Apple-converted-space">                        </span>if (!seenTexts.has(displayText)) {</p>
<p class="p1"><span class="Apple-converted-space">                            </span>seenTexts.add(displayText);</p>
<p class="p1"><span class="Apple-converted-space">                            </span>uniqueConstructions.push({</p>
<p class="p1"><span class="Apple-converted-space">                                </span>original: construction,</p>
<p class="p1"><span class="Apple-converted-space">                                </span>display: displayText</p>
<p class="p1"><span class="Apple-converted-space">                            </span>});</p>
<p class="p1"><span class="Apple-converted-space">                        </span>}</p>
<p class="p1"><span class="Apple-converted-space">                    </span>});</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                    </span>constructionDisplay.innerHTML = uniqueConstructions.map(item =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                        </span>const icon = constructionIcons[item.original] || '🔨';</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                        </span>return `&lt;div class="flex items-center gap-2 p-2 bg-gray-50 hover:bg-gray-100 border border-gray-200 rounded-lg transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;span class="text-lg"&gt;${icon}&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;span class="text-sm font-medium text-gray-700"&gt;${item.display}&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;`;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>}).join('');</p>
<p class="p1"><span class="Apple-converted-space">                    </span>console.log(`✓ Loaded ${uniqueConstructions.length} unique construction types (${constructions.length} total)`);</p>
<p class="p1"><span class="Apple-converted-space">                </span>} else {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>constructionDisplay.innerHTML = '&lt;span class="text-sm text-gray-400 italic"&gt;未設定&lt;/span&gt;';</p>
<p class="p1"><span class="Apple-converted-space">                </span>}</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>console.log('=== LOADING APPEAL POINTS DATA ===');</p>
<p class="p1"><span class="Apple-converted-space">            </span>// 特殊対応項目データを取得（AF列）</p>
<p class="p1"><span class="Apple-converted-space">            </span>const appealPointsRaw = data['特殊対応項目'] || data.appeal_points || data.special_services || '';</p>
<p class="p1"><span class="Apple-converted-space">            </span>console.log('Appeal points from spreadsheet:', appealPointsRaw);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>// アピールポイントアイコンマッピング</p>
<p class="p1"><span class="Apple-converted-space">            </span>const appealPointIcons = {</p>
<p class="p1"><span class="Apple-converted-space">                </span>'遮熱・断熱塗料提案可能': '🌡️',</p>
<p class="p1"><span class="Apple-converted-space">                </span>'クレジットカード払い可': '💳',</p>
<p class="p1"><span class="Apple-converted-space">                </span>'提携先ローン有り': '🏦',</p>
<p class="p1"><span class="Apple-converted-space">                </span>'火災保険申請サポート': '🔥',</p>
<p class="p1"><span class="Apple-converted-space">                </span>'助成金申請サポート': '💰',</p>
<p class="p1"><span class="Apple-converted-space">                </span>'即日見積もり対応': '⚡',</p>
<p class="p1"><span class="Apple-converted-space">                </span>'自社職人施工': '👷',</p>
<p class="p1"><span class="Apple-converted-space">                </span>'保証期間10年以上': '🛡️',</p>
<p class="p1"><span class="Apple-converted-space">                </span>'24時間緊急対応': '🚨',</p>
<p class="p1"><span class="Apple-converted-space">                </span>'ドローン調査対応': '🚁',</p>
<p class="p1"><span class="Apple-converted-space">                </span>'無料点検サービス': '🔍',</p>
<p class="p1"><span class="Apple-converted-space">                </span>'カラーシミュレーション無料': '🎨',</p>
<p class="p1"><span class="Apple-converted-space">                </span>'近隣挨拶代行': '🙇',</p>
<p class="p1"><span class="Apple-converted-space">                </span>'工事写真報告書提供': '📸',</p>
<p class="p1"><span class="Apple-converted-space">                </span>'完工後アフターフォロー': '✅'</p>
<p class="p1"><span class="Apple-converted-space">            </span>};</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>const appealPointsDisplay = document.getElementById('companyAppealPointsDisplay');</p>
<p class="p1"><span class="Apple-converted-space">            </span>if (appealPointsDisplay) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>if (appealPointsRaw) {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>// 除外するアピールポイント</p>
<p class="p1"><span class="Apple-converted-space">                    </span>const excludedPoints = [</p>
<p class="p1"><span class="Apple-converted-space">                        </span>'立ち会いなし・見積もり手渡し希望',</p>
<p class="p1"><span class="Apple-converted-space">                        </span>'遠方につき立ち会いなし・見積もり郵送・電話で商談可'</p>
<p class="p1"><span class="Apple-converted-space">                    </span>];</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                    </span>const appealPoints = appealPointsRaw</p>
<p class="p1"><span class="Apple-converted-space">                        </span>.split(',')</p>
<p class="p1"><span class="Apple-converted-space">                        </span>.map(s =&gt; s.trim())</p>
<p class="p1"><span class="Apple-converted-space">                        </span>.filter(s =&gt; s &amp;&amp; !excludedPoints.includes(s)); // 除外リストに含まれていないもののみ</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                    </span>if (appealPoints.length &gt; 0) {</p>
<p class="p1"><span class="Apple-converted-space">                        </span>appealPointsDisplay.innerHTML = appealPoints.map(point =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                            </span>const icon = appealPointIcons[point] || '⭐';</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                            </span>return `&lt;div class="flex items-center gap-2 p-2 bg-gradient-to-r from-amber-50 to-yellow-50 hover:from-amber-100 hover:to-yellow-100 border border-yellow-200 rounded-lg transition-all"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;span class="text-lg"&gt;${icon}&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;span class="text-sm font-medium text-gray-700"&gt;${point}&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;`;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>}).join('');</p>
<p class="p1"><span class="Apple-converted-space">                        </span>console.log(`✓ Loaded ${appealPoints.length} appeal points`);</p>
<p class="p1"><span class="Apple-converted-space">                    </span>} else {</p>
<p class="p1"><span class="Apple-converted-space">                        </span>appealPointsDisplay.innerHTML = '&lt;span class="text-sm text-gray-400 italic"&gt;未設定&lt;/span&gt;';</p>
<p class="p1"><span class="Apple-converted-space">                    </span>}</p>
<p class="p1"><span class="Apple-converted-space">                </span>} else {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>appealPointsDisplay.innerHTML = '&lt;span class="text-sm text-gray-400 italic"&gt;未設定&lt;/span&gt;';</p>
<p class="p1"><span class="Apple-converted-space">                </span>}</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>console.log('=== LOADING QUALIFICATIONS DATA ===');</p>
<p class="p1"><span class="Apple-converted-space">            </span>// 保有資格データを取得（AT列）</p>
<p class="p1"><span class="Apple-converted-space">            </span>const qualificationsRaw = data['保有資格'] || '';</p>
<p class="p1"><span class="Apple-converted-space">            </span>console.log('Qualifications from spreadsheet:', qualificationsRaw);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>if (qualificationsRaw) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>const qualificationsList = qualificationsRaw.split(',').map(q =&gt; q.trim()).filter(q =&gt; q);</p>
<p class="p1"><span class="Apple-converted-space">                </span>console.log('Parsed qualifications:', qualificationsList);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>// 全ての保有資格チェックボックスをクリア</p>
<p class="p1"><span class="Apple-converted-space">                </span>document.querySelectorAll('input[name="qualifications"]').forEach(cb =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>cb.checked = false;</p>
<p class="p1"><span class="Apple-converted-space">                </span>});</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>// カスタム資格リストをクリア</p>
<p class="p1"><span class="Apple-converted-space">                </span>const customQualList = document.getElementById('customQualificationsList');</p>
<p class="p1"><span class="Apple-converted-space">                </span>if (customQualList) {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>customQualList.innerHTML = '';</p>
<p class="p1"><span class="Apple-converted-space">                </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>// スプレッドシートのデータに基づいてチェック</p>
<p class="p1"><span class="Apple-converted-space">                </span>qualificationsList.forEach(qual =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>const checkbox = document.querySelector(`input[name="qualifications"][value="${qual}"]`);</p>
<p class="p1"><span class="Apple-converted-space">                    </span>if (checkbox) {</p>
<p class="p1"><span class="Apple-converted-space">                        </span>checkbox.checked = true;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>console.log(`✓ Checked qualification: ${qual}`);</p>
<p class="p1"><span class="Apple-converted-space">                    </span>} else {</p>
<p class="p1"><span class="Apple-converted-space">                        </span>// チェックボックスにない資格は「その他」としてカスタムリストに追加</p>
<p class="p1"><span class="Apple-converted-space">                        </span>console.log(`⚠ Qualification not found in checkboxes, adding as custom: ${qual}`);</p>
<p class="p1"><span class="Apple-converted-space">                        </span>if (customQualList) {</p>
<p class="p1"><span class="Apple-converted-space">                            </span>const tag = document.createElement('div');</p>
<p class="p1"><span class="Apple-converted-space">                            </span>tag.className = 'inline-flex items-center bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-sm';</p>
<p class="p1"><span class="Apple-converted-space">                            </span>tag.innerHTML = `</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;span&gt;${qual}&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;button onclick="this.parentElement.remove()" class="ml-2 text-blue-600 hover:text-blue-800"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"&gt;&lt;/path&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;/svg&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>`;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>customQualList.appendChild(tag);</p>
<p class="p1"><span class="Apple-converted-space">                        </span>}</p>
<p class="p1"><span class="Apple-converted-space">                    </span>}</p>
<p class="p1"><span class="Apple-converted-space">                </span>});</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>// プレビューに保有資格を反映</p>
<p class="p1"><span class="Apple-converted-space">                </span>const previewQualsList = document.getElementById('qualificationsList');</p>
<p class="p1"><span class="Apple-converted-space">                </span>if (previewQualsList) {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>previewQualsList.innerHTML = '';</p>
<p class="p1"><span class="Apple-converted-space">                    </span>qualificationsList.forEach(qual =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                        </span>const div = document.createElement('div');</p>
<p class="p1"><span class="Apple-converted-space">                        </span>div.className = 'bg-purple-50 border border-purple-200 rounded-lg p-3 flex items-center';</p>
<p class="p1"><span class="Apple-converted-space">                        </span>div.innerHTML = `</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;span class="text-2xl mr-2"&gt;🎖️&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;span class="text-sm font-medium"&gt;${qual}&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>`;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>previewQualsList.appendChild(div);</p>
<p class="p1"><span class="Apple-converted-space">                    </span>});</p>
<p class="p1"><span class="Apple-converted-space">                    </span>const qualSection = document.getElementById('preview-gallery');</p>
<p class="p1"><span class="Apple-converted-space">                    </span>if (qualSection &amp;&amp; qualificationsList.length &gt; 0) {</p>
<p class="p1"><span class="Apple-converted-space">                        </span>qualSection.style.display = 'block';</p>
<p class="p1"><span class="Apple-converted-space">                    </span>}</p>
<p class="p1"><span class="Apple-converted-space">                    </span>console.log('✓ Updated preview qualifications:', qualificationsList.length);</p>
<p class="p1"><span class="Apple-converted-space">                </span>}</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>console.log('=== LOADING INSURANCE DATA ===');</p>
<p class="p1"><span class="Apple-converted-space">            </span>// 加入保険データを取得（AU列）</p>
<p class="p1"><span class="Apple-converted-space">            </span>const insuranceRaw = data['加入保険'] || '';</p>
<p class="p1"><span class="Apple-converted-space">            </span>console.log('Insurance from spreadsheet:', insuranceRaw);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>if (insuranceRaw) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>const insuranceList = insuranceRaw.split(',').map(i =&gt; i.trim()).filter(i =&gt; i);</p>
<p class="p1"><span class="Apple-converted-space">                </span>console.log('Parsed insurance:', insuranceList);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>// 全ての加入保険チェックボックスをクリア</p>
<p class="p1"><span class="Apple-converted-space">                </span>document.querySelectorAll('input[name="insurance"]').forEach(cb =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>cb.checked = false;</p>
<p class="p1"><span class="Apple-converted-space">                </span>});</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>// カスタム保険リストをクリア</p>
<p class="p1"><span class="Apple-converted-space">                </span>const customInsList = document.getElementById('customInsuranceList');</p>
<p class="p1"><span class="Apple-converted-space">                </span>if (customInsList) {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>customInsList.innerHTML = '';</p>
<p class="p1"><span class="Apple-converted-space">                </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>// スプレッドシートのデータに基づいてチェック</p>
<p class="p1"><span class="Apple-converted-space">                </span>insuranceList.forEach(ins =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>const checkbox = document.querySelector(`input[name="insurance"][value="${ins}"]`);</p>
<p class="p1"><span class="Apple-converted-space">                    </span>if (checkbox) {</p>
<p class="p1"><span class="Apple-converted-space">                        </span>checkbox.checked = true;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>console.log(`✓ Checked insurance: ${ins}`);</p>
<p class="p1"><span class="Apple-converted-space">                    </span>} else {</p>
<p class="p1"><span class="Apple-converted-space">                        </span>// チェックボックスにない保険は「その他」としてカスタムリストに追加</p>
<p class="p1"><span class="Apple-converted-space">                        </span>console.log(`⚠ Insurance not found in checkboxes, adding as custom: ${ins}`);</p>
<p class="p1"><span class="Apple-converted-space">                        </span>if (customInsList) {</p>
<p class="p1"><span class="Apple-converted-space">                            </span>const tag = document.createElement('div');</p>
<p class="p1"><span class="Apple-converted-space">                            </span>tag.className = 'inline-flex items-center bg-green-100 text-green-800 px-3 py-1 rounded-full text-sm';</p>
<p class="p1"><span class="Apple-converted-space">                            </span>tag.innerHTML = `</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;span&gt;${ins}&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;button onclick="this.parentElement.remove()" class="ml-2 text-green-600 hover:text-green-800"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"&gt;&lt;/path&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;/svg&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>`;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>customInsList.appendChild(tag);</p>
<p class="p1"><span class="Apple-converted-space">                        </span>}</p>
<p class="p1"><span class="Apple-converted-space">                    </span>}</p>
<p class="p1"><span class="Apple-converted-space">                </span>});</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>// プレビューに加入保険を反映</p>
<p class="p1"><span class="Apple-converted-space">                </span>const previewInsList = document.getElementById('insuranceList');</p>
<p class="p1"><span class="Apple-converted-space">                </span>if (previewInsList) {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>previewInsList.innerHTML = '';</p>
<p class="p1"><span class="Apple-converted-space">                    </span>insuranceList.forEach(ins =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                        </span>const div = document.createElement('div');</p>
<p class="p1"><span class="Apple-converted-space">                        </span>div.className = 'bg-indigo-50 border border-indigo-200 rounded-lg p-3 flex items-center';</p>
<p class="p1"><span class="Apple-converted-space">                        </span>div.innerHTML = `</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;span class="text-2xl mr-2"&gt;🛡️&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;span class="text-sm font-medium"&gt;${ins}&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>`;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>previewInsList.appendChild(div);</p>
<p class="p1"><span class="Apple-converted-space">                    </span>});</p>
<p class="p1"><span class="Apple-converted-space">                    </span>const insSection = document.getElementById('preview-insurance');</p>
<p class="p1"><span class="Apple-converted-space">                    </span>if (insSection &amp;&amp; insuranceList.length &gt; 0) {</p>
<p class="p1"><span class="Apple-converted-space">                        </span>insSection.style.display = 'block';</p>
<p class="p1"><span class="Apple-converted-space">                    </span>}</p>
<p class="p1"><span class="Apple-converted-space">                    </span>console.log('✓ Updated preview insurance:', insuranceList.length);</p>
<p class="p1"><span class="Apple-converted-space">                </span>}</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>// 営業担当者氏名（X列）をwindow.merchantDataに保存</p>
<p class="p1"><span class="Apple-converted-space">            </span>const salesPersonName = data['営業担当者氏名'] || data.salesPersonName || data.sales_person_name || '';</p>
<p class="p1"><span class="Apple-converted-space">            </span>if (salesPersonName) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>if (!window.merchantData) {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>window.merchantData = {};</p>
<p class="p1"><span class="Apple-converted-space">                </span>}</p>
<p class="p1"><span class="Apple-converted-space">                </span>window.merchantData.salesPerson = salesPersonName;</p>
<p class="p1"><span class="Apple-converted-space">                </span>console.log(`✓ Sales person name: ${salesPersonName}`);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>// ヘッダーの営業担当者表示を更新</p>
<p class="p1"><span class="Apple-converted-space">                </span>const userRoleElement = document.getElementById('userRole');</p>
<p class="p1"><span class="Apple-converted-space">                </span>if (userRoleElement) {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>userRoleElement.textContent = salesPersonName;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>console.log(`✓ Updated header with sales person: ${salesPersonName}`);</p>
<p class="p1"><span class="Apple-converted-space">                </span>}</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>// メインビジュアルの読み込み</p>
<p class="p1"><span class="Apple-converted-space">            </span>const mainVisualUrlFromSheet = data['メインビジュアル'] || data.mainVisual;</p>
<p class="p1"><span class="Apple-converted-space">            </span>if (mainVisualUrlFromSheet) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>mainVisualUrl = mainVisualUrlFromSheet;</p>
<p class="p1"><span class="Apple-converted-space">                </span>document.getElementById('mainVisualImage').src = mainVisualUrlFromSheet;</p>
<p class="p1"><span class="Apple-converted-space">                </span>document.getElementById('mainVisualPreview').classList.remove('hidden');</p>
<p class="p1"><span class="Apple-converted-space">                </span>document.getElementById('mainVisualPlaceholder').classList.add('hidden');</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>// プレビューにも反映</p>
<p class="p1"><span class="Apple-converted-space">                </span>document.getElementById('previewMainVisual').src = mainVisualUrlFromSheet;</p>
<p class="p1"><span class="Apple-converted-space">                </span>document.getElementById('mainVisualSection').style.display = 'block';</p>
<p class="p1"><span class="Apple-converted-space">                </span>document.getElementById('heroSection').style.display = 'none';</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>// メインビジュアル上の設立年月日も更新</p>
<p class="p1"><span class="Apple-converted-space">                </span>const establishedDate = data['設立年月'] || data.established || '';</p>
<p class="p1"><span class="Apple-converted-space">                </span>if (establishedDate) {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>const overlayEstablished = document.getElementById('previewEstablishedOverlay');</p>
<p class="p1"><span class="Apple-converted-space">                    </span>if (overlayEstablished) {</p>
<p class="p1"><span class="Apple-converted-space">                        </span>overlayEstablished.textContent = establishedDate;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>}</p>
<p class="p1"><span class="Apple-converted-space">                </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>console.log('✓ Loaded main visual:', mainVisualUrlFromSheet);</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>// 写真ギャラリーの読み込み（遅延読み込み + 軽量サムネイル）</p>
<p class="p1"><span class="Apple-converted-space">            </span>const galleryUrlsFromSheet = data['写真ギャラリー'] || data.photoGallery;</p>
<p class="p1"><span class="Apple-converted-space">            </span>if (galleryUrlsFromSheet) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>// HYPERLINK関数の結果を処理</p>
<p class="p1"><span class="Apple-converted-space">                </span>let urls = [];</p>
<p class="p1"><span class="Apple-converted-space">                </span>if (typeof galleryUrlsFromSheet === 'string') {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>// カンマ区切りのURL文字列を分割</p>
<p class="p1"><span class="Apple-converted-space">                    </span>urls = galleryUrlsFromSheet.split(',').map(url =&gt; url.trim()).filter(url =&gt; url &amp;&amp; url.startsWith('http'));</p>
<p class="p1"><span class="Apple-converted-space">                </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>const galleryList = document.getElementById('photoGalleryList');</p>
<p class="p1"><span class="Apple-converted-space">                </span>const addButton = galleryList.querySelector('.border-dashed');</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>// プレビュー用配列をクリア</p>
<p class="p1"><span class="Apple-converted-space">                </span>galleryImages = [];</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>urls.forEach((url, index) =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>const imageId = 'gallery_loaded_' + index;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>// サムネイル用に軽量化（w1000 → w200）</p>
<p class="p1"><span class="Apple-converted-space">                    </span>const thumbnailUrl = url.replace(/sz=w\d+/, 'sz=w200');</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                    </span>const imageDiv = document.createElement('div');</p>
<p class="p1"><span class="Apple-converted-space">                    </span>imageDiv.className = 'relative group gallery-item';</p>
<p class="p1"><span class="Apple-converted-space">                    </span>imageDiv.id = imageId;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>imageDiv.innerHTML = `</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;img loading="lazy" src="${thumbnailUrl}" class="w-full h-24 object-cover rounded-lg" alt="ギャラリー画像${index + 1}"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;button type="button" onclick="removeGalleryImage('${imageId}')" class="absolute top-1 right-1 bg-red-500 text-white p-1 rounded opacity-0 group-hover:opacity-100 transition"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" /&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/svg&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>`;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>galleryList.insertBefore(imageDiv, addButton);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                    </span>// プレビュー用の配列にも追加</p>
<p class="p1"><span class="Apple-converted-space">                    </span>galleryImages.push({</p>
<p class="p1"><span class="Apple-converted-space">                        </span>src: url,</p>
<p class="p1"><span class="Apple-converted-space">                        </span>name: `ギャラリー画像${index + 1}`</p>
<p class="p1"><span class="Apple-converted-space">                    </span>});</p>
<p class="p1"><span class="Apple-converted-space">                </span>});</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>console.log('✓ Loaded gallery:', urls.length, 'images (lazy loading enabled)');</p>
<p class="p1"><span class="Apple-converted-space">                </span>// プレビューを更新</p>
<p class="p1"><span class="Apple-converted-space">                </span>updateGalleryPreview();</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>// 施工事例の読み込み</p>
<p class="p1"><span class="Apple-converted-space">            </span>loadConstructionExamples();</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>// プレビュー設定の読み込み</p>
<p class="p1"><span class="Apple-converted-space">            </span>loadPreviewSettings();</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>console.log('===== loadMerchantData COMPLETE =====');</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>// ドラッグ&amp;ドロップ初期化</p>
<p class="p1"><span class="Apple-converted-space">            </span>setupGalleryDragDrop();</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// 施工事例を読み込んで表示</p>
<p class="p1"><span class="Apple-converted-space">        </span>async function loadConstructionExamples() {</p>
<p class="p1"><span class="Apple-converted-space">            </span>if (!window.merchantId) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>console.log('[loadConstructionExamples] merchantId not set');</p>
<p class="p1"><span class="Apple-converted-space">                </span>return;</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>try {</p>
<p class="p1"><span class="Apple-converted-space">                </span>const response = await fetch(GAS_URL, {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>method: 'POST',</p>
<p class="p1"><span class="Apple-converted-space">                    </span>headers: { 'Content-Type': 'text/plain' },</p>
<p class="p1"><span class="Apple-converted-space">                    </span>body: JSON.stringify({</p>
<p class="p1"><span class="Apple-converted-space">                        </span>action: 'getConstructionExamples',</p>
<p class="p1"><span class="Apple-converted-space">                        </span>merchantId: window.merchantId</p>
<p class="p1"><span class="Apple-converted-space">                    </span>})</p>
<p class="p1"><span class="Apple-converted-space">                </span>});</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>const result = await response.json();</p>
<p class="p1"><span class="Apple-converted-space">                </span>if (result.success &amp;&amp; result.examples &amp;&amp; result.examples.length &gt; 0) {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>const examplesList = document.getElementById('constructionExamplesList');</p>
<p class="p1"><span class="Apple-converted-space">                    </span>exampleIdCounter = result.examples.length;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                    </span>result.examples.forEach((example, index) =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                        </span>const exampleId = 'example_loaded_' + index;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>const newExample = {</p>
<p class="p1"><span class="Apple-converted-space">                            </span>id: exampleId,</p>
<p class="p1"><span class="Apple-converted-space">                            </span>title: example.title,</p>
<p class="p1"><span class="Apple-converted-space">                            </span>buildingAge: example.buildingAge,</p>
<p class="p1"><span class="Apple-converted-space">                            </span>content: example.content,</p>
<p class="p1"><span class="Apple-converted-space">                            </span>price: example.price,</p>
<p class="p1"><span class="Apple-converted-space">                            </span>beforeImage: example.beforeUrl,</p>
<p class="p1"><span class="Apple-converted-space">                            </span>afterImage: example.afterUrl</p>
<p class="p1"><span class="Apple-converted-space">                        </span>};</p>
<p class="p1"><span class="Apple-converted-space">                        </span>constructionExamples.push(newExample);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                        </span>const exampleDiv = document.createElement('div');</p>
<p class="p1"><span class="Apple-converted-space">                        </span>exampleDiv.className = 'border rounded-lg p-4';</p>
<p class="p1"><span class="Apple-converted-space">                        </span>exampleDiv.id = exampleId;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>exampleDiv.innerHTML = `</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;input type="text" class="w-full px-3 py-2 border rounded mb-2" placeholder="施工タイトル（例：戸建て外壁塗装）" value="${example.title || ''}" onchange="updateConstructionExample('${exampleId}', 'title', this.value)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div class="grid grid-cols-2 gap-2 mb-2"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;label class="text-xs text-gray-600 mb-1 block"&gt;築年数&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;div class="flex items-center"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;input type="number" class="w-full px-3 py-2 border rounded" placeholder="15" min="0" max="100" value="${example.buildingAge || ''}" onchange="updateConstructionExample('${exampleId}', 'buildingAge', this.value)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;span class="ml-2 text-sm text-gray-600"&gt;年&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;label class="text-xs text-gray-600 mb-1 block"&gt;施工金額（万円）&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;div class="flex items-center"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;input type="number" class="w-full px-3 py-2 border rounded" placeholder="150" min="0" value="${example.price || ''}" onchange="updateConstructionExample('${exampleId}', 'price', this.value)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;span class="ml-2 text-sm text-gray-600"&gt;万円&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;textarea class="w-full px-3 py-2 border rounded mb-2" rows="2" placeholder="施工内容（例：シリコン塗料による3回塗り、色褪せと汚れを解消）" onchange="updateConstructionExample('${exampleId}', 'content', this.value)"&gt;${example.content || ''}&lt;/textarea&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div class="grid grid-cols-2 gap-4 mb-2"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;label class="text-xs font-semibold text-gray-600 mb-1 block"&gt;施工前（Before）&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>${example.beforeUrl ? `&lt;img src="${example.beforeUrl}" class="w-full h-32 object-cover rounded" alt="施工前"&gt;` : '&lt;div class="border-2 border-dashed border-gray-300 rounded-lg p-4 text-center"&gt;&lt;span class="text-xs text-gray-500"&gt;画像なし&lt;/span&gt;&lt;/div&gt;'}</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;label class="text-xs font-semibold text-gray-600 mb-1 block"&gt;施工後（After）&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>${example.afterUrl ? `&lt;img src="${example.afterUrl}" class="w-full h-32 object-cover rounded" alt="施工後"&gt;` : '&lt;div class="border-2 border-dashed border-gray-300 rounded-lg p-4 text-center"&gt;&lt;span class="text-xs text-gray-500"&gt;画像なし&lt;/span&gt;&lt;/div&gt;'}</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div class="flex justify-end"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;button onclick="removeConstructionExample('${exampleId}')" class="text-red-600 hover:text-red-800 text-sm"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;svg class="w-4 h-4 inline mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"&gt;&lt;/path&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;/svg&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>この事例を削除</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>`;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>examplesList.appendChild(exampleDiv);</p>
<p class="p1"><span class="Apple-converted-space">                    </span>});</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                    </span>console.log('✓ Loaded construction examples:', result.examples.length);</p>
<p class="p1"><span class="Apple-converted-space">                    </span>// プレビューを更新</p>
<p class="p1"><span class="Apple-converted-space">                    </span>updateExamplesPreview();</p>
<p class="p1"><span class="Apple-converted-space">                </span>} else {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>console.log('✓ No construction examples found');</p>
<p class="p1"><span class="Apple-converted-space">                </span>}</p>
<p class="p1"><span class="Apple-converted-space">            </span>} catch (error) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>console.error('[loadConstructionExamples] Error:', error);</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// プレビュー設定を読み込んで適用</p>
<p class="p1"><span class="Apple-converted-space">        </span>async function loadPreviewSettings() {</p>
<p class="p1"><span class="Apple-converted-space">            </span>if (!window.merchantId) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>console.log('[loadPreviewSettings] merchantId not set');</p>
<p class="p1"><span class="Apple-converted-space">                </span>return;</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>try {</p>
<p class="p1"><span class="Apple-converted-space">                </span>const response = await fetch(GAS_URL, {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>method: 'POST',</p>
<p class="p1"><span class="Apple-converted-space">                    </span>headers: { 'Content-Type': 'text/plain' },</p>
<p class="p1"><span class="Apple-converted-space">                    </span>body: JSON.stringify({</p>
<p class="p1"><span class="Apple-converted-space">                        </span>action: 'getPreviewSettings',</p>
<p class="p1"><span class="Apple-converted-space">                        </span>merchantId: window.merchantId</p>
<p class="p1"><span class="Apple-converted-space">                    </span>})</p>
<p class="p1"><span class="Apple-converted-space">                </span>});</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>const result = await response.json();</p>
<p class="p1"><span class="Apple-converted-space">                </span>if (result.success &amp;&amp; result.settings) {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>const settings = result.settings;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>console.log('[loadPreviewSettings] Loaded settings:', settings);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                    </span>// 画像位置を復元</p>
<p class="p1"><span class="Apple-converted-space">                    </span>if (settings.imagePositionX !== undefined) {</p>
<p class="p1"><span class="Apple-converted-space">                        </span>imagePositionX = parseFloat(settings.imagePositionX) || 50;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>}</p>
<p class="p1"><span class="Apple-converted-space">                    </span>if (settings.imagePositionY !== undefined) {</p>
<p class="p1"><span class="Apple-converted-space">                        </span>imagePositionY = parseFloat(settings.imagePositionY) || 50;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>}</p>
<p class="p1"><span class="Apple-converted-space">                    </span>updateImagePosition();</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                    </span>// ズームを復元</p>
<p class="p1"><span class="Apple-converted-space">                    </span>if (settings.imageZoom !== undefined) {</p>
<p class="p1"><span class="Apple-converted-space">                        </span>currentZoom = parseInt(settings.imageZoom) || 100;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>const zoomSlider = document.getElementById('imageZoom');</p>
<p class="p1"><span class="Apple-converted-space">                        </span>if (zoomSlider) zoomSlider.value = currentZoom;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>const image = document.getElementById('previewMainVisual');</p>
<p class="p1"><span class="Apple-converted-space">                        </span>if (image) {</p>
<p class="p1"><span class="Apple-converted-space">                            </span>const scale = currentZoom / 100;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>image.style.transform = `scale(${scale})`;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>}</p>
<p class="p1"><span class="Apple-converted-space">                    </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                    </span>// 明るさを復元</p>
<p class="p1"><span class="Apple-converted-space">                    </span>if (settings.imageBrightness !== undefined) {</p>
<p class="p1"><span class="Apple-converted-space">                        </span>const brightness = parseInt(settings.imageBrightness) || 70;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>const brightnessSlider = document.getElementById('imageOpacity');</p>
<p class="p1"><span class="Apple-converted-space">                        </span>if (brightnessSlider) brightnessSlider.value = brightness;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>adjustImageOpacity(brightness);</p>
<p class="p1"><span class="Apple-converted-space">                    </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                    </span>// 文字色を復元</p>
<p class="p1"><span class="Apple-converted-space">                    </span>if (settings.textColor) {</p>
<p class="p1"><span class="Apple-converted-space">                        </span>currentTextColor = settings.textColor;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>adjustTextColor(settings.textColor);</p>
<p class="p1"><span class="Apple-converted-space">                    </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                    </span>console.log('[loadPreviewSettings] Settings applied successfully');</p>
<p class="p1"><span class="Apple-converted-space">                </span>} else {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>console.log('[loadPreviewSettings] No saved settings found or failed to load');</p>
<p class="p1"><span class="Apple-converted-space">                </span>}</p>
<p class="p1"><span class="Apple-converted-space">            </span>} catch (error) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>console.error('[loadPreviewSettings] Error:', error);</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// 案件カードを動的に生成</p>
<p class="p1"><span class="Apple-converted-space">        </span>function renderCaseCards() {</p>
<p class="p1"><span class="Apple-converted-space">            </span>const cardView = document.getElementById('caseCardView');</p>
<p class="p1"><span class="Apple-converted-space">            </span>if (!cardView) return;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>// 既存のカードをクリア</p>
<p class="p1"><span class="Apple-converted-space">            </span>cardView.innerHTML = '';</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>// casesDataから案件カードを生成</p>
<p class="p1"><span class="Apple-converted-space">            </span>const filteredCases = casesData.filter(c =&gt; c.assignee); // 振り分け済みの案件のみ</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>filteredCases.forEach(caseItem =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                </span>const card = createCaseCard(caseItem);</p>
<p class="p1"><span class="Apple-converted-space">                </span>cardView.innerHTML += card;</p>
<p class="p1"><span class="Apple-converted-space">            </span>});</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// 個別の案件カードHTML生成</p>
<p class="p1"><span class="Apple-converted-space">        </span>function createCaseCard(caseItem) {</p>
<p class="p1"><span class="Apple-converted-space">            </span>const statusColor = getStatusColor(caseItem.status);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>return `</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;div class="bg-white rounded-lg shadow-md p-4 hover:shadow-lg transition-shadow cursor-pointer" onclick="showCaseDetail(${caseItem.id})" data-case-id="${caseItem.id}"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="flex justify-between items-start mb-3"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;span class="px-2 py-1 text-xs font-semibold rounded-full ${statusColor}"&gt;${caseItem.status}&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="flex gap-1"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;button onclick="event.stopPropagation(); showMemo(${caseItem.id})" class="p-1.5 rounded-lg hover:bg-gray-100 transition-colors" title="メモ"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;span class="text-lg"&gt;📝&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;button onclick="event.stopPropagation(); scheduleCase(${caseItem.id})" class="p-1.5 rounded-lg hover:bg-yellow-100 transition-colors" title="スケジュール"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;span class="text-lg"&gt;📅&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;button onclick="event.stopPropagation(); passCase(${caseItem.id})" class="p-1.5 rounded-lg hover:bg-blue-100 transition-colors" title="担当パス"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;span class="text-lg"&gt;🔄&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;button onclick="event.stopPropagation(); openCancelRequest(${caseItem.id})" class="p-1.5 rounded-lg hover:bg-red-100 transition-colors" title="キャンセル申請"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;span class="text-lg"&gt;❌&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;h3 class="font-bold text-lg mb-1"&gt;${caseItem.name}&lt;/h3&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="mb-2"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;span class="text-xs bg-blue-100 text-blue-700 px-2 py-0.5 rounded"&gt;👤 担当: ${caseItem.assignee}&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;p class="text-sm text-gray-600 mb-2"&gt;${caseItem.location || caseItem.area}&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;p class="text-sm text-gray-600 mb-3"&gt;${caseItem.propertyType}&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="flex justify-between items-center text-xs text-gray-500 mb-3"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;span&gt;最終連絡: ${caseItem.lastContact || '未連絡'}&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;span&gt;次回予定: ${caseItem.nextAction || '未定'}&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="flex gap-1"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;button onclick="event.stopPropagation(); callCustomer('${caseItem.phone}')" class="flex-1 px-2 py-2 bg-green-100 text-green-700 rounded text-sm hover:bg-green-200 transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>📞</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;button onclick="event.stopPropagation(); sendSMS('${caseItem.phone}')" class="flex-1 px-2 py-2 bg-yellow-100 text-yellow-700 rounded text-sm hover:bg-yellow-200 transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>📩</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;button onclick="event.stopPropagation(); quickStatusChange(${caseItem.id})" class="flex-1 px-2 py-2 bg-orange-100 text-orange-700 rounded text-sm hover:bg-orange-200 transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>ステータス</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;button onclick="event.stopPropagation(); showCaseDetail(${caseItem.id})" class="flex-1 px-2 py-2 bg-blue-100 text-blue-700 rounded text-sm hover:bg-blue-200 transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>詳細</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>`;</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// 表示切替</p>
<p class="p1"><span class="Apple-converted-space">        </span>function toggleCaseView() {</p>
<p class="p1"><span class="Apple-converted-space">            </span>currentCaseView = currentCaseView === 'card' ? 'list' : 'card';</p>
<p class="p1"><span class="Apple-converted-space">            </span>const cardView = document.getElementById('caseCardView');</p>
<p class="p1"><span class="Apple-converted-space">            </span>const listView = document.getElementById('caseListView');</p>
<p class="p1"><span class="Apple-converted-space">            </span>const viewIcon = document.getElementById('viewIcon');</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>if (currentCaseView === 'card') {</p>
<p class="p1"><span class="Apple-converted-space">                </span>cardView.style.display = 'grid';</p>
<p class="p1"><span class="Apple-converted-space">                </span>listView.style.display = 'none';</p>
<p class="p1"><span class="Apple-converted-space">                </span>viewIcon.innerHTML = '&lt;path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"&gt;&lt;/path&gt;';</p>
<p class="p1"><span class="Apple-converted-space">            </span>} else {</p>
<p class="p1"><span class="Apple-converted-space">                </span>cardView.style.display = 'none';</p>
<p class="p1"><span class="Apple-converted-space">                </span>listView.style.display = 'block';</p>
<p class="p1"><span class="Apple-converted-space">                </span>viewIcon.innerHTML = '&lt;path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"&gt;&lt;/path&gt;';</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// 現在のフィルター状態</p>
<p class="p1"><span class="Apple-converted-space">        </span>let currentFilter = 'all';</p>
<p class="p1"><span class="Apple-converted-space">        </span>let currentSearchTerm = '';</p>
<p class="p1"><span class="Apple-converted-space">        </span>let currentSort = 'date_desc';</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// 案件カウントを更新</p>
<p class="p1"><span class="Apple-converted-space">        </span>function updateCaseCounts() {</p>
<p class="p1"><span class="Apple-converted-space">            </span>const counts = {</p>
<p class="p1"><span class="Apple-converted-space">                </span>'all': casesData.filter(c =&gt; c.assignee).length,</p>
<p class="p1"><span class="Apple-converted-space">                </span>'未対応': casesData.filter(c =&gt; c.assignee &amp;&amp; c.status === '未対応').length,</p>
<p class="p1"><span class="Apple-converted-space">                </span>'アポ済': casesData.filter(c =&gt; c.assignee &amp;&amp; c.status === 'アポ済').length,</p>
<p class="p1"><span class="Apple-converted-space">                </span>'見積提出済': casesData.filter(c =&gt; c.assignee &amp;&amp; c.status === '見積提出済').length,</p>
<p class="p1"><span class="Apple-converted-space">                </span>'成約': casesData.filter(c =&gt; c.assignee &amp;&amp; c.status === '成約').length</p>
<p class="p1"><span class="Apple-converted-space">            </span>};</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>// IDを使用してカウントを更新</p>
<p class="p1"><span class="Apple-converted-space">            </span>Object.keys(counts).forEach(key =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                </span>const el = document.getElementById(`count-${key}`);</p>
<p class="p1"><span class="Apple-converted-space">                </span>if (el) {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>el.textContent = counts[key];</p>
<p class="p1"><span class="Apple-converted-space">                </span>}</p>
<p class="p1"><span class="Apple-converted-space">            </span>});</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// フィルター機能</p>
<p class="p1"><span class="Apple-converted-space">        </span>function filterCases(status) {</p>
<p class="p1"><span class="Apple-converted-space">            </span>currentFilter = status;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>// フィルターボタンのアクティブ状態を更新</p>
<p class="p1"><span class="Apple-converted-space">            </span>document.querySelectorAll('.filter-stat-btn').forEach(btn =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                </span>btn.classList.remove('ring-2', 'ring-blue-500');</p>
<p class="p1"><span class="Apple-converted-space">            </span>});</p>
<p class="p1"><span class="Apple-converted-space">            </span>event.target.closest('.filter-stat-btn').classList.add('ring-2', 'ring-blue-500');</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>// カードを再描画</p>
<p class="p1"><span class="Apple-converted-space">            </span>renderFilteredAndSortedCards();</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// 検索機能</p>
<p class="p1"><span class="Apple-converted-space">        </span>function searchCases() {</p>
<p class="p1"><span class="Apple-converted-space">            </span>currentSearchTerm = document.getElementById('caseSearchInput').value.toLowerCase();</p>
<p class="p1"><span class="Apple-converted-space">            </span>renderFilteredAndSortedCards();</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// ソート機能</p>
<p class="p1"><span class="Apple-converted-space">        </span>function sortCases() {</p>
<p class="p1"><span class="Apple-converted-space">            </span>currentSort = document.getElementById('caseSortSelect').value;</p>
<p class="p1"><span class="Apple-converted-space">            </span>renderFilteredAndSortedCards();</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// フィルター、検索、ソートを適用してカードを再描画</p>
<p class="p1"><span class="Apple-converted-space">        </span>function renderFilteredAndSortedCards() {</p>
<p class="p1"><span class="Apple-converted-space">            </span>const cardView = document.getElementById('caseCardView');</p>
<p class="p1"><span class="Apple-converted-space">            </span>if (!cardView) return;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>// フィルタリング</p>
<p class="p1"><span class="Apple-converted-space">            </span>let filteredCases = casesData.filter(c =&gt; c.assignee);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>// ステータスフィルター</p>
<p class="p1"><span class="Apple-converted-space">            </span>if (currentFilter !== 'all') {</p>
<p class="p1"><span class="Apple-converted-space">                </span>filteredCases = filteredCases.filter(c =&gt; c.status === currentFilter);</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>// 検索フィルター</p>
<p class="p1"><span class="Apple-converted-space">            </span>if (currentSearchTerm) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>filteredCases = filteredCases.filter(c =&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>c.name.toLowerCase().includes(currentSearchTerm) ||</p>
<p class="p1"><span class="Apple-converted-space">                    </span>c.location.toLowerCase().includes(currentSearchTerm)</p>
<p class="p1"><span class="Apple-converted-space">                </span>);</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>// ソート</p>
<p class="p1"><span class="Apple-converted-space">            </span>filteredCases.sort((a, b) =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                </span>switch(currentSort) {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>case 'date_desc':</p>
<p class="p1"><span class="Apple-converted-space">                        </span>return (b.id || 0) - (a.id || 0); // IDを日付の代わりに使用</p>
<p class="p1"><span class="Apple-converted-space">                    </span>case 'date_asc':</p>
<p class="p1"><span class="Apple-converted-space">                        </span>return (a.id || 0) - (b.id || 0);</p>
<p class="p1"><span class="Apple-converted-space">                    </span>case 'status':</p>
<p class="p1"><span class="Apple-converted-space">                        </span>const statusOrder = ['未対応', '架電済/未アポ', 'アポ済', '現調済', '見積提出済', '成約'];</p>
<p class="p1"><span class="Apple-converted-space">                        </span>return statusOrder.indexOf(a.status) - statusOrder.indexOf(b.status);</p>
<p class="p1"><span class="Apple-converted-space">                    </span>default:</p>
<p class="p1"><span class="Apple-converted-space">                        </span>return 0;</p>
<p class="p1"><span class="Apple-converted-space">                </span>}</p>
<p class="p1"><span class="Apple-converted-space">            </span>});</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>// カードをクリアして再描画</p>
<p class="p1"><span class="Apple-converted-space">            </span>cardView.innerHTML = '';</p>
<p class="p1"><span class="Apple-converted-space">            </span>filteredCases.forEach(caseItem =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                </span>const card = createCaseCard(caseItem);</p>
<p class="p1"><span class="Apple-converted-space">                </span>cardView.innerHTML += card;</p>
<p class="p1"><span class="Apple-converted-space">            </span>});</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// 案件ステータスに応じた色を取得</p>
<p class="p1"><span class="Apple-converted-space">        </span>function getStatusColor(status) {</p>
<p class="p1"><span class="Apple-converted-space">            </span>const statusColors = {</p>
<p class="p1"><span class="Apple-converted-space">                </span>'未対応': 'bg-red-100 text-red-800',</p>
<p class="p1"><span class="Apple-converted-space">                </span>'架電済/未アポ': 'bg-orange-100 text-orange-800',</p>
<p class="p1"><span class="Apple-converted-space">                </span>'アポ済': 'bg-blue-100 text-blue-800',</p>
<p class="p1"><span class="Apple-converted-space">                </span>'現調済': 'bg-indigo-100 text-indigo-800',</p>
<p class="p1"><span class="Apple-converted-space">                </span>'現調前キャンセル': 'bg-gray-100 text-gray-800',</p>
<p class="p1"><span class="Apple-converted-space">                </span>'現調後失注': 'bg-gray-100 text-gray-800',</p>
<p class="p1"><span class="Apple-converted-space">                </span>'見積提出済': 'bg-yellow-100 text-yellow-800',</p>
<p class="p1"><span class="Apple-converted-space">                </span>'成約': 'bg-green-100 text-green-800',</p>
<p class="p1"><span class="Apple-converted-space">                </span>'他社契約済': 'bg-gray-100 text-gray-800',</p>
<p class="p1"><span class="Apple-converted-space">                </span>'別加盟店契約済': 'bg-purple-100 text-purple-800',</p>
<p class="p1"><span class="Apple-converted-space">                </span>'入金予定': 'bg-cyan-100 text-cyan-800',</p>
<p class="p1"><span class="Apple-converted-space">                </span>'入金済': 'bg-emerald-100 text-emerald-800',</p>
<p class="p1"><span class="Apple-converted-space">                </span>'クレーム or 失注': 'bg-red-100 text-red-800'</p>
<p class="p1"><span class="Apple-converted-space">            </span>};</p>
<p class="p1"><span class="Apple-converted-space">            </span>return statusColors[status] || 'bg-gray-100 text-gray-800';</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// 案件振り分けモーダル</p>
<p class="p1"><span class="Apple-converted-space">        </span>function openAssignmentModal() {</p>
<p class="p1"><span class="Apple-converted-space">            </span>const modal = document.createElement('div');</p>
<p class="p1"><span class="Apple-converted-space">            </span>modal.className = 'fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50';</p>
<p class="p1"><span class="Apple-converted-space">            </span>modal.id = 'assignmentModal';</p>
<p class="p1"><span class="Apple-converted-space">            </span>modal.innerHTML = `</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;div class="bg-white rounded-lg p-4 sm:p-6 w-full max-w-6xl max-h-[90vh] overflow-y-auto mx-2 sm:mx-4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="flex justify-between items-center mb-4 sm:mb-6"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;h3 class="text-lg sm:text-xl font-bold"&gt;案件振り分け&lt;/h3&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;button onclick="closeAssignmentModal()" class="text-gray-500 hover:text-gray-700"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"&gt;&lt;/path&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/svg&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;!-- 振り分け設定 --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="bg-gray-50 rounded-lg p-3 sm:p-4 mb-4 sm:mb-6"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;h4 class="font-semibold mb-2 sm:mb-3 text-sm sm:text-base"&gt;振り分け方法&lt;/h4&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="grid grid-cols-2 sm:grid-cols-4 gap-2 sm:gap-3"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="radio" name="assignMethod" value="area" class="mr-1 sm:mr-2" onchange="updateAssignmentSuggestion()"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="text-xs sm:text-sm"&gt;エリア優先&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="radio" name="assignMethod" value="workload" class="mr-1 sm:mr-2" onchange="updateAssignmentSuggestion()"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="text-xs sm:text-sm"&gt;案件数優先&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="radio" name="assignMethod" value="performance" class="mr-1 sm:mr-2" onchange="updateAssignmentSuggestion()"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="text-xs sm:text-sm"&gt;成約率優先&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="flex items-center"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;input type="radio" name="assignMethod" value="auto" class="mr-1 sm:mr-2" checked onchange="updateAssignmentSuggestion()"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="text-xs sm:text-sm"&gt;総合判定&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="grid grid-cols-2 gap-2 sm:gap-4 lg:gap-6"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;!-- 左側：営業担当者（ドラッグ元） --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;h4 class="font-semibold mb-2 sm:mb-3 text-xs sm:text-sm lg:text-base"&gt;営業担当者&lt;/h4&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div class="space-y-2 sm:space-y-3"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;!-- 田中太郎 --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;div class="assignee-card bg-white border rounded-lg p-2 sm:p-3 cursor-move hover:shadow-md transition-shadow" draggable="true" data-assignee-id="tanaka" data-assignee-name="田中太郎"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;div class="flex flex-col sm:flex-row sm:justify-between sm:items-center mb-1 sm:mb-2"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;span class="font-medium text-xs sm:text-sm"&gt;👤 田中太郎&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;span class="hidden sm:inline text-xs bg-purple-100 text-purple-800 px-2 py-1 rounded ml-2"&gt;リーダー&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;div class="text-xs text-gray-500"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;span class="font-bold"&gt;3件&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;div class="hidden sm:block text-xs text-gray-600"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>世田谷区 | 75%</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;!-- 佐藤花子 --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;div class="assignee-card bg-white border rounded-lg p-2 sm:p-3 cursor-move hover:shadow-md transition-shadow" draggable="true" data-assignee-id="sato" data-assignee-name="佐藤花子"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;div class="flex flex-col sm:flex-row sm:justify-between sm:items-center mb-1 sm:mb-2"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;span class="font-medium text-xs sm:text-sm"&gt;👤 佐藤花子&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;span class="hidden sm:inline text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded ml-2"&gt;一般営業&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;div class="text-xs text-gray-500"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;span class="font-bold"&gt;5件&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;div class="hidden sm:block text-xs text-gray-600"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>横浜市 | 62%</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;!-- 山田次郎 --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;div class="assignee-card bg-white border rounded-lg p-2 sm:p-3 cursor-move hover:shadow-md transition-shadow" draggable="true" data-assignee-id="yamada" data-assignee-name="山田次郎"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;div class="flex flex-col sm:flex-row sm:justify-between sm:items-center mb-1 sm:mb-2"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;span class="font-medium text-xs sm:text-sm"&gt;👤 山田次郎&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;span class="hidden sm:inline text-xs bg-gray-100 text-gray-800 px-2 py-1 rounded ml-2"&gt;新人&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;div class="text-xs text-gray-500"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>&lt;span class="font-bold"&gt;2件&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;div class="hidden sm:block text-xs text-gray-600"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>千葉市 | 40%</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;!-- 右側：未割当案件（ドロップ先） --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;h4 class="font-semibold mb-2 sm:mb-3 text-xs sm:text-sm lg:text-base"&gt;未割当案件&lt;/h4&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div class="bg-gray-50 border rounded-lg p-2 sm:p-3 space-y-2 sm:space-y-3 min-h-[400px] overflow-y-auto" id="unassignedCases"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;!-- 未割当案件カード --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;div class="case-drop-zone bg-yellow-50 border-2 border-yellow-200 rounded-lg p-2 sm:p-3 hover:bg-yellow-100 transition-colors" data-case-id="101"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;div class="flex justify-between items-start mb-1 sm:mb-2"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;span class="text-xs sm:text-sm font-semibold"&gt;高橋様&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;span class="text-xs bg-yellow-100 text-yellow-800 px-1 sm:px-2 py-0.5 sm:py-1 rounded"&gt;新規&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;p class="text-xs text-gray-600 mb-0.5 sm:mb-1"&gt;📍 世田谷区&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;p class="text-xs text-gray-600 mb-0.5 sm:mb-1 hidden sm:block"&gt;🏠 戸建て・築12年&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;p class="text-xs text-gray-600 mb-1 sm:mb-2 hidden sm:block"&gt;📞 090-1234-5678&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;!-- 担当者ドロップエリア --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;div class="assignee-drop-area bg-white border-2 border-dashed border-gray-300 rounded-lg p-1 sm:p-2 min-h-[30px] sm:min-h-[40px]"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;p class="text-xs text-gray-400 text-center"&gt;ドロップ&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;div class="mt-1 sm:mt-2 pt-1 sm:pt-2 border-t hidden sm:block"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;p class="text-xs text-blue-600 font-medium"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>推奨: 田中太郎</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;div class="case-drop-zone bg-yellow-50 border-2 border-yellow-200 rounded-lg p-2 sm:p-3 hover:bg-yellow-100 transition-colors" data-case-id="102"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;div class="flex justify-between items-start mb-1 sm:mb-2"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;span class="text-xs sm:text-sm font-semibold"&gt;斎藤様&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;span class="text-xs bg-yellow-100 text-yellow-800 px-1 sm:px-2 py-0.5 sm:py-1 rounded"&gt;新規&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;p class="text-xs text-gray-600 mb-0.5 sm:mb-1"&gt;📍 横浜市&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;p class="text-xs text-gray-600 mb-0.5 sm:mb-1 hidden sm:block"&gt;🏢 アパート・築18年&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;p class="text-xs text-gray-600 mb-1 sm:mb-2 hidden sm:block"&gt;📞 045-9876-5432&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;!-- 担当者ドロップエリア --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;div class="assignee-drop-area bg-white border-2 border-dashed border-gray-300 rounded-lg p-1 sm:p-2 min-h-[30px] sm:min-h-[40px]"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;p class="text-xs text-gray-400 text-center"&gt;ドロップ&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;div class="mt-1 sm:mt-2 pt-1 sm:pt-2 border-t hidden sm:block"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;p class="text-xs text-blue-600 font-medium"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>推奨: 佐藤花子</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;div class="case-drop-zone bg-yellow-50 border-2 border-yellow-200 rounded-lg p-2 sm:p-3 hover:bg-yellow-100 transition-colors" data-case-id="103"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;div class="flex justify-between items-start mb-1 sm:mb-2"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;span class="text-xs sm:text-sm font-semibold"&gt;渡辺様&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;span class="text-xs bg-yellow-100 text-yellow-800 px-1 sm:px-2 py-0.5 sm:py-1 rounded"&gt;新規&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;p class="text-xs text-gray-600 mb-0.5 sm:mb-1"&gt;📍 さいたま市&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;p class="text-xs text-gray-600 mb-0.5 sm:mb-1 hidden sm:block"&gt;🏠 戸建て・築20年&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;p class="text-xs text-gray-600 mb-1 sm:mb-2 hidden sm:block"&gt;📞 048-5555-6666&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;!-- 担当者ドロップエリア --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;div class="assignee-drop-area bg-white border-2 border-dashed border-gray-300 rounded-lg p-1 sm:p-2 min-h-[30px] sm:min-h-[40px]"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;p class="text-xs text-gray-400 text-center"&gt;ドロップ&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;div class="mt-1 sm:mt-2 pt-1 sm:pt-2 border-t hidden sm:block"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;p class="text-xs text-orange-600 font-medium"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>推奨: 複数担当</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;!-- アクションボタン --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="flex flex-col sm:flex-row justify-between items-center mt-4 sm:mt-6 pt-4 sm:pt-6 border-t gap-3"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;button onclick="autoAssignAll()" class="w-full sm:w-auto px-3 sm:px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 text-sm sm:text-base"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>一括自動振り分け</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="flex w-full sm:w-auto space-x-2 sm:space-x-3"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;button onclick="closeAssignmentModal()" class="flex-1 sm:flex-none px-3 sm:px-4 py-2 bg-gray-200 text-gray-800 rounded-lg hover:bg-gray-300 text-sm sm:text-base"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>キャンセル</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;button onclick="confirmAssignment()" class="flex-1 sm:flex-none px-3 sm:px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 text-sm sm:text-base"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>振り分けを確定</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>`;</p>
<p class="p1"><span class="Apple-converted-space">            </span>document.body.appendChild(modal);</p>
<p class="p1"><span class="Apple-converted-space">            </span>initDragAndDrop();</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// モーダルを閉じる</p>
<p class="p1"><span class="Apple-converted-space">        </span>function closeAssignmentModal() {</p>
<p class="p1"><span class="Apple-converted-space">            </span>const modal = document.getElementById('assignmentModal');</p>
<p class="p1"><span class="Apple-converted-space">            </span>if (modal) modal.remove();</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// ドラッグ&amp;ドロップ初期化</p>
<p class="p1"><span class="Apple-converted-space">        </span>function initDragAndDrop() {</p>
<p class="p1"><span class="Apple-converted-space">            </span>let draggedElement = null;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>// 担当者カードのドラッグ開始</p>
<p class="p1"><span class="Apple-converted-space">            </span>document.querySelectorAll('.assignee-card').forEach(card =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                </span>card.addEventListener('dragstart', (e) =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>draggedElement = e.target.closest('.assignee-card');</p>
<p class="p1"><span class="Apple-converted-space">                    </span>e.target.style.opacity = '0.5';</p>
<p class="p1"><span class="Apple-converted-space">                    </span>e.dataTransfer.effectAllowed = 'copy';</p>
<p class="p1"><span class="Apple-converted-space">                </span>});</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>card.addEventListener('dragend', (e) =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>e.target.style.opacity = '';</p>
<p class="p1"><span class="Apple-converted-space">                </span>});</p>
<p class="p1"><span class="Apple-converted-space">            </span>});</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>// 案件カード全体をドロップエリアに設定</p>
<p class="p1"><span class="Apple-converted-space">            </span>document.querySelectorAll('.case-drop-zone').forEach(caseCard =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                </span>const dropArea = caseCard.querySelector('.assignee-drop-area');</p>
<p class="p1"><span class="Apple-converted-space">                </span>caseCard.addEventListener('dragover', (e) =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>e.preventDefault();</p>
<p class="p1"><span class="Apple-converted-space">                    </span>e.dataTransfer.dropEffect = 'copy';</p>
<p class="p1"><span class="Apple-converted-space">                    </span>caseCard.classList.add('bg-blue-50', 'border-blue-400');</p>
<p class="p1"><span class="Apple-converted-space">                </span>});</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>caseCard.addEventListener('dragleave', (e) =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>// 子要素への移動は無視</p>
<p class="p1"><span class="Apple-converted-space">                    </span>if (!caseCard.contains(e.relatedTarget)) {</p>
<p class="p1"><span class="Apple-converted-space">                        </span>caseCard.classList.remove('bg-blue-50', 'border-blue-400');</p>
<p class="p1"><span class="Apple-converted-space">                    </span>}</p>
<p class="p1"><span class="Apple-converted-space">                </span>});</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>caseCard.addEventListener('drop', (e) =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>e.preventDefault();</p>
<p class="p1"><span class="Apple-converted-space">                    </span>caseCard.classList.remove('bg-blue-50', 'border-blue-400');</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                    </span>if (draggedElement) {</p>
<p class="p1"><span class="Apple-converted-space">                        </span>const assigneeId = draggedElement.dataset.assigneeId;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>const assigneeName = draggedElement.dataset.assigneeName;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>const caseId = caseCard.dataset.caseId;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                        </span>// 通常の担当者を追加（複数可）</p>
<p class="p1"><span class="Apple-converted-space">                        </span>const newTag = document.createElement('div');</p>
<p class="p1"><span class="Apple-converted-space">                        </span>newTag.className = 'assignee-tag bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-xs font-medium flex items-center justify-between mb-1';</p>
<p class="p1"><span class="Apple-converted-space">                        </span>newTag.innerHTML = `</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;span&gt;👤 ${assigneeName}&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;button onclick="removeAssignee(this)" class="ml-2 text-blue-600 hover:text-blue-800"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"&gt;&lt;/path&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/svg&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>`;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                        </span>// プレースホルダーテキストがあれば削除</p>
<p class="p1"><span class="Apple-converted-space">                        </span>const placeholder = dropArea.querySelector('.text-gray-400');</p>
<p class="p1"><span class="Apple-converted-space">                        </span>if (placeholder) {</p>
<p class="p1"><span class="Apple-converted-space">                            </span>placeholder.remove();</p>
<p class="p1"><span class="Apple-converted-space">                        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                        </span>// 同じ担当者が既に割り当てられていないかチェック</p>
<p class="p1"><span class="Apple-converted-space">                        </span>const existingAssignees = Array.from(dropArea.querySelectorAll('.assignee-tag')).map(tag =&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>tag.querySelector('span').textContent.replace('👤 ', '')</p>
<p class="p1"><span class="Apple-converted-space">                        </span>);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                        </span>if (!existingAssignees.includes(assigneeName)) {</p>
<p class="p1"><span class="Apple-converted-space">                            </span>dropArea.appendChild(newTag);</p>
<p class="p1"><span class="Apple-converted-space">                            </span>caseCard.classList.add('border-blue-400');</p>
<p class="p1"><span class="Apple-converted-space">                        </span>} else {</p>
<p class="p1"><span class="Apple-converted-space">                            </span>showNotification('既に割り当て済み', `${assigneeName}は既にこの案件に割り当てられています`);</p>
<p class="p1"><span class="Apple-converted-space">                        </span>}</p>
<p class="p1"><span class="Apple-converted-space">                    </span>}</p>
<p class="p1"><span class="Apple-converted-space">                </span>});</p>
<p class="p1"><span class="Apple-converted-space">            </span>});</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// 担当者を削除</p>
<p class="p1"><span class="Apple-converted-space">        </span>function removeAssignee(button) {</p>
<p class="p1"><span class="Apple-converted-space">            </span>const tag = button.closest('.assignee-tag');</p>
<p class="p1"><span class="Apple-converted-space">            </span>const dropArea = tag.closest('.assignee-drop-area');</p>
<p class="p1"><span class="Apple-converted-space">            </span>tag.remove();</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>// 担当者がいなくなったらプレースホルダーを表示</p>
<p class="p1"><span class="Apple-converted-space">            </span>if (dropArea.querySelectorAll('.assignee-tag').length === 0) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>dropArea.innerHTML = '&lt;p class="text-xs text-gray-400 text-center"&gt;担当者をここにドロップ&lt;/p&gt;';</p>
<p class="p1"><span class="Apple-converted-space">                </span>const caseCard = dropArea.closest('.case-drop-zone');</p>
<p class="p1"><span class="Apple-converted-space">                </span>caseCard.classList.remove('border-blue-400');</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// 振り分け方法変更時の推奨更新</p>
<p class="p1"><span class="Apple-converted-space">        </span>function updateAssignmentSuggestion() {</p>
<p class="p1"><span class="Apple-converted-space">            </span>const method = document.querySelector('input[name="assignMethod"]:checked').value;</p>
<p class="p1"><span class="Apple-converted-space">            </span>const caseCards = document.querySelectorAll('.case-card');</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>caseCards.forEach(card =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                </span>const suggestionEl = card.querySelector('.text-blue-600, .text-orange-600');</p>
<p class="p1"><span class="Apple-converted-space">                </span>if (suggestionEl) {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>switch(method) {</p>
<p class="p1"><span class="Apple-converted-space">                        </span>case 'area':</p>
<p class="p1"><span class="Apple-converted-space">                            </span>suggestionEl.textContent = '推奨: エリアマッチする担当者';</p>
<p class="p1"><span class="Apple-converted-space">                            </span>break;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>case 'workload':</p>
<p class="p1"><span class="Apple-converted-space">                            </span>suggestionEl.textContent = '推奨: 案件数が少ない担当者';</p>
<p class="p1"><span class="Apple-converted-space">                            </span>break;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>case 'performance':</p>
<p class="p1"><span class="Apple-converted-space">                            </span>suggestionEl.textContent = '推奨: 成約率が高い担当者';</p>
<p class="p1"><span class="Apple-converted-space">                            </span>break;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>case 'auto':</p>
<p class="p1"><span class="Apple-converted-space">                            </span>// 元の推奨に戻す</p>
<p class="p1"><span class="Apple-converted-space">                            </span>break;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>}</p>
<p class="p1"><span class="Apple-converted-space">                </span>}</p>
<p class="p1"><span class="Apple-converted-space">            </span>});</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// 一括自動振り分け</p>
<p class="p1"><span class="Apple-converted-space">        </span>function autoAssignAll() {</p>
<p class="p1"><span class="Apple-converted-space">            </span>const method = document.querySelector('input[name="assignMethod"]:checked').value;</p>
<p class="p1"><span class="Apple-converted-space">            </span>const caseCards = document.querySelectorAll('.case-drop-zone');</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>caseCards.forEach(caseCard =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                </span>const caseId = caseCard.dataset.caseId;</p>
<p class="p1"><span class="Apple-converted-space">                </span>const dropArea = caseCard.querySelector('.assignee-drop-area');</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>// 既に担当者が割り当てられている場合はスキップ</p>
<p class="p1"><span class="Apple-converted-space">                </span>if (dropArea.querySelector('.assignee-tag')) {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>return;</p>
<p class="p1"><span class="Apple-converted-space">                </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>// 簡易的な自動振り分けロジック（デモ用）</p>
<p class="p1"><span class="Apple-converted-space">                </span>let assigneeName = '';</p>
<p class="p1"><span class="Apple-converted-space">                </span>let assigneeType = 'normal';</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>if (caseId === '101') {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>assigneeName = '田中太郎';</p>
<p class="p1"><span class="Apple-converted-space">                </span>} else if (caseId === '102') {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>assigneeName = '佐藤花子';</p>
<p class="p1"><span class="Apple-converted-space">                </span>} else if (caseId === '103') {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>// 3番目の案件も通常の担当者を割り当て</p>
<p class="p1"><span class="Apple-converted-space">                    </span>assigneeName = '山田次郎';</p>
<p class="p1"><span class="Apple-converted-space">                </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>// 担当者タグを追加</p>
<p class="p1"><span class="Apple-converted-space">                </span>if (assigneeName) {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>dropArea.innerHTML = `</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="assignee-tag bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-xs font-medium flex items-center justify-between"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;span&gt;👤 ${assigneeName}&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;button onclick="removeAssignee(this)" class="ml-2 text-blue-600 hover:text-blue-800"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"&gt;&lt;/path&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/svg&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>`;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>caseCard.classList.add('border-blue-400');</p>
<p class="p1"><span class="Apple-converted-space">                </span>}</p>
<p class="p1"><span class="Apple-converted-space">            </span>});</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>showNotification('自動振り分け完了', '推奨担当者に案件を振り分けました');</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// 振り分け確定</p>
<p class="p1"><span class="Apple-converted-space">        </span>function confirmAssignment() {</p>
<p class="p1"><span class="Apple-converted-space">            </span>const assignments = [];</p>
<p class="p1"><span class="Apple-converted-space">            </span>const caseCards = document.querySelectorAll('.case-drop-zone');</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>caseCards.forEach(caseCard =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                </span>const caseId = caseCard.dataset.caseId;</p>
<p class="p1"><span class="Apple-converted-space">                </span>const dropArea = caseCard.querySelector('.assignee-drop-area');</p>
<p class="p1"><span class="Apple-converted-space">                </span>const assigneeTags = dropArea.querySelectorAll('.assignee-tag');</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>if (assigneeTags.length &gt; 0) {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>const customerName = caseCard.querySelector('.font-semibold').textContent;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>const assignees = Array.from(assigneeTags).map(tag =&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>tag.querySelector('span').textContent.replace('👤 ', '')</p>
<p class="p1"><span class="Apple-converted-space">                    </span>);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                    </span>assignments.push({</p>
<p class="p1"><span class="Apple-converted-space">                        </span>caseId: caseId,</p>
<p class="p1"><span class="Apple-converted-space">                        </span>customerName: customerName,</p>
<p class="p1"><span class="Apple-converted-space">                        </span>assignees: assignees</p>
<p class="p1"><span class="Apple-converted-space">                    </span>});</p>
<p class="p1"><span class="Apple-converted-space">                </span>}</p>
<p class="p1"><span class="Apple-converted-space">            </span>});</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>if (assignments.length &gt; 0) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>let message = '以下の振り分けを確定しました:\n';</p>
<p class="p1"><span class="Apple-converted-space">                </span>assignments.forEach(a =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>message += `${a.customerName} → ${a.assignees.join(', ')}\n`;</p>
<p class="p1"><span class="Apple-converted-space">                </span>});</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>showNotification('振り分け完了', message);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>// 未振り分け案件から削除</p>
<p class="p1"><span class="Apple-converted-space">                </span>assignments.forEach(a =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>const index = unassignedCases.findIndex(c =&gt; c.id == a.caseId);</p>
<p class="p1"><span class="Apple-converted-space">                    </span>if (index !== -1) {</p>
<p class="p1"><span class="Apple-converted-space">                        </span>unassignedCases.splice(index, 1);</p>
<p class="p1"><span class="Apple-converted-space">                    </span>}</p>
<p class="p1"><span class="Apple-converted-space">                </span>});</p>
<p class="p1"><span class="Apple-converted-space">                </span>displayUnassignedCases();</p>
<p class="p1"><span class="Apple-converted-space">                </span>closeAssignmentModal();</p>
<p class="p1"><span class="Apple-converted-space">            </span>} else {</p>
<p class="p1"><span class="Apple-converted-space">                </span>alert('振り分ける案件を選択してください');</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// 案件詳細表示</p>
<p class="p1"><span class="Apple-converted-space">        </span>function showCaseDetail(caseId) {</p>
<p class="p1"><span class="Apple-converted-space">            </span>const caseData = casesData.find(c =&gt; c.id === caseId);</p>
<p class="p1"><span class="Apple-converted-space">            </span>if (!caseData) return;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>const modal = document.createElement('div');</p>
<p class="p1"><span class="Apple-converted-space">            </span>modal.className = 'fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50';</p>
<p class="p1"><span class="Apple-converted-space">            </span>modal.innerHTML = `</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;div class="bg-white rounded-lg p-6 w-full max-w-2xl mx-4 max-h-[90vh] overflow-y-auto"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="flex justify-between items-start mb-4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;h2 class="text-2xl font-bold"&gt;${caseData.name}様&lt;/h2&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;button onclick="this.closest('.fixed').remove()" class="text-gray-400 hover:text-gray-600"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"&gt;&lt;/path&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/svg&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;!-- ステータス変更 --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="mb-6"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;label class="block text-sm font-medium text-gray-700 mb-2"&gt;ステータス&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;select id="caseStatus" onchange="updateCaseStatus(${caseId}, this.value)" class="w-full md:w-auto px-4 py-2 border rounded-lg"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;option value="未対応" ${caseData.status === '未対応' ? 'selected' : ''}&gt;未対応&lt;/option&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;option value="架電済/未アポ" ${caseData.status === '架電済/未アポ' ? 'selected' : ''}&gt;架電済/未アポ&lt;/option&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;option value="アポ済" ${caseData.status === 'アポ済' ? 'selected' : ''}&gt;アポ済&lt;/option&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;option value="現調済" ${caseData.status === '現調済' ? 'selected' : ''}&gt;現調済&lt;/option&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;option value="現調前キャンセル" ${caseData.status === '現調前キャンセル' ? 'selected' : ''}&gt;現調前キャンセル&lt;/option&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;option value="現調後失注" ${caseData.status === '現調後失注' ? 'selected' : ''}&gt;現調後失注&lt;/option&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;option value="見積提出済" ${caseData.status === '見積提出済' ? 'selected' : ''}&gt;見積提出済&lt;/option&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;option value="成約" ${caseData.status === '成約' ? 'selected' : ''}&gt;成約&lt;/option&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;option value="他社契約済" ${caseData.status === '他社契約済' ? 'selected' : ''}&gt;他社契約済&lt;/option&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;option value="別加盟店契約済" ${caseData.status === '別加盟店契約済' ? 'selected' : ''}&gt;別加盟店契約済&lt;/option&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;option value="入金予定" ${caseData.status === '入金予定' ? 'selected' : ''}&gt;入金予定&lt;/option&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;option value="入金済" ${caseData.status === '入金済' ? 'selected' : ''}&gt;入金済&lt;/option&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;option value="クレーム or 失注" ${caseData.status === 'クレーム or 失注' ? 'selected' : ''}&gt;クレーム or 失注&lt;/option&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/select&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;!-- 基本情報 --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-6"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;p class="text-sm text-gray-600"&gt;住所&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;p class="font-medium"&gt;${caseData.location}&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;p class="text-sm text-gray-600"&gt;物件種別&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;p class="font-medium"&gt;${caseData.propertyType}&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;p class="text-sm text-gray-600"&gt;電話番号&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;p class="font-medium"&gt;${caseData.phone}&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;p class="text-sm text-gray-600"&gt;担当者&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;p class="font-medium"&gt;${caseData.assignee || '未割当'}&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;!-- アクションボタン --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="flex flex-wrap gap-2 mb-6"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;button onclick="callCustomer('${caseData.phone}')" class="px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>📞 電話</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;button onclick="sendSMS('${caseData.phone}', ${caseData.id})" class="px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>📩 SMS</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;button onclick="showMemo(${caseId})" class="px-4 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>📝 メモ</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;button onclick="passCase(${caseId})" class="px-4 py-2 bg-purple-500 text-white rounded-lg hover:bg-purple-600"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>🔄 引き継ぎ</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;!-- 活動履歴 --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="border-t pt-4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;h3 class="font-bold mb-3"&gt;活動履歴&lt;/h3&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="space-y-2 max-h-48 overflow-y-auto"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>${getActivityHistory(caseId)}</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>`;</p>
<p class="p1"><span class="Apple-converted-space">            </span>document.body.appendChild(modal);</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// ステータス更新</p>
<p class="p1"><span class="Apple-converted-space">        </span>function updateCaseStatus(caseId, newStatus) {</p>
<p class="p1"><span class="Apple-converted-space">            </span>const currentUser = getCurrentUser();</p>
<p class="p1"><span class="Apple-converted-space">            </span>const timestamp = new Date().toLocaleString('ja-JP', {</p>
<p class="p1"><span class="Apple-converted-space">                </span>year: 'numeric',</p>
<p class="p1"><span class="Apple-converted-space">                </span>month: '2-digit',</p>
<p class="p1"><span class="Apple-converted-space">                </span>day: '2-digit',</p>
<p class="p1"><span class="Apple-converted-space">                </span>hour: '2-digit',</p>
<p class="p1"><span class="Apple-converted-space">                </span>minute: '2-digit'</p>
<p class="p1"><span class="Apple-converted-space">            </span>}).replace(/\//g, '/');</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>// ステータス変更履歴を記録（実際のシステムではAPIに送信）</p>
<p class="p1"><span class="Apple-converted-space">            </span>const statusChangeEntry = {</p>
<p class="p1"><span class="Apple-converted-space">                </span>timestamp: timestamp,</p>
<p class="p1"><span class="Apple-converted-space">                </span>type: 'status_change',</p>
<p class="p1"><span class="Apple-converted-space">                </span>user: currentUser.name,</p>
<p class="p1"><span class="Apple-converted-space">                </span>oldStatus: casesData.find(c =&gt; c.id === caseId)?.status,</p>
<p class="p1"><span class="Apple-converted-space">                </span>newStatus: newStatus,</p>
<p class="p1"><span class="Apple-converted-space">                </span>caseId: caseId</p>
<p class="p1"><span class="Apple-converted-space">            </span>};</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>// ここでAPIに送信</p>
<p class="p1"><span class="Apple-converted-space">            </span>console.log('Recording status change:', statusChangeEntry);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>// ローカルデータを更新</p>
<p class="p1"><span class="Apple-converted-space">            </span>const caseData = casesData.find(c =&gt; c.id === caseId);</p>
<p class="p1"><span class="Apple-converted-space">            </span>if (caseData) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>caseData.status = newStatus;</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>// UIを更新</p>
<p class="p1"><span class="Apple-converted-space">            </span>updateCaseCard(caseId);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>// カレンダーの自動同期</p>
<p class="p1"><span class="Apple-converted-space">            </span>autoSyncToCalendar();</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>showNotification('ステータス更新', `ステータスを「${newStatus}」に変更しました`);</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// 活動履歴取得</p>
<p class="p1"><span class="Apple-converted-space">        </span>function getActivityHistory(caseId) {</p>
<p class="p1"><span class="Apple-converted-space">            </span>// サンプルデータ（実際はAPIから取得）</p>
<p class="p1"><span class="Apple-converted-space">            </span>const histories = {</p>
<p class="p1"><span class="Apple-converted-space">                </span>1: `</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="text-sm border-l-2 border-gray-300 pl-3"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="text-xs text-gray-500"&gt;2024/03/16 14:00&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div&gt;【ステータス変更】未対応 → アポ済（田中太郎）&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="text-sm border-l-2 border-gray-300 pl-3"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="text-xs text-gray-500"&gt;2024/03/16 13:30&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div&gt;【架電】03-1234-5678（田中太郎）&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="text-sm border-l-2 border-gray-300 pl-3"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="text-xs text-gray-500"&gt;2024/03/15 16:00&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div&gt;【メモ追加】予算感確認済み（田中太郎）&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>`</p>
<p class="p1"><span class="Apple-converted-space">            </span>};</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>return histories[caseId] || '&lt;div class="text-gray-400 text-sm"&gt;履歴なし&lt;/div&gt;';</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// 案件カードUI更新</p>
<p class="p1"><span class="Apple-converted-space">        </span>function updateCaseCard(caseId) {</p>
<p class="p1"><span class="Apple-converted-space">            </span>const caseData = casesData.find(c =&gt; c.id === caseId);</p>
<p class="p1"><span class="Apple-converted-space">            </span>if (!caseData) return;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>const cards = document.querySelectorAll(`[onclick="showCaseDetail(${caseId})"]`);</p>
<p class="p1"><span class="Apple-converted-space">            </span>cards.forEach(card =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                </span>// ステータスバッジを更新</p>
<p class="p1"><span class="Apple-converted-space">                </span>const statusBadge = card.querySelector('span[class*="rounded-full"]');</p>
<p class="p1"><span class="Apple-converted-space">                </span>if (statusBadge) {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>const statusColors = {</p>
<p class="p1"><span class="Apple-converted-space">                        </span>'未対応': 'bg-red-100 text-red-800',</p>
<p class="p1"><span class="Apple-converted-space">                        </span>'架電済/未アポ': 'bg-orange-100 text-orange-800',</p>
<p class="p1"><span class="Apple-converted-space">                        </span>'アポ済': 'bg-blue-100 text-blue-800',</p>
<p class="p1"><span class="Apple-converted-space">                        </span>'現調済': 'bg-indigo-100 text-indigo-800',</p>
<p class="p1"><span class="Apple-converted-space">                        </span>'現調前キャンセル': 'bg-gray-100 text-gray-800',</p>
<p class="p1"><span class="Apple-converted-space">                        </span>'現調後失注': 'bg-gray-100 text-gray-800',</p>
<p class="p1"><span class="Apple-converted-space">                        </span>'見積提出済': 'bg-yellow-100 text-yellow-800',</p>
<p class="p1"><span class="Apple-converted-space">                        </span>'成約': 'bg-green-100 text-green-800',</p>
<p class="p1"><span class="Apple-converted-space">                        </span>'他社契約済': 'bg-gray-100 text-gray-800',</p>
<p class="p1"><span class="Apple-converted-space">                        </span>'別加盟店契約済': 'bg-purple-100 text-purple-800',</p>
<p class="p1"><span class="Apple-converted-space">                        </span>'入金予定': 'bg-cyan-100 text-cyan-800',</p>
<p class="p1"><span class="Apple-converted-space">                        </span>'入金済': 'bg-emerald-100 text-emerald-800',</p>
<p class="p1"><span class="Apple-converted-space">                        </span>'クレーム or 失注': 'bg-red-100 text-red-800'</p>
<p class="p1"><span class="Apple-converted-space">                    </span>};</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                    </span>statusBadge.className = `px-2 py-1 text-xs font-semibold rounded-full ${statusColors[caseData.status] || 'bg-gray-100 text-gray-800'}`;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>statusBadge.textContent = caseData.status;</p>
<p class="p1"><span class="Apple-converted-space">                </span>}</p>
<p class="p1"><span class="Apple-converted-space">            </span>});</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// スケジュール設定</p>
<p class="p1"><span class="Apple-converted-space">        </span>function scheduleCase(caseId) {</p>
<p class="p1"><span class="Apple-converted-space">            </span>const modal = document.createElement('div');</p>
<p class="p1"><span class="Apple-converted-space">            </span>modal.className = 'fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50';</p>
<p class="p1"><span class="Apple-converted-space">            </span>modal.innerHTML = `</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;div class="bg-white rounded-lg p-6 w-full max-w-md mx-4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;h3 class="text-lg font-bold mb-4"&gt;📅 スケジュール設定&lt;/h3&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="mb-4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;label class="block text-sm font-medium text-gray-700 mb-2"&gt;日付&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;input type="date" id="scheduleDate" class="w-full p-2 border rounded-lg" value="${new Date().toISOString().split('T')[0]}"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="mb-4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;label class="block text-sm font-medium text-gray-700 mb-2"&gt;時間&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;input type="time" id="scheduleTime" class="w-full p-2 border rounded-lg" value="14:00"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="mb-4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;label class="block text-sm font-medium text-gray-700 mb-2"&gt;予定内容&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;select id="scheduleType" class="w-full p-2 border rounded-lg"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;option value="架電"&gt;架電&lt;/option&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;option value="訪問"&gt;訪問&lt;/option&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;option value="現地調査"&gt;現地調査&lt;/option&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;option value="見積提出"&gt;見積提出&lt;/option&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;option value="契約"&gt;契約&lt;/option&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;option value="工事"&gt;工事&lt;/option&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/select&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="mb-4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;label class="block text-sm font-medium text-gray-700 mb-2"&gt;メモ&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;textarea id="scheduleMemo" class="w-full p-2 border rounded-lg" rows="2" placeholder="備考..."&gt;&lt;/textarea&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="flex justify-end gap-2"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;button onclick="this.closest('.fixed').remove()" class="px-4 py-2 bg-gray-200 text-gray-800 rounded-lg hover:bg-gray-300"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>キャンセル</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;button onclick="saveSchedule(${caseId})" class="px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>保存</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>`;</p>
<p class="p1"><span class="Apple-converted-space">            </span>document.body.appendChild(modal);</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// スケジュール保存</p>
<p class="p1"><span class="Apple-converted-space">        </span>function saveSchedule(caseId) {</p>
<p class="p1"><span class="Apple-converted-space">            </span>const date = document.getElementById('scheduleDate').value;</p>
<p class="p1"><span class="Apple-converted-space">            </span>const time = document.getElementById('scheduleTime').value;</p>
<p class="p1"><span class="Apple-converted-space">            </span>const type = document.getElementById('scheduleType').value;</p>
<p class="p1"><span class="Apple-converted-space">            </span>const memo = document.getElementById('scheduleMemo').value;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>// スケジュールを保存（実際のシステムではAPIに送信）</p>
<p class="p1"><span class="Apple-converted-space">            </span>console.log('Saving schedule:', { caseId, date, time, type, memo });</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>showNotification('スケジュール登録', `${date} ${time} に${type}を予定しました`);</p>
<p class="p1"><span class="Apple-converted-space">            </span>document.querySelector('.fixed').remove();</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// クイックステータス変更</p>
<p class="p1"><span class="Apple-converted-space">        </span>function quickStatusChange(caseId) {</p>
<p class="p1"><span class="Apple-converted-space">            </span>const caseData = casesData.find(c =&gt; c.id === caseId);</p>
<p class="p1"><span class="Apple-converted-space">            </span>if (!caseData) return;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>const modal = document.createElement('div');</p>
<p class="p1"><span class="Apple-converted-space">            </span>modal.className = 'fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50';</p>
<p class="p1"><span class="Apple-converted-space">            </span>modal.innerHTML = `</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;div class="bg-white rounded-lg p-6 w-full max-w-md mx-4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;h3 class="text-lg font-bold mb-4"&gt;ステータス変更&lt;/h3&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="mb-4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;p class="text-sm text-gray-600 mb-2"&gt;現在: &lt;span class="font-medium"&gt;${caseData.status}&lt;/span&gt;&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="grid grid-cols-2 gap-2 mb-4 max-h-96 overflow-y-auto"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;button onclick="updateStatusAndClose(${caseId}, '未対応')" class="px-3 py-2 bg-red-100 text-red-800 rounded-lg hover:bg-red-200 text-sm"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>未対応</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;button onclick="updateStatusAndClose(${caseId}, '架電済/未アポ')" class="px-3 py-2 bg-orange-100 text-orange-800 rounded-lg hover:bg-orange-200 text-sm"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>架電済/未アポ</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;button onclick="updateStatusAndClose(${caseId}, 'アポ済')" class="px-3 py-2 bg-blue-100 text-blue-800 rounded-lg hover:bg-blue-200 text-sm"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>アポ済</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;button onclick="updateStatusAndClose(${caseId}, '現調済')" class="px-3 py-2 bg-indigo-100 text-indigo-800 rounded-lg hover:bg-indigo-200 text-sm"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>現調済</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;button onclick="updateStatusAndClose(${caseId}, '現調前キャンセル')" class="px-3 py-2 bg-gray-100 text-gray-800 rounded-lg hover:bg-gray-200 text-sm"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>現調前キャンセル</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;button onclick="updateStatusAndClose(${caseId}, '現調後失注')" class="px-3 py-2 bg-gray-100 text-gray-800 rounded-lg hover:bg-gray-200 text-sm"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>現調後失注</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;button onclick="updateStatusAndClose(${caseId}, '見積提出済')" class="px-3 py-2 bg-yellow-100 text-yellow-800 rounded-lg hover:bg-yellow-200 text-sm"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>見積提出済</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;button onclick="updateStatusAndClose(${caseId}, '成約')" class="px-3 py-2 bg-green-100 text-green-800 rounded-lg hover:bg-green-200 text-sm"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>成約</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;button onclick="updateStatusAndClose(${caseId}, '他社契約済')" class="px-3 py-2 bg-gray-100 text-gray-800 rounded-lg hover:bg-gray-200 text-sm"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>他社契約済</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;button onclick="updateStatusAndClose(${caseId}, '別加盟店契約済')" class="px-3 py-2 bg-purple-100 text-purple-800 rounded-lg hover:bg-purple-200 text-sm"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>別加盟店契約済</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;button onclick="updateStatusAndClose(${caseId}, '入金予定')" class="px-3 py-2 bg-cyan-100 text-cyan-800 rounded-lg hover:bg-cyan-200 text-sm"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>入金予定</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;button onclick="updateStatusAndClose(${caseId}, '入金済')" class="px-3 py-2 bg-emerald-100 text-emerald-800 rounded-lg hover:bg-emerald-200 text-sm"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>入金済</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;button onclick="updateStatusAndClose(${caseId}, 'クレーム or 失注')" class="col-span-2 px-3 py-2 bg-red-100 text-red-800 rounded-lg hover:bg-red-200 text-sm"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>クレーム or 失注</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="flex justify-end"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;button onclick="this.closest('.fixed').remove()" class="px-4 py-2 bg-gray-200 text-gray-800 rounded-lg hover:bg-gray-300"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>キャンセル</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>`;</p>
<p class="p1"><span class="Apple-converted-space">            </span>document.body.appendChild(modal);</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// ステータス更新して閉じる</p>
<p class="p1"><span class="Apple-converted-space">        </span>function updateStatusAndClose(caseId, newStatus) {</p>
<p class="p1"><span class="Apple-converted-space">            </span>updateCaseStatus(caseId, newStatus);</p>
<p class="p1"><span class="Apple-converted-space">            </span>document.querySelector('.fixed').remove();</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// 電話発信</p>
<p class="p1"><span class="Apple-converted-space">        </span>function callCustomer(phone) {</p>
<p class="p1"><span class="Apple-converted-space">            </span>if (confirm(`${phone} に電話をかけますか？`)) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>window.location.href = `tel:${phone}`;</p>
<p class="p1"><span class="Apple-converted-space">                </span>// 架電履歴を記録</p>
<p class="p1"><span class="Apple-converted-space">                </span>showNotification('架電', `${phone} への架電を記録しました`);</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// SMS送信モーダルを開く</p>
<p class="p1"><span class="Apple-converted-space">        </span>function sendSMS(phone, caseId) {</p>
<p class="p1"><span class="Apple-converted-space">            </span>// 案件情報を取得</p>
<p class="p1"><span class="Apple-converted-space">            </span>const caseData = caseId ? casesData.find(c =&gt; c.id === caseId) : null;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>const modal = document.createElement('div');</p>
<p class="p1"><span class="Apple-converted-space">            </span>modal.className = 'fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50';</p>
<p class="p1"><span class="Apple-converted-space">            </span>modal.innerHTML = `</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;div class="bg-white rounded-lg p-6 w-full max-w-2xl mx-4 max-h-[90vh] overflow-y-auto"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="flex items-center justify-between mb-4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;h3 class="text-lg font-bold"&gt;SMSメッセージ作成&lt;/h3&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;button onclick="this.closest('.fixed').remove()" class="text-gray-400 hover:text-gray-600"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"&gt;&lt;/path&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/svg&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;!-- このページの内容 --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="mb-4 p-4 bg-gray-50 rounded-lg"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="text-sm text-gray-600 mb-2"&gt;このページの内容&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="text-sm font-medium"&gt;SMSメッセージを選択してください:&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                    </span>${caseData ? `</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;!-- ステータス情報 --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="mb-4 p-4 bg-blue-50 rounded-lg"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="flex items-center justify-between mb-2"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;span class="text-sm font-medium text-blue-900"&gt;現在のステータス: ${caseData.status || '未対応'}&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;span class="text-sm text-gray-600"&gt;お客様: ${caseData.name}&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;!-- 選択肢セクション --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="mb-4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="text-sm font-medium mb-2"&gt;次のステップを選択:&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div id="nextStepOptions" class="space-y-2"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;!-- ステータスに応じた選択肢を動的に生成 --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>` : ''}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;!-- AI生成メッセージ表示 --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="mb-4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="flex items-center justify-between mb-2"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;label class="text-sm font-medium"&gt;${caseData ? 'AI生成メッセージ' : 'メッセージ'}:&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>${caseData ? `</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;button onclick="regenerateSmsMessage(${caseId})" class="text-sm text-blue-600 hover:text-blue-700 flex items-center gap-1"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"&gt;&lt;/path&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/svg&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>再生成</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>` : ''}</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="bg-yellow-50 border border-yellow-200 rounded-lg p-3 mb-3"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div class="text-xs text-yellow-800 mb-1"&gt;💡 SMSは70文字以内が推奨されます&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div class="text-xs text-gray-600"&gt;現在: &lt;span id="charCount"&gt;0&lt;/span&gt;文字&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;textarea id="smsMessage" class="w-full p-3 border rounded-lg" rows="6"</p>
<p class="p1"><span class="Apple-converted-space">                                  </span>placeholder="${caseData ? 'AIがメッセージを生成中...' : 'メッセージを入力...'}"</p>
<p class="p1"><span class="Apple-converted-space">                                  </span>onkeyup="updateCharCount()"&gt;&lt;/textarea&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;!-- テンプレートボタン --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="flex flex-wrap gap-2 mt-2"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;button onclick="loadSmsTemplate('greeting')" class="text-xs px-3 py-1 bg-gray-100 rounded-lg hover:bg-gray-200"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>👋 挨拶</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;button onclick="loadSmsTemplate('appointment')" class="text-xs px-3 py-1 bg-green-100 rounded-lg hover:bg-green-200"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>📅 アポ確認</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;button onclick="loadSmsTemplate('estimate')" class="text-xs px-3 py-1 bg-blue-100 rounded-lg hover:bg-blue-200"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>📝 見積提出</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;button onclick="loadSmsTemplate('followup')" class="text-xs px-3 py-1 bg-yellow-100 rounded-lg hover:bg-yellow-200"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>🔔 フォロー</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;!-- 直接入力のチェックボックス --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="flex items-center mb-4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;input type="checkbox" id="manualInput" class="mr-2" onchange="toggleManualInput(${caseId || 'null'})"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;label for="manualInput" class="text-sm text-gray-700"&gt;または直接入力してください&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="flex justify-end gap-2"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;button onclick="this.closest('.fixed').remove()" class="px-6 py-2 bg-gray-200 text-gray-800 rounded-lg hover:bg-gray-300"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>キャンセル</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;button onclick="sendSmsMessage('${phone}')" class="px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>OK</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>`;</p>
<p class="p1"><span class="Apple-converted-space">            </span>document.body.appendChild(modal);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>if (caseData) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>// ステータスに応じた選択肢を表示</p>
<p class="p1"><span class="Apple-converted-space">                </span>generateNextStepOptions(caseData.status, caseId);</p>
<p class="p1"><span class="Apple-converted-space">                </span>// 初回のAIメッセージ生成</p>
<p class="p1"><span class="Apple-converted-space">                </span>generateAiSmsMessage(caseId, null);</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// 文字数カウント更新</p>
<p class="p1"><span class="Apple-converted-space">        </span>function updateCharCount() {</p>
<p class="p1"><span class="Apple-converted-space">            </span>const textarea = document.getElementById('smsMessage');</p>
<p class="p1"><span class="Apple-converted-space">            </span>const countSpan = document.getElementById('charCount');</p>
<p class="p1"><span class="Apple-converted-space">            </span>if (textarea &amp;&amp; countSpan) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>const count = textarea.value.length;</p>
<p class="p1"><span class="Apple-converted-space">                </span>countSpan.textContent = count;</p>
<p class="p1"><span class="Apple-converted-space">                </span>countSpan.className = count &gt; 70 ? 'text-red-600 font-bold' : '';</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// ステータスに応じた次ステップの選択肢を生成</p>
<p class="p1"><span class="Apple-converted-space">        </span>function generateNextStepOptions(currentStatus, caseId) {</p>
<p class="p1"><span class="Apple-converted-space">            </span>const optionsContainer = document.getElementById('nextStepOptions');</p>
<p class="p1"><span class="Apple-converted-space">            </span>if (!optionsContainer) return;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>let options = [];</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>// ステータスに応じた選択肢を定義</p>
<p class="p1"><span class="Apple-converted-space">            </span>const statusOptions = {</p>
<p class="p1"><span class="Apple-converted-space">                </span>'未対応': [</p>
<p class="p1"><span class="Apple-converted-space">                    </span>{ label: '初回アポイントのお願い', value: 'initial_appointment' },</p>
<p class="p1"><span class="Apple-converted-space">                    </span>{ label: 'お問い合わせへのお礼', value: 'thank_inquiry' },</p>
<p class="p1"><span class="Apple-converted-space">                    </span>{ label: '資料送付のお知らせ', value: 'send_materials' }</p>
<p class="p1"><span class="Apple-converted-space">                </span>],</p>
<p class="p1"><span class="Apple-converted-space">                </span>'架電済/未アポ': [</p>
<p class="p1"><span class="Apple-converted-space">                    </span>{ label: '再度アポイントのお願い', value: 'retry_appointment' },</p>
<p class="p1"><span class="Apple-converted-space">                    </span>{ label: '資料送付のご案内', value: 'material_guide' },</p>
<p class="p1"><span class="Apple-converted-space">                    </span>{ label: 'フォローアップのご連絡', value: 'followup_call' }</p>
<p class="p1"><span class="Apple-converted-space">                </span>],</p>
<p class="p1"><span class="Apple-converted-space">                </span>'アポ済': [</p>
<p class="p1"><span class="Apple-converted-space">                    </span>{ label: '現地調査日時の確認', value: 'confirm_survey' },</p>
<p class="p1"><span class="Apple-converted-space">                    </span>{ label: '現調前日のリマインダー', value: 'survey_reminder' },</p>
<p class="p1"><span class="Apple-converted-space">                    </span>{ label: '持ち物・準備事項のご連絡', value: 'preparation_info' }</p>
<p class="p1"><span class="Apple-converted-space">                </span>],</p>
<p class="p1"><span class="Apple-converted-space">                </span>'現調済': [</p>
<p class="p1"><span class="Apple-converted-space">                    </span>{ label: '現調のお礼', value: 'thank_survey' },</p>
<p class="p1"><span class="Apple-converted-space">                    </span>{ label: '見積書作成中のご連絡', value: 'estimate_progress' },</p>
<p class="p1"><span class="Apple-converted-space">                    </span>{ label: '見積書完成のお知らせ', value: 'estimate_ready' }</p>
<p class="p1"><span class="Apple-converted-space">                </span>],</p>
<p class="p1"><span class="Apple-converted-space">                </span>'見積提出済': [</p>
<p class="p1"><span class="Apple-converted-space">                    </span>{ label: '見積書のご確認お願い', value: 'estimate_check' },</p>
<p class="p1"><span class="Apple-converted-space">                    </span>{ label: 'ご質問への回答', value: 'answer_questions' },</p>
<p class="p1"><span class="Apple-converted-space">                    </span>{ label: 'フォローアップ', value: 'estimate_followup' },</p>
<p class="p1"><span class="Apple-converted-space">                    </span>{ label: '特別キャンペーンのご案内', value: 'special_campaign' }</p>
<p class="p1"><span class="Apple-converted-space">                </span>],</p>
<p class="p1"><span class="Apple-converted-space">                </span>'成約': [</p>
<p class="p1"><span class="Apple-converted-space">                    </span>{ label: 'ご契約のお礼', value: 'contract_thanks' },</p>
<p class="p1"><span class="Apple-converted-space">                    </span>{ label: '工事日程のご連絡', value: 'construction_schedule' },</p>
<p class="p1"><span class="Apple-converted-space">                    </span>{ label: '必要書類のご案内', value: 'required_documents' }</p>
<p class="p1"><span class="Apple-converted-space">                </span>],</p>
<p class="p1"><span class="Apple-converted-space">                </span>'入金予定': [</p>
<p class="p1"><span class="Apple-converted-space">                    </span>{ label: '入金確認のお願い', value: 'payment_confirmation' },</p>
<p class="p1"><span class="Apple-converted-space">                    </span>{ label: '振込先のご案内', value: 'bank_info' },</p>
<p class="p1"><span class="Apple-converted-space">                    </span>{ label: '工事開始のご案内', value: 'construction_start' }</p>
<p class="p1"><span class="Apple-converted-space">                </span>],</p>
<p class="p1"><span class="Apple-converted-space">                </span>'入金済': [</p>
<p class="p1"><span class="Apple-converted-space">                    </span>{ label: '入金確認のお礼', value: 'payment_thanks' },</p>
<p class="p1"><span class="Apple-converted-space">                    </span>{ label: '工事開始のご案内', value: 'construction_info' },</p>
<p class="p1"><span class="Apple-converted-space">                    </span>{ label: '完工後のフォロー', value: 'completion_follow' }</p>
<p class="p1"><span class="Apple-converted-space">                </span>]</p>
<p class="p1"><span class="Apple-converted-space">            </span>};</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>// デフォルトの選択肢</p>
<p class="p1"><span class="Apple-converted-space">            </span>options = statusOptions[currentStatus] || [</p>
<p class="p1"><span class="Apple-converted-space">                </span>{ label: 'お問い合わせへのお礼', value: 'general_thanks' },</p>
<p class="p1"><span class="Apple-converted-space">                </span>{ label: 'ご連絡', value: 'general_contact' },</p>
<p class="p1"><span class="Apple-converted-space">                </span>{ label: 'フォローアップ', value: 'general_followup' }</p>
<p class="p1"><span class="Apple-converted-space">            </span>];</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>// 選択肢をHTMLに変換</p>
<p class="p1"><span class="Apple-converted-space">            </span>optionsContainer.innerHTML = options.map((opt, index) =&gt; `</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;label class="flex items-center p-3 border rounded-lg hover:bg-gray-50 cursor-pointer"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;input type="radio" name="nextStep" value="${opt.value}"</p>
<p class="p1"><span class="Apple-converted-space">                           </span>${index === 0 ? 'checked' : ''}</p>
<p class="p1"><span class="Apple-converted-space">                           </span>onchange="generateAiSmsMessage(${caseId}, '${opt.value}')"</p>
<p class="p1"><span class="Apple-converted-space">                           </span>class="mr-3"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;span class="text-sm"&gt;${opt.label}&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>`).join('');</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// AIでSMSメッセージを生成（モック版 - 65文字以内）</p>
<p class="p1"><span class="Apple-converted-space">        </span>function generateAiSmsMessage(caseId, messageType) {</p>
<p class="p1"><span class="Apple-converted-space">            </span>const caseData = casesData.find(c =&gt; c.id === caseId);</p>
<p class="p1"><span class="Apple-converted-space">            </span>if (!caseData) return;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>const messageTextarea = document.getElementById('smsMessage');</p>
<p class="p1"><span class="Apple-converted-space">            </span>if (!messageTextarea) return;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>// ローディング表示</p>
<p class="p1"><span class="Apple-converted-space">            </span>messageTextarea.value = 'AIがメッセージを生成中...';</p>
<p class="p1"><span class="Apple-converted-space">            </span>messageTextarea.disabled = true;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>// メッセージタイプを取得（未選択の場合は最初の選択肢）</p>
<p class="p1"><span class="Apple-converted-space">            </span>if (!messageType) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>const selectedOption = document.querySelector('input[name="nextStep"]:checked');</p>
<p class="p1"><span class="Apple-converted-space">                </span>messageType = selectedOption ? selectedOption.value : 'general_contact';</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>// 数秒後にAI生成メッセージを表示（モック - 65文字以内）</p>
<p class="p1"><span class="Apple-converted-space">            </span>setTimeout(() =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                </span>const customerName = caseData.name ? caseData.name.split(' ')[0] : 'お客'; // 苗字のみ</p>
<p class="p1"><span class="Apple-converted-space">                </span>const salesName = '田中'; // 現在のログインユーザー名</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>// 65文字以内のテンプレート</p>
<p class="p1"><span class="Apple-converted-space">                </span>const templates = {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>'initial_appointment': `${customerName}様\n外壁塗装の件でご連絡しました。現地調査のご都合はいかがでしょうか？\n${salesName}`,</p>
<p class="p1"><span class="Apple-converted-space">                    </span>'thank_inquiry': `${customerName}様\nお問合せありがとうございます。外壁塗装の詳細をご案内します。\n${salesName}`,</p>
<p class="p1"><span class="Apple-converted-space">                    </span>'send_materials': `${customerName}様\n資料をお送りしました。ご確認ください。ご質問はお気軽に。\n${salesName}`,</p>
<p class="p1"><span class="Apple-converted-space">                    </span>'retry_appointment': `${customerName}様\n先日は失礼しました。現調日を再調整させていただけますか？\n${salesName}`,</p>
<p class="p1"><span class="Apple-converted-space">                    </span>'material_guide': `${customerName}様\n詳しい資料をお送りします。ご不明点があればご連絡ください。\n${salesName}`,</p>
<p class="p1"><span class="Apple-converted-space">                    </span>'followup_call': `${customerName}様\n先日の件いかがでしたか？ご都合つく時にご連絡ください。\n${salesName}`,</p>
<p class="p1"><span class="Apple-converted-space">                    </span>'confirm_survey': `${customerName}様\n明日○時の現調よろしくお願いします。変更あればご連絡を。\n${salesName}`,</p>
<p class="p1"><span class="Apple-converted-space">                    </span>'survey_reminder': `${customerName}様\n明日の現調よろしくお願いします。スタッフが伺います。\n${salesName}`,</p>
<p class="p1"><span class="Apple-converted-space">                    </span>'preparation_info': `${customerName}様\n現調当日は特にご準備不要です。お気をつけてお待ち下さい。\n${salesName}`,</p>
<p class="p1"><span class="Apple-converted-space">                    </span>'thank_survey': `${customerName}様\n本日はありがとうございました。見積書を作成しご連絡します。\n${salesName}`,</p>
<p class="p1"><span class="Apple-converted-space">                    </span>'estimate_progress': `${customerName}様\n見積書作成中です。もう少しお待ちください。\n${salesName}`,</p>
<p class="p1"><span class="Apple-converted-space">                    </span>'estimate_ready': `${customerName}様\n見積書が完成しました。ご都合よい時にご説明します。\n${salesName}`,</p>
<p class="p1"><span class="Apple-converted-space">                    </span>'estimate_check': `${customerName}様\n見積書はご確認いただけましたか？ご不明点お気軽に。\n${salesName}`,</p>
<p class="p1"><span class="Apple-converted-space">                    </span>'answer_questions': `${customerName}様\nご質問ありがとうございます。詳細回答をお送りします。\n${salesName}`,</p>
<p class="p1"><span class="Apple-converted-space">                    </span>'estimate_followup': `${customerName}様\n見積書の件いかがでしょうか？ご不明点あればご連絡を。\n${salesName}`,</p>
<p class="p1"><span class="Apple-converted-space">                    </span>'special_campaign': `${customerName}様\n今月限定特別価格ご用意しました。この機会にいかがですか？\n${salesName}`,</p>
<p class="p1"><span class="Apple-converted-space">                    </span>'contract_thanks': `${customerName}様\nご契約ありがとうございます。丁寧な工事を心がけます。\n${salesName}`,</p>
<p class="p1"><span class="Apple-converted-space">                    </span>'construction_schedule': `${customerName}様\n工事日程が○月○日に決まりました。よろしくお願いします。\n${salesName}`,</p>
<p class="p1"><span class="Apple-converted-space">                    </span>'required_documents': `${customerName}様\n必要書類をお送りしました。ご確認・ご記入お願いします。\n${salesName}`,</p>
<p class="p1"><span class="Apple-converted-space">                    </span>'payment_confirmation': `${customerName}様\n入金確認お願いします。振込予定日をお教えください。\n${salesName}`,</p>
<p class="p1"><span class="Apple-converted-space">                    </span>'bank_info': `${customerName}様\n振込先をお送りします。ご確認の上お手続きください。\n${salesName}`,</p>
<p class="p1"><span class="Apple-converted-space">                    </span>'construction_start': `${customerName}様\n来週から工事開始です。ご不便おかけしますがよろしく。\n${salesName}`,</p>
<p class="p1"><span class="Apple-converted-space">                    </span>'payment_thanks': `${customerName}様\n入金確認しました。ありがとうございます。工事進めます。\n${salesName}`,</p>
<p class="p1"><span class="Apple-converted-space">                    </span>'construction_info': `${customerName}様\n工事スケジュールお送りします。ご確認ください。\n${salesName}`,</p>
<p class="p1"><span class="Apple-converted-space">                    </span>'completion_follow': `${customerName}様\n工事完了後もサポートします。何かあればご連絡を。\n${salesName}`,</p>
<p class="p1"><span class="Apple-converted-space">                    </span>'general_contact': `${customerName}様\n外壁塗装の件でご連絡しました。ご都合よい時にお話しませんか？\n${salesName}`,</p>
<p class="p1"><span class="Apple-converted-space">                    </span>'general_thanks': `${customerName}様\nお問合せありがとうございます。詳細ご案内します。\n${salesName}`,</p>
<p class="p1"><span class="Apple-converted-space">                    </span>'general_followup': `${customerName}様\n先日の件どうでしたか？お気軽にご連絡ください。\n${salesName}`</p>
<p class="p1"><span class="Apple-converted-space">                </span>};</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>const message = templates[messageType] || templates['general_contact'];</p>
<p class="p1"><span class="Apple-converted-space">                </span>messageTextarea.value = message;</p>
<p class="p1"><span class="Apple-converted-space">                </span>messageTextarea.disabled = false;</p>
<p class="p1"><span class="Apple-converted-space">                </span>updateCharCount();</p>
<p class="p1"><span class="Apple-converted-space">            </span>}, 1000); // 1秒後に生成</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// SMSメッセージの再生成</p>
<p class="p1"><span class="Apple-converted-space">        </span>function regenerateSmsMessage(caseId) {</p>
<p class="p1"><span class="Apple-converted-space">            </span>const selectedOption = document.querySelector('input[name="nextStep"]:checked');</p>
<p class="p1"><span class="Apple-converted-space">            </span>const messageType = selectedOption ? selectedOption.value : null;</p>
<p class="p1"><span class="Apple-converted-space">            </span>generateAiSmsMessage(caseId, messageType);</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// テンプレートをロード</p>
<p class="p1"><span class="Apple-converted-space">        </span>function loadSmsTemplate(templateType) {</p>
<p class="p1"><span class="Apple-converted-space">            </span>const messageTextarea = document.getElementById('smsMessage');</p>
<p class="p1"><span class="Apple-converted-space">            </span>if (!messageTextarea) return;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>const templates = {</p>
<p class="p1"><span class="Apple-converted-space">                </span>'greeting': 'お世話になっております。外壁塗装の件でご連絡しました。田中',</p>
<p class="p1"><span class="Apple-converted-space">                </span>'appointment': '明日の現調よろしくお願いします。田中',</p>
<p class="p1"><span class="Apple-converted-space">                </span>'estimate': '見積書完成しました。ご確認ください。田中',</p>
<p class="p1"><span class="Apple-converted-space">                </span>'followup': '先日の件いかがでしたか？お気軽にご連絡ください。田中'</p>
<p class="p1"><span class="Apple-converted-space">            </span>};</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>messageTextarea.value = templates[templateType] || '';</p>
<p class="p1"><span class="Apple-converted-space">            </span>updateCharCount();</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// 手動入力の切り替え</p>
<p class="p1"><span class="Apple-converted-space">        </span>function toggleManualInput(caseId) {</p>
<p class="p1"><span class="Apple-converted-space">            </span>const checkbox = document.getElementById('manualInput');</p>
<p class="p1"><span class="Apple-converted-space">            </span>const messageTextarea = document.getElementById('smsMessage');</p>
<p class="p1"><span class="Apple-converted-space">            </span>if (checkbox.checked) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>messageTextarea.value = '';</p>
<p class="p1"><span class="Apple-converted-space">                </span>messageTextarea.placeholder = 'メッセージを入力してください...';</p>
<p class="p1"><span class="Apple-converted-space">                </span>messageTextarea.disabled = false;</p>
<p class="p1"><span class="Apple-converted-space">                </span>updateCharCount();</p>
<p class="p1"><span class="Apple-converted-space">            </span>} else if (caseId) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>generateAiSmsMessage(caseId, null);</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// SMSメッセージを送信</p>
<p class="p1"><span class="Apple-converted-space">        </span>function sendSmsMessage(phone) {</p>
<p class="p1"><span class="Apple-converted-space">            </span>const message = document.getElementById('smsMessage').value;</p>
<p class="p1"><span class="Apple-converted-space">            </span>if (message) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>window.location.href = `sms:${phone}?body=${encodeURIComponent(message)}`;</p>
<p class="p1"><span class="Apple-converted-space">                </span>showNotification('SMS送信', `${phone} へSMSを送信しました`);</p>
<p class="p1"><span class="Apple-converted-space">                </span>// モーダルを閉じる</p>
<p class="p1"><span class="Apple-converted-space">                </span>document.querySelector('.fixed').remove();</p>
<p class="p1"><span class="Apple-converted-space">            </span>} else {</p>
<p class="p1"><span class="Apple-converted-space">                </span>showNotification('エラー', 'メッセージを入力してください', 'error');</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// メモ表示・編集</p>
<p class="p1"><span class="Apple-converted-space">        </span>function showMemo(caseId) {</p>
<p class="p1"><span class="Apple-converted-space">            </span>// 既存のメモを取得（実際のシステムではAPIから取得）</p>
<p class="p1"><span class="Apple-converted-space">            </span>const existingMemo = getCaseMemo(caseId);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>const modal = document.createElement('div');</p>
<p class="p1"><span class="Apple-converted-space">            </span>modal.className = 'fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50';</p>
<p class="p1"><span class="Apple-converted-space">            </span>modal.innerHTML = `</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;div class="bg-white rounded-lg p-6 w-full max-w-lg mx-4 max-h-[80vh] overflow-y-auto"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;h3 class="text-lg font-bold mb-4"&gt;📝 案件メモ&lt;/h3&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;!-- 履歴表示 --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="mb-4 max-h-48 overflow-y-auto bg-gray-50 rounded-lg p-3"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="text-sm font-medium text-gray-600 mb-2"&gt;履歴:&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div id="memoHistory" class="space-y-2 text-sm"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>${existingMemo.history || '&lt;div class="text-gray-400"&gt;履歴なし&lt;/div&gt;'}</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;!-- 新規メモ入力 --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="mb-2"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;label class="text-sm font-medium text-gray-700"&gt;新しいメモを追加:&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;textarea id="caseMemo" class="w-full p-3 border rounded-lg" rows="4" placeholder="申し送り事項や注意点を記入..."&gt;&lt;/textarea&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="flex justify-end gap-2 mt-4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;button onclick="this.closest('.fixed').remove()" class="px-4 py-2 bg-gray-200 text-gray-800 rounded-lg hover:bg-gray-300"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>キャンセル</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;button onclick="saveMemo(${caseId})" class="px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>保存</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>`;</p>
<p class="p1"><span class="Apple-converted-space">            </span>document.body.appendChild(modal);</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// メモ取得（実際のシステムではAPIから取得）</p>
<p class="p1"><span class="Apple-converted-space">        </span>function getCaseMemo(caseId) {</p>
<p class="p1"><span class="Apple-converted-space">            </span>// サンプルデータ</p>
<p class="p1"><span class="Apple-converted-space">            </span>const memoData = {</p>
<p class="p1"><span class="Apple-converted-space">                </span>1: {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>history: `</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="border-l-2 border-blue-400 pl-3 mb-2"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div class="text-xs text-gray-500"&gt;2024/03/15 14:30 - 田中太郎&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div class="text-gray-700"&gt;予算感：200万円前後&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="border-l-2 border-green-400 pl-3 mb-2"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div class="text-xs text-gray-500"&gt;2024/03/15 16:45 - 佐藤花子&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div class="text-gray-700"&gt;競合他社も検討中、奥様が決定権者&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="border-l-2 border-yellow-400 pl-3 mb-2"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div class="text-xs text-gray-500"&gt;2024/03/16 10:00 - システム&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div class="text-gray-700"&gt;【引き継ぎ】田中太郎 → 佐藤花子&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>`</p>
<p class="p1"><span class="Apple-converted-space">                </span>},</p>
<p class="p1"><span class="Apple-converted-space">                </span>4: {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>history: `</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="border-l-2 border-blue-400 pl-3 mb-2"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div class="text-xs text-gray-500"&gt;2024/03/14 09:00 - 山田次郎&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div class="text-gray-700"&gt;初回訪問済み、見積もり待ち&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>`</p>
<p class="p1"><span class="Apple-converted-space">                </span>}</p>
<p class="p1"><span class="Apple-converted-space">            </span>};</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>return memoData[caseId] || { history: '' };</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// メモ保存</p>
<p class="p1"><span class="Apple-converted-space">        </span>function saveMemo(caseId) {</p>
<p class="p1"><span class="Apple-converted-space">            </span>const memoText = document.getElementById('caseMemo').value;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>if (!memoText.trim()) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>showNotification('エラー', 'メモを入力してください', 'error');</p>
<p class="p1"><span class="Apple-converted-space">                </span>return;</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>// 現在のユーザー情報（実際のシステムではセッションから取得）</p>
<p class="p1"><span class="Apple-converted-space">            </span>const currentUser = getCurrentUser();</p>
<p class="p1"><span class="Apple-converted-space">            </span>const timestamp = new Date().toLocaleString('ja-JP', {</p>
<p class="p1"><span class="Apple-converted-space">                </span>year: 'numeric',</p>
<p class="p1"><span class="Apple-converted-space">                </span>month: '2-digit',</p>
<p class="p1"><span class="Apple-converted-space">                </span>day: '2-digit',</p>
<p class="p1"><span class="Apple-converted-space">                </span>hour: '2-digit',</p>
<p class="p1"><span class="Apple-converted-space">                </span>minute: '2-digit'</p>
<p class="p1"><span class="Apple-converted-space">            </span>}).replace(/\//g, '/');</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>// メモを保存（実際のシステムではAPIに送信）</p>
<p class="p1"><span class="Apple-converted-space">            </span>const newMemoEntry = {</p>
<p class="p1"><span class="Apple-converted-space">                </span>timestamp: timestamp,</p>
<p class="p1"><span class="Apple-converted-space">                </span>user: currentUser.name,</p>
<p class="p1"><span class="Apple-converted-space">                </span>text: memoText,</p>
<p class="p1"><span class="Apple-converted-space">                </span>caseId: caseId</p>
<p class="p1"><span class="Apple-converted-space">            </span>};</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>// ここでAPIに送信</p>
<p class="p1"><span class="Apple-converted-space">            </span>console.log('Saving memo:', newMemoEntry);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>showNotification('メモ保存', 'メモを保存しました');</p>
<p class="p1"><span class="Apple-converted-space">            </span>document.querySelector('.fixed').remove();</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>// UIを更新してメモアイコンを黄色にする</p>
<p class="p1"><span class="Apple-converted-space">            </span>updateMemoIcon(caseId, true);</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// メモアイコンの更新</p>
<p class="p1"><span class="Apple-converted-space">        </span>function updateMemoIcon(caseId, hasMemo) {</p>
<p class="p1"><span class="Apple-converted-space">            </span>const caseElements = document.querySelectorAll(`[data-case-id="${caseId}"]`);</p>
<p class="p1"><span class="Apple-converted-space">            </span>caseElements.forEach(element =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                </span>const memoButton = element.querySelector('button[onclick*="showMemo"]');</p>
<p class="p1"><span class="Apple-converted-space">                </span>if (memoButton) {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>const memoIcon = memoButton.querySelector('span');</p>
<p class="p1"><span class="Apple-converted-space">                    </span>if (memoIcon) {</p>
<p class="p1"><span class="Apple-converted-space">                        </span>if (hasMemo) {</p>
<p class="p1"><span class="Apple-converted-space">                            </span>memoIcon.classList.remove('text-gray-400');</p>
<p class="p1"><span class="Apple-converted-space">                            </span>memoIcon.classList.add('text-yellow-500');</p>
<p class="p1"><span class="Apple-converted-space">                        </span>} else {</p>
<p class="p1"><span class="Apple-converted-space">                            </span>memoIcon.classList.remove('text-yellow-500');</p>
<p class="p1"><span class="Apple-converted-space">                            </span>memoIcon.classList.add('text-gray-400');</p>
<p class="p1"><span class="Apple-converted-space">                        </span>}</p>
<p class="p1"><span class="Apple-converted-space">                    </span>}</p>
<p class="p1"><span class="Apple-converted-space">                </span>}</p>
<p class="p1"><span class="Apple-converted-space">            </span>});</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// 担当パス（引き継ぎ）</p>
<p class="p1"><span class="Apple-converted-space">        </span>function passCase(caseId) {</p>
<p class="p1"><span class="Apple-converted-space">            </span>const modal = document.createElement('div');</p>
<p class="p1"><span class="Apple-converted-space">            </span>modal.className = 'fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50';</p>
<p class="p1"><span class="Apple-converted-space">            </span>modal.innerHTML = `</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;div class="bg-white rounded-lg p-6 w-full max-w-md mx-4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;h3 class="text-lg font-bold mb-4"&gt;🔄 担当者を変更&lt;/h3&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="mb-4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;label class="block text-sm font-medium text-gray-700 mb-2"&gt;引き継ぎ先&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;select id="passToSelect" class="w-full p-2 border rounded-lg"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;option value=""&gt;選択してください&lt;/option&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;option value="田中太郎"&gt;田中太郎&lt;/option&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;option value="佐藤花子"&gt;佐藤花子&lt;/option&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;option value="山田次郎"&gt;山田次郎&lt;/option&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/select&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="mb-4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;label class="block text-sm font-medium text-gray-700 mb-2"&gt;引き継ぎメモ（任意）&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;textarea id="passMemo" class="w-full p-2 border rounded-lg" rows="3" placeholder="申し送り事項があれば記入..."&gt;&lt;/textarea&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="flex justify-end gap-2"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;button onclick="this.closest('.fixed').remove()" class="px-4 py-2 bg-gray-200 text-gray-800 rounded-lg hover:bg-gray-300"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>キャンセル</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;button onclick="confirmPass(${caseId})" class="px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>引き継ぎリクエスト</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>`;</p>
<p class="p1"><span class="Apple-converted-space">            </span>document.body.appendChild(modal);</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// 引き継ぎ確定</p>
<p class="p1"><span class="Apple-converted-space">        </span>function confirmPass(caseId) {</p>
<p class="p1"><span class="Apple-converted-space">            </span>const passTo = document.getElementById('passToSelect').value;</p>
<p class="p1"><span class="Apple-converted-space">            </span>const passMemo = document.getElementById('passMemo').value;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>if (!passTo) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>alert('引き継ぎ先を選択してください');</p>
<p class="p1"><span class="Apple-converted-space">                </span>return;</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>// 引き継ぎリクエストを送信</p>
<p class="p1"><span class="Apple-converted-space">            </span>showNotification('引き継ぎリクエスト送信', `${passTo}へ承認依頼を送信しました`);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>// カードに承認待ちバッジを追加</p>
<p class="p1"><span class="Apple-converted-space">            </span>const card = document.querySelector(`[onclick="showCaseDetail(${caseId})"]`);</p>
<p class="p1"><span class="Apple-converted-space">            </span>if (card) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>const titleElement = card.querySelector('h3');</p>
<p class="p1"><span class="Apple-converted-space">                </span>if (titleElement &amp;&amp; !titleElement.querySelector('.pending-badge')) {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>const badge = document.createElement('span');</p>
<p class="p1"><span class="Apple-converted-space">                    </span>badge.className = 'pending-badge text-xs bg-orange-100 text-orange-700 px-2 py-0.5 rounded ml-2';</p>
<p class="p1"><span class="Apple-converted-space">                    </span>badge.textContent = '⏳ 承認待ち';</p>
<p class="p1"><span class="Apple-converted-space">                    </span>titleElement.appendChild(badge);</p>
<p class="p1"><span class="Apple-converted-space">                </span>}</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>document.querySelector('.fixed').remove();</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>// 通知を表示（実際の実装では相手の画面に通知）</p>
<p class="p1"><span class="Apple-converted-space">            </span>setTimeout(() =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                </span>showPassNotification(passTo, caseId, passMemo);</p>
<p class="p1"><span class="Apple-converted-space">            </span>}, 1000);</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// 引き継ぎ通知を表示</p>
<p class="p1"><span class="Apple-converted-space">        </span>function showPassNotification(assignee, caseId, memo) {</p>
<p class="p1"><span class="Apple-converted-space">            </span>const notification = document.createElement('div');</p>
<p class="p1"><span class="Apple-converted-space">            </span>notification.className = 'fixed top-4 right-4 bg-white rounded-lg shadow-lg p-4 max-w-sm z-50 border-l-4 border-blue-500';</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>const memoHtml = memo ? `</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;div class="mt-2 p-2 bg-gray-50 rounded text-xs text-gray-600"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;p class="font-medium"&gt;引き継ぎメモ:&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;p&gt;${memo}&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>` : '';</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>notification.innerHTML = `</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;div class="flex items-start"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="flex-shrink-0"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;span class="text-2xl"&gt;🔔&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="ml-3 flex-1"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;p class="text-sm font-medium text-gray-900"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>案件引き継ぎリクエスト</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;p class="mt-1 text-sm text-gray-500"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>田中太郎から案件が引き継がれました</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>${memoHtml}</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="mt-3 flex gap-2"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;button onclick="acceptPass(${caseId}, this)" class="px-3 py-1 bg-blue-600 text-white text-sm rounded hover:bg-blue-700"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>承認</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;button onclick="rejectPass(${caseId}, this)" class="px-3 py-1 bg-gray-200 text-gray-800 text-sm rounded hover:bg-gray-300"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>拒否</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>`;</p>
<p class="p1"><span class="Apple-converted-space">            </span>document.body.appendChild(notification);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>// 5秒後に自動で消える</p>
<p class="p1"><span class="Apple-converted-space">            </span>setTimeout(() =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                </span>if (notification.parentNode) {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>notification.remove();</p>
<p class="p1"><span class="Apple-converted-space">                </span>}</p>
<p class="p1"><span class="Apple-converted-space">            </span>}, 10000);</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// 引き継ぎ承認</p>
<p class="p1"><span class="Apple-converted-space">        </span>function acceptPass(caseId, button) {</p>
<p class="p1"><span class="Apple-converted-space">            </span>// モーダルからメモを取得</p>
<p class="p1"><span class="Apple-converted-space">            </span>const modal = button.closest('.fixed');</p>
<p class="p1"><span class="Apple-converted-space">            </span>const passMemo = modal.querySelector('p:last-of-type')?.textContent.replace('メモ: ', '') || '';</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>// 現在のユーザー情報（実際のシステムではセッションから取得）</p>
<p class="p1"><span class="Apple-converted-space">            </span>const currentUser = getCurrentUser();</p>
<p class="p1"><span class="Apple-converted-space">            </span>const timestamp = new Date().toLocaleString('ja-JP', {</p>
<p class="p1"><span class="Apple-converted-space">                </span>year: 'numeric',</p>
<p class="p1"><span class="Apple-converted-space">                </span>month: '2-digit',</p>
<p class="p1"><span class="Apple-converted-space">                </span>day: '2-digit',</p>
<p class="p1"><span class="Apple-converted-space">                </span>hour: '2-digit',</p>
<p class="p1"><span class="Apple-converted-space">                </span>minute: '2-digit'</p>
<p class="p1"><span class="Apple-converted-space">            </span>}).replace(/\//g, '/');</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>// 引き継ぎ履歴をメモに自動追加（実際のシステムではAPIに送信）</p>
<p class="p1"><span class="Apple-converted-space">            </span>const handoverEntry = {</p>
<p class="p1"><span class="Apple-converted-space">                </span>timestamp: timestamp,</p>
<p class="p1"><span class="Apple-converted-space">                </span>type: 'handover',</p>
<p class="p1"><span class="Apple-converted-space">                </span>from: '田中太郎', // 実際は前の担当者を取得</p>
<p class="p1"><span class="Apple-converted-space">                </span>to: currentUser.name,</p>
<p class="p1"><span class="Apple-converted-space">                </span>memo: passMemo,</p>
<p class="p1"><span class="Apple-converted-space">                </span>caseId: caseId</p>
<p class="p1"><span class="Apple-converted-space">            </span>};</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>// ここでAPIに送信して履歴を保存</p>
<p class="p1"><span class="Apple-converted-space">            </span>console.log('Recording handover:', handoverEntry);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>showNotification('承認完了', '案件を引き継ぎました');</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>// 承認待ちバッジを削除</p>
<p class="p1"><span class="Apple-converted-space">            </span>const pendingBadge = document.querySelector('.pending-badge');</p>
<p class="p1"><span class="Apple-converted-space">            </span>if (pendingBadge) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>pendingBadge.remove();</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>// 担当者名を更新</p>
<p class="p1"><span class="Apple-converted-space">            </span>const card = document.querySelector(`[onclick="showCaseDetail(${caseId})"]`);</p>
<p class="p1"><span class="Apple-converted-space">            </span>if (card) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>const assigneeSpan = card.querySelector('.text-blue-700');</p>
<p class="p1"><span class="Apple-converted-space">                </span>if (assigneeSpan) {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>assigneeSpan.textContent = `👤 担当: ${currentUser.name}`;</p>
<p class="p1"><span class="Apple-converted-space">                </span>}</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>// メモアイコンを黄色にする（引き継ぎ履歴があるため）</p>
<p class="p1"><span class="Apple-converted-space">            </span>updateMemoIcon(caseId, true);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>modal.remove();</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// 引き継ぎ拒否</p>
<p class="p1"><span class="Apple-converted-space">        </span>function rejectPass(caseId, button) {</p>
<p class="p1"><span class="Apple-converted-space">            </span>showNotification('引き継ぎ拒否', '引き継ぎを拒否しました');</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>// 承認待ちバッジを削除</p>
<p class="p1"><span class="Apple-converted-space">            </span>const pendingBadge = document.querySelector('.pending-badge');</p>
<p class="p1"><span class="Apple-converted-space">            </span>if (pendingBadge) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>pendingBadge.remove();</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>button.closest('.fixed').remove();</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// 案件詳細表示</p>
<p class="p1"><span class="Apple-converted-space">        </span>function openCaseDetail(caseId) {</p>
<p class="p1"><span class="Apple-converted-space">            </span>const caseData = casesData.find(c =&gt; c.id == caseId);</p>
<p class="p1"><span class="Apple-converted-space">            </span>if (!caseData) return;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>const modal = document.createElement('div');</p>
<p class="p1"><span class="Apple-converted-space">            </span>modal.className = 'fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50';</p>
<p class="p1"><span class="Apple-converted-space">            </span>modal.innerHTML = `</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;div class="bg-white rounded-lg p-6 w-full max-w-2xl mx-4 max-h-[80vh] overflow-y-auto"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="flex justify-between items-start mb-4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;h3 class="text-xl font-bold"&gt;案件詳細 #${caseData.id}&lt;/h3&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;button onclick="this.closest('.fixed').remove()" class="text-gray-400 hover:text-gray-600"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"&gt;&lt;/path&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/svg&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="space-y-4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;!-- 顧客情報 --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="border rounded-lg p-4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;h4 class="font-semibold mb-2"&gt;顧客情報&lt;/h4&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div class="grid grid-cols-2 gap-2 text-sm"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;div&gt;&lt;span class="text-gray-500"&gt;氏名:&lt;/span&gt; ${caseData.name} 様&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;div&gt;&lt;span class="text-gray-500"&gt;電話:&lt;/span&gt; ${caseData.phone}&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;div&gt;&lt;span class="text-gray-500"&gt;住所:&lt;/span&gt; ${caseData.area}&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;div&gt;&lt;span class="text-gray-500"&gt;物件:&lt;/span&gt; ${caseData.propertyType}・築${caseData.age}年&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;!-- ステータス情報 --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="border rounded-lg p-4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;h4 class="font-semibold mb-2"&gt;ステータス&lt;/h4&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;select class="w-full p-2 border rounded"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;option ${caseData.status === '未対応' ? 'selected' : ''}&gt;未対応&lt;/option&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;option ${caseData.status === '架電済/未アポ' ? 'selected' : ''}&gt;架電済/未アポ&lt;/option&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;option ${caseData.status === 'アポ済' ? 'selected' : ''}&gt;アポ済&lt;/option&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;option ${caseData.status === '現調済' ? 'selected' : ''}&gt;現調済&lt;/option&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;option ${caseData.status === '見積提出済' ? 'selected' : ''}&gt;見積提出済&lt;/option&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;option ${caseData.status === '成約' ? 'selected' : ''}&gt;成約&lt;/option&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;option ${caseData.status === '他社契約済' ? 'selected' : ''}&gt;他社契約済&lt;/option&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;option ${caseData.status === '失注' ? 'selected' : ''}&gt;失注&lt;/option&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/select&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;!-- 活動履歴 --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="border rounded-lg p-4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;h4 class="font-semibold mb-2"&gt;活動履歴&lt;/h4&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div class="space-y-2 text-sm"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;div class="flex items-center text-gray-600"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="text-xs text-gray-400 w-20"&gt;2024/01/15&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span&gt;初回架電 - 不在&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;div class="flex items-center text-gray-600"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="text-xs text-gray-400 w-20"&gt;2024/01/16&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span&gt;2回目架電 - アポ取得成功&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;div class="flex items-center text-gray-600"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="text-xs text-gray-400 w-20"&gt;2024/01/18&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span&gt;現地調査実施&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;!-- メモ --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="border rounded-lg p-4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;h4 class="font-semibold mb-2"&gt;メモ&lt;/h4&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;textarea class="w-full p-2 border rounded h-24" placeholder="メモを入力..."&gt;&lt;/textarea&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="flex justify-end gap-2 mt-6"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;button onclick="this.closest('.fixed').remove()" class="px-4 py-2 bg-gray-200 text-gray-700 rounded hover:bg-gray-300"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>閉じる</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;button onclick="saveCaseDetail(${caseData.id})" class="px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>保存</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>`;</p>
<p class="p1"><span class="Apple-converted-space">            </span>document.body.appendChild(modal);</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// 新規案件モーダル</p>
<p class="p1"><span class="Apple-converted-space">        </span>function openNewCaseModal() {</p>
<p class="p1"><span class="Apple-converted-space">            </span>const modal = document.createElement('div');</p>
<p class="p1"><span class="Apple-converted-space">            </span>modal.className = 'fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50';</p>
<p class="p1"><span class="Apple-converted-space">            </span>modal.innerHTML = `</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;div class="bg-white rounded-lg p-6 w-full max-w-lg mx-4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;h3 class="text-xl font-bold mb-4"&gt;新規案件登録&lt;/h3&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="space-y-4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;label class="block text-sm font-medium text-gray-700 mb-1"&gt;顧客名&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;input type="text" class="w-full p-2 border rounded" placeholder="例: 山田太郎"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;label class="block text-sm font-medium text-gray-700 mb-1"&gt;電話番号&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;input type="tel" class="w-full p-2 border rounded" placeholder="例: 03-1234-5678"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;label class="block text-sm font-medium text-gray-700 mb-1"&gt;住所&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;input type="text" class="w-full p-2 border rounded" placeholder="例: 東京都世田谷区"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="grid grid-cols-2 gap-4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="block text-sm font-medium text-gray-700 mb-1"&gt;物件種別&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;select class="w-full p-2 border rounded"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;option&gt;戸建て&lt;/option&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;option&gt;アパート&lt;/option&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;option&gt;マンション&lt;/option&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/select&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label class="block text-sm font-medium text-gray-700 mb-1"&gt;築年数&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;input type="number" class="w-full p-2 border rounded" placeholder="例: 15"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="flex justify-end gap-2 mt-6"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;button onclick="this.closest('.fixed').remove()" class="px-4 py-2 bg-gray-200 text-gray-700 rounded hover:bg-gray-300"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>キャンセル</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;button onclick="saveNewCase()" class="px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>登録</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>`;</p>
<p class="p1"><span class="Apple-converted-space">            </span>document.body.appendChild(modal);</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// 保存処理</p>
<p class="p1"><span class="Apple-converted-space">        </span>function saveCaseDetail(caseId) {</p>
<p class="p1"><span class="Apple-converted-space">            </span>showNotification('保存', `案件 #${caseId} を保存しました`);</p>
<p class="p1"><span class="Apple-converted-space">            </span>document.querySelector('.fixed').remove();</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>function saveNewCase() {</p>
<p class="p1"><span class="Apple-converted-space">            </span>showNotification('登録', '新規案件を登録しました');</p>
<p class="p1"><span class="Apple-converted-space">            </span>document.querySelector('.fixed').remove();</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// 未振り分け案件のダミーデータ</p>
<p class="p1"><span class="Apple-converted-space">        </span>const unassignedCases = [</p>
<p class="p1"><span class="Apple-converted-space">            </span>{</p>
<p class="p1"><span class="Apple-converted-space">                </span>id: 101,</p>
<p class="p1"><span class="Apple-converted-space">                </span>name: '新規顧客A',</p>
<p class="p1"><span class="Apple-converted-space">                </span>address: '東京都渋谷区',</p>
<p class="p1"><span class="Apple-converted-space">                </span>type: '戸建て・築12年',</p>
<p class="p1"><span class="Apple-converted-space">                </span>temperature: 4,</p>
<p class="p1"><span class="Apple-converted-space">                </span>source: 'くらべる',</p>
<p class="p1"><span class="Apple-converted-space">                </span>registeredDate: '2025-01-15 10:30'</p>
<p class="p1"><span class="Apple-converted-space">            </span>},</p>
<p class="p1"><span class="Apple-converted-space">            </span>{</p>
<p class="p1"><span class="Apple-converted-space">                </span>id: 102,</p>
<p class="p1"><span class="Apple-converted-space">                </span>name: '新規顧客B',</p>
<p class="p1"><span class="Apple-converted-space">                </span>address: '神奈川県川崎市',</p>
<p class="p1"><span class="Apple-converted-space">                </span>type: 'マンション・築5年',</p>
<p class="p1"><span class="Apple-converted-space">                </span>temperature: 3,</p>
<p class="p1"><span class="Apple-converted-space">                </span>source: 'くらべる',</p>
<p class="p1"><span class="Apple-converted-space">                </span>registeredDate: '2025-01-15 11:45'</p>
<p class="p1"><span class="Apple-converted-space">            </span>},</p>
<p class="p1"><span class="Apple-converted-space">            </span>{</p>
<p class="p1"><span class="Apple-converted-space">                </span>id: 103,</p>
<p class="p1"><span class="Apple-converted-space">                </span>name: '新規顧客C',</p>
<p class="p1"><span class="Apple-converted-space">                </span>address: '埼玉県越谷市',</p>
<p class="p1"><span class="Apple-converted-space">                </span>type: '戸建て・築20年',</p>
<p class="p1"><span class="Apple-converted-space">                </span>temperature: 5,</p>
<p class="p1"><span class="Apple-converted-space">                </span>source: 'くらべる',</p>
<p class="p1"><span class="Apple-converted-space">                </span>registeredDate: '2025-01-15 14:00'</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>];</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// 未振り分け案件を表示</p>
<p class="p1"><span class="Apple-converted-space">        </span>function displayUnassignedCases() {</p>
<p class="p1"><span class="Apple-converted-space">            </span>const unassignedSection = document.getElementById('unassignedCasesSection');</p>
<p class="p1"><span class="Apple-converted-space">            </span>const unassignedList = document.getElementById('unassignedCasesList');</p>
<p class="p1"><span class="Apple-converted-space">            </span>const badge = document.getElementById('unassignedBadge');</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>if (unassignedCases.length &gt; 0) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>// バッジを表示</p>
<p class="p1"><span class="Apple-converted-space">                </span>badge.textContent = unassignedCases.length;</p>
<p class="p1"><span class="Apple-converted-space">                </span>badge.classList.remove('hidden');</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>// トータルバッジカウントを更新</p>
<p class="p1"><span class="Apple-converted-space">                </span>updateTotalBadgeCount();</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>// 未振り分けセクションを表示</p>
<p class="p1"><span class="Apple-converted-space">                </span>unassignedSection.classList.remove('hidden');</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>// 案件カードを生成</p>
<p class="p1"><span class="Apple-converted-space">                </span>unassignedList.innerHTML = unassignedCases.map(caseItem =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>return `</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="bg-white rounded-lg border border-yellow-300 p-3 hover:shadow-md transition-shadow"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div class="flex justify-between items-start mb-2"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;span class="px-2 py-1 text-xs font-semibold rounded-full bg-red-100 text-red-800"&gt;未対応&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;h4 class="font-bold text-sm mb-1"&gt;${caseItem.name}&lt;/h4&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;p class="text-xs text-gray-600"&gt;${caseItem.address}&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;p class="text-xs text-gray-600 mb-2"&gt;${caseItem.type}&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div class="flex justify-between items-center text-xs text-gray-500"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;span&gt;登録: ${caseItem.registeredDate}&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>`;</p>
<p class="p1"><span class="Apple-converted-space">                </span>}).join('');</p>
<p class="p1"><span class="Apple-converted-space">            </span>} else {</p>
<p class="p1"><span class="Apple-converted-space">                </span>// バッジを非表示</p>
<p class="p1"><span class="Apple-converted-space">                </span>badge.classList.add('hidden');</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>// 未振り分けセクションを非表示</p>
<p class="p1"><span class="Apple-converted-space">                </span>unassignedSection.classList.add('hidden');</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// ページ読み込み時に未振り分け案件を表示</p>
<p class="p1"><span class="Apple-converted-space">        </span>document.addEventListener('DOMContentLoaded', function() {</p>
<p class="p1"><span class="Apple-converted-space">            </span>displayUnassignedCases();</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>// 初期バッジカウントを更新</p>
<p class="p1"><span class="Apple-converted-space">            </span>setTimeout(updateTotalBadgeCount, 500);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>// カレンダーの自動同期を実行</p>
<p class="p1"><span class="Apple-converted-space">            </span>setTimeout(autoSyncToCalendar, 1000);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>// showSection関数をオーバーライド（既存のoriginalShowSectionを使用）</p>
<p class="p1"><span class="Apple-converted-space">            </span>const prevShowSection = window.showSection;</p>
<p class="p1"><span class="Apple-converted-space">            </span>window.showSection = function(sectionName) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>prevShowSection(sectionName);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>// 案件管理セクションを表示した場合、未振り分け案件を更新</p>
<p class="p1"><span class="Apple-converted-space">                </span>if (sectionName === 'cases') {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>displayUnassignedCases();</p>
<p class="p1"><span class="Apple-converted-space">                    </span>renderCaseCards(); // 動的に案件カードを生成</p>
<p class="p1"><span class="Apple-converted-space">                    </span>updateCaseCounts(); // 件数を更新</p>
<p class="p1"><span class="Apple-converted-space">                </span>}</p>
<p class="p1"><span class="Apple-converted-space">            </span>};</p>
<p class="p1"><span class="Apple-converted-space">        </span>});</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;/script&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;!-- 画像拡大表示モーダル --&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;div id="imageModal" class="fixed inset-0 bg-black bg-opacity-90 z-[200] hidden flex items-center justify-center" onclick="closeImageModal()"&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;div class="relative max-w-7xl max-h-full p-4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;button onclick="closeImageModal()" class="absolute top-4 right-4 text-white hover:text-gray-300 z-10"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"&gt;&lt;/path&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/svg&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;img id="modalImage" src="" alt="" class="max-w-full max-h-[90vh] object-contain"&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;p id="modalImageTitle" class="text-white text-center mt-4"&gt;&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;script&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>// 画像モーダル機能</p>
<p class="p1"><span class="Apple-converted-space">        </span>function openImageModal(src, title) {</p>
<p class="p1"><span class="Apple-converted-space">            </span>const modal = document.getElementById('imageModal');</p>
<p class="p1"><span class="Apple-converted-space">            </span>const modalImage = document.getElementById('modalImage');</p>
<p class="p1"><span class="Apple-converted-space">            </span>const modalTitle = document.getElementById('modalImageTitle');</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>modalImage.src = src;</p>
<p class="p1"><span class="Apple-converted-space">            </span>modalTitle.textContent = title || '';</p>
<p class="p1"><span class="Apple-converted-space">            </span>modal.classList.remove('hidden');</p>
<p class="p1"><span class="Apple-converted-space">            </span>document.body.style.overflow = 'hidden';</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>function closeImageModal() {</p>
<p class="p1"><span class="Apple-converted-space">            </span>const modal = document.getElementById('imageModal');</p>
<p class="p1"><span class="Apple-converted-space">            </span>modal.classList.add('hidden');</p>
<p class="p1"><span class="Apple-converted-space">            </span>document.body.style.overflow = 'auto';</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// ESCキーでモーダルを閉じる</p>
<p class="p1"><span class="Apple-converted-space">        </span>document.addEventListener('keydown', function(e) {</p>
<p class="p1"><span class="Apple-converted-space">            </span>if (e.key === 'Escape') {</p>
<p class="p1"><span class="Apple-converted-space">                </span>closeImageModal();</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>});</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// キャンセル申請機能</p>
<p class="p1"><span class="Apple-converted-space">        </span>let selectedCancelCase = null;</p>
<p class="p1"><span class="Apple-converted-space">        </span>let cancelQuestions = [</p>
<p class="p1"><span class="Apple-converted-space">            </span>{</p>
<p class="p1"><span class="Apple-converted-space">                </span>question: 'キャンセルの主な理由をお選びください',</p>
<p class="p1"><span class="Apple-converted-space">                </span>options: ['価格が合わない', '他社で契約した', 'すでに他社で検討中', '工事の必要がなくなった', '連絡が繋がらない', 'その他']</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>];</p>
<p class="p1"><span class="Apple-converted-space">        </span>let cancelAnswers = [];</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// キャンセル申請画面を開く</p>
<p class="p1"><span class="Apple-converted-space">        </span>function openCancelRequest(caseId) {</p>
<p class="p1"><span class="Apple-converted-space">            </span>selectedCancelCase = casesData.find(c =&gt; c.id === caseId);</p>
<p class="p1"><span class="Apple-converted-space">            </span>if (selectedCancelCase) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>showSection('cancel');</p>
<p class="p1"><span class="Apple-converted-space">                </span>setTimeout(() =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>displayCancelCases();</p>
<p class="p1"><span class="Apple-converted-space">                    </span>// 選択された案件をハイライト</p>
<p class="p1"><span class="Apple-converted-space">                    </span>const caseCard = document.querySelector(`[data-cancel-case-id="${caseId}"]`);</p>
<p class="p1"><span class="Apple-converted-space">                    </span>if (caseCard) {</p>
<p class="p1"><span class="Apple-converted-space">                        </span>caseCard.classList.add('ring-2', 'ring-blue-500');</p>
<p class="p1"><span class="Apple-converted-space">                        </span>caseCard.scrollIntoView({ behavior: 'smooth', block: 'center' });</p>
<p class="p1"><span class="Apple-converted-space">                    </span>}</p>
<p class="p1"><span class="Apple-converted-space">                </span>}, 100);</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// キャンセル申請用の案件カード作成</p>
<p class="p1"><span class="Apple-converted-space">        </span>function createCancelCaseCard(caseItem) {</p>
<p class="p1"><span class="Apple-converted-space">            </span>const statusColor = getStatusColor(caseItem.status);</p>
<p class="p1"><span class="Apple-converted-space">            </span>return `</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;div class="bg-white rounded-lg shadow-md p-4 hover:shadow-lg transition-shadow cursor-pointer"</p>
<p class="p1"><span class="Apple-converted-space">                     </span>onclick="selectCancelCase(${caseItem.id})"</p>
<p class="p1"><span class="Apple-converted-space">                     </span>data-cancel-case-id="${caseItem.id}"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="flex justify-between items-start mb-3"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;span class="px-2 py-1 text-xs font-semibold rounded-full ${statusColor}"&gt;${caseItem.status}&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;button onclick="event.stopPropagation(); selectCancelCase(${caseItem.id})"</p>
<p class="p1"><span class="Apple-converted-space">                                </span>class="p-1.5 rounded-lg bg-red-100 hover:bg-red-200 transition-colors" title="選択"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;span class="text-lg"&gt;✅&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;h3 class="font-bold text-lg mb-1"&gt;${caseItem.name}&lt;/h3&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="mb-2"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;span class="text-xs bg-blue-100 text-blue-700 px-2 py-0.5 rounded"&gt;👤 担当: ${caseItem.assignee || '未割当'}&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;p class="text-sm text-gray-600 mb-2"&gt;${caseItem.location || caseItem.area || ''}&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;p class="text-sm text-gray-600 mb-3"&gt;${caseItem.propertyType || ''}&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;p class="text-sm text-gray-600 mb-3"&gt;📞 ${caseItem.phone || ''}&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="flex justify-between items-center text-xs text-gray-500"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;span&gt;最終連絡: ${caseItem.lastContact || '未連絡'}&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;span&gt;次回予定: ${caseItem.nextAction || '未定'}&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>`;</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// 成約報告用の案件カード作成</p>
<p class="p1"><span class="Apple-converted-space">        </span>function createContractCaseCard(caseItem) {</p>
<p class="p1"><span class="Apple-converted-space">            </span>const statusColor = getStatusColor(caseItem.status);</p>
<p class="p1"><span class="Apple-converted-space">            </span>return `</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;div class="bg-white rounded-lg shadow-md p-4 hover:shadow-lg transition-shadow cursor-pointer"</p>
<p class="p1"><span class="Apple-converted-space">                     </span>onclick="selectContractCase(${caseItem.id})"</p>
<p class="p1"><span class="Apple-converted-space">                     </span>data-contract-case-id="${caseItem.id}"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="flex justify-between items-start mb-3"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;span class="px-2 py-1 text-xs font-semibold rounded-full ${statusColor}"&gt;${caseItem.status}&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;button onclick="event.stopPropagation(); selectContractCase(${caseItem.id})"</p>
<p class="p1"><span class="Apple-converted-space">                                </span>class="p-1.5 rounded-lg bg-green-100 hover:bg-green-200 transition-colors" title="選択"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;span class="text-lg"&gt;✅&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;h3 class="font-bold text-lg mb-1"&gt;${caseItem.name}&lt;/h3&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="mb-2"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;span class="text-xs bg-blue-100 text-blue-700 px-2 py-0.5 rounded"&gt;👤 担当: ${caseItem.assignee || '未割当'}&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;p class="text-sm text-gray-600 mb-2"&gt;${caseItem.location || caseItem.area || ''}&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;p class="text-sm text-gray-600 mb-3"&gt;${caseItem.propertyType || ''}&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;p class="text-sm text-gray-600 mb-3"&gt;📞 ${caseItem.phone || ''}&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="flex justify-between items-center text-xs text-gray-500"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;span&gt;最終連絡: ${caseItem.lastContact || '未連絡'}&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;span&gt;次回予定: ${caseItem.nextAction || '未定'}&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>`;</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// 日付範囲設定（キャンセル申請用）</p>
<p class="p1"><span class="Apple-converted-space">        </span>function setCancelDateRange(range) {</p>
<p class="p1"><span class="Apple-converted-space">            </span>const today = new Date();</p>
<p class="p1"><span class="Apple-converted-space">            </span>const startInput = document.getElementById('cancelStartDate');</p>
<p class="p1"><span class="Apple-converted-space">            </span>const endInput = document.getElementById('cancelEndDate');</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>switch(range) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>case 'today':</p>
<p class="p1"><span class="Apple-converted-space">                    </span>startInput.valueAsDate = today;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>endInput.valueAsDate = today;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>break;</p>
<p class="p1"><span class="Apple-converted-space">                </span>case 'week':</p>
<p class="p1"><span class="Apple-converted-space">                    </span>const weekStart = new Date(today);</p>
<p class="p1"><span class="Apple-converted-space">                    </span>weekStart.setDate(today.getDate() - today.getDay());</p>
<p class="p1"><span class="Apple-converted-space">                    </span>startInput.valueAsDate = weekStart;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>endInput.valueAsDate = today;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>break;</p>
<p class="p1"><span class="Apple-converted-space">                </span>case 'month':</p>
<p class="p1"><span class="Apple-converted-space">                    </span>const monthStart = new Date(today.getFullYear(), today.getMonth(), 1);</p>
<p class="p1"><span class="Apple-converted-space">                    </span>startInput.valueAsDate = monthStart;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>endInput.valueAsDate = today;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>break;</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p1"><span class="Apple-converted-space">            </span>searchCancelCases();</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// 日付範囲設定（成約報告用）</p>
<p class="p1"><span class="Apple-converted-space">        </span>function setContractDateRange(range) {</p>
<p class="p1"><span class="Apple-converted-space">            </span>const today = new Date();</p>
<p class="p1"><span class="Apple-converted-space">            </span>const startInput = document.getElementById('contractStartDate');</p>
<p class="p1"><span class="Apple-converted-space">            </span>const endInput = document.getElementById('contractEndDate');</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>switch(range) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>case 'today':</p>
<p class="p1"><span class="Apple-converted-space">                    </span>startInput.valueAsDate = today;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>endInput.valueAsDate = today;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>break;</p>
<p class="p1"><span class="Apple-converted-space">                </span>case 'week':</p>
<p class="p1"><span class="Apple-converted-space">                    </span>const weekStart = new Date(today);</p>
<p class="p1"><span class="Apple-converted-space">                    </span>weekStart.setDate(today.getDate() - today.getDay());</p>
<p class="p1"><span class="Apple-converted-space">                    </span>startInput.valueAsDate = weekStart;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>endInput.valueAsDate = today;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>break;</p>
<p class="p1"><span class="Apple-converted-space">                </span>case 'month':</p>
<p class="p1"><span class="Apple-converted-space">                    </span>const monthStart = new Date(today.getFullYear(), today.getMonth(), 1);</p>
<p class="p1"><span class="Apple-converted-space">                    </span>startInput.valueAsDate = monthStart;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>endInput.valueAsDate = today;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>break;</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p1"><span class="Apple-converted-space">            </span>searchContractCases();</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// キャンセル申請の案件検索</p>
<p class="p1"><span class="Apple-converted-space">        </span>function searchCancelCases() {</p>
<p class="p1"><span class="Apple-converted-space">            </span>const searchTerm = document.getElementById('cancelSearchInput').value.toLowerCase().trim();</p>
<p class="p1"><span class="Apple-converted-space">            </span>const assigneeFilter = document.getElementById('cancelAssigneeFilter').value;</p>
<p class="p1"><span class="Apple-converted-space">            </span>const startDate = document.getElementById('cancelStartDate').value;</p>
<p class="p1"><span class="Apple-converted-space">            </span>const endDate = document.getElementById('cancelEndDate').value;</p>
<p class="p1"><span class="Apple-converted-space">            </span>const cancelList = document.getElementById('cancelCasesList');</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>let filteredCases = casesData;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>// テキスト検索</p>
<p class="p1"><span class="Apple-converted-space">            </span>if (searchTerm) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>filteredCases = filteredCases.filter(c =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>return (c.name &amp;&amp; c.name.toLowerCase().includes(searchTerm)) ||</p>
<p class="p1"><span class="Apple-converted-space">                           </span>(c.phone &amp;&amp; c.phone.toLowerCase().includes(searchTerm)) ||</p>
<p class="p1"><span class="Apple-converted-space">                           </span>(c.location &amp;&amp; c.location.toLowerCase().includes(searchTerm)) ||</p>
<p class="p1"><span class="Apple-converted-space">                           </span>(c.area &amp;&amp; c.area.toLowerCase().includes(searchTerm)) ||</p>
<p class="p1"><span class="Apple-converted-space">                           </span>(c.address &amp;&amp; c.address.toLowerCase().includes(searchTerm));</p>
<p class="p1"><span class="Apple-converted-space">                </span>});</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>// 担当者フィルター</p>
<p class="p1"><span class="Apple-converted-space">            </span>if (assigneeFilter) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>if (assigneeFilter === 'self') {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>// 自分の案件（ログインユーザーを田中太郎と仮定）</p>
<p class="p1"><span class="Apple-converted-space">                    </span>filteredCases = filteredCases.filter(c =&gt; c.assignee === '田中太郎');</p>
<p class="p1"><span class="Apple-converted-space">                </span>} else if (assigneeFilter === '未割当') {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>filteredCases = filteredCases.filter(c =&gt; !c.assignee);</p>
<p class="p1"><span class="Apple-converted-space">                </span>} else {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>filteredCases = filteredCases.filter(c =&gt; c.assignee === assigneeFilter);</p>
<p class="p1"><span class="Apple-converted-space">                </span>}</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>// 期間フィルター（ダミーデータとしてIDを使用）</p>
<p class="p1"><span class="Apple-converted-space">            </span>if (startDate || endDate) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>const start = startDate ? new Date(startDate) : new Date('2000-01-01');</p>
<p class="p1"><span class="Apple-converted-space">                </span>const end = endDate ? new Date(endDate + 'T23:59:59') : new Date();</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>// ダミー実装：IDを日付の代わりに使用</p>
<p class="p1"><span class="Apple-converted-space">                </span>filteredCases = filteredCases.filter(c =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>// 実際の実装ではc.registeredDateをDateオブジェクトに変換して比較</p>
<p class="p1"><span class="Apple-converted-space">                    </span>return true; // 今は全て表示</p>
<p class="p1"><span class="Apple-converted-space">                </span>});</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>// 新しい順にソート（IDが大きい順）</p>
<p class="p1"><span class="Apple-converted-space">            </span>filteredCases.sort((a, b) =&gt; b.id - a.id);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>// カード表示</p>
<p class="p1"><span class="Apple-converted-space">            </span>if (filteredCases.length &gt; 0) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>cancelList.innerHTML = filteredCases.map(c =&gt; createCancelCaseCard(c)).join('');</p>
<p class="p1"><span class="Apple-converted-space">            </span>} else {</p>
<p class="p1"><span class="Apple-converted-space">                </span>cancelList.innerHTML = '&lt;div class="col-span-full text-center py-8 text-gray-500"&gt;該当する案件が見つかりません&lt;/div&gt;';</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// 成約報告の案件検索</p>
<p class="p1"><span class="Apple-converted-space">        </span>function searchContractCases() {</p>
<p class="p1"><span class="Apple-converted-space">            </span>const searchTerm = document.getElementById('contractSearchInput').value.toLowerCase().trim();</p>
<p class="p1"><span class="Apple-converted-space">            </span>const assigneeFilter = document.getElementById('contractAssigneeFilter').value;</p>
<p class="p1"><span class="Apple-converted-space">            </span>const startDate = document.getElementById('contractStartDate').value;</p>
<p class="p1"><span class="Apple-converted-space">            </span>const endDate = document.getElementById('contractEndDate').value;</p>
<p class="p1"><span class="Apple-converted-space">            </span>const contractList = document.getElementById('contractCasesList');</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>let filteredCases = casesData;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>// テキスト検索</p>
<p class="p1"><span class="Apple-converted-space">            </span>if (searchTerm) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>filteredCases = filteredCases.filter(c =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>return (c.name &amp;&amp; c.name.toLowerCase().includes(searchTerm)) ||</p>
<p class="p1"><span class="Apple-converted-space">                           </span>(c.phone &amp;&amp; c.phone.toLowerCase().includes(searchTerm)) ||</p>
<p class="p1"><span class="Apple-converted-space">                           </span>(c.location &amp;&amp; c.location.toLowerCase().includes(searchTerm)) ||</p>
<p class="p1"><span class="Apple-converted-space">                           </span>(c.area &amp;&amp; c.area.toLowerCase().includes(searchTerm)) ||</p>
<p class="p1"><span class="Apple-converted-space">                           </span>(c.address &amp;&amp; c.address.toLowerCase().includes(searchTerm));</p>
<p class="p1"><span class="Apple-converted-space">                </span>});</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>// 担当者フィルター</p>
<p class="p1"><span class="Apple-converted-space">            </span>if (assigneeFilter) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>if (assigneeFilter === 'self') {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>// 自分の案件（ログインユーザーを田中太郎と仮定）</p>
<p class="p1"><span class="Apple-converted-space">                    </span>filteredCases = filteredCases.filter(c =&gt; c.assignee === '田中太郎');</p>
<p class="p1"><span class="Apple-converted-space">                </span>} else if (assigneeFilter === '未割当') {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>filteredCases = filteredCases.filter(c =&gt; !c.assignee);</p>
<p class="p1"><span class="Apple-converted-space">                </span>} else {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>filteredCases = filteredCases.filter(c =&gt; c.assignee === assigneeFilter);</p>
<p class="p1"><span class="Apple-converted-space">                </span>}</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>// 期間フィルター（ダミーデータとしてIDを使用）</p>
<p class="p1"><span class="Apple-converted-space">            </span>if (startDate || endDate) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>const start = startDate ? new Date(startDate) : new Date('2000-01-01');</p>
<p class="p1"><span class="Apple-converted-space">                </span>const end = endDate ? new Date(endDate + 'T23:59:59') : new Date();</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>// ダミー実装：IDを日付の代わりに使用</p>
<p class="p1"><span class="Apple-converted-space">                </span>filteredCases = filteredCases.filter(c =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>// 実際の実装ではc.registeredDateをDateオブジェクトに変換して比較</p>
<p class="p1"><span class="Apple-converted-space">                    </span>return true; // 今は全て表示</p>
<p class="p1"><span class="Apple-converted-space">                </span>});</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>// 新しい順にソート（IDが大きい順）</p>
<p class="p1"><span class="Apple-converted-space">            </span>filteredCases.sort((a, b) =&gt; b.id - a.id);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>// カード表示</p>
<p class="p1"><span class="Apple-converted-space">            </span>if (filteredCases.length &gt; 0) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>contractList.innerHTML = filteredCases.map(c =&gt; createContractCaseCard(c)).join('');</p>
<p class="p1"><span class="Apple-converted-space">            </span>} else {</p>
<p class="p1"><span class="Apple-converted-space">                </span>contractList.innerHTML = '&lt;div class="col-span-full text-center py-8 text-gray-500"&gt;該当する案件が見つかりません&lt;/div&gt;';</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// 初期表示用</p>
<p class="p1"><span class="Apple-converted-space">        </span>function displayCancelCases() {</p>
<p class="p1"><span class="Apple-converted-space">            </span>searchCancelCases();</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>function displayContractCases() {</p>
<p class="p1"><span class="Apple-converted-space">            </span>searchContractCases();</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// キャンセル案件選択</p>
<p class="p1"><span class="Apple-converted-space">        </span>function selectCancelCase(caseId) {</p>
<p class="p1"><span class="Apple-converted-space">            </span>selectedCancelCase = casesData.find(c =&gt; c.id === caseId);</p>
<p class="p1"><span class="Apple-converted-space">            </span>if (selectedCancelCase) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>cancelAnswers = [];</p>
<p class="p1"><span class="Apple-converted-space">                </span>showCancelQuestions();</p>
<p class="p1"><span class="Apple-converted-space">                </span>document.getElementById('cancelModal').classList.remove('hidden');</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// 成約報告の質問定義</p>
<p class="p1"><span class="Apple-converted-space">        </span>let contractQuestions = [</p>
<p class="p1"><span class="Apple-converted-space">            </span>{</p>
<p class="p1"><span class="Apple-converted-space">                </span>question: '報告種別を選択してください',</p>
<p class="p1"><span class="Apple-converted-space">                </span>options: ['成約報告', '追加工事報告']</p>
<p class="p1"><span class="Apple-converted-space">            </span>},</p>
<p class="p1"><span class="Apple-converted-space">            </span>{</p>
<p class="p1"><span class="Apple-converted-space">                </span>question: '現在の状況を選択してください',</p>
<p class="p1"><span class="Apple-converted-space">                </span>options: ['契約前・口頭確約済', '契約後・工事前', '工事中', '工事完了後']</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>];</p>
<p class="p1"><span class="Apple-converted-space">        </span>let contractAnswers = [];</p>
<p class="p1"><span class="Apple-converted-space">        </span>let selectedContractCase = null;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// 成約案件選択</p>
<p class="p1"><span class="Apple-converted-space">        </span>function selectContractCase(caseId) {</p>
<p class="p1"><span class="Apple-converted-space">            </span>selectedContractCase = casesData.find(c =&gt; c.id === caseId);</p>
<p class="p1"><span class="Apple-converted-space">            </span>if (selectedContractCase) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>// 顧客情報を表示</p>
<p class="p1"><span class="Apple-converted-space">                </span>document.getElementById('contractCustomerInfo').classList.remove('hidden');</p>
<p class="p1"><span class="Apple-converted-space">                </span>document.getElementById('contractCustomerName').textContent = selectedContractCase.name || '';</p>
<p class="p1"><span class="Apple-converted-space">                </span>document.getElementById('contractCustomerAddress').textContent =</p>
<p class="p1"><span class="Apple-converted-space">                    </span>selectedContractCase.address || selectedContractCase.location || selectedContractCase.area || '';</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>contractAnswers = [];</p>
<p class="p1"><span class="Apple-converted-space">                </span>showContractQuestions();</p>
<p class="p1"><span class="Apple-converted-space">                </span>document.getElementById('contractModal').classList.remove('hidden');</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// 成約報告質問表示</p>
<p class="p1"><span class="Apple-converted-space">        </span>function showContractQuestions() {</p>
<p class="p1"><span class="Apple-converted-space">            </span>const container = document.getElementById('contractQuestionContainer');</p>
<p class="p1"><span class="Apple-converted-space">            </span>const currentQuestion = contractQuestions[contractAnswers.length];</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>if (currentQuestion) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>container.innerHTML = `</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="mb-4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;h4 class="text-lg font-medium mb-3"&gt;${currentQuestion.question}&lt;/h4&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="grid grid-cols-2 gap-3"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>${currentQuestion.options.map(option =&gt; `</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;button onclick="answerContractQuestion('${option}')"</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>class="p-3 text-left border rounded-lg hover:bg-green-50 hover:border-green-500 transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>${option}</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>`).join('')}</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>`;</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// 成約質問回答</p>
<p class="p1"><span class="Apple-converted-space">        </span>function answerContractQuestion(answer) {</p>
<p class="p1"><span class="Apple-converted-space">            </span>contractAnswers.push(answer);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>if (contractAnswers.length &lt; contractQuestions.length) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>showContractQuestions();</p>
<p class="p1"><span class="Apple-converted-space">            </span>} else {</p>
<p class="p1"><span class="Apple-converted-space">                </span>// フォームフェーズに移行</p>
<p class="p1"><span class="Apple-converted-space">                </span>document.getElementById('contractQuestionContainer').classList.add('hidden');</p>
<p class="p1"><span class="Apple-converted-space">                </span>document.getElementById('contractFormPhase').classList.remove('hidden');</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>// 契約状況に応じて日付ラベルを変更</p>
<p class="p1"><span class="Apple-converted-space">                </span>updateDateLabels(contractAnswers[1]);</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// 契約状況に応じて日付ラベルを更新</p>
<p class="p1"><span class="Apple-converted-space">        </span>function updateDateLabels(status) {</p>
<p class="p1"><span class="Apple-converted-space">            </span>const completionLabel = document.getElementById('completionDateLabel');</p>
<p class="p1"><span class="Apple-converted-space">            </span>const paymentLabel = document.getElementById('paymentDateLabel');</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>switch(status) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>case '契約前・口頭確約済':</p>
<p class="p1"><span class="Apple-converted-space">                </span>case '契約後・工事前':</p>
<p class="p1"><span class="Apple-converted-space">                    </span>completionLabel.textContent = '完工予定日';</p>
<p class="p1"><span class="Apple-converted-space">                    </span>paymentLabel.textContent = '着金予定日';</p>
<p class="p1"><span class="Apple-converted-space">                    </span>break;</p>
<p class="p1"><span class="Apple-converted-space">                </span>case '工事中':</p>
<p class="p1"><span class="Apple-converted-space">                    </span>completionLabel.textContent = '完工予定日';</p>
<p class="p1"><span class="Apple-converted-space">                    </span>paymentLabel.textContent = '着金日';</p>
<p class="p1"><span class="Apple-converted-space">                    </span>break;</p>
<p class="p1"><span class="Apple-converted-space">                </span>case '工事完了後':</p>
<p class="p1"><span class="Apple-converted-space">                    </span>completionLabel.textContent = '完工日';</p>
<p class="p1"><span class="Apple-converted-space">                    </span>paymentLabel.textContent = '着金日';</p>
<p class="p1"><span class="Apple-converted-space">                    </span>break;</p>
<p class="p1"><span class="Apple-converted-space">                </span>default:</p>
<p class="p1"><span class="Apple-converted-space">                    </span>completionLabel.textContent = '完工予定日';</p>
<p class="p1"><span class="Apple-converted-space">                    </span>paymentLabel.textContent = '着金予定日';</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// その他チェック時の詳細入力欄表示</p>
<p class="p1"><span class="Apple-converted-space">        </span>function toggleOtherWorkDetails() {</p>
<p class="p1"><span class="Apple-converted-space">            </span>const otherCheckbox = document.querySelector('input[name="workType"][value="その他"]');</p>
<p class="p1"><span class="Apple-converted-space">            </span>const detailsTextarea = document.getElementById('workDetails');</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>if (otherCheckbox &amp;&amp; otherCheckbox.checked) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>detailsTextarea.classList.remove('hidden');</p>
<p class="p1"><span class="Apple-converted-space">            </span>} else {</p>
<p class="p1"><span class="Apple-converted-space">                </span>detailsTextarea.classList.add('hidden');</p>
<p class="p1"><span class="Apple-converted-space">                </span>detailsTextarea.value = '';</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// その他物件タイプの詳細入力欄表示</p>
<p class="p1"><span class="Apple-converted-space">        </span>function toggleOtherPropertyDetails() {</p>
<p class="p1"><span class="Apple-converted-space">            </span>const otherCheckbox = document.querySelector('input[name="propertyType"][value="その他"]');</p>
<p class="p1"><span class="Apple-converted-space">            </span>const detailsInput = document.getElementById('otherPropertyDetails');</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>if (otherCheckbox &amp;&amp; otherCheckbox.checked) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>detailsInput.classList.remove('hidden');</p>
<p class="p1"><span class="Apple-converted-space">            </span>} else {</p>
<p class="p1"><span class="Apple-converted-space">                </span>detailsInput.classList.add('hidden');</p>
<p class="p1"><span class="Apple-converted-space">                </span>detailsInput.value = '';</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// 成約モーダルを閉じる</p>
<p class="p1"><span class="Apple-converted-space">        </span>function closeContractModal() {</p>
<p class="p1"><span class="Apple-converted-space">            </span>document.getElementById('contractModal').classList.add('hidden');</p>
<p class="p1"><span class="Apple-converted-space">            </span>document.getElementById('contractQuestionContainer').classList.remove('hidden');</p>
<p class="p1"><span class="Apple-converted-space">            </span>document.getElementById('contractFormPhase').classList.add('hidden');</p>
<p class="p1"><span class="Apple-converted-space">            </span>document.getElementById('contractCustomerInfo').classList.add('hidden');</p>
<p class="p1"><span class="Apple-converted-space">            </span>selectedContractCase = null;</p>
<p class="p1"><span class="Apple-converted-space">            </span>contractAnswers = [];</p>
<p class="p1"><span class="Apple-converted-space">            </span>resetContractForm();</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// キャンセル質問表示</p>
<p class="p1"><span class="Apple-converted-space">        </span>function showCancelQuestions() {</p>
<p class="p1"><span class="Apple-converted-space">            </span>const container = document.getElementById('cancelQuestionContainer');</p>
<p class="p1"><span class="Apple-converted-space">            </span>const currentQuestion = cancelQuestions[cancelAnswers.length];</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>if (currentQuestion) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>container.innerHTML = `</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="mb-4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;h4 class="text-lg font-medium mb-3"&gt;${currentQuestion.question}&lt;/h4&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="grid grid-cols-2 gap-3"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>${currentQuestion.options.map(option =&gt; `</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;button onclick="answerCancelQuestion('${option}')"</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>class="p-3 text-left border rounded-lg hover:bg-blue-50 hover:border-blue-500 transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>${option}</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>`).join('')}</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>`;</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// その他の理由を送信</p>
<p class="p1"><span class="Apple-converted-space">        </span>function submitOtherReason() {</p>
<p class="p1"><span class="Apple-converted-space">            </span>const reasonInput = document.getElementById('otherReasonInput');</p>
<p class="p1"><span class="Apple-converted-space">            </span>if (reasonInput &amp;&amp; reasonInput.value.trim()) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>cancelAnswers.otherReason = reasonInput.value.trim();</p>
<p class="p1"><span class="Apple-converted-space">                </span>showAdditionalInfoInput();</p>
<p class="p1"><span class="Apple-converted-space">            </span>} else {</p>
<p class="p1"><span class="Apple-converted-space">                </span>alert('理由を入力してください');</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// 追加情報入力画面を表示</p>
<p class="p1"><span class="Apple-converted-space">        </span>function showAdditionalInfoInput() {</p>
<p class="p1"><span class="Apple-converted-space">            </span>const container = document.getElementById('cancelQuestionContainer');</p>
<p class="p1"><span class="Apple-converted-space">            </span>container.innerHTML = `</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;div class="mb-4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;h4 class="text-lg font-medium mb-3"&gt;追加情報があればご記入ください（任意）&lt;/h4&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;textarea id="additionalInfoInput" class="w-full px-3 py-2 border rounded-lg" rows="4"</p>
<p class="p1"><span class="Apple-converted-space">                              </span>placeholder="例：お客様の詳しい状況、今後の対応予定、その他補足事項など"&gt;&lt;/textarea&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="flex gap-3 mt-3"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;button onclick="skipAdditionalInfo()" class="px-6 py-2 bg-gray-300 text-gray-700 rounded-lg hover:bg-gray-400"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>スキップ</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;button onclick="submitAdditionalInfo()" class="px-6 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>完了</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>`;</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// 追加情報をスキップ</p>
<p class="p1"><span class="Apple-converted-space">        </span>function skipAdditionalInfo() {</p>
<p class="p1"><span class="Apple-converted-space">            </span>cancelAnswers.additionalInfo = '';</p>
<p class="p1"><span class="Apple-converted-space">            </span>generateCancelText();</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// 追加情報を送信</p>
<p class="p1"><span class="Apple-converted-space">        </span>function submitAdditionalInfo() {</p>
<p class="p1"><span class="Apple-converted-space">            </span>const infoInput = document.getElementById('additionalInfoInput');</p>
<p class="p1"><span class="Apple-converted-space">            </span>cancelAnswers.additionalInfo = infoInput ? infoInput.value.trim() : '';</p>
<p class="p1"><span class="Apple-converted-space">            </span>generateCancelText();</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// キャンセル質問回答</p>
<p class="p1"><span class="Apple-converted-space">        </span>function answerCancelQuestion(answer) {</p>
<p class="p1"><span class="Apple-converted-space">            </span>const container = document.getElementById('cancelQuestionContainer');</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>// 最初の回答を保存</p>
<p class="p1"><span class="Apple-converted-space">            </span>if (cancelAnswers.length === 0) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>cancelAnswers.push(answer);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>// 選択に応じた追加質問を表示</p>
<p class="p1"><span class="Apple-converted-space">                </span>if (answer === '連絡が繋がらない') {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>container.innerHTML = `</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="mb-4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;h4 class="text-lg font-medium mb-3"&gt;連絡の状況を選択してください&lt;/h4&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div class="grid grid-cols-1 gap-2"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;button onclick="submitContactStatus('一度も繋がらない')" class="p-3 text-left border rounded-lg hover:bg-blue-50 hover:border-blue-500"&gt;一度も繋がらない&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;button onclick="submitContactStatus('繋がったがアポが取れない')" class="p-3 text-left border rounded-lg hover:bg-blue-50 hover:border-blue-500"&gt;繋がったがアポが取れない&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;button onclick="submitContactStatus('現調前キャンセル')" class="p-3 text-left border rounded-lg hover:bg-blue-50 hover:border-blue-500"&gt;現調前キャンセル&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;button onclick="submitContactStatus('現調後見積もりお渡し前キャンセル')" class="p-3 text-left border rounded-lg hover:bg-blue-50 hover:border-blue-500"&gt;現調後見積もりお渡し前キャンセル&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;button onclick="submitContactStatus('見積もりお渡し後キャンセル')" class="p-3 text-left border rounded-lg hover:bg-blue-50 hover:border-blue-500"&gt;見積もりお渡し後キャンセル&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>`;</p>
<p class="p1"><span class="Apple-converted-space">                </span>} else if (answer === '他社で契約した' || answer === 'すでに他社で検討中') {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>container.innerHTML = `</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="mb-4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;h4 class="text-lg font-medium mb-3"&gt;${answer === '他社で契約した' ? 'どちらで契約されましたか？' : 'どちらで検討されていますか？'}&lt;/h4&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div class="grid grid-cols-1 gap-2"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;button onclick="submitCompetitor('くらべる加盟店')" class="p-3 text-left border rounded-lg hover:bg-blue-50 hover:border-blue-500"&gt;くらべる加盟店&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;button onclick="submitCompetitor('不明')" class="p-3 text-left border rounded-lg hover:bg-blue-50 hover:border-blue-500"&gt;不明&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;button onclick="showCompetitorInput()" class="p-3 text-left border rounded-lg hover:bg-blue-50 hover:border-blue-500"&gt;その他（会社名を入力）&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>`;</p>
<p class="p1"><span class="Apple-converted-space">                </span>} else if (answer === 'その他') {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>container.innerHTML = `</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="mb-4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;h4 class="text-lg font-medium mb-3"&gt;その他の理由を具体的に入力してください&lt;/h4&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;textarea id="otherReasonInput" class="w-full px-3 py-2 border rounded-lg" rows="3" placeholder="キャンセル理由を入力"&gt;&lt;/textarea&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;button onclick="submitOtherReason()" class="mt-3 px-6 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>次へ</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>`;</p>
<p class="p1"><span class="Apple-converted-space">                </span>} else {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>// その他の理由の場合は追加情報入力画面へ</p>
<p class="p1"><span class="Apple-converted-space">                    </span>showAdditionalInfoInput();</p>
<p class="p1"><span class="Apple-converted-space">                </span>}</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// 連絡状況を送信</p>
<p class="p1"><span class="Apple-converted-space">        </span>function submitContactStatus(status) {</p>
<p class="p1"><span class="Apple-converted-space">            </span>cancelAnswers.contactStatus = status;</p>
<p class="p1"><span class="Apple-converted-space">            </span>showAdditionalInfoInput();</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// 競合他社を送信</p>
<p class="p1"><span class="Apple-converted-space">        </span>function submitCompetitor(competitor) {</p>
<p class="p1"><span class="Apple-converted-space">            </span>cancelAnswers.competitor = competitor;</p>
<p class="p1"><span class="Apple-converted-space">            </span>showAdditionalInfoInput();</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// 競合他社名入力欄を表示</p>
<p class="p1"><span class="Apple-converted-space">        </span>function showCompetitorInput() {</p>
<p class="p1"><span class="Apple-converted-space">            </span>const container = document.getElementById('cancelQuestionContainer');</p>
<p class="p1"><span class="Apple-converted-space">            </span>container.innerHTML = `</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;div class="mb-4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;h4 class="text-lg font-medium mb-3"&gt;契約先の会社名を入力してください&lt;/h4&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;input type="text" id="competitorNameInput" class="w-full px-3 py-2 border rounded-lg" placeholder="会社名を入力"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;button onclick="submitCompetitorName()" class="mt-3 px-6 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>次へ</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>`;</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// 競合他社名を送信</p>
<p class="p1"><span class="Apple-converted-space">        </span>function submitCompetitorName() {</p>
<p class="p1"><span class="Apple-converted-space">            </span>const nameInput = document.getElementById('competitorNameInput');</p>
<p class="p1"><span class="Apple-converted-space">            </span>if (nameInput &amp;&amp; nameInput.value.trim()) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>cancelAnswers.competitor = nameInput.value.trim();</p>
<p class="p1"><span class="Apple-converted-space">                </span>showAdditionalInfoInput();</p>
<p class="p1"><span class="Apple-converted-space">            </span>} else {</p>
<p class="p1"><span class="Apple-converted-space">                </span>alert('会社名を入力してください');</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// キャンセル申請文生成</p>
<p class="p1"><span class="Apple-converted-space">        </span>function generateCancelText() {</p>
<p class="p1"><span class="Apple-converted-space">            </span>const aiResponse = document.getElementById('cancelAIResponse');</p>
<p class="p1"><span class="Apple-converted-space">            </span>const aiText = document.getElementById('cancelAIText');</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>// メイン理由の取得</p>
<p class="p1"><span class="Apple-converted-space">            </span>let mainReason = cancelAnswers[0];</p>
<p class="p1"><span class="Apple-converted-space">            </span>let detailText = '';</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>if (cancelAnswers[0] === 'その他' &amp;&amp; cancelAnswers.otherReason) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>mainReason = cancelAnswers.otherReason;</p>
<p class="p1"><span class="Apple-converted-space">            </span>} else if (cancelAnswers[0] === '連絡が繋がらない' &amp;&amp; cancelAnswers.contactStatus) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>detailText = `\n連絡状況: ${cancelAnswers.contactStatus}`;</p>
<p class="p1"><span class="Apple-converted-space">            </span>} else if ((cancelAnswers[0] === '他社で契約した' || cancelAnswers[0] === 'すでに他社で検討中') &amp;&amp; cancelAnswers.competitor) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>const label = cancelAnswers[0] === '他社で契約した' ? '契約先' : '検討先';</p>
<p class="p1"><span class="Apple-converted-space">                </span>detailText = `\n${label}: ${cancelAnswers.competitor}`;</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>// 追加情報があれば含める</p>
<p class="p1"><span class="Apple-converted-space">            </span>let additionalSection = '';</p>
<p class="p1"><span class="Apple-converted-space">            </span>if (cancelAnswers.additionalInfo) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>additionalSection = `\n\n【追加情報】\n${cancelAnswers.additionalInfo}`;</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>// 理由に応じた詳細文を生成</p>
<p class="p1"><span class="Apple-converted-space">            </span>let detailDescription = '';</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>if (cancelAnswers[0] === '連絡が繋がらない') {</p>
<p class="p1"><span class="Apple-converted-space">                </span>if (cancelAnswers.contactStatus === '一度も繋がらない') {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>detailDescription = `お客様にご連絡を試みましたが、残念ながら一度もお電話が繋がらない状況です。`;</p>
<p class="p1"><span class="Apple-converted-space">                </span>} else if (cancelAnswers.contactStatus === '繋がったがアポが取れない') {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>detailDescription = `お客様とお電話は繋がりましたが、現地調査のアポイントメントが取れない状況です。`;</p>
<p class="p1"><span class="Apple-converted-space">                </span>} else if (cancelAnswers.contactStatus === '現調前キャンセル') {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>detailDescription = `現地調査前の段階で、お客様からキャンセルのお申し出がありました。`;</p>
<p class="p1"><span class="Apple-converted-space">                </span>} else if (cancelAnswers.contactStatus === '現調後見積もりお渡し前キャンセル') {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>detailDescription = `現地調査は完了しましたが、お見積もりをお渡しする前にキャンセルとなりました。`;</p>
<p class="p1"><span class="Apple-converted-space">                </span>} else if (cancelAnswers.contactStatus === '見積もりお渡し後キャンセル') {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>detailDescription = `お見積もりをお渡しした後、お客様のご都合によりキャンセルとなりました。`;</p>
<p class="p1"><span class="Apple-converted-space">                </span>}</p>
<p class="p1"><span class="Apple-converted-space">            </span>} else if (cancelAnswers[0] === '価格が合わない') {</p>
<p class="p1"><span class="Apple-converted-space">                </span>detailDescription = `お見積もりをご検討いただきましたが、ご予算との兼ね合いで今回は見送りとなりました。`;</p>
<p class="p1"><span class="Apple-converted-space">            </span>} else if (cancelAnswers[0] === '他社で契約した') {</p>
<p class="p1"><span class="Apple-converted-space">                </span>detailDescription = `お客様は他社での契約を選択されました。`;</p>
<p class="p1"><span class="Apple-converted-space">            </span>} else if (cancelAnswers[0] === 'すでに他社で検討中') {</p>
<p class="p1"><span class="Apple-converted-space">                </span>detailDescription = `お客様は既に他社で検討を進めており、そちらで決定される予定です。`;</p>
<p class="p1"><span class="Apple-converted-space">            </span>} else if (cancelAnswers[0] === '工事の必要がなくなった') {</p>
<p class="p1"><span class="Apple-converted-space">                </span>detailDescription = `お客様のご事情により、工事自体が不要となりました。`;</p>
<p class="p1"><span class="Apple-converted-space">            </span>} else if (cancelAnswers[0] === 'その他' &amp;&amp; cancelAnswers.otherReason) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>detailDescription = `${cancelAnswers.otherReason}`;</p>
<p class="p1"><span class="Apple-converted-space">            </span>} else {</p>
<p class="p1"><span class="Apple-converted-space">                </span>detailDescription = `お客様のご都合により、案件をキャンセルさせていただくことになりました。`;</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>// テキスト生成</p>
<p class="p1"><span class="Apple-converted-space">            </span>const cancelText = `【キャンセル申請】\n\n` +</p>
<p class="p1"><span class="Apple-converted-space">                </span>`案件名: ${selectedCancelCase.name}\n` +</p>
<p class="p1"><span class="Apple-converted-space">                </span>`物件: ${selectedCancelCase.propertyType || '未設定'}\n` +</p>
<p class="p1"><span class="Apple-converted-space">                </span>`エリア: ${selectedCancelCase.location || selectedCancelCase.area || '未設定'}\n\n` +</p>
<p class="p1"><span class="Apple-converted-space">                </span>`【キャンセル理由】\n` +</p>
<p class="p1"><span class="Apple-converted-space">                </span>`${mainReason}${detailText}\n\n` +</p>
<p class="p1"><span class="Apple-converted-space">                </span>`【詳細】\n` +</p>
<p class="p1"><span class="Apple-converted-space">                </span>`${detailDescription}\n\n` +</p>
<p class="p1"><span class="Apple-converted-space">                </span>`今後も良好な関係を維持できるよう、適切なフォローアップを心がけます。` +</p>
<p class="p1"><span class="Apple-converted-space">                </span>additionalSection;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>aiText.textContent = cancelText;</p>
<p class="p1"><span class="Apple-converted-space">            </span>aiResponse.classList.remove('hidden');</p>
<p class="p1"><span class="Apple-converted-space">            </span>document.getElementById('cancelQuestionContainer').innerHTML = '';</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// キャンセル申請文再生成</p>
<p class="p1"><span class="Apple-converted-space">        </span>function regenerateCancelText() {</p>
<p class="p1"><span class="Apple-converted-space">            </span>// 再度質問から開始</p>
<p class="p1"><span class="Apple-converted-space">            </span>cancelAnswers = [];</p>
<p class="p1"><span class="Apple-converted-space">            </span>document.getElementById('cancelAIResponse').classList.add('hidden');</p>
<p class="p1"><span class="Apple-converted-space">            </span>showCancelQuestions();</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// キャンセル申請送信</p>
<p class="p1"><span class="Apple-converted-space">        </span>function submitCancelRequest() {</p>
<p class="p1"><span class="Apple-converted-space">            </span>alert('キャンセル申請が送信されました');</p>
<p class="p1"><span class="Apple-converted-space">            </span>closeCancelModal();</p>
<p class="p1"><span class="Apple-converted-space">            </span>// 実際の処理をここに追加</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// キャンセルモーダルを閉じる</p>
<p class="p1"><span class="Apple-converted-space">        </span>function closeCancelModal() {</p>
<p class="p1"><span class="Apple-converted-space">            </span>document.getElementById('cancelModal').classList.add('hidden');</p>
<p class="p1"><span class="Apple-converted-space">            </span>selectedCancelCase = null;</p>
<p class="p1"><span class="Apple-converted-space">            </span>cancelAnswers = [];</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// ファイルアップロード処理</p>
<p class="p1"><span class="Apple-converted-space">        </span>function handleFileUpload(event, type) {</p>
<p class="p1"><span class="Apple-converted-space">            </span>const file = event.target.files[0];</p>
<p class="p1"><span class="Apple-converted-space">            </span>if (file) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>const reader = new FileReader();</p>
<p class="p1"><span class="Apple-converted-space">                </span>reader.onload = function(e) {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>const previewId = type === 'estimate' ? 'estimatePreview' : 'receiptPreview';</p>
<p class="p1"><span class="Apple-converted-space">                    </span>const preview = document.getElementById(previewId);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                    </span>if (file.type.includes('image')) {</p>
<p class="p1"><span class="Apple-converted-space">                        </span>preview.innerHTML = `&lt;img src="${e.target.result}" class="w-full h-32 object-cover rounded"&gt;`;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>} else {</p>
<p class="p1"><span class="Apple-converted-space">                        </span>preview.innerHTML = `</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div class="flex items-center justify-center"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;svg class="w-12 h-12 text-green-500" fill="none" stroke="currentColor" viewBox="0 0 24 24"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"&gt;&lt;/path&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/svg&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;span class="ml-2 text-sm"&gt;${file.name}&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>`;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>}</p>
<p class="p1"><span class="Apple-converted-space">                </span>};</p>
<p class="p1"><span class="Apple-converted-space">                </span>reader.readAsDataURL(file);</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// 成約報告フォームリセット</p>
<p class="p1"><span class="Apple-converted-space">        </span>function resetContractForm() {</p>
<p class="p1"><span class="Apple-converted-space">            </span>const form = document.getElementById('contractReportForm');</p>
<p class="p1"><span class="Apple-converted-space">            </span>if (form) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>form.reset();</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p1"><span class="Apple-converted-space">            </span>document.getElementById('workDetails').classList.add('hidden');</p>
<p class="p1"><span class="Apple-converted-space">            </span>document.getElementById('otherPropertyDetails').classList.add('hidden');</p>
<p class="p1"><span class="Apple-converted-space">            </span>document.getElementById('estimatePreview').innerHTML = `</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;svg class="w-12 h-12 text-gray-400 mx-auto" fill="none" stroke="currentColor" viewBox="0 0 24 24"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 13h6m-3-3v6m5 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" /&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/svg&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>`;</p>
<p class="p1"><span class="Apple-converted-space">            </span>document.getElementById('receiptPreview').innerHTML = `</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;svg class="w-12 h-12 text-gray-400 mx-auto" fill="none" stroke="currentColor" viewBox="0 0 24 24"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 13h6m-3-3v6m5 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" /&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/svg&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>`;</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// 成約報告フォーム送信</p>
<p class="p1"><span class="Apple-converted-space">        </span>document.addEventListener('DOMContentLoaded', function() {</p>
<p class="p1"><span class="Apple-converted-space">            </span>const contractForm = document.getElementById('contractReportForm');</p>
<p class="p1"><span class="Apple-converted-space">            </span>if (contractForm) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>contractForm.addEventListener('submit', function(e) {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>e.preventDefault();</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                    </span>// 選択された施工内容を取得</p>
<p class="p1"><span class="Apple-converted-space">                    </span>const selectedWorkTypes = [];</p>
<p class="p1"><span class="Apple-converted-space">                    </span>document.querySelectorAll('input[name="workType"]:checked').forEach(checkbox =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                        </span>selectedWorkTypes.push(checkbox.value);</p>
<p class="p1"><span class="Apple-converted-space">                    </span>});</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                    </span>// 選択された物件タイプを取得</p>
<p class="p1"><span class="Apple-converted-space">                    </span>const selectedPropertyTypes = [];</p>
<p class="p1"><span class="Apple-converted-space">                    </span>document.querySelectorAll('input[name="propertyType"]:checked').forEach(checkbox =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                        </span>selectedPropertyTypes.push(checkbox.value);</p>
<p class="p1"><span class="Apple-converted-space">                    </span>});</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                    </span>// フォームデータを収集</p>
<p class="p1"><span class="Apple-converted-space">                    </span>const formData = {</p>
<p class="p1"><span class="Apple-converted-space">                        </span>reportType: contractAnswers[0],</p>
<p class="p1"><span class="Apple-converted-space">                        </span>status: contractAnswers[1],</p>
<p class="p1"><span class="Apple-converted-space">                        </span>caseName: selectedContractCase ? selectedContractCase.name : '',</p>
<p class="p1"><span class="Apple-converted-space">                        </span>caseAddress: selectedContractCase ? (selectedContractCase.address || selectedContractCase.location || selectedContractCase.area) : '',</p>
<p class="p1"><span class="Apple-converted-space">                        </span>amount: document.getElementById('contractAmount').value,</p>
<p class="p1"><span class="Apple-converted-space">                        </span>paymentDate: document.getElementById('paymentDate').value,</p>
<p class="p1"><span class="Apple-converted-space">                        </span>completionDate: document.getElementById('completionDate').value,</p>
<p class="p1"><span class="Apple-converted-space">                        </span>buildingFloors: document.getElementById('buildingFloors').value,</p>
<p class="p1"><span class="Apple-converted-space">                        </span>propertyTypes: selectedPropertyTypes,</p>
<p class="p1"><span class="Apple-converted-space">                        </span>otherPropertyDetails: document.getElementById('otherPropertyDetails').value,</p>
<p class="p1"><span class="Apple-converted-space">                        </span>workTypes: selectedWorkTypes,</p>
<p class="p1"><span class="Apple-converted-space">                        </span>workDetails: document.getElementById('workDetails').value,</p>
<p class="p1"><span class="Apple-converted-space">                        </span>notes: document.getElementById('contractNotes').value</p>
<p class="p1"><span class="Apple-converted-space">                    </span>};</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                    </span>console.log('成約報告データ:', formData);</p>
<p class="p1"><span class="Apple-converted-space">                    </span>alert(`${contractAnswers[0]}が送信されました`);</p>
<p class="p1"><span class="Apple-converted-space">                    </span>closeContractModal();</p>
<p class="p1"><span class="Apple-converted-space">                </span>});</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>// 一時停止の日付変更時に即時保存</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>// セクション表示時に案件を読み込む</p>
<p class="p1"><span class="Apple-converted-space">            </span>const originalShowSection = window.showSection;</p>
<p class="p1"><span class="Apple-converted-space">            </span>window.showSection = function(sectionName) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>if (typeof originalShowSection === 'function') {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>originalShowSection(sectionName);</p>
<p class="p1"><span class="Apple-converted-space">                </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>if (sectionName === 'cancel') {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>displayCancelCases();</p>
<p class="p1"><span class="Apple-converted-space">                </span>} else if (sectionName === 'contract') {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>displayContractCases();</p>
<p class="p1"><span class="Apple-converted-space">                </span>}</p>
<p class="p1"><span class="Apple-converted-space">            </span>};</p>
<p class="p1"><span class="Apple-converted-space">        </span>});</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;/script&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;style&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>@keyframes slide-in {</p>
<p class="p1"><span class="Apple-converted-space">            </span>from { transform: translateX(100%); opacity: 0; }</p>
<p class="p1"><span class="Apple-converted-space">            </span>to { transform: translateX(0); opacity: 1; }</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>@keyframes slide-out {</p>
<p class="p1"><span class="Apple-converted-space">            </span>from { transform: translateX(0); opacity: 1; }</p>
<p class="p1"><span class="Apple-converted-space">            </span>to { transform: translateX(100%); opacity: 0; }</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>.animate-slide-in { animation: slide-in 0.3s ease-out; }</p>
<p class="p1"><span class="Apple-converted-space">        </span>.animate-slide-out { animation: slide-out 0.3s ease-out; }</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;/style&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;!-- 大型物件の紹介料についてのモーダル --&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;div id="largePropertyModal" class="fixed inset-0 z-50 hidden"&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;!-- オーバーレイ --&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;div class="absolute inset-0 bg-black bg-opacity-50"&gt;&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;!-- モーダル本体 --&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;div class="flex items-center justify-center h-full p-4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;div class="bg-white rounded-xl shadow-2xl max-w-2xl w-full relative"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;!-- 閉じるボタン --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;button onclick="closeLargePropertyModal()" class="absolute top-4 right-4 text-gray-400 hover:text-gray-600 z-10"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"&gt;&lt;/path&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/svg&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/button&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;!-- ヘッダー --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;div class="bg-white border-b px-8 py-6 rounded-t-xl"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;h3 class="text-xl font-bold text-gray-800 flex items-center"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>🔊 大型物件の紹介料について</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/h3&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;!-- コンテンツ --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;div class="px-8 py-6 space-y-4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;!-- 3階以上を選択した場合 --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="bg-blue-50 border-l-4 border-blue-400 p-4 rounded"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="flex items-start"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;span class="text-yellow-500 mr-2"&gt;⚠️&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;h4 class="font-bold text-gray-800 mb-2"&gt;3階以上を選択した場合&lt;/h4&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;p class="text-gray-700"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>基本紹介料が &lt;span class="line-through text-gray-500"&gt;¥20,000&lt;/span&gt; から &lt;span class="font-bold text-green-600 text-lg"&gt;¥30,000&lt;/span&gt; になります</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;!-- 3階以上を選択していると --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="bg-yellow-50 border-l-4 border-yellow-400 p-4 rounded"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="flex items-start"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;span class="text-yellow-500 mr-2"&gt;⚠️&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;h4 class="font-bold text-gray-800 mb-2"&gt;3階以上を選択していると&lt;/h4&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;p class="text-gray-700"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>2階以下でも大型と判断されれば自動で紹介料が&lt;span class="font-bold text-red-600"&gt;¥30,000&lt;/span&gt;になります</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;p class="text-sm text-gray-600 mt-2"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>（3階以上でも見積もり希望箇所が小さい場合、自動的に減額されて自動配信される事がありますが、最終的な金額設定は株式会社外壁塗装くらべる運営本部の判断によるものとし、加盟店はこれに同意するものとします）</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;!-- 2階以下を選択していれば --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="bg-green-50 border-l-4 border-green-400 p-4 rounded"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="flex items-start"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;span class="text-yellow-500 mr-2"&gt;⚠️&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;h4 class="font-bold text-gray-800 mb-2"&gt;2階以下を選択していれば&lt;/h4&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;p class="text-gray-700"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>通常の戸建で料金適用となり、&lt;span class="font-bold text-green-600"&gt;¥30,000で自動配信されることはありません&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;!-- フッター --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;div class="px-8 pb-6"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;button onclick="closeLargePropertyModal()" class="w-full bg-blue-500 text-white py-3 px-6 rounded-lg hover:bg-blue-600 transition-colors font-semibold text-base"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>理解しました</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;!-- 単品項目選択時のモーダル --&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;div id="singleItemModal" class="fixed inset-0 z-50 hidden"&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;!-- オーバーレイ --&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;div class="absolute inset-0 bg-black bg-opacity-50"&gt;&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;!-- モーダル本体 --&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;div class="flex items-center justify-center h-full p-4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;div class="bg-white rounded-xl shadow-2xl max-w-lg w-full relative"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;!-- 閉じるボタン --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;button onclick="closeSingleItemModal()" class="absolute top-4 right-4 text-gray-400 hover:text-gray-600 z-10"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"&gt;&lt;/path&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/svg&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/button&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;!-- ヘッダー --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;div class="bg-white border-b px-8 py-6 rounded-t-xl"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;h3 class="text-xl font-bold text-gray-800"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>💰 1社紹介時の料金について</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/h3&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;!-- コンテンツ --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;div class="px-8 py-6"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="bg-blue-50 border-l-4 border-blue-400 p-4 rounded"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;p class="text-gray-700 text-base"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>単品項目は相見積もり時の料金です。</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;p class="text-gray-700 text-base mt-2"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>1社紹介時はすべて&lt;span class="font-bold text-black text-lg"&gt;¥20,000&lt;/span&gt;となります。</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;!-- フッター --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;div class="px-8 pb-6"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;button onclick="closeSingleItemModal()" class="w-full bg-blue-500 text-white py-3 px-6 rounded-lg hover:bg-blue-600 transition-colors font-semibold text-base"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>確認しました</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;script&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>// 初回ログイン時の初期設定</p>
<p class="p1"><span class="Apple-converted-space">        </span>function initializeFirstLoginSettings() {</p>
<p class="p1"><span class="Apple-converted-space">            </span>console.log('[initializeFirstLoginSettings] 開始');</p>
<p class="p1"><span class="Apple-converted-space">            </span>console.log('[initializeFirstLoginSettings] window.merchantData:', window.merchantData ? 'exists' : 'null');</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>// 初回ログインかどうかをチェック（localStorageに保存）</p>
<p class="p1"><span class="Apple-converted-space">            </span>const isInitialized = localStorage.getItem('autodeliveryInitialized');</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>if (!isInitialized) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>console.log('[初回ログイン] 自動配信設定を初期化します');</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>// ステータスを一時停止中に設定（既にHTMLでデフォルト設定済み）</p>
<p class="p1"><span class="Apple-converted-space">                </span>const statusSelect = document.getElementById('merchantStatus');</p>
<p class="p1"><span class="Apple-converted-space">                </span>if (statusSelect) {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>statusSelect.value = 'paused';</p>
<p class="p1"><span class="Apple-converted-space">                    </span>updateMerchantStatus();</p>
<p class="p1"><span class="Apple-converted-space">                </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>// 初期化完了フラグを保存</p>
<p class="p1"><span class="Apple-converted-space">                </span>localStorage.setItem('autodeliveryInitialized', 'true');</p>
<p class="p1"><span class="Apple-converted-space">                </span>console.log('[初回ログイン] 初期化完了');</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>// 毎回実行: 一時停止開始日を今日に設定（デフォルト表示）</p>
<p class="p1"><span class="Apple-converted-space">            </span>const today = new Date().toISOString().split('T')[0];</p>
<p class="p1"><span class="Apple-converted-space">            </span>const startDateInput = document.getElementById('pauseStartDate');</p>
<p class="p1"><span class="Apple-converted-space">            </span>if (startDateInput &amp;&amp; !startDateInput.value) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>startDateInput.value = today;</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>// 毎回実行: 自動配信設定をスプレッドシートから読み込み</p>
<p class="p1"><span class="Apple-converted-space">            </span>if (window.merchantData) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>console.log('[initializeFirstLoginSettings] window.merchantDataが存在します。loadAutodeliverySettingsを呼び出します。');</p>
<p class="p1"><span class="Apple-converted-space">                </span>loadAutodeliverySettings(window.merchantData);</p>
<p class="p1"><span class="Apple-converted-space">            </span>} else {</p>
<p class="p1"><span class="Apple-converted-space">                </span>console.warn('[initializeFirstLoginSettings] window.merchantDataが存在しません！');</p>
<p class="p1"><span class="Apple-converted-space">                </span>// merchantDataがない場合は空データで初期化</p>
<p class="p1"><span class="Apple-converted-space">                </span>loadAutodeliverySettings({});</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// 自動配信設定用にデータを取得</p>
<p class="p1"><span class="Apple-converted-space">        </span>async function fetchMerchantDataForAutodelivery(merchantId) {</p>
<p class="p1"><span class="Apple-converted-space">            </span>console.log('[fetchMerchantDataForAutodelivery] Fetching data for:', merchantId);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>try {</p>
<p class="p1"><span class="Apple-converted-space">                </span>// JSONP でデータ取得</p>
<p class="p1"><span class="Apple-converted-space">                </span>const result = await new Promise((resolve, reject) =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>const callbackName = 'jsonp_autodelivery_' + Date.now() + '_' + Math.random().toString(36).substr(2, 9);</p>
<p class="p1"><span class="Apple-converted-space">                    </span>const script = document.createElement('script');</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                    </span>window[callbackName] = (data) =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                        </span>delete window[callbackName];</p>
<p class="p1"><span class="Apple-converted-space">                        </span>if (script.parentNode) {</p>
<p class="p1"><span class="Apple-converted-space">                            </span>script.parentNode.removeChild(script);</p>
<p class="p1"><span class="Apple-converted-space">                        </span>}</p>
<p class="p1"><span class="Apple-converted-space">                        </span>resolve(data);</p>
<p class="p1"><span class="Apple-converted-space">                    </span>};</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                    </span>script.src = `${GAS_URL}?action=getMerchantData&amp;merchantId=${encodeURIComponent(merchantId)}&amp;callback=${callbackName}`;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>script.onerror = () =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                        </span>delete window[callbackName];</p>
<p class="p1"><span class="Apple-converted-space">                        </span>if (script.parentNode) {</p>
<p class="p1"><span class="Apple-converted-space">                            </span>script.parentNode.removeChild(script);</p>
<p class="p1"><span class="Apple-converted-space">                        </span>}</p>
<p class="p1"><span class="Apple-converted-space">                        </span>reject(new Error('JSONP request failed'));</p>
<p class="p1"><span class="Apple-converted-space">                    </span>};</p>
<p class="p1"><span class="Apple-converted-space">                    </span>document.body.appendChild(script);</p>
<p class="p1"><span class="Apple-converted-space">                </span>});</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>if (result.success &amp;&amp; result.data) {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>window.merchantData = result.data;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>window.merchantId = merchantId;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>console.log('[fetchMerchantDataForAutodelivery] Data loaded successfully');</p>
<p class="p1"><span class="Apple-converted-space">                    </span>console.log('[fetchMerchantDataForAutodelivery] Data:', result.data);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                    </span>// 自動配信設定を読み込む</p>
<p class="p1"><span class="Apple-converted-space">                    </span>loadAutodeliverySettings(result.data);</p>
<p class="p1"><span class="Apple-converted-space">                </span>} else {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>console.error('[fetchMerchantDataForAutodelivery] Failed to load data:', result.error);</p>
<p class="p1"><span class="Apple-converted-space">                    </span>// エラー時もデフォルト設定で初期化</p>
<p class="p1"><span class="Apple-converted-space">                    </span>loadAutodeliverySettings({});</p>
<p class="p1"><span class="Apple-converted-space">                </span>}</p>
<p class="p1"><span class="Apple-converted-space">            </span>} catch (error) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>console.error('[fetchMerchantDataForAutodelivery] Error:', error);</p>
<p class="p1"><span class="Apple-converted-space">                </span>// エラー時もデフォルト設定で初期化</p>
<p class="p1"><span class="Apple-converted-space">                </span>loadAutodeliverySettings({});</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// スプレッドシートから自動配信設定を読み込む</p>
<p class="p1"><span class="Apple-converted-space">        </span>function loadAutodeliverySettings(data) {</p>
<p class="p1"><span class="Apple-converted-space">            </span>console.log('[loadAutodeliverySettings] Loading settings:', data);</p>
<p class="p1"><span class="Apple-converted-space">            </span>console.log('[loadAutodeliverySettings] 最大対応階数 key check:', data['最大対応階数']);</p>
<p class="p1"><span class="Apple-converted-space">            </span>console.log('[loadAutodeliverySettings] All keys:', Object.keys(data));</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>// 対応物件種別（複数の列名に対応）</p>
<p class="p1"><span class="Apple-converted-space">            </span>// まず全ての物件種別チェックボックスをリセット</p>
<p class="p1"><span class="Apple-converted-space">            </span>const autodeliverySection = document.getElementById('autodeliverySection');</p>
<p class="p1"><span class="Apple-converted-space">            </span>if (autodeliverySection) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>autodeliverySection.querySelectorAll('input[name="propertyType"]').forEach(cb =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>cb.checked = false;</p>
<p class="p1"><span class="Apple-converted-space">                </span>});</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>// AB列のデータを取得（複数の列名パターンに対応）</p>
<p class="p1"><span class="Apple-converted-space">            </span>const propertyTypesData = data['対応可能物件種別'] || data['対応物件種別'] || '';</p>
<p class="p1"><span class="Apple-converted-space">            </span>console.log('[loadAutodeliverySettings] 対応可能物件種別 data:', propertyTypesData);</p>
<p class="p1"><span class="Apple-converted-space">            </span>console.log('[loadAutodeliverySettings] data["対応可能物件種別"]:', data['対応可能物件種別']);</p>
<p class="p1"><span class="Apple-converted-space">            </span>console.log('[loadAutodeliverySettings] data["対応物件種別"]:', data['対応物件種別']);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>if (propertyTypesData) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>const propertyTypes = propertyTypesData.split(',').map(s =&gt; s.trim());</p>
<p class="p1"><span class="Apple-converted-space">                </span>console.log('[loadAutodeliverySettings] Property types array:', propertyTypes);</p>
<p class="p1"><span class="Apple-converted-space">                </span>console.log('[loadAutodeliverySettings] Property types length:', propertyTypes.length);</p>
<p class="p1"><span class="Apple-converted-space">                </span>console.log('[loadAutodeliverySettings] Property types JSON:', JSON.stringify(propertyTypes));</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>const propertyMap = {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>'戸建て住宅': 'house',</p>
<p class="p1"><span class="Apple-converted-space">                    </span>'アパート・マンション': 'apartment',</p>
<p class="p1"><span class="Apple-converted-space">                    </span>'店舗・事務所': 'commercial',</p>
<p class="p1"><span class="Apple-converted-space">                    </span>'店舗': 'commercial',<span class="Apple-converted-space">  </span>// スプレッドシートに保存されている短縮形</p>
<p class="p1"><span class="Apple-converted-space">                    </span>'工場・倉庫': 'factory',</p>
<p class="p1"><span class="Apple-converted-space">                    </span>'工場': 'factory'<span class="Apple-converted-space">  </span>// 短縮形もサポート</p>
<p class="p1"><span class="Apple-converted-space">                </span>};</p>
<p class="p1"><span class="Apple-converted-space">                </span>propertyTypes.forEach(type =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>const value = propertyMap[type];</p>
<p class="p1"><span class="Apple-converted-space">                    </span>if (value) {</p>
<p class="p1"><span class="Apple-converted-space">                        </span>const checkbox = autodeliverySection ?</p>
<p class="p1"><span class="Apple-converted-space">                            </span>autodeliverySection.querySelector(`input[name="propertyType"][value="${value}"]`) :</p>
<p class="p1"><span class="Apple-converted-space">                            </span>document.querySelector(`input[name="propertyType"][value="${value}"]`);</p>
<p class="p1"><span class="Apple-converted-space">                        </span>if (checkbox) {</p>
<p class="p1"><span class="Apple-converted-space">                            </span>checkbox.checked = true;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>console.log('[loadAutodeliverySettings] Checked property type:', type, '→', value);</p>
<p class="p1"><span class="Apple-converted-space">                        </span>} else {</p>
<p class="p1"><span class="Apple-converted-space">                            </span>console.warn('[loadAutodeliverySettings] Checkbox not found for:', type, '→', value);</p>
<p class="p1"><span class="Apple-converted-space">                        </span>}</p>
<p class="p1"><span class="Apple-converted-space">                    </span>} else {</p>
<p class="p1"><span class="Apple-converted-space">                        </span>console.warn('[loadAutodeliverySettings] No mapping for:', type);</p>
<p class="p1"><span class="Apple-converted-space">                    </span>}</p>
<p class="p1"><span class="Apple-converted-space">                </span>});</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>// 最大対応階数（例: "戸建て住宅(3階まで),アパート・マンション(3階まで)"）</p>
<p class="p1"><span class="Apple-converted-space">            </span>if (data['最大対応階数']) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>let maxFloorsData = data['最大対応階数'];</p>
<p class="p1"><span class="Apple-converted-space">                </span>console.log('[loadAutodeliverySettings] Raw max floors data:', maxFloorsData);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>// compressed形式の場合はfullの値を抽出</p>
<p class="p1"><span class="Apple-converted-space">                </span>if (maxFloorsData.includes('{"type":"compressed","full":"')) {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>const match = maxFloorsData.match(/"full":"([^"]+)"/);</p>
<p class="p1"><span class="Apple-converted-space">                    </span>if (match) {</p>
<p class="p1"><span class="Apple-converted-space">                        </span>maxFloorsData = match[1];</p>
<p class="p1"><span class="Apple-converted-space">                        </span>console.log('[loadAutodeliverySettings] Extracted max floors:', maxFloorsData);</p>
<p class="p1"><span class="Apple-converted-space">                    </span>}</p>
<p class="p1"><span class="Apple-converted-space">                </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>console.log('[loadAutodeliverySettings] Final max floors data:', maxFloorsData);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>const propertyTypeMap = {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>'戸建て住宅': 'house',</p>
<p class="p1"><span class="Apple-converted-space">                    </span>'アパート・マンション': 'apartment',</p>
<p class="p1"><span class="Apple-converted-space">                    </span>'店舗・事務所': 'commercial',</p>
<p class="p1"><span class="Apple-converted-space">                    </span>'工場・倉庫': 'factory'</p>
<p class="p1"><span class="Apple-converted-space">                </span>};</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>// "戸建て住宅(3階まで),アパート・マンション(10階以上まで)" をパース</p>
<p class="p1"><span class="Apple-converted-space">                </span>maxFloorsData.split(',').forEach(entry =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>const match = entry.trim().match(/^(.+?)\((.+?)まで\)$/);</p>
<p class="p1"><span class="Apple-converted-space">                    </span>if (match) {</p>
<p class="p1"><span class="Apple-converted-space">                        </span>const propertyType = match[1];</p>
<p class="p1"><span class="Apple-converted-space">                        </span>const floorText = match[2]; // "3階" or "10階以上" or "4階以上"</p>
<p class="p1"><span class="Apple-converted-space">                        </span>const checkboxValue = propertyTypeMap[propertyType];</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                        </span>if (checkboxValue) {</p>
<p class="p1"><span class="Apple-converted-space">                            </span>// チェックボックスを見つけて、その隣のselectを取得</p>
<p class="p1"><span class="Apple-converted-space">                            </span>const checkbox = document.querySelector(`input[name="propertyType"][value="${checkboxValue}"]`);</p>
<p class="p1"><span class="Apple-converted-space">                            </span>if (checkbox) {</p>
<p class="p1"><span class="Apple-converted-space">                                </span>const label = checkbox.closest('label');</p>
<p class="p1"><span class="Apple-converted-space">                                </span>const select = label.querySelector('select');</p>
<p class="p1"><span class="Apple-converted-space">                                </span>if (select) {</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>// optionのテキストで一致するものを探す</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>let matched = false;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>for (let i = 0; i &lt; select.options.length; i++) {</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>if (select.options[i].text === floorText) {</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>select.selectedIndex = i;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>matched = true;</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>console.log('[loadAutodeliverySettings] Set max floors:', propertyType, '=', floorText, '(option text match)');</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>break;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>}</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>}</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>if (!matched) {</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>console.warn('[loadAutodeliverySettings] No matching option for:', propertyType, floorText);</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>}</p>
<p class="p1"><span class="Apple-converted-space">                                </span>}</p>
<p class="p1"><span class="Apple-converted-space">                            </span>}</p>
<p class="p1"><span class="Apple-converted-space">                        </span>}</p>
<p class="p1"><span class="Apple-converted-space">                    </span>}</p>
<p class="p1"><span class="Apple-converted-space">                </span>});</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>// 築年数対応範囲（例: "{min=0, max=50}"）</p>
<p class="p1"><span class="Apple-converted-space">            </span>if (data['築年数対応範囲']) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>try {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>const ageRange = data['築年数対応範囲'];</p>
<p class="p1"><span class="Apple-converted-space">                    </span>// JSON風の文字列をパース</p>
<p class="p1"><span class="Apple-converted-space">                    </span>const minMatch = ageRange.match(/min=(\d+)/);</p>
<p class="p1"><span class="Apple-converted-space">                    </span>const maxMatch = ageRange.match(/max=(\d+)/);</p>
<p class="p1"><span class="Apple-converted-space">                    </span>if (minMatch &amp;&amp; maxMatch) {</p>
<p class="p1"><span class="Apple-converted-space">                        </span>const min = parseInt(minMatch[1]);</p>
<p class="p1"><span class="Apple-converted-space">                        </span>const max = parseInt(maxMatch[1]);</p>
<p class="p1"><span class="Apple-converted-space">                        </span>document.getElementById('ageRangeMinAuto').textContent = min;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>document.getElementById('ageRangeMaxAuto').textContent = max;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                        </span>// スライダーの値も設定（min/max属性で確実に識別）</p>
<p class="p1"><span class="Apple-converted-space">                        </span>const minSlider = document.querySelector('#autodeliverySection input[type="range"][min="0"][max="50"]');</p>
<p class="p1"><span class="Apple-converted-space">                        </span>const maxSlider = document.querySelector('#autodeliverySection input[type="range"][min="0"][max="100"]');</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                        </span>console.log('[loadAutodeliverySettings] Found minSlider:', !!minSlider, 'maxSlider:', !!maxSlider);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                        </span>if (minSlider &amp;&amp; maxSlider) {</p>
<p class="p1"><span class="Apple-converted-space">                            </span>minSlider.value = min;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>maxSlider.value = max;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                            </span>console.log('[loadAutodeliverySettings] Set slider values - min:', min, 'max:', max);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                            </span>// DOMが完全に更新されてからイベントを発火</p>
<p class="p1"><span class="Apple-converted-space">                            </span>setTimeout(() =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                                </span>minSlider.dispatchEvent(new Event('input', { bubbles: true }));</p>
<p class="p1"><span class="Apple-converted-space">                                </span>maxSlider.dispatchEvent(new Event('input', { bubbles: true }));</p>
<p class="p1"><span class="Apple-converted-space">                                </span>minSlider.dispatchEvent(new Event('change', { bubbles: true }));</p>
<p class="p1"><span class="Apple-converted-space">                                </span>maxSlider.dispatchEvent(new Event('change', { bubbles: true }));</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                                </span>// 強制的にupdateAgeRangeAuto()を呼び出し</p>
<p class="p1"><span class="Apple-converted-space">                                </span>if (typeof updateAgeRangeAuto === 'function') {</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>updateAgeRangeAuto();</p>
<p class="p1"><span class="Apple-converted-space">                                </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                                </span>console.log('[loadAutodeliverySettings] Triggered events and updateAgeRangeAuto');</p>
<p class="p1"><span class="Apple-converted-space">                            </span>}, 100);</p>
<p class="p1"><span class="Apple-converted-space">                        </span>} else {</p>
<p class="p1"><span class="Apple-converted-space">                            </span>console.error('[loadAutodeliverySettings] Sliders not found!');</p>
<p class="p1"><span class="Apple-converted-space">                        </span>}</p>
<p class="p1"><span class="Apple-converted-space">                    </span>}</p>
<p class="p1"><span class="Apple-converted-space">                </span>} catch (e) {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>console.error('築年数パースエラー:', e);</p>
<p class="p1"><span class="Apple-converted-space">                </span>}</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>// 施工箇所（スプレッドシートの値 → HTML value のマッピング）</p>
<p class="p1"><span class="Apple-converted-space">            </span>if (data['施工箇所']) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>let locationsStr = data['施工箇所'];</p>
<p class="p1"><span class="Apple-converted-space">                </span>console.log('[loadAutodeliverySettings] Raw construction types data:', locationsStr);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>// compressed形式の場合はfullの値を抽出</p>
<p class="p1"><span class="Apple-converted-space">                </span>if (locationsStr.includes('{"type":"compressed","full":"')) {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>const match = locationsStr.match(/"full":"([^"]+)"/);</p>
<p class="p1"><span class="Apple-converted-space">                    </span>if (match) {</p>
<p class="p1"><span class="Apple-converted-space">                        </span>locationsStr = match[1];</p>
<p class="p1"><span class="Apple-converted-space">                        </span>console.log('[loadAutodeliverySettings] Extracted full data:', locationsStr);</p>
<p class="p1"><span class="Apple-converted-space">                    </span>}</p>
<p class="p1"><span class="Apple-converted-space">                </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>const locations = locationsStr.split(',').map(s =&gt; s.trim()).filter(l =&gt; l);</p>
<p class="p1"><span class="Apple-converted-space">                </span>console.log('[loadAutodeliverySettings] Parsed locations:', locations);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>// スプシの施工箇所データ → HTMLチェックボックスvalueへのマッピング</p>
<p class="p1"><span class="Apple-converted-space">                </span>// 新システム: スプシには完全な形式で保存されるため、基本的に完全一致</p>
<p class="p1"><span class="Apple-converted-space">                </span>// 旧データとの互換性のため、略称マッピングも保持</p>
<p class="p1"><span class="Apple-converted-space">                </span>const locationMap = {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>// 完全一致（新フォーマット）- スプシの値 = HTMLの値</p>
<p class="p1"><span class="Apple-converted-space">                    </span>'外壁塗装': '外壁塗装',</p>
<p class="p1"><span class="Apple-converted-space">                    </span>'外壁カバー工法': '外壁カバー工法',</p>
<p class="p1"><span class="Apple-converted-space">                    </span>'外壁張替え': '外壁張替え',</p>
<p class="p1"><span class="Apple-converted-space">                    </span>'屋根塗装（外壁工事含む）': '屋根塗装（外壁工事含む）',</p>
<p class="p1"><span class="Apple-converted-space">                    </span>'屋上防水（外壁工事含む）': '屋上防水（外壁工事含む）',</p>
<p class="p1"><span class="Apple-converted-space">                    </span>'屋根葺き替え・張り替え※スレート・ガルバリウム等': '屋根葺き替え・張り替え※スレート・ガルバリウム等',</p>
<p class="p1"><span class="Apple-converted-space">                    </span>'屋根葺き替え・張り替え※瓦': '屋根葺き替え・張り替え※瓦',</p>
<p class="p1"><span class="Apple-converted-space">                    </span>'屋根カバー工法': '屋根カバー工法',</p>
<p class="p1"><span class="Apple-converted-space">                    </span>'外壁補修（外壁工事含む）': '外壁補修（外壁工事含む）',</p>
<p class="p1"><span class="Apple-converted-space">                    </span>'屋根補修（外壁工事含む）': '屋根補修（外壁工事含む）',</p>
<p class="p1"><span class="Apple-converted-space">                    </span>'ベランダ防水（外壁工事含む）': 'ベランダ防水（外壁工事含む）',</p>
<p class="p1"><span class="Apple-converted-space">                    </span>'内装水回り（バス・キッチン・トイレ）（外壁工事含む）': '内装水回り（バス・キッチン・トイレ）（外壁工事含む）',</p>
<p class="p1"><span class="Apple-converted-space">                    </span>'内装（フローリングや畳などの床・クロス等）（外壁工事含む）': '内装（フローリングや畳などの床・クロス等）（外壁工事含む）',</p>
<p class="p1"><span class="Apple-converted-space">                    </span>'外壁雨漏り修繕（外壁工事含む）': '外壁雨漏り修繕（外壁工事含む）',</p>
<p class="p1"><span class="Apple-converted-space">                    </span>'屋根雨漏り修繕（屋根工事含む）': '屋根雨漏り修繕（屋根工事含む）',</p>
<p class="p1"><span class="Apple-converted-space">                    </span>'屋根塗装単品': '屋根塗装単品（但し1社紹介時は定価）',</p>
<p class="p1"><span class="Apple-converted-space">                    </span>'屋上防水単品': '屋上防水単品（但し1社紹介時は定価）',</p>
<p class="p1"><span class="Apple-converted-space">                    </span>'外壁補修単品': '外壁補修単品（但し1社紹介時は定価）',</p>
<p class="p1"><span class="Apple-converted-space">                    </span>'屋根補修単品': '屋根補修単品（但し1社紹介時は定価）',</p>
<p class="p1"><span class="Apple-converted-space">                    </span>'ベランダ防水単品': 'ベランダ防水単品（但し1社紹介時は定価）',</p>
<p class="p1"><span class="Apple-converted-space">                    </span>'外壁雨漏り修繕単品': '外壁雨漏り修繕単品（但し1社紹介時は定価）',</p>
<p class="p1"><span class="Apple-converted-space">                    </span>'屋根雨漏り修繕単品': '屋根雨漏り修繕単品（但し1社紹介時は定価）',</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                    </span>// 旧データとの互換性（略称 → 完全名称）</p>
<p class="p1"><span class="Apple-converted-space">                    </span>'屋根塗装': '屋根塗装（外壁工事含む）',</p>
<p class="p1"><span class="Apple-converted-space">                    </span>'屋上防水': '屋上防水（外壁工事含む）',</p>
<p class="p1"><span class="Apple-converted-space">                    </span>'外壁補修': '外壁補修（外壁工事含む）',</p>
<p class="p1"><span class="Apple-converted-space">                    </span>'屋根補修': '屋根補修（外壁工事含む）',</p>
<p class="p1"><span class="Apple-converted-space">                    </span>'ベランダ防水': 'ベランダ防水（外壁工事含む）',</p>
<p class="p1"><span class="Apple-converted-space">                    </span>'内装水回り': '内装水回り（バス・キッチン・トイレ）（外壁工事含む）',</p>
<p class="p1"><span class="Apple-converted-space">                    </span>'内装': '内装（フローリングや畳などの床・クロス等）（外壁工事含む）',</p>
<p class="p1"><span class="Apple-converted-space">                    </span>'屋根雨漏り修繕': '屋根雨漏り修繕（屋根工事含む）',</p>
<p class="p1"><span class="Apple-converted-space">                    </span>'外壁雨漏り修繕': '外壁雨漏り修繕（外壁工事含む）',</p>
<p class="p1"><span class="Apple-converted-space">                    </span>'屋根張り替え・カバー': '屋根カバー工法',</p>
<p class="p1"><span class="Apple-converted-space">                    </span>'屋根葺き替え・張り替': '屋根葺き替え・張り替え※スレート・ガルバリウム等',</p>
<p class="p1"><span class="Apple-converted-space">                    </span>'屋根葺き替え・張り替え': '屋根葺き替え・張り替え※スレート・ガルバリウム等'</p>
<p class="p1"><span class="Apple-converted-space">                </span>};</p>
<p class="p1"><span class="Apple-converted-space">                </span>locations.forEach(loc =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>const mappedValue = locationMap[loc] || loc;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>const checkbox = document.querySelector(`input[name="constructionTypes"][value="${mappedValue}"]`);</p>
<p class="p1"><span class="Apple-converted-space">                    </span>if (checkbox) {</p>
<p class="p1"><span class="Apple-converted-space">                        </span>checkbox.checked = true;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>console.log('[loadAutodeliverySettings] Checked:', mappedValue);</p>
<p class="p1"><span class="Apple-converted-space">                    </span>} else {</p>
<p class="p1"><span class="Apple-converted-space">                        </span>console.warn('[loadAutodeliverySettings] Not found:', loc, '→', mappedValue);</p>
<p class="p1"><span class="Apple-converted-space">                    </span>}</p>
<p class="p1"><span class="Apple-converted-space">                </span>});</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>// 特殊対応項目（スプレッドシートの値 → HTML value のマッピング）</p>
<p class="p1"><span class="Apple-converted-space">            </span>if (data['特殊対応項目']) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>let specialStr = data['特殊対応項目'];</p>
<p class="p1"><span class="Apple-converted-space">                </span>console.log('[loadAutodeliverySettings] Raw special services data:', specialStr);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>// compressed形式の場合はfullの値を抽出</p>
<p class="p1"><span class="Apple-converted-space">                </span>if (specialStr.includes('{"type":"compressed","full":"')) {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>const match = specialStr.match(/"full":"([^"]+)"/);</p>
<p class="p1"><span class="Apple-converted-space">                    </span>if (match) {</p>
<p class="p1"><span class="Apple-converted-space">                        </span>specialStr = match[1];</p>
<p class="p1"><span class="Apple-converted-space">                        </span>console.log('[loadAutodeliverySettings] Extracted special services:', specialStr);</p>
<p class="p1"><span class="Apple-converted-space">                    </span>}</p>
<p class="p1"><span class="Apple-converted-space">                </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>const specialItems = specialStr.split(',').map(s =&gt; s.trim()).filter(s =&gt; s);</p>
<p class="p1"><span class="Apple-converted-space">                </span>const specialMap = {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>// 完全一致（新フォーマット） - スプシの値 = HTMLの値（絵文字付き）</p>
<p class="p1"><span class="Apple-converted-space">                    </span>'遮熱・断熱塗料提案可能': '🌡 遮熱・断熱塗料提案可能',</p>
<p class="p1"><span class="Apple-converted-space">                    </span>'立ち会いなし・見積もり手渡し希望': '👀 立ち会いなし・見積もり手渡し希望',</p>
<p class="p1"><span class="Apple-converted-space">                    </span>'遠方につき立ち会いなし・見積もり郵送・電話で商談可': '📮 遠方につき立ち会いなし・見積もり郵送・電話で商談可',</p>
<p class="p1"><span class="Apple-converted-space">                    </span>'エクステリア（庭・駐車場・外構）': '🏡 エクステリア（庭・駐車場・外構）',</p>
<p class="p1"><span class="Apple-converted-space">                    </span>'太陽光パネル脱着（撤去含む）': '☀️ 太陽光パネル脱着（撤去含む）',</p>
<p class="p1"><span class="Apple-converted-space">                    </span>'提携先ローン有り': '🏦 提携先ローン有り',</p>
<p class="p1"><span class="Apple-converted-space">                    </span>'クレジットカード払い可': '💳 クレジットカード払い可',</p>
<p class="p1"><span class="Apple-converted-space">                    </span>'火災保険申請サポート': '🔥 火災保険申請サポート',</p>
<p class="p1"><span class="Apple-converted-space">                    </span>'助成金申請サポート': '💰 助成金申請サポート',</p>
<p class="p1"><span class="Apple-converted-space">                    </span>'建築許可証': '🏗 建築許可証',</p>
<p class="p1"><span class="Apple-converted-space">                    </span>'光触媒塗料提案可': '✨ 光触媒塗料提案可',</p>
<p class="p1"><span class="Apple-converted-space">                    </span>'分割払いプラン有': '💴 分割払いプラン有',</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                    </span>// 旧データとの互換性（括弧なし → 括弧付き、中点なし → 中点あり）</p>
<p class="p1"><span class="Apple-converted-space">                    </span>'遮熱断熱塗料提案可能': '🌡 遮熱・断熱塗料提案可能',</p>
<p class="p1"><span class="Apple-converted-space">                    </span>'立ち会いなし見積もり手渡': '👀 立ち会いなし・見積もり手渡し希望',</p>
<p class="p1"><span class="Apple-converted-space">                    </span>'遠方につき立ち会いなし見積もり郵送': '📮 遠方につき立ち会いなし・見積もり郵送・電話で商談可',</p>
<p class="p1"><span class="Apple-converted-space">                    </span>'遠方につき立ち会いなし見': '📮 遠方につき立ち会いなし・見積もり郵送・電話で商談可',</p>
<p class="p1"><span class="Apple-converted-space">                    </span>'エクステリア': '🏡 エクステリア（庭・駐車場・外構）',</p>
<p class="p1"><span class="Apple-converted-space">                    </span>'太陽光パネル脱着': '☀️ 太陽光パネル脱着（撤去含む）'</p>
<p class="p1"><span class="Apple-converted-space">                </span>};</p>
<p class="p1"><span class="Apple-converted-space">                </span>specialItems.forEach(item =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>const mappedValue = specialMap[item] || item;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>const checkbox = document.querySelector(`input[name="specialServices"][value="${mappedValue}"]`);</p>
<p class="p1"><span class="Apple-converted-space">                    </span>if (checkbox) {</p>
<p class="p1"><span class="Apple-converted-space">                        </span>checkbox.checked = true;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>console.log('[loadAutodeliverySettings] Special checked:', mappedValue);</p>
<p class="p1"><span class="Apple-converted-space">                    </span>} else {</p>
<p class="p1"><span class="Apple-converted-space">                        </span>console.warn('[loadAutodeliverySettings] Special not found:', item);</p>
<p class="p1"><span class="Apple-converted-space">                    </span>}</p>
<p class="p1"><span class="Apple-converted-space">                </span>});</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>// プレビューを更新</p>
<p class="p1"><span class="Apple-converted-space">                </span>const previewFeaturesList = document.getElementById('previewFeaturesList');</p>
<p class="p1"><span class="Apple-converted-space">                </span>if (previewFeaturesList) {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>previewFeaturesList.innerHTML = '';</p>
<p class="p1"><span class="Apple-converted-space">                    </span>const excludeItems = ['立ち会いなし・見積もり手渡し希望', '遠方につき立ち会いなし・見積もり郵送・電話で商談可'];</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                    </span>const colors = [</p>
<p class="p1"><span class="Apple-converted-space">                        </span>'from-blue-50 to-blue-100',</p>
<p class="p1"><span class="Apple-converted-space">                        </span>'from-purple-50 to-purple-100',</p>
<p class="p1"><span class="Apple-converted-space">                        </span>'from-green-50 to-green-100',</p>
<p class="p1"><span class="Apple-converted-space">                        </span>'from-pink-50 to-pink-100',</p>
<p class="p1"><span class="Apple-converted-space">                        </span>'from-yellow-50 to-yellow-100',</p>
<p class="p1"><span class="Apple-converted-space">                        </span>'from-indigo-50 to-indigo-100'</p>
<p class="p1"><span class="Apple-converted-space">                    </span>];</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                    </span>let colorIndex = 0;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>specialItems.forEach(item =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                        </span>const mappedValue = specialMap[item] || item;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                        </span>// 除外項目をスキップ</p>
<p class="p1"><span class="Apple-converted-space">                        </span>if (excludeItems.some(excludeItem =&gt; mappedValue.includes(excludeItem))) {</p>
<p class="p1"><span class="Apple-converted-space">                            </span>return;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                        </span>// 絵文字とテキストを分離</p>
<p class="p1"><span class="Apple-converted-space">                        </span>const parts = mappedValue.split(' ');</p>
<p class="p1"><span class="Apple-converted-space">                        </span>const emoji = parts[0];</p>
<p class="p1"><span class="Apple-converted-space">                        </span>const text = parts.slice(1).join(' ');</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                        </span>const div = document.createElement('div');</p>
<p class="p1"><span class="Apple-converted-space">                        </span>div.className = `bg-gradient-to-br ${colors[colorIndex % colors.length]} rounded-xl p-4`;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>div.innerHTML = `</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div class="text-3xl mb-2"&gt;${emoji}&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;h4 class="font-semibold text-gray-900 mb-1"&gt;${text}&lt;/h4&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>`;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>previewFeaturesList.appendChild(div);</p>
<p class="p1"><span class="Apple-converted-space">                        </span>colorIndex++;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>});</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                    </span>// 強みがある場合のみセクションを表示</p>
<p class="p1"><span class="Apple-converted-space">                    </span>const featuresSection = document.getElementById('preview-features');</p>
<p class="p1"><span class="Apple-converted-space">                    </span>if (featuresSection) {</p>
<p class="p1"><span class="Apple-converted-space">                        </span>featuresSection.style.display = previewFeaturesList.children.length &gt; 0 ? 'block' : 'none';</p>
<p class="p1"><span class="Apple-converted-space">                    </span>}</p>
<p class="p1"><span class="Apple-converted-space">                </span>}</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>// 対応都道府県・市区町村をロード</p>
<p class="p1"><span class="Apple-converted-space">            </span>if (data['対応都道府県']) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>let prefecturesStr = data['対応都道府県'];</p>
<p class="p1"><span class="Apple-converted-space">                </span>console.log('[loadAutodeliverySettings] Raw prefectures data:', prefecturesStr);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>// compressed形式の場合はfullの値を抽出</p>
<p class="p1"><span class="Apple-converted-space">                </span>if (prefecturesStr.includes('{"type":"compressed","full":"')) {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>const match = prefecturesStr.match(/"full":"([^"]+)"/);</p>
<p class="p1"><span class="Apple-converted-space">                    </span>if (match) {</p>
<p class="p1"><span class="Apple-converted-space">                        </span>prefecturesStr = match[1];</p>
<p class="p1"><span class="Apple-converted-space">                        </span>console.log('[loadAutodeliverySettings] Extracted prefectures:', prefecturesStr);</p>
<p class="p1"><span class="Apple-converted-space">                    </span>}</p>
<p class="p1"><span class="Apple-converted-space">                </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>// 全角・半角カンマの両方に対応</p>
<p class="p1"><span class="Apple-converted-space">                </span>const prefectures = prefecturesStr.split(/[,、]/).map(s =&gt; s.trim()).filter(s =&gt; s);</p>
<p class="p1"><span class="Apple-converted-space">                </span>areaSelectionData.prefectures = prefectures;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>// 都道府県ボタンを選択状態にする</p>
<p class="p1"><span class="Apple-converted-space">                </span>prefectures.forEach(pref =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>const button = document.querySelector(`button[data-prefecture="${pref}"]`);</p>
<p class="p1"><span class="Apple-converted-space">                    </span>if (button) {</p>
<p class="p1"><span class="Apple-converted-space">                        </span>button.classList.add('selected', 'bg-blue-500', 'text-white');</p>
<p class="p1"><span class="Apple-converted-space">                        </span>button.classList.remove('bg-white');</p>
<p class="p1"><span class="Apple-converted-space">                    </span>}</p>
<p class="p1"><span class="Apple-converted-space">                </span>});</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>console.log('[loadAutodeliverySettings] Loaded prefectures:', prefectures);</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>if (data['対応市区町村']) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>try {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>let citiesStr = data['対応市区町村'];</p>
<p class="p1"><span class="Apple-converted-space">                    </span>console.log('[loadAutodeliverySettings] Raw cities data:', citiesStr);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                    </span>// compressed形式の場合はfullの値を抽出</p>
<p class="p1"><span class="Apple-converted-space">                    </span>if (citiesStr.includes('{"type":"compressed","full":"')) {</p>
<p class="p1"><span class="Apple-converted-space">                        </span>const match = citiesStr.match(/"full":"([^"]+)"/);</p>
<p class="p1"><span class="Apple-converted-space">                        </span>if (match) {</p>
<p class="p1"><span class="Apple-converted-space">                            </span>citiesStr = match[1];</p>
<p class="p1"><span class="Apple-converted-space">                            </span>console.log('[loadAutodeliverySettings] Extracted cities:', citiesStr);</p>
<p class="p1"><span class="Apple-converted-space">                        </span>}</p>
<p class="p1"><span class="Apple-converted-space">                    </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                    </span>// データ形式チェック: セミコロンがあれば "東京都:渋谷区,新宿区;神奈川県:横浜市,川崎市" 形式</p>
<p class="p1"><span class="Apple-converted-space">                    </span>// セミコロンがなければ、単純なカンマ区切りリスト（都道府県情報なし）</p>
<p class="p1"><span class="Apple-converted-space">                    </span>if (citiesStr.includes(';') &amp;&amp; citiesStr.includes(':')) {</p>
<p class="p1"><span class="Apple-converted-space">                        </span>// セミコロン区切りで都道府県ごとに分割</p>
<p class="p1"><span class="Apple-converted-space">                        </span>citiesStr.split(';').forEach(prefEntry =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                            </span>const parts = prefEntry.split(':');</p>
<p class="p1"><span class="Apple-converted-space">                            </span>if (parts.length === 2) {</p>
<p class="p1"><span class="Apple-converted-space">                                </span>const pref = parts[0].trim();</p>
<p class="p1"><span class="Apple-converted-space">                                </span>const citiesStr = parts[1].trim();</p>
<p class="p1"><span class="Apple-converted-space">                                </span>if (pref &amp;&amp; citiesStr) {</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>// 全角・半角カンマの両方に対応</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>const cities = citiesStr.split(/[,、]/).map(s =&gt; s.trim()).filter(c =&gt; c);</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>if (cities.length &gt; 0) {</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>areaSelectionData.cities[pref] = cities;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>console.log(`[loadAutodeliverySettings] ${pref}:`, cities);</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>}</p>
<p class="p1"><span class="Apple-converted-space">                                </span>}</p>
<p class="p1"><span class="Apple-converted-space">                            </span>}</p>
<p class="p1"><span class="Apple-converted-space">                        </span>});</p>
<p class="p1"><span class="Apple-converted-space">                    </span>} else {</p>
<p class="p1"><span class="Apple-converted-space">                        </span>// 都道府県情報がない場合 → 新しいロジック: データベースから市区町村を復元</p>
<p class="p1"><span class="Apple-converted-space">                        </span>// 全角・半角カンマの両方に対応</p>
<p class="p1"><span class="Apple-converted-space">                        </span>const allCities = citiesStr.split(/[,、]/).map(s =&gt; s.trim()).filter(c =&gt; c);</p>
<p class="p1"><span class="Apple-converted-space">                        </span>console.log('[loadAutodeliverySettings] Parsed cities (unstructured):', allCities.length, 'cities');</p>
<p class="p1"><span class="Apple-converted-space">                        </span>console.log('[loadAutodeliverySettings] Current prefectures:', areaSelectionData.prefectures);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                        </span>if (allCities.length &gt; 0 &amp;&amp; areaSelectionData.prefectures.length &gt; 0) {</p>
<p class="p1"><span class="Apple-converted-space">                            </span>console.log('[loadAutodeliverySettings] 市区町村を都道府県別に再マッピング中...');</p>
<p class="p1"><span class="Apple-converted-space">                            </span>// 各都道府県の市区町村データベースから、保存されている市区町村を抽出</p>
<p class="p1"><span class="Apple-converted-space">                            </span>areaSelectionData.prefectures.forEach(pref =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                                </span>const dbCities = getCitiesForPrefecture(pref);</p>
<p class="p1"><span class="Apple-converted-space">                                </span>const matchedCities = allCities.filter(city =&gt; dbCities.includes(city));</p>
<p class="p1"><span class="Apple-converted-space">                                </span>if (matchedCities.length &gt; 0) {</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>areaSelectionData.cities[pref] = matchedCities;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>console.log(`[loadAutodeliverySettings] ${pref}: ${matchedCities.length} cities matched`);</p>
<p class="p1"><span class="Apple-converted-space">                                </span>} else {</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>console.warn(`[loadAutodeliverySettings] ${pref}: No matching cities found`);</p>
<p class="p1"><span class="Apple-converted-space">                                </span>}</p>
<p class="p1"><span class="Apple-converted-space">                            </span>});</p>
<p class="p1"><span class="Apple-converted-space">                        </span>} else {</p>
<p class="p1"><span class="Apple-converted-space">                            </span>console.error('[loadAutodeliverySettings] Cannot assign cities: allCities.length =', allCities.length, ', prefectures.length =', areaSelectionData.prefectures.length);</p>
<p class="p1"><span class="Apple-converted-space">                        </span>}</p>
<p class="p1"><span class="Apple-converted-space">                    </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                    </span>console.log('[loadAutodeliverySettings] Loaded cities:', areaSelectionData.cities);</p>
<p class="p1"><span class="Apple-converted-space">                </span>} catch (e) {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>console.error('市区町村パースエラー:', e);</p>
<p class="p1"><span class="Apple-converted-space">                </span>}</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>// 優先エリアをロード</p>
<p class="p1"><span class="Apple-converted-space">            </span>if (data['優先エリア']) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>try {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>let prioritiesStr = data['優先エリア'];</p>
<p class="p1"><span class="Apple-converted-space">                    </span>console.log('[loadAutodeliverySettings] Raw priorities data:', prioritiesStr);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                    </span>// compressed形式の場合はfullの値を抽出</p>
<p class="p1"><span class="Apple-converted-space">                    </span>if (prioritiesStr.includes('{"type":"compressed","full":"')) {</p>
<p class="p1"><span class="Apple-converted-space">                        </span>const match = prioritiesStr.match(/"full":"([^"]+)"/);</p>
<p class="p1"><span class="Apple-converted-space">                        </span>if (match) {</p>
<p class="p1"><span class="Apple-converted-space">                            </span>prioritiesStr = match[1];</p>
<p class="p1"><span class="Apple-converted-space">                            </span>console.log('[loadAutodeliverySettings] Extracted priorities:', prioritiesStr);</p>
<p class="p1"><span class="Apple-converted-space">                        </span>}</p>
<p class="p1"><span class="Apple-converted-space">                    </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                    </span>// 全角・半角カンマの両方に対応</p>
<p class="p1"><span class="Apple-converted-space">                    </span>const priorities = prioritiesStr.split(/[,、]/).map(s =&gt; s.trim()).filter(p =&gt; p);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                    </span>// スプシのデータ形式に応じて変換</p>
<p class="p1"><span class="Apple-converted-space">                    </span>// "東京都 渋谷区" 形式 → "東京都_渋谷区" に変換</p>
<p class="p1"><span class="Apple-converted-space">                    </span>// "東京都_渋谷区" 形式 → そのまま使用</p>
<p class="p1"><span class="Apple-converted-space">                    </span>areaSelectionData.priorities = priorities.map(p =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                        </span>if (p.includes('_')) {</p>
<p class="p1"><span class="Apple-converted-space">                            </span>return p; // すでにアンダースコア形式</p>
<p class="p1"><span class="Apple-converted-space">                        </span>} else {</p>
<p class="p1"><span class="Apple-converted-space">                            </span>return p.replace(/\s+/, '_'); // スペースをアンダースコアに変換</p>
<p class="p1"><span class="Apple-converted-space">                        </span>}</p>
<p class="p1"><span class="Apple-converted-space">                    </span>});</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                    </span>console.log('[loadAutodeliverySettings] Loaded priorities:', areaSelectionData.priorities);</p>
<p class="p1"><span class="Apple-converted-space">                </span>} catch (e) {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>console.error('優先エリアパースエラー:', e);</p>
<p class="p1"><span class="Apple-converted-space">                </span>}</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>// エリア選択UIを更新</p>
<p class="p1"><span class="Apple-converted-space">            </span>if (areaSelectionData.prefectures.length &gt; 0) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>updateAreaSelectionUI();</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>// 優先エリアカウンターを更新</p>
<p class="p1"><span class="Apple-converted-space">            </span>const selectedPriorityCount = document.getElementById('selectedPriorityCount');</p>
<p class="p1"><span class="Apple-converted-space">            </span>if (selectedPriorityCount &amp;&amp; areaSelectionData.priorities) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>selectedPriorityCount.textContent = areaSelectionData.priorities.length;</p>
<p class="p1"><span class="Apple-converted-space">                </span>console.log('[loadAutodeliverySettings] Updated priority count:', areaSelectionData.priorities.length);</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>console.log('[loadAutodeliverySettings] Final areaSelectionData:', JSON.stringify(areaSelectionData, null, 2));</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>// プレビューに対応エリアを反映</p>
<p class="p1"><span class="Apple-converted-space">            </span>const previewCitiesContainer = document.getElementById('previewCitiesContainer');</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>if (previewCitiesContainer &amp;&amp; areaSelectionData.prefectures &amp;&amp; areaSelectionData.prefectures.length &gt; 0) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>previewCitiesContainer.innerHTML = '';</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>areaSelectionData.prefectures.forEach((pref, index) =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>const cities = areaSelectionData.cities[pref];</p>
<p class="p1"><span class="Apple-converted-space">                    </span>if (cities &amp;&amp; cities.length &gt; 0) {</p>
<p class="p1"><span class="Apple-converted-space">                        </span>const prefDiv = document.createElement('div');</p>
<p class="p1"><span class="Apple-converted-space">                        </span>prefDiv.className = index &lt; areaSelectionData.prefectures.length - 1 ? 'mb-6 pb-6 border-b border-gray-200' : 'mb-0';</p>
<p class="p1"><span class="Apple-converted-space">                        </span>prefDiv.innerHTML = `</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div class="flex items-center mb-3"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;span class="text-base font-bold text-blue-600"&gt;${pref}&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div class="flex flex-wrap gap-2"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>${cities.map(city =&gt; `&lt;span class="px-3 py-1.5 bg-blue-50 hover:bg-blue-100 text-blue-700 rounded-lg text-sm transition"&gt;${city}&lt;/span&gt;`).join('')}</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>`;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>previewCitiesContainer.appendChild(prefDiv);</p>
<p class="p1"><span class="Apple-converted-space">                    </span>}</p>
<p class="p1"><span class="Apple-converted-space">                </span>});</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>console.log('[loadAutodeliverySettings] Updated preview areas for', areaSelectionData.prefectures.length, 'prefectures');</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>// プレビューに対応可能な工事を反映</p>
<p class="p1"><span class="Apple-converted-space">            </span>const previewServicesList = document.getElementById('previewServicesList');</p>
<p class="p1"><span class="Apple-converted-space">            </span>const serviceIconMap = {</p>
<p class="p1"><span class="Apple-converted-space">                </span>'外壁塗装': '🎨',</p>
<p class="p1"><span class="Apple-converted-space">                </span>'外壁カバー工法': '🏗️',</p>
<p class="p1"><span class="Apple-converted-space">                </span>'外壁張替え': '🔨',</p>
<p class="p1"><span class="Apple-converted-space">                </span>'屋根塗装（外壁工事含む）': '🏠',</p>
<p class="p1"><span class="Apple-converted-space">                </span>'屋上防水（外壁工事含む）': '💧',</p>
<p class="p1"><span class="Apple-converted-space">                </span>'屋根葺き替え・張り替え※スレート・ガルバリウム等': '🏚️',</p>
<p class="p1"><span class="Apple-converted-space">                </span>'屋根葺き替え・張り替え※瓦': '🏯',</p>
<p class="p1"><span class="Apple-converted-space">                </span>'屋根カバー工法': '📐',</p>
<p class="p1"><span class="Apple-converted-space">                </span>'外壁補修（外壁工事含む）': '🔧',</p>
<p class="p1"><span class="Apple-converted-space">                </span>'屋根補修（外壁工事含む）': '🛠️',</p>
<p class="p1"><span class="Apple-converted-space">                </span>'ベランダ防水（外壁工事含む）': '🌊',</p>
<p class="p1"><span class="Apple-converted-space">                </span>'内装水回り（バス・キッチン・トイレ）（外壁工事含む）': '🚿',</p>
<p class="p1"><span class="Apple-converted-space">                </span>'内装（フローリングや畳などの床・クロス等）（外壁工事含む）': '🏡',</p>
<p class="p1"><span class="Apple-converted-space">                </span>'外壁雨漏り修繕（外壁工事含む）': '☔',</p>
<p class="p1"><span class="Apple-converted-space">                </span>'屋根雨漏り修繕（屋根工事含む）': '🌧️'</p>
<p class="p1"><span class="Apple-converted-space">            </span>};</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>if (previewServicesList) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>previewServicesList.innerHTML = '';</p>
<p class="p1"><span class="Apple-converted-space">                </span>const checkedServices = document.querySelectorAll('input[name="constructionTypes"]:checked');</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>if (checkedServices.length &gt; 0) {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>checkedServices.forEach(service =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                        </span>const serviceName = service.value;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                        </span>// 単品項目（但し1社紹介時は定価）をプレビューから除外</p>
<p class="p1"><span class="Apple-converted-space">                        </span>if (serviceName.includes('（但し1社紹介時は定価）')) {</p>
<p class="p1"><span class="Apple-converted-space">                            </span>return;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                        </span>// 表示名から（外壁工事含む）を削除</p>
<p class="p1"><span class="Apple-converted-space">                        </span>const displayName = serviceName.replace('（外壁工事含む）', '');</p>
<p class="p1"><span class="Apple-converted-space">                        </span>const icon = serviceIconMap[serviceName] || '✓';</p>
<p class="p1"><span class="Apple-converted-space">                        </span>const div = document.createElement('div');</p>
<p class="p1"><span class="Apple-converted-space">                        </span>div.className = 'bg-white border border-green-200 rounded-lg p-3 flex items-center hover:shadow-md transition';</p>
<p class="p1"><span class="Apple-converted-space">                        </span>div.innerHTML = `</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;span class="text-2xl mr-2"&gt;${icon}&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;span class="text-sm font-medium text-gray-800"&gt;${displayName}&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>`;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>previewServicesList.appendChild(div);</p>
<p class="p1"><span class="Apple-converted-space">                    </span>});</p>
<p class="p1"><span class="Apple-converted-space">                    </span>document.getElementById('preview-services').style.display = 'block';</p>
<p class="p1"><span class="Apple-converted-space">                    </span>console.log('[loadAutodeliverySettings] Updated preview services:', checkedServices.length);</p>
<p class="p1"><span class="Apple-converted-space">                </span>} else {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>document.getElementById('preview-services').style.display = 'none';</p>
<p class="p1"><span class="Apple-converted-space">                </span>}</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>// 一時停止設定を読み込み</p>
<p class="p1"><span class="Apple-converted-space">            </span>const autoPauseToggle = document.getElementById('autoPauseToggle');</p>
<p class="p1"><span class="Apple-converted-space">            </span>const pauseStartDate = document.getElementById('pauseStartDate');</p>
<p class="p1"><span class="Apple-converted-space">            </span>const pauseEndDate = document.getElementById('pauseEndDate');</p>
<p class="p1"><span class="Apple-converted-space">            </span>const indefinitePause = document.getElementById('indefinitePause');</p>
<p class="p1"><span class="Apple-converted-space">            </span>const pauseSettings = document.getElementById('pauseSettings');</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>// 一時停止フラグを読み込み（undefinedの場合はFALSEとして扱う）</p>
<p class="p1"><span class="Apple-converted-space">            </span>const pauseFlag = data['一時停止フラグ'] === 'TRUE' || data['一時停止フラグ'] === true;</p>
<p class="p1"><span class="Apple-converted-space">            </span>console.log('[loadAutodeliverySettings] Pause flag from sheet:', data['一時停止フラグ'], '→', pauseFlag);</p>
<p class="p1"><span class="Apple-converted-space">            </span>console.log('[loadAutodeliverySettings] Pause start date raw:', data['一時停止開始日']);</p>
<p class="p1"><span class="Apple-converted-space">            </span>console.log('[loadAutodeliverySettings] Pause end date raw:', data['一時停止再開予定日']);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>if (autoPauseToggle) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>autoPauseToggle.checked = pauseFlag;</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>// 一時停止開始日（AP列）- フラグに関わらず常にデータを読み込む</p>
<p class="p1"><span class="Apple-converted-space">            </span>if (data['一時停止開始日'] &amp;&amp; pauseStartDate) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>let startDateValue = data['一時停止開始日'];</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>// 様々な日付フォーマットを yyyy-MM-dd に変換（日本時間で処理）</p>
<p class="p1"><span class="Apple-converted-space">                </span>if (typeof startDateValue === 'string') {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>// ISO 8601形式 (2025-10-03T15:00:00.000Z) の場合、Dateオブジェクトに変換してから日本時間で取得</p>
<p class="p1"><span class="Apple-converted-space">                    </span>if (startDateValue.includes('T') || startDateValue.includes('Z')) {</p>
<p class="p1"><span class="Apple-converted-space">                        </span>const dateObj = new Date(startDateValue);</p>
<p class="p1"><span class="Apple-converted-space">                        </span>const year = dateObj.getFullYear();</p>
<p class="p1"><span class="Apple-converted-space">                        </span>const month = String(dateObj.getMonth() + 1).padStart(2, '0');</p>
<p class="p1"><span class="Apple-converted-space">                        </span>const day = String(dateObj.getDate()).padStart(2, '0');</p>
<p class="p1"><span class="Apple-converted-space">                        </span>startDateValue = `${year}-${month}-${day}`;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>}</p>
<p class="p1"><span class="Apple-converted-space">                    </span>// "yyyy-MM-dd HH:mm" 形式を yyyy-MM-dd に変換</p>
<p class="p1"><span class="Apple-converted-space">                    </span>else if (startDateValue.includes(' ')) {</p>
<p class="p1"><span class="Apple-converted-space">                        </span>startDateValue = startDateValue.split(' ')[0];</p>
<p class="p1"><span class="Apple-converted-space">                    </span>}</p>
<p class="p1"><span class="Apple-converted-space">                    </span>// "yyyy/MM/dd" 形式を yyyy-MM-dd に変換</p>
<p class="p1"><span class="Apple-converted-space">                    </span>else if (startDateValue.includes('/')) {</p>
<p class="p1"><span class="Apple-converted-space">                        </span>startDateValue = startDateValue.replace(/\//g, '-');</p>
<p class="p1"><span class="Apple-converted-space">                    </span>}</p>
<p class="p1"><span class="Apple-converted-space">                </span>} else if (startDateValue instanceof Date) {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>// Dateオブジェクトの場合</p>
<p class="p1"><span class="Apple-converted-space">                    </span>const year = startDateValue.getFullYear();</p>
<p class="p1"><span class="Apple-converted-space">                    </span>const month = String(startDateValue.getMonth() + 1).padStart(2, '0');</p>
<p class="p1"><span class="Apple-converted-space">                    </span>const day = String(startDateValue.getDate()).padStart(2, '0');</p>
<p class="p1"><span class="Apple-converted-space">                    </span>startDateValue = `${year}-${month}-${day}`;</p>
<p class="p1"><span class="Apple-converted-space">                </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>pauseStartDate.value = startDateValue;</p>
<p class="p1"><span class="Apple-converted-space">                </span>console.log('[loadAutodeliverySettings] Pause start date set:', startDateValue);</p>
<p class="p1"><span class="Apple-converted-space">            </span>} else {</p>
<p class="p1"><span class="Apple-converted-space">                </span>console.warn('[loadAutodeliverySettings] Pause start date not found in data or element missing');</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>// 一時停止再開予定日（AQ列）- フラグに関わらず常にデータを読み込む</p>
<p class="p1"><span class="Apple-converted-space">            </span>if (data['一時停止再開予定日']) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>if (data['一時停止再開予定日'] === '未定') {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>if (indefinitePause) {</p>
<p class="p1"><span class="Apple-converted-space">                        </span>indefinitePause.checked = true;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>}</p>
<p class="p1"><span class="Apple-converted-space">                    </span>if (pauseEndDateDisplay) {</p>
<p class="p1"><span class="Apple-converted-space">                        </span>pauseEndDateDisplay.value = '未定';</p>
<p class="p1"><span class="Apple-converted-space">                        </span>pauseEndDateDisplay.classList.remove('hidden');</p>
<p class="p1"><span class="Apple-converted-space">                    </span>}</p>
<p class="p1"><span class="Apple-converted-space">                    </span>if (pauseEndDate) {</p>
<p class="p1"><span class="Apple-converted-space">                        </span>pauseEndDate.classList.add('hidden');</p>
<p class="p1"><span class="Apple-converted-space">                        </span>pauseEndDate.value = '';</p>
<p class="p1"><span class="Apple-converted-space">                    </span>}</p>
<p class="p1"><span class="Apple-converted-space">                    </span>console.log('[loadAutodeliverySettings] Pause end date: 未定 (from spreadsheet)');</p>
<p class="p1"><span class="Apple-converted-space">                </span>} else {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>// 日付形式の変換（日本時間で処理）</p>
<p class="p1"><span class="Apple-converted-space">                    </span>let endDateValue = data['一時停止再開予定日'];</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                    </span>if (typeof endDateValue === 'string') {</p>
<p class="p1"><span class="Apple-converted-space">                        </span>// ISO 8601形式 (2025-10-03T15:00:00.000Z) の場合、Dateオブジェクトに変換してから日本時間で取得</p>
<p class="p1"><span class="Apple-converted-space">                        </span>if (endDateValue.includes('T') || endDateValue.includes('Z')) {</p>
<p class="p1"><span class="Apple-converted-space">                            </span>const dateObj = new Date(endDateValue);</p>
<p class="p1"><span class="Apple-converted-space">                            </span>const year = dateObj.getFullYear();</p>
<p class="p1"><span class="Apple-converted-space">                            </span>const month = String(dateObj.getMonth() + 1).padStart(2, '0');</p>
<p class="p1"><span class="Apple-converted-space">                            </span>const day = String(dateObj.getDate()).padStart(2, '0');</p>
<p class="p1"><span class="Apple-converted-space">                            </span>endDateValue = `${year}-${month}-${day}`;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>}</p>
<p class="p1"><span class="Apple-converted-space">                        </span>// "yyyy-MM-dd HH:mm" 形式を yyyy-MM-dd に変換</p>
<p class="p1"><span class="Apple-converted-space">                        </span>else if (endDateValue.includes(' ')) {</p>
<p class="p1"><span class="Apple-converted-space">                            </span>endDateValue = endDateValue.split(' ')[0];</p>
<p class="p1"><span class="Apple-converted-space">                        </span>}</p>
<p class="p1"><span class="Apple-converted-space">                        </span>// "yyyy/MM/dd" 形式を yyyy-MM-dd に変換</p>
<p class="p1"><span class="Apple-converted-space">                        </span>else if (endDateValue.includes('/')) {</p>
<p class="p1"><span class="Apple-converted-space">                            </span>endDateValue = endDateValue.replace(/\//g, '-');</p>
<p class="p1"><span class="Apple-converted-space">                        </span>}</p>
<p class="p1"><span class="Apple-converted-space">                    </span>} else if (endDateValue instanceof Date) {</p>
<p class="p1"><span class="Apple-converted-space">                        </span>// Dateオブジェクトの場合</p>
<p class="p1"><span class="Apple-converted-space">                        </span>const year = endDateValue.getFullYear();</p>
<p class="p1"><span class="Apple-converted-space">                        </span>const month = String(endDateValue.getMonth() + 1).padStart(2, '0');</p>
<p class="p1"><span class="Apple-converted-space">                        </span>const day = String(endDateValue.getDate()).padStart(2, '0');</p>
<p class="p1"><span class="Apple-converted-space">                        </span>endDateValue = `${year}-${month}-${day}`;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                    </span>if (pauseEndDate) {</p>
<p class="p1"><span class="Apple-converted-space">                        </span>pauseEndDate.value = endDateValue;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>pauseEndDate.classList.remove('hidden');</p>
<p class="p1"><span class="Apple-converted-space">                    </span>}</p>
<p class="p1"><span class="Apple-converted-space">                    </span>if (pauseEndDateDisplay) {</p>
<p class="p1"><span class="Apple-converted-space">                        </span>pauseEndDateDisplay.classList.add('hidden');</p>
<p class="p1"><span class="Apple-converted-space">                    </span>}</p>
<p class="p1"><span class="Apple-converted-space">                    </span>if (indefinitePause) {</p>
<p class="p1"><span class="Apple-converted-space">                        </span>indefinitePause.checked = false;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>}</p>
<p class="p1"><span class="Apple-converted-space">                    </span>console.log('[loadAutodeliverySettings] Pause end date set:', endDateValue);</p>
<p class="p1"><span class="Apple-converted-space">                </span>}</p>
<p class="p1"><span class="Apple-converted-space">            </span>} else {</p>
<p class="p1"><span class="Apple-converted-space">                </span>console.warn('[loadAutodeliverySettings] Pause end date not found in data');</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>// 一時���止設定セクションの表示/非表示</p>
<p class="p1"><span class="Apple-converted-space">            </span>if (pauseFlag &amp;&amp; pauseSettings) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>pauseSettings.classList.remove('hidden');</p>
<p class="p1"><span class="Apple-converted-space">            </span>} else if (pauseSettings) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>pauseSettings.classList.add('hidden');</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>console.log('[loadAutodeliverySettings] Settings loaded');</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>// イベントリスナーを追加して変更を検知</p>
<p class="p1"><span class="Apple-converted-space">            </span>attachAutodeliveryChangeListeners();</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>// 読み込み完了後、変更フラグをリセット（読み込み時のイベント発火を無視）</p>
<p class="p1"><span class="Apple-converted-space">            </span>// setTimeoutで少し遅延させて、初期化時のイベント発火を確実に無視</p>
<p class="p1"><span class="Apple-converted-space">            </span>setTimeout(() =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                </span>resetAutodeliveryChanged();</p>
<p class="p1"><span class="Apple-converted-space">            </span>}, 100);</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// 自動配信設定の全入力要素に変更検知リスナーを追加</p>
<p class="p1"><span class="Apple-converted-space">        </span>function attachAutodeliveryChangeListeners() {</p>
<p class="p1"><span class="Apple-converted-space">            </span>console.log('[attachAutodeliveryChangeListeners] Attaching change listeners...');</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>const autodeliverySection = document.getElementById('autodeliverySection');</p>
<p class="p1"><span class="Apple-converted-space">            </span>if (!autodeliverySection) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>console.warn('[attachAutodeliveryChangeListeners] autodeliverySection not found');</p>
<p class="p1"><span class="Apple-converted-space">                </span>return;</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>// 全てのinput要素（checkbox, radio, text, range）</p>
<p class="p1"><span class="Apple-converted-space">            </span>const inputs = autodeliverySection.querySelectorAll('input');</p>
<p class="p1"><span class="Apple-converted-space">            </span>inputs.forEach(input =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                </span>// inputとchangeの両方を監視（rangeはinput、checkboxはchange）</p>
<p class="p1"><span class="Apple-converted-space">                </span>input.addEventListener('input', markAutodeliveryChanged);</p>
<p class="p1"><span class="Apple-converted-space">                </span>input.addEventListener('change', markAutodeliveryChanged);</p>
<p class="p1"><span class="Apple-converted-space">            </span>});</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>// 全てのselect要素</p>
<p class="p1"><span class="Apple-converted-space">            </span>const selects = autodeliverySection.querySelectorAll('select');</p>
<p class="p1"><span class="Apple-converted-space">            </span>selects.forEach(select =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                </span>select.addEventListener('change', markAutodeliveryChanged);</p>
<p class="p1"><span class="Apple-converted-space">            </span>});</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>// 全てのtextarea要素</p>
<p class="p1"><span class="Apple-converted-space">            </span>const textareas = autodeliverySection.querySelectorAll('textarea');</p>
<p class="p1"><span class="Apple-converted-space">            </span>textareas.forEach(textarea =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                </span>textarea.addEventListener('input', markAutodeliveryChanged);</p>
<p class="p1"><span class="Apple-converted-space">            </span>});</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>// 都道府県・市区町村ボタンのクリック</p>
<p class="p1"><span class="Apple-converted-space">            </span>const prefButtons = autodeliverySection.querySelectorAll('button[data-prefecture]');</p>
<p class="p1"><span class="Apple-converted-space">            </span>prefButtons.forEach(button =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                </span>button.addEventListener('click', markAutodeliveryChanged);</p>
<p class="p1"><span class="Apple-converted-space">            </span>});</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>console.log('[attachAutodeliveryChangeListeners] Attached listeners to:', {</p>
<p class="p1"><span class="Apple-converted-space">                </span>inputs: inputs.length,</p>
<p class="p1"><span class="Apple-converted-space">                </span>selects: selects.length,</p>
<p class="p1"><span class="Apple-converted-space">                </span>textareas: textareas.length,</p>
<p class="p1"><span class="Apple-converted-space">                </span>prefButtons: prefButtons.length</p>
<p class="p1"><span class="Apple-converted-space">            </span>});</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// 一時停止設定関数（即時反映）</p>
<p class="p1"><span class="Apple-converted-space">        </span>async function toggleAutoPause() {</p>
<p class="p1"><span class="Apple-converted-space">            </span>const toggle = document.getElementById('autoPauseToggle');</p>
<p class="p1"><span class="Apple-converted-space">            </span>const settings = document.getElementById('pauseSettings');</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>if (toggle.checked) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>settings.classList.remove('hidden');</p>
<p class="p1"><span class="Apple-converted-space">                </span>// 開始日を今日にセット</p>
<p class="p1"><span class="Apple-converted-space">                </span>const startDate = document.getElementById('pauseStartDate');</p>
<p class="p1"><span class="Apple-converted-space">                </span>if (startDate &amp;&amp; !startDate.value) {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>startDate.value = new Date().toISOString().split('T')[0];</p>
<p class="p1"><span class="Apple-converted-space">                </span>}</p>
<p class="p1"><span class="Apple-converted-space">            </span>} else {</p>
<p class="p1"><span class="Apple-converted-space">                </span>settings.classList.add('hidden');</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>// 変更フラグを立てる（保存ボタンクリックで保存される）</p>
<p class="p1"><span class="Apple-converted-space">            </span>markAutodeliveryChanged();</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>async function toggleIndefinitePause() {</p>
<p class="p1"><span class="Apple-converted-space">            </span>const indefinite = document.getElementById('indefinitePause');</p>
<p class="p1"><span class="Apple-converted-space">            </span>const endDateInput = document.getElementById('pauseEndDate');</p>
<p class="p1"><span class="Apple-converted-space">            </span>const endDateDisplay = document.getElementById('pauseEndDateDisplay');</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>if (indefinite.checked) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>// 無期限停止: 「未定」と表示</p>
<p class="p1"><span class="Apple-converted-space">                </span>endDateDisplay.value = '未定';</p>
<p class="p1"><span class="Apple-converted-space">                </span>endDateDisplay.classList.remove('hidden');</p>
<p class="p1"><span class="Apple-converted-space">                </span>endDateInput.classList.add('hidden');</p>
<p class="p1"><span class="Apple-converted-space">            </span>} else {</p>
<p class="p1"><span class="Apple-converted-space">                </span>// 期限あり: 日付入力欄を表示</p>
<p class="p1"><span class="Apple-converted-space">                </span>endDateDisplay.classList.add('hidden');</p>
<p class="p1"><span class="Apple-converted-space">                </span>endDateInput.classList.remove('hidden');</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>// 変更フラグを立てる（保存ボタンクリックで保存される）</p>
<p class="p1"><span class="Apple-converted-space">            </span>markAutodeliveryChanged();</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// 単品項目のチェック状態を管理</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>function checkSingleItemSelection(checkbox) {</p>
<p class="p1"><span class="Apple-converted-space">            </span>// チェックが入った場合のみモーダルを表示</p>
<p class="p1"><span class="Apple-converted-space">            </span>if (checkbox.checked) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>const singleItems = [</p>
<p class="p1"><span class="Apple-converted-space">                    </span>'屋根塗装単品（但し1社紹介時は定価）',</p>
<p class="p1"><span class="Apple-converted-space">                    </span>'屋上防水単品（但し1社紹介時は定価）',</p>
<p class="p1"><span class="Apple-converted-space">                    </span>'外壁補修単品（但し1社紹介時は定価）',</p>
<p class="p1"><span class="Apple-converted-space">                    </span>'屋根補修単品（但し1社紹介時は定価）',</p>
<p class="p1"><span class="Apple-converted-space">                    </span>'ベランダ防水単品（但し1社紹介時は定価）',</p>
<p class="p1"><span class="Apple-converted-space">                    </span>'外壁雨漏り修繕単品（但し1社紹介時は定価）',</p>
<p class="p1"><span class="Apple-converted-space">                    </span>'屋根雨漏り修繕単品（但し1社紹介時は定価）'</p>
<p class="p1"><span class="Apple-converted-space">                </span>];</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>if (singleItems.includes(checkbox.value)) {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>showSingleItemModal();</p>
<p class="p1"><span class="Apple-converted-space">                </span>}</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>function showSingleItemModal() {</p>
<p class="p1"><span class="Apple-converted-space">            </span>const modal = document.getElementById('singleItemModal');</p>
<p class="p1"><span class="Apple-converted-space">            </span>modal.classList.remove('hidden');</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>function closeSingleItemModal() {</p>
<p class="p1"><span class="Apple-converted-space">            </span>const modal = document.getElementById('singleItemModal');</p>
<p class="p1"><span class="Apple-converted-space">            </span>modal.classList.add('hidden');</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// 大型物件のモーダル表示管理</p>
<p class="p1"><span class="Apple-converted-space">        </span>function checkLargeProperty(checkbox) {</p>
<p class="p1"><span class="Apple-converted-space">            </span>if (checkbox.checked) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>// チェックボックスにフラグを設定（初回チェック判定用）</p>
<p class="p1"><span class="Apple-converted-space">                </span>checkbox.dataset.shownModal = 'true';</p>
<p class="p1"><span class="Apple-converted-space">                </span>showLargePropertyModal();</p>
<p class="p1"><span class="Apple-converted-space">            </span>} else {</p>
<p class="p1"><span class="Apple-converted-space">                </span>// チェックを外したらフラグをリセット</p>
<p class="p1"><span class="Apple-converted-space">                </span>delete checkbox.dataset.shownModal;</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>function checkFloorSelection(selectElement) {</p>
<p class="p1"><span class="Apple-converted-space">            </span>const value = parseInt(selectElement.value);</p>
<p class="p1"><span class="Apple-converted-space">            </span>const parentLabel = selectElement.closest('label');</p>
<p class="p1"><span class="Apple-converted-space">            </span>const checkbox = parentLabel.querySelector('input[type="checkbox"]');</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>// チェックボックスがONで、かつまだモーダルを表示していない場合のみ表示</p>
<p class="p1"><span class="Apple-converted-space">            </span>if ((value &gt;= 3 || selectElement.value === 'unlimited') &amp;&amp; checkbox.checked &amp;&amp; !checkbox.dataset.shownModal) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>checkbox.dataset.shownModal = 'true';</p>
<p class="p1"><span class="Apple-converted-space">                </span>showLargePropertyModal();</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>function showLargePropertyModal() {</p>
<p class="p1"><span class="Apple-converted-space">            </span>const modal = document.getElementById('largePropertyModal');</p>
<p class="p1"><span class="Apple-converted-space">            </span>modal.classList.remove('hidden');</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>function closeLargePropertyModal() {</p>
<p class="p1"><span class="Apple-converted-space">            </span>const modal = document.getElementById('largePropertyModal');</p>
<p class="p1"><span class="Apple-converted-space">            </span>modal.classList.add('hidden');</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;/script&gt;</p>
<p class="p2"><br></p>
<p class="p1">&lt;/body&gt;&lt;/html&gt;</p>
</body>
</html>
