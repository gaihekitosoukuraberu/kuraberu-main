# ğŸ¤– å®Œå…¨è‡ªå‹•åŒ–ãƒ¢ãƒ¼ãƒ‰

**ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä¿å­˜ã™ã‚‹ã ã‘ã§å…¨ã¦å®Œäº†**

---

## ğŸš€ ä½¿ã„æ–¹ï¼ˆè¶…ç°¡å˜ï¼‰

### 1. è‡ªå‹•ç›£è¦–ã‚’é–‹å§‹

```bash
cd /Users/ryuryu/franchise-register
npm run watch
```

ã¾ãŸã¯ã€ãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰ã§èµ·å‹•ï¼ˆã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã‚’é–‰ã˜ã¦ã‚‚OKï¼‰:

```bash
npm run watch:bg
```

### 2. ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç·¨é›†

```bash
# å¥½ããªã‚¨ãƒ‡ã‚£ã‚¿ã§ç·¨é›†
vim gas/systems/franchise/FranchiseSystem.js
code gas/systems/merchant/MerchantSystem.js
```

### 3. ä¿å­˜ã™ã‚‹ã ã‘

**ãã‚Œã ã‘ï¼** ä»¥ä¸‹ãŒè‡ªå‹•ã§å®Ÿè¡Œã•ã‚Œã¾ã™ï¼š

```
ãƒ•ã‚¡ã‚¤ãƒ«ä¿å­˜
  â†“ (5ç§’å¾…æ©Ÿ)
è‡ªå‹•ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ä½œæˆ
  â†“
clasp push --force
  â†“
å®Œäº†é€šçŸ¥
```

### 4. åœæ­¢æ–¹æ³•

```bash
# ãƒ•ã‚©ã‚¢ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰å®Ÿè¡Œã®å ´åˆ
Ctrl+C

# ãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰å®Ÿè¡Œã®å ´åˆ
npm run watch:stop
```

---

## ğŸ“º å®Ÿè¡Œä¾‹

```bash
$ npm run watch

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  ğŸ¤– å®Œå…¨è‡ªå‹•åŒ–ã‚¦ã‚©ãƒƒãƒãƒ£ãƒ¼èµ·å‹•
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â„¹ï¸  GASãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä¿å­˜ã™ã‚‹ã¨è‡ªå‹•ã§pushã•ã‚Œã¾ã™
â„¹ï¸  å¤‰æ›´å¾Œ5ç§’ã§ãƒãƒƒãƒå‡¦ç†ã•ã‚Œã¾ã™
â„¹ï¸  åœæ­¢: Ctrl+C

ğŸ‘€ ç›£è¦–é–‹å§‹: /Users/ryuryu/franchise-register/gas
âœ… ç›£è¦–ä¸­... ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç·¨é›†ã—ã¦ãã ã•ã„

# â† ã“ã“ã§ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç·¨é›†ãƒ»ä¿å­˜

[14:30:15] â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
[14:30:15] ğŸ“ 2å€‹ã®ãƒ•ã‚¡ã‚¤ãƒ«å¤‰æ›´ã‚’æ¤œçŸ¥
[14:30:15] â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
[14:30:15]    - systems/franchise/FranchiseSystem.js
[14:30:15]    - systems/merchant/MerchantSystem.js
[14:30:15]
[14:30:16] âœ… ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ä½œæˆ: gas-backup-auto-2025-10-31_14-30-15.tar.gz (175.3KB)
[14:30:17] ğŸš€ clasp push å®Ÿè¡Œä¸­...
[14:30:22] âœ… clasp push å®Œäº†
[14:30:22]
[14:30:22] ğŸ‰ è‡ªå‹•æ›´æ–°å®Œäº†ï¼GASã«åæ˜ ã•ã‚Œã¾ã—ãŸ
[14:30:22] ğŸ“¦ ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—: gas-backup-auto-2025-10-31_14-30-15.tar.gz
[14:30:22]
[14:30:23] âœ… ç›£è¦–ä¸­... ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç·¨é›†ã—ã¦ãã ã•ã„
```

---

## ğŸ¯ ä½•ãŒè‡ªå‹•åŒ–ã•ã‚Œã‚‹ï¼Ÿ

### âœ… è‡ªå‹•ã§å®Ÿè¡Œã•ã‚Œã‚‹ã“ã¨

1. **ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ä½œæˆ**
   - å¤‰æ›´å‰ã®çŠ¶æ…‹ã‚’è‡ªå‹•ä¿å­˜
   - `/Users/ryuryu/gas-backup-auto-*.tar.gz`

2. **clasp push**
   - GASã¸è‡ªå‹•ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰
   - `--force` ãƒ•ãƒ©ã‚°ã§å¼·åˆ¶æ›´æ–°

3. **å®Œäº†é€šçŸ¥**
   - æˆåŠŸ/å¤±æ•—ã‚’ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã«è¡¨ç¤º

### âŒ è‡ªå‹•åŒ–ã•ã‚Œãªã„ã“ã¨ï¼ˆæ„å›³çš„ï¼‰

1. **æ–°ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¡ãƒ³ãƒˆä½œæˆ**
   - æ‰‹å‹•ã§ `npm run deploy` å®Ÿè¡ŒãŒå¿…è¦
   - ç†ç”±: ãƒ‡ãƒ—ãƒ­ã‚¤ã¯ãƒ†ã‚¹ãƒˆå¾Œã«æ˜ç¤ºçš„ã«å®Ÿè¡Œã™ã¹ã

2. **env-loader.jsæ›´æ–°**
   - æ‰‹å‹•ã§ `npm run deploy` å®Ÿè¡ŒãŒå¿…è¦
   - ç†ç”±: å…¨ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã«å½±éŸ¿ã™ã‚‹ãŸã‚æ…é‡ã«

3. **FTPã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰**
   - æ‰‹å‹•ã§ `npm run deploy` å®Ÿè¡ŒãŒå¿…è¦
   - ç†ç”±: æœ¬ç•ªç’°å¢ƒã¸ã®åæ˜ ã¯æ…é‡ã«

---

## ğŸ”§ æ¨å¥¨ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼

### æ—¥å¸¸ã®é–‹ç™º

```bash
# 1. è‡ªå‹•ç›£è¦–ã‚’é–‹å§‹ï¼ˆä¸€åº¦ã ã‘ï¼‰
npm run watch:bg

# 2. ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç·¨é›†ãƒ»ä¿å­˜
vim gas/systems/franchise/FranchiseSystem.js
# â†’ è‡ªå‹•ã§clasp push

# 3. ãƒ­ã‚°ã‚’ç¢ºèªï¼ˆå¿…è¦ã«å¿œã˜ã¦ï¼‰
tail -f gas-watch.log

# 4. ä½œæ¥­çµ‚äº†æ™‚
npm run watch:stop
```

### ãƒ†ã‚¹ãƒˆâ†’ãƒ‡ãƒ—ãƒ­ã‚¤

```bash
# 1. è‡ªå‹•ç›£è¦–ã§é–‹ç™º
npm run watch:bg

# 2. ã‚ã‚‹ç¨‹åº¦å¤‰æ›´ãŒæºœã¾ã£ãŸã‚‰
npm run watch:stop

# 3. ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ
npm run test

# 4. ãƒ‡ãƒ—ãƒ­ã‚¤ï¼ˆæœ¬ç•ªåæ˜ ï¼‰
npm run deploy
```

---

## ğŸ“Š ç›£è¦–å¯¾è±¡

### âœ… ç›£è¦–ã•ã‚Œã‚‹

- `gas/**/*.js` - JavaScriptãƒ•ã‚¡ã‚¤ãƒ«
- `gas/**/*.gs` - Google Apps Scriptãƒ•ã‚¡ã‚¤ãƒ«

### âŒ ç›£è¦–ã•ã‚Œãªã„ï¼ˆé™¤å¤–ï¼‰

- `gas/node_modules/`
- `gas/.git/`
- `gas/.DS_Store`
- `gas/OLD_BACKUP/`
- `gas/tests/` - ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«
- `gas/scripts/` - ã‚¹ã‚¯ãƒªãƒ—ãƒˆãƒ•ã‚¡ã‚¤ãƒ«

---

## ğŸš¨ æ³¨æ„äº‹é …

### ãƒãƒƒãƒå‡¦ç†ï¼ˆ5ç§’å¾…æ©Ÿï¼‰

è¤‡æ•°ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’é€£ç¶šã§ä¿å­˜ã—ã¦ã‚‚ã€5ç§’å¾Œã«1å›ã ã‘pushã•ã‚Œã¾ã™ã€‚

```
ãƒ•ã‚¡ã‚¤ãƒ«1ä¿å­˜ â†’ ã‚¿ã‚¤ãƒãƒ¼é–‹å§‹ï¼ˆ5ç§’ï¼‰
   â†“ (2ç§’å¾Œ)
ãƒ•ã‚¡ã‚¤ãƒ«2ä¿å­˜ â†’ ã‚¿ã‚¤ãƒãƒ¼ãƒªã‚»ãƒƒãƒˆï¼ˆ5ç§’ï¼‰
   â†“ (1ç§’å¾Œ)
ãƒ•ã‚¡ã‚¤ãƒ«3ä¿å­˜ â†’ ã‚¿ã‚¤ãƒãƒ¼ãƒªã‚»ãƒƒãƒˆï¼ˆ5ç§’ï¼‰
   â†“ (5ç§’å¾…æ©Ÿ)
ã¾ã¨ã‚ã¦clasp push
```

### ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã®ä¿å­˜å ´æ‰€

```bash
/Users/ryuryu/gas-backup-auto-*.tar.gz
```

è‡ªå‹•ã§å¢—ãˆã¦ã„ãã®ã§ã€å®šæœŸçš„ã«å¤ã„ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã‚’å‰Šé™¤ã—ã¦ãã ã•ã„ï¼š

```bash
# 7æ—¥ä»¥ä¸Šå‰ã®ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã‚’å‰Šé™¤
find /Users/ryuryu -name "gas-backup-auto-*.tar.gz" -mtime +7 -delete
```

### ãƒ­ã‚°ãƒ•ã‚¡ã‚¤ãƒ«

ãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰å®Ÿè¡Œæ™‚ã®ãƒ­ã‚°:

```bash
# ãƒ­ã‚°ç¢ºèª
tail -f /Users/ryuryu/franchise-register/gas-watch.log

# ãƒ­ã‚°ã‚¯ãƒªã‚¢
> /Users/ryuryu/franchise-register/gas-watch.log
```

---

## ğŸ”„ ãƒ­ãƒ¼ãƒ«ãƒãƒƒã‚¯

è‡ªå‹•ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã‹ã‚‰ãƒ­ãƒ¼ãƒ«ãƒãƒƒã‚¯:

```bash
# æœ€æ–°ã®ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã‚’ç¢ºèª
ls -lt /Users/ryuryu/gas-backup-auto-*.tar.gz | head -1

# ãƒ­ãƒ¼ãƒ«ãƒãƒƒã‚¯å®Ÿè¡Œ
tar -xzf /Users/ryuryu/gas-backup-auto-2025-10-31_14-30-15.tar.gz -C /Users/ryuryu/franchise-register/

# GASã«åæ˜ 
npm run push:force
```

---

## ğŸ› ï¸ ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### å•é¡Œ: ç›£è¦–ãŒå‹•ä½œã—ãªã„

```bash
# ãƒ—ãƒ­ã‚»ã‚¹ç¢ºèª
ps aux | grep auto-watch

# ãƒ­ã‚°ç¢ºèª
tail -f gas-watch.log

# å†èµ·å‹•
npm run watch:stop
npm run watch:bg
```

### å•é¡Œ: clasp pushå¤±æ•—

```bash
# ãƒ­ã‚°ç¢ºèª
tail -f gas-watch.log

# æ‰‹å‹•ã§push
npm run push:force

# .clasp.jsonã‚’ç¢ºèª
cat gas/.clasp.json
```

### å•é¡Œ: ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ãŒå¢—ãˆã™ã

```bash
# å¤ã„ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã‚’å‰Šé™¤ï¼ˆ7æ—¥ä»¥ä¸Šå‰ï¼‰
find /Users/ryuryu -name "gas-backup-auto-*.tar.gz" -mtime +7 -delete

# ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—æ•°ã‚’ç¢ºèª
ls -1 /Users/ryuryu/gas-backup-auto-*.tar.gz | wc -l
```

---

## ğŸ’¡ ãƒ’ãƒ³ãƒˆ

### VSCodeã§ä½¿ã†å ´åˆ

VSCodeã®è¨­å®šã«è¿½åŠ :

```json
{
  "files.autoSave": "afterDelay",
  "files.autoSaveDelay": 1000
}
```

â†’ ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç·¨é›†ã™ã‚‹ã¨1ç§’å¾Œã«è‡ªå‹•ä¿å­˜ â†’ 5ç§’å¾Œã«è‡ªå‹•push

### ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã‚’å¸¸ã«é–‹ã„ã¦ãŠã

```bash
# tmuxã‚„screenã‚’ä½¿ç”¨
tmux new -s gas-watch
npm run watch

# ãƒ‡ã‚¿ãƒƒãƒ: Ctrl+B â†’ D
# ã‚¢ã‚¿ãƒƒãƒ: tmux attach -t gas-watch
```

---

## ğŸ“ ã‚µãƒãƒ¼ãƒˆ

**ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ**:
- [ARCHITECTURE.md](ARCHITECTURE.md) - ã‚·ã‚¹ãƒ†ãƒ è¨­è¨ˆæ›¸
- [QUICK_START.md](QUICK_START.md) - ã‚³ãƒãƒ³ãƒ‰ä¸€è¦§

**ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—**:
- `/Users/ryuryu/gas-backup-auto-*.tar.gz`

**ãƒ­ã‚°**:
- `/Users/ryuryu/franchise-register/gas-watch.log`

---

## ğŸ‰ ã¾ã¨ã‚

### ã“ã‚Œã ã‘è¦šãˆã‚Œã°OK

```bash
# èµ·å‹•
npm run watch:bg

# åœæ­¢
npm run watch:stop

# ãƒ­ã‚°ç¢ºèª
tail -f gas-watch.log
```

**ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä¿å­˜ã™ã‚‹ã ã‘ã§ã€å…¨ã¦è‡ªå‹•ã§å®Œäº†ã—ã¾ã™ï¼**

---

**æœ€çµ‚æ›´æ–°**: 2025-10-31
